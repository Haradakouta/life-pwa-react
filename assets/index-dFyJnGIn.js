function Sj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function so(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s2={exports:{}},Bh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N3;function Tj(){if(N3)return Bh;N3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Bh.Fragment=e,Bh.jsx=n,Bh.jsxs=n,Bh}var M3;function Cj(){return M3||(M3=1,s2.exports=Tj()),s2.exports}var A=Cj(),l2={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k3;function Ij(){if(k3)return Ue;k3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function m(G){return G===null||typeof G!="object"?null:(G=v&&G[v]||G["@@iterator"],typeof G=="function"?G:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function S(G,ee,ye){this.props=G,this.context=ee,this.refs=E,this.updater=ye||_}S.prototype.isReactComponent={},S.prototype.setState=function(G,ee){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ee,"setState")},S.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function I(){}I.prototype=S.prototype;function R(G,ee,ye){this.props=G,this.context=ee,this.refs=E,this.updater=ye||_}var M=R.prototype=new I;M.constructor=R,w(M,S.prototype),M.isPureReactComponent=!0;var k=Array.isArray;function B(){}var D={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function L(G,ee,ye){var xe=ye.ref;return{$$typeof:t,type:G,key:ee,ref:xe!==void 0?xe:null,props:ye}}function z(G,ee){return L(G.type,ee,G.props)}function U(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function H(G){var ee={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ye){return ee[ye]})}var F=/\/+/g;function de(G,ee){return typeof G=="object"&&G!==null&&G.key!=null?H(""+G.key):ee.toString(36)}function be(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(B,B):(G.status="pending",G.then(function(ee){G.status==="pending"&&(G.status="fulfilled",G.value=ee)},function(ee){G.status==="pending"&&(G.status="rejected",G.reason=ee)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function Y(G,ee,ye,xe,Oe){var He=typeof G;(He==="undefined"||He==="boolean")&&(G=null);var et=!1;if(G===null)et=!0;else switch(He){case"bigint":case"string":case"number":et=!0;break;case"object":switch(G.$$typeof){case t:case e:et=!0;break;case d:return et=G._init,Y(et(G._payload),ee,ye,xe,Oe)}}if(et)return Oe=Oe(G),et=xe===""?"."+de(G,0):xe,k(Oe)?(ye="",et!=null&&(ye=et.replace(F,"$&/")+"/"),Y(Oe,ee,ye,"",function(Fe){return Fe})):Oe!=null&&(U(Oe)&&(Oe=z(Oe,ye+(Oe.key==null||G&&G.key===Oe.key?"":(""+Oe.key).replace(F,"$&/")+"/")+et)),ee.push(Oe)),1;et=0;var ln=xe===""?".":xe+":";if(k(G))for(var pe=0;pe<G.length;pe++)xe=G[pe],He=ln+de(xe,pe),et+=Y(xe,ee,ye,He,Oe);else if(pe=m(G),typeof pe=="function")for(G=pe.call(G),pe=0;!(xe=G.next()).done;)xe=xe.value,He=ln+de(xe,pe++),et+=Y(xe,ee,ye,He,Oe);else if(He==="object"){if(typeof G.then=="function")return Y(be(G),ee,ye,xe,Oe);throw ee=String(G),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return et}function se(G,ee,ye){if(G==null)return G;var xe=[],Oe=0;return Y(G,xe,"","",function(He){return ee.call(ye,He,Oe++)}),xe}function me(G){if(G._status===-1){var ee=G._result;ee=ee(),ee.then(function(ye){(G._status===0||G._status===-1)&&(G._status=1,G._result=ye)},function(ye){(G._status===0||G._status===-1)&&(G._status=2,G._result=ye)}),G._status===-1&&(G._status=0,G._result=ee)}if(G._status===1)return G._result.default;throw G._result}var Se=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},Ge={map:se,forEach:function(G,ee,ye){se(G,function(){ee.apply(this,arguments)},ye)},count:function(G){var ee=0;return se(G,function(){ee++}),ee},toArray:function(G){return se(G,function(ee){return ee})||[]},only:function(G){if(!U(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return Ue.Activity=p,Ue.Children=Ge,Ue.Component=S,Ue.Fragment=n,Ue.Profiler=i,Ue.PureComponent=R,Ue.StrictMode=r,Ue.Suspense=c,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(G){return D.H.useMemoCache(G)}},Ue.cache=function(G){return function(){return G.apply(null,arguments)}},Ue.cacheSignal=function(){return null},Ue.cloneElement=function(G,ee,ye){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var xe=w({},G.props),Oe=G.key;if(ee!=null)for(He in ee.key!==void 0&&(Oe=""+ee.key),ee)!N.call(ee,He)||He==="key"||He==="__self"||He==="__source"||He==="ref"&&ee.ref===void 0||(xe[He]=ee[He]);var He=arguments.length-2;if(He===1)xe.children=ye;else if(1<He){for(var et=Array(He),ln=0;ln<He;ln++)et[ln]=arguments[ln+2];xe.children=et}return L(G.type,Oe,xe)},Ue.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:a,_context:G},G},Ue.createElement=function(G,ee,ye){var xe,Oe={},He=null;if(ee!=null)for(xe in ee.key!==void 0&&(He=""+ee.key),ee)N.call(ee,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(Oe[xe]=ee[xe]);var et=arguments.length-2;if(et===1)Oe.children=ye;else if(1<et){for(var ln=Array(et),pe=0;pe<et;pe++)ln[pe]=arguments[pe+2];Oe.children=ln}if(G&&G.defaultProps)for(xe in et=G.defaultProps,et)Oe[xe]===void 0&&(Oe[xe]=et[xe]);return L(G,He,Oe)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(G){return{$$typeof:l,render:G}},Ue.isValidElement=U,Ue.lazy=function(G){return{$$typeof:d,_payload:{_status:-1,_result:G},_init:me}},Ue.memo=function(G,ee){return{$$typeof:f,type:G,compare:ee===void 0?null:ee}},Ue.startTransition=function(G){var ee=D.T,ye={};D.T=ye;try{var xe=G(),Oe=D.S;Oe!==null&&Oe(ye,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(B,Se)}catch(He){Se(He)}finally{ee!==null&&ye.types!==null&&(ee.types=ye.types),D.T=ee}},Ue.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ue.use=function(G){return D.H.use(G)},Ue.useActionState=function(G,ee,ye){return D.H.useActionState(G,ee,ye)},Ue.useCallback=function(G,ee){return D.H.useCallback(G,ee)},Ue.useContext=function(G){return D.H.useContext(G)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(G,ee){return D.H.useDeferredValue(G,ee)},Ue.useEffect=function(G,ee){return D.H.useEffect(G,ee)},Ue.useEffectEvent=function(G){return D.H.useEffectEvent(G)},Ue.useId=function(){return D.H.useId()},Ue.useImperativeHandle=function(G,ee,ye){return D.H.useImperativeHandle(G,ee,ye)},Ue.useInsertionEffect=function(G,ee){return D.H.useInsertionEffect(G,ee)},Ue.useLayoutEffect=function(G,ee){return D.H.useLayoutEffect(G,ee)},Ue.useMemo=function(G,ee){return D.H.useMemo(G,ee)},Ue.useOptimistic=function(G,ee){return D.H.useOptimistic(G,ee)},Ue.useReducer=function(G,ee,ye){return D.H.useReducer(G,ee,ye)},Ue.useRef=function(G){return D.H.useRef(G)},Ue.useState=function(G){return D.H.useState(G)},Ue.useSyncExternalStore=function(G,ee,ye){return D.H.useSyncExternalStore(G,ee,ye)},Ue.useTransition=function(){return D.H.useTransition()},Ue.version="19.2.0",Ue}var L3;function gf(){return L3||(L3=1,l2.exports=Ij()),l2.exports}var C=gf();const Mr=so(C),Oj=Sj({__proto__:null,default:Mr},[C]);var u2={exports:{}},Vh={},c2={exports:{}},f2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j3;function Rj(){return j3||(j3=1,(function(t){function e(Y,se){var me=Y.length;Y.push(se);e:for(;0<me;){var Se=me-1>>>1,Ge=Y[Se];if(0<i(Ge,se))Y[Se]=se,Y[me]=Ge,me=Se;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var se=Y[0],me=Y.pop();if(me!==se){Y[0]=me;e:for(var Se=0,Ge=Y.length,G=Ge>>>1;Se<G;){var ee=2*(Se+1)-1,ye=Y[ee],xe=ee+1,Oe=Y[xe];if(0>i(ye,me))xe<Ge&&0>i(Oe,ye)?(Y[Se]=Oe,Y[xe]=me,Se=xe):(Y[Se]=ye,Y[ee]=me,Se=ee);else if(xe<Ge&&0>i(Oe,me))Y[Se]=Oe,Y[xe]=me,Se=xe;else break e}}return se}function i(Y,se){var me=Y.sortIndex-se.sortIndex;return me!==0?me:Y.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],f=[],d=1,p=null,v=3,m=!1,_=!1,w=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function M(Y){for(var se=n(f);se!==null;){if(se.callback===null)r(f);else if(se.startTime<=Y)r(f),se.sortIndex=se.expirationTime,e(c,se);else break;se=n(f)}}function k(Y){if(w=!1,M(Y),!_)if(n(c)!==null)_=!0,B||(B=!0,H());else{var se=n(f);se!==null&&be(k,se.startTime-Y)}}var B=!1,D=-1,N=5,L=-1;function z(){return E?!0:!(t.unstable_now()-L<N)}function U(){if(E=!1,B){var Y=t.unstable_now();L=Y;var se=!0;try{e:{_=!1,w&&(w=!1,I(D),D=-1),m=!0;var me=v;try{t:{for(M(Y),p=n(c);p!==null&&!(p.expirationTime>Y&&z());){var Se=p.callback;if(typeof Se=="function"){p.callback=null,v=p.priorityLevel;var Ge=Se(p.expirationTime<=Y);if(Y=t.unstable_now(),typeof Ge=="function"){p.callback=Ge,M(Y),se=!0;break t}p===n(c)&&r(c),M(Y)}else r(c);p=n(c)}if(p!==null)se=!0;else{var G=n(f);G!==null&&be(k,G.startTime-Y),se=!1}}break e}finally{p=null,v=me,m=!1}se=void 0}}finally{se?H():B=!1}}}var H;if(typeof R=="function")H=function(){R(U)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,de=F.port2;F.port1.onmessage=U,H=function(){de.postMessage(null)}}else H=function(){S(U,0)};function be(Y,se){D=S(function(){Y(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var se=3;break;default:se=v}var me=v;v=se;try{return Y()}finally{v=me}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=v;v=Y;try{return se()}finally{v=me}},t.unstable_scheduleCallback=function(Y,se,me){var Se=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Se+me:Se):me=Se,Y){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=me+Ge,Y={id:d++,callback:se,priorityLevel:Y,startTime:me,expirationTime:Ge,sortIndex:-1},me>Se?(Y.sortIndex=me,e(f,Y),n(c)===null&&Y===n(f)&&(w?(I(D),D=-1):w=!0,be(k,me-Se))):(Y.sortIndex=Ge,e(c,Y),_||m||(_=!0,B||(B=!0,H()))),Y},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(Y){var se=v;return function(){var me=v;v=se;try{return Y.apply(this,arguments)}finally{v=me}}}})(f2)),f2}var B3;function Pj(){return B3||(B3=1,c2.exports=Rj()),c2.exports}var h2={exports:{}},Cr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V3;function Dj(){if(V3)return Cr;V3=1;var t=gf();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:d}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Cr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Cr.createPortal=function(c,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,d)},Cr.flushSync=function(c){var f=o.T,d=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=f,r.p=d,r.d.f()}},Cr.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},Cr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Cr.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var d=f.as,p=l(d,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,m=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:m}):d==="script"&&r.d.X(c,{crossOrigin:p,integrity:v,fetchPriority:m,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Cr.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=l(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},Cr.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,p=l(d,f.crossOrigin);r.d.L(c,d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Cr.preloadModule=function(c,f){if(typeof c=="string")if(f){var d=l(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},Cr.requestFormReset=function(c){r.d.r(c)},Cr.unstable_batchedUpdates=function(c,f){return c(f)},Cr.useFormState=function(c,f,d){return o.H.useFormState(c,f,d)},Cr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Cr.version="19.2.0",Cr}var F3;function fP(){if(F3)return h2.exports;F3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),h2.exports=Dj(),h2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U3;function Nj(){if(U3)return Vh;U3=1;var t=Pj(),e=gf(),n=fP();function r(s){var u="https://react.dev/errors/"+s;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var u=s,h=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,(u.flags&4098)!==0&&(h=u.return),s=u.return;while(s)}return u.tag===3?h:null}function o(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function l(s){if(s.tag===31){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function c(s){if(a(s)!==s)throw Error(r(188))}function f(s){var u=s.alternate;if(!u){if(u=a(s),u===null)throw Error(r(188));return u!==s?null:s}for(var h=s,g=u;;){var x=h.return;if(x===null)break;var b=x.alternate;if(b===null){if(g=x.return,g!==null){h=g;continue}break}if(x.child===b.child){for(b=x.child;b;){if(b===h)return c(x),s;if(b===g)return c(x),u;b=b.sibling}throw Error(r(188))}if(h.return!==g.return)h=x,g=b;else{for(var O=!1,j=x.child;j;){if(j===h){O=!0,h=x,g=b;break}if(j===g){O=!0,g=x,h=b;break}j=j.sibling}if(!O){for(j=b.child;j;){if(j===h){O=!0,h=b,g=x;break}if(j===g){O=!0,g=b,h=x;break}j=j.sibling}if(!O)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:u}function d(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s;for(s=s.child;s!==null;){if(u=d(s),u!==null)return u;s=s.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),R=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var F=Symbol.for("react.client.reference");function de(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===F?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case k:return"Suspense";case B:return"SuspenseList";case L:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case _:return"Portal";case R:return s.displayName||"Context";case I:return(s._context.displayName||"Context")+".Consumer";case M:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return u=s.displayName||null,u!==null?u:de(s.type)||"Memo";case N:u=s._payload,s=s._init;try{return de(s(u))}catch{}}return null}var be=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Se=[],Ge=-1;function G(s){return{current:s}}function ee(s){0>Ge||(s.current=Se[Ge],Se[Ge]=null,Ge--)}function ye(s,u){Ge++,Se[Ge]=s.current,s.current=u}var xe=G(null),Oe=G(null),He=G(null),et=G(null);function ln(s,u){switch(ye(He,u),ye(Oe,s),ye(xe,null),u.nodeType){case 9:case 11:s=(s=u.documentElement)&&(s=s.namespaceURI)?n3(s):0;break;default:if(s=u.tagName,u=u.namespaceURI)u=n3(u),s=r3(u,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ee(xe),ye(xe,s)}function pe(){ee(xe),ee(Oe),ee(He)}function Fe(s){s.memoizedState!==null&&ye(et,s);var u=xe.current,h=r3(u,s.type);u!==h&&(ye(Oe,s),ye(xe,h))}function We(s){Oe.current===s&&(ee(xe),ee(Oe)),et.current===s&&(ee(et),Mh._currentValue=me)}var he,un;function Qe(s){if(he===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);he=u&&u[1]||"",un=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+s+un}var jn=!1;function cn(s,u){if(!s||jn)return"";jn=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ie){var te=ie}Reflect.construct(s,[],ue)}else{try{ue.call()}catch(ie){te=ie}s.call(ue.prototype)}}else{try{throw Error()}catch(ie){te=ie}(ue=s())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=g.DetermineComponentFrameRoot(),O=b[0],j=b[1];if(O&&j){var q=O.split(`
`),J=j.split(`
`);for(x=g=0;g<q.length&&!q[g].includes("DetermineComponentFrameRoot");)g++;for(;x<J.length&&!J[x].includes("DetermineComponentFrameRoot");)x++;if(g===q.length||x===J.length)for(g=q.length-1,x=J.length-1;1<=g&&0<=x&&q[g]!==J[x];)x--;for(;1<=g&&0<=x;g--,x--)if(q[g]!==J[x]){if(g!==1||x!==1)do if(g--,x--,0>x||q[g]!==J[x]){var oe=`
`+q[g].replace(" at new "," at ");return s.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",s.displayName)),oe}while(1<=g&&0<=x);break}}}finally{jn=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?Qe(h):""}function si(s,u){switch(s.tag){case 26:case 27:case 5:return Qe(s.type);case 16:return Qe("Lazy");case 13:return s.child!==u&&u!==null?Qe("Suspense Fallback"):Qe("Suspense");case 19:return Qe("SuspenseList");case 0:case 15:return cn(s.type,!1);case 11:return cn(s.type.render,!1);case 1:return cn(s.type,!0);case 31:return Qe("Activity");default:return""}}function is(s){try{var u="",h=null;do u+=si(s,h),h=s,s=s.return;while(s);return u}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var xn=Object.prototype.hasOwnProperty,Bn=t.unstable_scheduleCallback,as=t.unstable_cancelCallback,um=t.unstable_shouldYield,x0=t.unstable_requestPaint,Br=t.unstable_now,Rl=t.unstable_getCurrentPriorityLevel,jf=t.unstable_ImmediatePriority,Bf=t.unstable_UserBlockingPriority,os=t.unstable_NormalPriority,cm=t.unstable_LowPriority,_0=t.unstable_IdlePriority,b0=t.log,w0=t.unstable_setDisableYieldValue,ra=null,cr=null;function Oi(s){if(typeof b0=="function"&&w0(s),cr&&typeof cr.setStrictMode=="function")try{cr.setStrictMode(ra,s)}catch{}}var fn=Math.clz32?Math.clz32:A0,E0=Math.log,Ku=Math.LN2;function A0(s){return s>>>=0,s===0?32:31-(E0(s)/Ku|0)|0}var Ta=256,Pl=262144,_n=4194304;function Ca(s){var u=s&42;if(u!==0)return u;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ia(s,u,h){var g=s.pendingLanes;if(g===0)return 0;var x=0,b=s.suspendedLanes,O=s.pingedLanes;s=s.warmLanes;var j=g&134217727;return j!==0?(g=j&~b,g!==0?x=Ca(g):(O&=j,O!==0?x=Ca(O):h||(h=j&~s,h!==0&&(x=Ca(h))))):(j=g&~b,j!==0?x=Ca(j):O!==0?x=Ca(O):h||(h=g&~s,h!==0&&(x=Ca(h)))),x===0?0:u!==0&&u!==x&&(u&b)===0&&(b=x&-x,h=u&-u,b>=h||b===32&&(h&4194048)!==0)?u:x}function ia(s,u){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&u)===0}function fm(s,u){switch(s){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S0(){var s=_n;return _n<<=1,(_n&62914560)===0&&(_n=4194304),s}function Oa(s){for(var u=[],h=0;31>h;h++)u.push(s);return u}function Dl(s,u){s.pendingLanes|=u,u!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function hm(s,u,h,g,x,b){var O=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var j=s.entanglements,q=s.expirationTimes,J=s.hiddenUpdates;for(h=O&~h;0<h;){var oe=31-fn(h),ue=1<<oe;j[oe]=0,q[oe]=-1;var te=J[oe];if(te!==null)for(J[oe]=null,oe=0;oe<te.length;oe++){var ie=te[oe];ie!==null&&(ie.lane&=-536870913)}h&=~ue}g!==0&&Nl(s,g,0),b!==0&&x===0&&s.tag!==0&&(s.suspendedLanes|=b&~(O&~u))}function Nl(s,u,h){s.pendingLanes|=u,s.suspendedLanes&=~u;var g=31-fn(u);s.entangledLanes|=u,s.entanglements[g]=s.entanglements[g]|1073741824|h&261930}function Vf(s,u){var h=s.entangledLanes|=u;for(s=s.entanglements;h;){var g=31-fn(h),x=1<<g;x&u|s[g]&u&&(s[g]|=u),h&=~x}}function Ff(s,u){var h=u&-u;return h=(h&42)!==0?1:Ml(h),(h&(s.suspendedLanes|u))!==0?0:h}function Ml(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function co(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function T0(){var s=se.p;return s!==0?s:(s=window.event,s===void 0?32:T3(s.type))}function aa(s,u){var h=se.p;try{return se.p=s,u()}finally{se.p=h}}var oa=Math.random().toString(36).slice(2),bn="__reactFiber$"+oa,Zn="__reactProps$"+oa,Ra="__reactContainer$"+oa,Wu="__reactEvents$"+oa,dm="__reactListeners$"+oa,C0="__reactHandles$"+oa,I0="__reactResources$"+oa,Pa="__reactMarker$"+oa;function Xu(s){delete s[bn],delete s[Zn],delete s[Wu],delete s[dm],delete s[C0]}function Da(s){var u=s[bn];if(u)return u;for(var h=s.parentNode;h;){if(u=h[Ra]||h[bn]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(s=c3(s);s!==null;){if(h=s[bn])return h;s=c3(s)}return u}s=h,h=s.parentNode}return null}function Ri(s){if(s=s[bn]||s[Ra]){var u=s.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return s}return null}function li(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s.stateNode;throw Error(r(33))}function Na(s){var u=s[I0];return u||(u=s[I0]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function wn(s){s[Pa]=!0}var Uf=new Set,zf={};function Ma(s,u){ka(s,u),ka(s+"Capture",u)}function ka(s,u){for(zf[s]=u,s=0;s<u.length;s++)Uf.add(u[s])}var Hf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$f={},qf={};function O0(s){return xn.call(qf,s)?!0:xn.call($f,s)?!1:Hf.test(s)?qf[s]=!0:($f[s]=!0,!1)}function Yu(s,u,h){if(O0(u))if(h===null)s.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(u);return}}s.setAttribute(u,""+h)}}function ui(s,u,h){if(h===null)s.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttribute(u,""+h)}}function En(s,u,h,g){if(g===null)s.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(u,h,""+g)}}function Jn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ss(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Gf(s,u,h){var g=Object.getOwnPropertyDescriptor(s.constructor.prototype,u);if(!s.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var x=g.get,b=g.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return x.call(this)},set:function(O){h=""+O,b.call(this,O)}}),Object.defineProperty(s,u,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(O){h=""+O},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function Et(s){if(!s._valueTracker){var u=ss(s)?"checked":"value";s._valueTracker=Gf(s,u,""+s[u])}}function kl(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var h=u.getValue(),g="";return s&&(g=ss(s)?s.checked?"true":"false":s.value),s=g,s!==h?(u.setValue(s),!0):!1}function La(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ll=/[\n"\\]/g;function Gr(s){return s.replace(Ll,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Qu(s,u,h,g,x,b,O,j){s.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?s.type=O:s.removeAttribute("type"),u!=null?O==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+Jn(u)):s.value!==""+Jn(u)&&(s.value=""+Jn(u)):O!=="submit"&&O!=="reset"||s.removeAttribute("value"),u!=null?Kf(s,O,Jn(u)):h!=null?Kf(s,O,Jn(h)):g!=null&&s.removeAttribute("value"),x==null&&b!=null&&(s.defaultChecked=!!b),x!=null&&(s.checked=x&&typeof x!="function"&&typeof x!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?s.name=""+Jn(j):s.removeAttribute("name")}function R0(s,u,h,g,x,b,O,j){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),u!=null||h!=null){if(!(b!=="submit"&&b!=="reset"||u!=null)){Et(s);return}h=h!=null?""+Jn(h):"",u=u!=null?""+Jn(u):h,j||u===s.value||(s.value=u),s.defaultValue=u}g=g??x,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=j?s.checked:!!g,s.defaultChecked=!!g,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.name=O),Et(s)}function Kf(s,u,h){u==="number"&&La(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function ls(s,u,h,g){if(s=s.options,u){u={};for(var x=0;x<h.length;x++)u["$"+h[x]]=!0;for(h=0;h<s.length;h++)x=u.hasOwnProperty("$"+s[h].value),s[h].selected!==x&&(s[h].selected=x),x&&g&&(s[h].defaultSelected=!0)}else{for(h=""+Jn(h),u=null,x=0;x<s.length;x++){if(s[x].value===h){s[x].selected=!0,g&&(s[x].defaultSelected=!0);return}u!==null||s[x].disabled||(u=s[x])}u!==null&&(u.selected=!0)}}function P0(s,u,h){if(u!=null&&(u=""+Jn(u),u!==s.value&&(s.value=u),h==null)){s.defaultValue!==u&&(s.defaultValue=u);return}s.defaultValue=h!=null?""+Jn(h):""}function us(s,u,h,g){if(u==null){if(g!=null){if(h!=null)throw Error(r(92));if(be(g)){if(1<g.length)throw Error(r(93));g=g[0]}h=g}h==null&&(h=""),u=h}h=Jn(u),s.defaultValue=h,g=s.textContent,g===h&&g!==""&&g!==null&&(s.value=g),Et(s)}function Kr(s,u){if(u){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=u;return}}s.textContent=u}var D0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wf(s,u,h){var g=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="":g?s.setProperty(u,h):typeof h!="number"||h===0||D0.has(u)?u==="float"?s.cssFloat=h:s[u]=(""+h).trim():s[u]=h+"px"}function Xf(s,u,h){if(u!=null&&typeof u!="object")throw Error(r(62));if(s=s.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var x in u)g=u[x],u.hasOwnProperty(x)&&h[x]!==g&&Wf(s,x,g)}else for(var b in u)u.hasOwnProperty(b)&&Wf(s,b,u[b])}function Zu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ju(s){return cs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function sa(){}var Yf=null;function Pi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var fs=null,ja=null;function jl(s){var u=Ri(s);if(u&&(s=u.stateNode)){var h=s[Zn]||null;e:switch(s=u.stateNode,u.type){case"input":if(Qu(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Gr(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var g=h[u];if(g!==s&&g.form===s.form){var x=g[Zn]||null;if(!x)throw Error(r(90));Qu(g,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(u=0;u<h.length;u++)g=h[u],g.form===s.form&&kl(g)}break e;case"textarea":P0(s,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&ls(s,!!h.multiple,u,!1)}}}var ec=!1;function hs(s,u,h){if(ec)return s(u,h);ec=!0;try{var g=s(u);return g}finally{if(ec=!1,(fs!==null||ja!==null)&&(Tp(),fs&&(u=fs,s=ja,ja=fs=null,jl(u),s)))for(u=0;u<s.length;u++)jl(s[u])}}function la(s,u){var h=s.stateNode;if(h===null)return null;var g=h[Zn]||null;if(g===null)return null;h=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var Di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bl=!1;if(Di)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){Bl=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch{Bl=!1}var Ba=null,Qf=null,Vl=null;function Zf(){if(Vl)return Vl;var s,u=Qf,h=u.length,g,x="value"in Ba?Ba.value:Ba.textContent,b=x.length;for(s=0;s<h&&u[s]===x[s];s++);var O=h-s;for(g=1;g<=O&&u[h-g]===x[b-g];g++);return Vl=x.slice(s,1<g?1-g:void 0)}function Fl(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function fo(){return!0}function ua(){return!1}function fr(s){function u(h,g,x,b,O){this._reactName=h,this._targetInst=x,this.type=g,this.nativeEvent=b,this.target=O,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(h=s[j],this[j]=h?h(b):b[j]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?fo:ua,this.isPropagationStopped=ua,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),u}var ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=fr(ho),ds=p({},ho,{view:0,detail:0}),Jf=fr(ds),ps,tc,Fa,nc=p({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Fa&&(Fa&&s.type==="mousemove"?(ps=s.screenX-Fa.screenX,tc=s.screenY-Fa.screenY):tc=ps=0,Fa=s),ps)},movementY:function(s){return"movementY"in s?s.movementY:tc}}),eh=fr(nc),Ul=p({},nc,{dataTransfer:0}),M0=fr(Ul),k0=p({},ds,{relatedTarget:0}),zl=fr(k0),th=p({},ho,{animationName:0,elapsedTime:0,pseudoElement:0}),L0=fr(th),rc=p({},ho,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),j0=fr(rc),B0=p({},ho,{data:0}),Ua=fr(B0),V0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z0(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=U0[s])?!!u[s]:!1}function gs(){return z0}var Vr=p({},ds,{key:function(s){if(s.key){var u=V0[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=Fl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?F0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(s){return s.type==="keypress"?Fl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Fl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),H0=fr(Vr),$0=p({},nc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),po=fr($0),y=p({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),T=fr(y),P=p({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=fr(P),X=p({},nc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),re=fr(X),ge=p({},ho,{newState:0,oldState:0}),$e=fr(ge),hn=[9,13,27,32],vt=Di&&"CompositionEvent"in window,Kt=null;Di&&"documentMode"in document&&(Kt=document.documentMode);var Ni=Di&&"TextEvent"in window&&!Kt,za=Di&&(!vt||Kt&&8<Kt&&11>=Kt),ca=" ",fa=!1;function Hl(s,u){switch(s){case"keyup":return hn.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ic(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ac=!1;function Xk(s,u){switch(s){case"compositionend":return ic(u);case"keypress":return u.which!==32?null:(fa=!0,ca);case"textInput":return s=u.data,s===ca&&fa?null:s;default:return null}}function Yk(s,u){if(ac)return s==="compositionend"||!vt&&Hl(s,u)?(s=Zf(),Vl=Qf=Ba=null,ac=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return za&&u.locale!=="ko"?null:u.data;default:return null}}var Qk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dS(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!Qk[s.type]:u==="textarea"}function pS(s,u,h,g){fs?ja?ja.push(g):ja=[g]:fs=g,u=Np(u,"onChange"),0<u.length&&(h=new Va("onChange","change",null,h,g),s.push({event:h,listeners:u}))}var nh=null,rh=null;function Zk(s){YC(s,0)}function q0(s){var u=li(s);if(kl(u))return s}function gS(s,u){if(s==="change")return u}var vS=!1;if(Di){var pm;if(Di){var gm="oninput"in document;if(!gm){var mS=document.createElement("div");mS.setAttribute("oninput","return;"),gm=typeof mS.oninput=="function"}pm=gm}else pm=!1;vS=pm&&(!document.documentMode||9<document.documentMode)}function yS(){nh&&(nh.detachEvent("onpropertychange",xS),rh=nh=null)}function xS(s){if(s.propertyName==="value"&&q0(rh)){var u=[];pS(u,rh,s,Pi(s)),hs(Zk,u)}}function Jk(s,u,h){s==="focusin"?(yS(),nh=u,rh=h,nh.attachEvent("onpropertychange",xS)):s==="focusout"&&yS()}function eL(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return q0(rh)}function tL(s,u){if(s==="click")return q0(u)}function nL(s,u){if(s==="input"||s==="change")return q0(u)}function rL(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var ci=typeof Object.is=="function"?Object.is:rL;function ih(s,u){if(ci(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var h=Object.keys(s),g=Object.keys(u);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var x=h[g];if(!xn.call(u,x)||!ci(s[x],u[x]))return!1}return!0}function _S(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function bS(s,u){var h=_S(s);s=0;for(var g;h;){if(h.nodeType===3){if(g=s+h.textContent.length,s<=u&&g>=u)return{node:h,offset:u-s};s=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=_S(h)}}function wS(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?wS(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function ES(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var u=La(s.document);u instanceof s.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)s=u.contentWindow;else break;u=La(s.document)}return u}function vm(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}var iL=Di&&"documentMode"in document&&11>=document.documentMode,oc=null,mm=null,ah=null,ym=!1;function AS(s,u,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;ym||oc==null||oc!==La(g)||(g=oc,"selectionStart"in g&&vm(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ah&&ih(ah,g)||(ah=g,g=Np(mm,"onSelect"),0<g.length&&(u=new Va("onSelect","select",null,u,h),s.push({event:u,listeners:g}),u.target=oc)))}function $l(s,u){var h={};return h[s.toLowerCase()]=u.toLowerCase(),h["Webkit"+s]="webkit"+u,h["Moz"+s]="moz"+u,h}var sc={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionrun:$l("Transition","TransitionRun"),transitionstart:$l("Transition","TransitionStart"),transitioncancel:$l("Transition","TransitionCancel"),transitionend:$l("Transition","TransitionEnd")},xm={},SS={};Di&&(SS=document.createElement("div").style,"AnimationEvent"in window||(delete sc.animationend.animation,delete sc.animationiteration.animation,delete sc.animationstart.animation),"TransitionEvent"in window||delete sc.transitionend.transition);function ql(s){if(xm[s])return xm[s];if(!sc[s])return s;var u=sc[s],h;for(h in u)if(u.hasOwnProperty(h)&&h in SS)return xm[s]=u[h];return s}var TS=ql("animationend"),CS=ql("animationiteration"),IS=ql("animationstart"),aL=ql("transitionrun"),oL=ql("transitionstart"),sL=ql("transitioncancel"),OS=ql("transitionend"),RS=new Map,_m="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_m.push("scrollEnd");function ha(s,u){RS.set(s,u),Ma(u,[s])}var G0=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Mi=[],lc=0,bm=0;function K0(){for(var s=lc,u=bm=lc=0;u<s;){var h=Mi[u];Mi[u++]=null;var g=Mi[u];Mi[u++]=null;var x=Mi[u];Mi[u++]=null;var b=Mi[u];if(Mi[u++]=null,g!==null&&x!==null){var O=g.pending;O===null?x.next=x:(x.next=O.next,O.next=x),g.pending=x}b!==0&&PS(h,x,b)}}function W0(s,u,h,g){Mi[lc++]=s,Mi[lc++]=u,Mi[lc++]=h,Mi[lc++]=g,bm|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function wm(s,u,h,g){return W0(s,u,h,g),X0(s)}function Gl(s,u){return W0(s,null,null,u),X0(s)}function PS(s,u,h){s.lanes|=h;var g=s.alternate;g!==null&&(g.lanes|=h);for(var x=!1,b=s.return;b!==null;)b.childLanes|=h,g=b.alternate,g!==null&&(g.childLanes|=h),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(x=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,x&&u!==null&&(x=31-fn(h),s=b.hiddenUpdates,g=s[x],g===null?s[x]=[u]:g.push(u),u.lane=h|536870912),b):null}function X0(s){if(50<Ch)throw Ch=0,Py=null,Error(r(185));for(var u=s.return;u!==null;)s=u,u=s.return;return s.tag===3?s.stateNode:null}var uc={};function lL(s,u,h,g){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(s,u,h,g){return new lL(s,u,h,g)}function Em(s){return s=s.prototype,!(!s||!s.isReactComponent)}function go(s,u){var h=s.alternate;return h===null?(h=fi(s.tag,u,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=u,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,u=s.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function DS(s,u){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=u,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,u=h.dependencies,s.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),s}function Y0(s,u,h,g,x,b){var O=0;if(g=s,typeof s=="function")Em(s)&&(O=1);else if(typeof s=="string")O=dj(s,h,xe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case L:return s=fi(31,h,u,x),s.elementType=L,s.lanes=b,s;case w:return Kl(h.children,x,b,u);case E:O=8,x|=24;break;case S:return s=fi(12,h,u,x|2),s.elementType=S,s.lanes=b,s;case k:return s=fi(13,h,u,x),s.elementType=k,s.lanes=b,s;case B:return s=fi(19,h,u,x),s.elementType=B,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case R:O=10;break e;case I:O=9;break e;case M:O=11;break e;case D:O=14;break e;case N:O=16,g=null;break e}O=29,h=Error(r(130,s===null?"null":typeof s,"")),g=null}return u=fi(O,h,u,x),u.elementType=s,u.type=g,u.lanes=b,u}function Kl(s,u,h,g){return s=fi(7,s,g,u),s.lanes=h,s}function Am(s,u,h){return s=fi(6,s,null,u),s.lanes=h,s}function NS(s){var u=fi(18,null,null,0);return u.stateNode=s,u}function Sm(s,u,h){return u=fi(4,s.children!==null?s.children:[],s.key,u),u.lanes=h,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}var MS=new WeakMap;function ki(s,u){if(typeof s=="object"&&s!==null){var h=MS.get(s);return h!==void 0?h:(u={value:s,source:u,stack:is(u)},MS.set(s,u),u)}return{value:s,source:u,stack:is(u)}}var cc=[],fc=0,Q0=null,oh=0,Li=[],ji=0,vs=null,Ha=1,$a="";function vo(s,u){cc[fc++]=oh,cc[fc++]=Q0,Q0=s,oh=u}function kS(s,u,h){Li[ji++]=Ha,Li[ji++]=$a,Li[ji++]=vs,vs=s;var g=Ha;s=$a;var x=32-fn(g)-1;g&=~(1<<x),h+=1;var b=32-fn(u)+x;if(30<b){var O=x-x%5;b=(g&(1<<O)-1).toString(32),g>>=O,x-=O,Ha=1<<32-fn(u)+x|h<<x|g,$a=b+s}else Ha=1<<b|h<<x|g,$a=s}function Tm(s){s.return!==null&&(vo(s,1),kS(s,1,0))}function Cm(s){for(;s===Q0;)Q0=cc[--fc],cc[fc]=null,oh=cc[--fc],cc[fc]=null;for(;s===vs;)vs=Li[--ji],Li[ji]=null,$a=Li[--ji],Li[ji]=null,Ha=Li[--ji],Li[ji]=null}function LS(s,u){Li[ji++]=Ha,Li[ji++]=$a,Li[ji++]=vs,Ha=u.id,$a=u.overflow,vs=s}var hr=null,Ut=null,ot=!1,ms=null,Bi=!1,Im=Error(r(519));function ys(s){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sh(ki(u,s)),Im}function jS(s){var u=s.stateNode,h=s.type,g=s.memoizedProps;switch(u[bn]=s,u[Zn]=g,h){case"dialog":Je("cancel",u),Je("close",u);break;case"iframe":case"object":case"embed":Je("load",u);break;case"video":case"audio":for(h=0;h<Oh.length;h++)Je(Oh[h],u);break;case"source":Je("error",u);break;case"img":case"image":case"link":Je("error",u),Je("load",u);break;case"details":Je("toggle",u);break;case"input":Je("invalid",u),R0(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Je("invalid",u);break;case"textarea":Je("invalid",u),us(u,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||g.suppressHydrationWarning===!0||e3(u.textContent,h)?(g.popover!=null&&(Je("beforetoggle",u),Je("toggle",u)),g.onScroll!=null&&Je("scroll",u),g.onScrollEnd!=null&&Je("scrollend",u),g.onClick!=null&&(u.onclick=sa),u=!0):u=!1,u||ys(s,!0)}function BS(s){for(hr=s.return;hr;)switch(hr.tag){case 5:case 31:case 13:Bi=!1;return;case 27:case 3:Bi=!0;return;default:hr=hr.return}}function hc(s){if(s!==hr)return!1;if(!ot)return BS(s),ot=!0,!1;var u=s.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||Gy(s.type,s.memoizedProps)),h=!h),h&&Ut&&ys(s),BS(s),u===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Ut=u3(s)}else if(u===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Ut=u3(s)}else u===27?(u=Ut,Ds(s.type)?(s=Qy,Qy=null,Ut=s):Ut=u):Ut=hr?Fi(s.stateNode.nextSibling):null;return!0}function Wl(){Ut=hr=null,ot=!1}function Om(){var s=ms;return s!==null&&(Qr===null?Qr=s:Qr.push.apply(Qr,s),ms=null),s}function sh(s){ms===null?ms=[s]:ms.push(s)}var Rm=G(null),Xl=null,mo=null;function xs(s,u,h){ye(Rm,u._currentValue),u._currentValue=h}function yo(s){s._currentValue=Rm.current,ee(Rm)}function Pm(s,u,h){for(;s!==null;){var g=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),s===h)break;s=s.return}}function Dm(s,u,h,g){var x=s.child;for(x!==null&&(x.return=s);x!==null;){var b=x.dependencies;if(b!==null){var O=x.child;b=b.firstContext;e:for(;b!==null;){var j=b;b=x;for(var q=0;q<u.length;q++)if(j.context===u[q]){b.lanes|=h,j=b.alternate,j!==null&&(j.lanes|=h),Pm(b.return,h,s),g||(O=null);break e}b=j.next}}else if(x.tag===18){if(O=x.return,O===null)throw Error(r(341));O.lanes|=h,b=O.alternate,b!==null&&(b.lanes|=h),Pm(O,h,s),O=null}else O=x.child;if(O!==null)O.return=x;else for(O=x;O!==null;){if(O===s){O=null;break}if(x=O.sibling,x!==null){x.return=O.return,O=x;break}O=O.return}x=O}}function dc(s,u,h,g){s=null;for(var x=u,b=!1;x!==null;){if(!b){if((x.flags&524288)!==0)b=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var O=x.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var j=x.type;ci(x.pendingProps.value,O.value)||(s!==null?s.push(j):s=[j])}}else if(x===et.current){if(O=x.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(s!==null?s.push(Mh):s=[Mh])}x=x.return}s!==null&&Dm(u,s,h,g),u.flags|=262144}function Z0(s){for(s=s.firstContext;s!==null;){if(!ci(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Yl(s){Xl=s,mo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function dr(s){return VS(Xl,s)}function J0(s,u){return Xl===null&&Yl(s),VS(s,u)}function VS(s,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},mo===null){if(s===null)throw Error(r(308));mo=u,s.dependencies={lanes:0,firstContext:u},s.flags|=524288}else mo=mo.next=u;return h}var uL=typeof AbortController<"u"?AbortController:function(){var s=[],u=this.signal={aborted:!1,addEventListener:function(h,g){s.push(g)}};this.abort=function(){u.aborted=!0,s.forEach(function(h){return h()})}},cL=t.unstable_scheduleCallback,fL=t.unstable_NormalPriority,An={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nm(){return{controller:new uL,data:new Map,refCount:0}}function lh(s){s.refCount--,s.refCount===0&&cL(fL,function(){s.controller.abort()})}var uh=null,Mm=0,pc=0,gc=null;function hL(s,u){if(uh===null){var h=uh=[];Mm=0,pc=jy(),gc={status:"pending",value:void 0,then:function(g){h.push(g)}}}return Mm++,u.then(FS,FS),u}function FS(){if(--Mm===0&&uh!==null){gc!==null&&(gc.status="fulfilled");var s=uh;uh=null,pc=0,gc=null;for(var u=0;u<s.length;u++)(0,s[u])()}}function dL(s,u){var h=[],g={status:"pending",value:null,reason:null,then:function(x){h.push(x)}};return s.then(function(){g.status="fulfilled",g.value=u;for(var x=0;x<h.length;x++)(0,h[x])(u)},function(x){for(g.status="rejected",g.reason=x,x=0;x<h.length;x++)(0,h[x])(void 0)}),g}var US=Y.S;Y.S=function(s,u){AC=Br(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&hL(s,u),US!==null&&US(s,u)};var Ql=G(null);function km(){var s=Ql.current;return s!==null?s:kt.pooledCache}function ep(s,u){u===null?ye(Ql,Ql.current):ye(Ql,u.pool)}function zS(){var s=km();return s===null?null:{parent:An._currentValue,pool:s}}var vc=Error(r(460)),Lm=Error(r(474)),tp=Error(r(542)),np={then:function(){}};function HS(s){return s=s.status,s==="fulfilled"||s==="rejected"}function $S(s,u,h){switch(h=s[h],h===void 0?s.push(u):h!==u&&(u.then(sa,sa),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,GS(s),s;default:if(typeof u.status=="string")u.then(sa,sa);else{if(s=kt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=u,s.status="pending",s.then(function(g){if(u.status==="pending"){var x=u;x.status="fulfilled",x.value=g}},function(g){if(u.status==="pending"){var x=u;x.status="rejected",x.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,GS(s),s}throw Jl=u,vc}}function Zl(s){try{var u=s._init;return u(s._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Jl=h,vc):h}}var Jl=null;function qS(){if(Jl===null)throw Error(r(459));var s=Jl;return Jl=null,s}function GS(s){if(s===vc||s===tp)throw Error(r(483))}var mc=null,ch=0;function rp(s){var u=ch;return ch+=1,mc===null&&(mc=[]),$S(mc,s,u)}function fh(s,u){u=u.props.ref,s.ref=u!==void 0?u:null}function ip(s,u){throw u.$$typeof===v?Error(r(525)):(s=Object.prototype.toString.call(u),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s)))}function KS(s){function u(W,K){if(s){var Z=W.deletions;Z===null?(W.deletions=[K],W.flags|=16):Z.push(K)}}function h(W,K){if(!s)return null;for(;K!==null;)u(W,K),K=K.sibling;return null}function g(W){for(var K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function x(W,K){return W=go(W,K),W.index=0,W.sibling=null,W}function b(W,K,Z){return W.index=Z,s?(Z=W.alternate,Z!==null?(Z=Z.index,Z<K?(W.flags|=67108866,K):Z):(W.flags|=67108866,K)):(W.flags|=1048576,K)}function O(W){return s&&W.alternate===null&&(W.flags|=67108866),W}function j(W,K,Z,le){return K===null||K.tag!==6?(K=Am(Z,W.mode,le),K.return=W,K):(K=x(K,Z),K.return=W,K)}function q(W,K,Z,le){var Pe=Z.type;return Pe===w?oe(W,K,Z.props.children,le,Z.key):K!==null&&(K.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===N&&Zl(Pe)===K.type)?(K=x(K,Z.props),fh(K,Z),K.return=W,K):(K=Y0(Z.type,Z.key,Z.props,null,W.mode,le),fh(K,Z),K.return=W,K)}function J(W,K,Z,le){return K===null||K.tag!==4||K.stateNode.containerInfo!==Z.containerInfo||K.stateNode.implementation!==Z.implementation?(K=Sm(Z,W.mode,le),K.return=W,K):(K=x(K,Z.children||[]),K.return=W,K)}function oe(W,K,Z,le,Pe){return K===null||K.tag!==7?(K=Kl(Z,W.mode,le,Pe),K.return=W,K):(K=x(K,Z),K.return=W,K)}function ue(W,K,Z){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Am(""+K,W.mode,Z),K.return=W,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case m:return Z=Y0(K.type,K.key,K.props,null,W.mode,Z),fh(Z,K),Z.return=W,Z;case _:return K=Sm(K,W.mode,Z),K.return=W,K;case N:return K=Zl(K),ue(W,K,Z)}if(be(K)||H(K))return K=Kl(K,W.mode,Z,null),K.return=W,K;if(typeof K.then=="function")return ue(W,rp(K),Z);if(K.$$typeof===R)return ue(W,J0(W,K),Z);ip(W,K)}return null}function te(W,K,Z,le){var Pe=K!==null?K.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Pe!==null?null:j(W,K,""+Z,le);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:return Z.key===Pe?q(W,K,Z,le):null;case _:return Z.key===Pe?J(W,K,Z,le):null;case N:return Z=Zl(Z),te(W,K,Z,le)}if(be(Z)||H(Z))return Pe!==null?null:oe(W,K,Z,le,null);if(typeof Z.then=="function")return te(W,K,rp(Z),le);if(Z.$$typeof===R)return te(W,K,J0(W,Z),le);ip(W,Z)}return null}function ie(W,K,Z,le,Pe){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return W=W.get(Z)||null,j(K,W,""+le,Pe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case m:return W=W.get(le.key===null?Z:le.key)||null,q(K,W,le,Pe);case _:return W=W.get(le.key===null?Z:le.key)||null,J(K,W,le,Pe);case N:return le=Zl(le),ie(W,K,Z,le,Pe)}if(be(le)||H(le))return W=W.get(Z)||null,oe(K,W,le,Pe,null);if(typeof le.then=="function")return ie(W,K,Z,rp(le),Pe);if(le.$$typeof===R)return ie(W,K,Z,J0(K,le),Pe);ip(K,le)}return null}function Ae(W,K,Z,le){for(var Pe=null,ft=null,Ie=K,Ke=K=0,nt=null;Ie!==null&&Ke<Z.length;Ke++){Ie.index>Ke?(nt=Ie,Ie=null):nt=Ie.sibling;var ht=te(W,Ie,Z[Ke],le);if(ht===null){Ie===null&&(Ie=nt);break}s&&Ie&&ht.alternate===null&&u(W,Ie),K=b(ht,K,Ke),ft===null?Pe=ht:ft.sibling=ht,ft=ht,Ie=nt}if(Ke===Z.length)return h(W,Ie),ot&&vo(W,Ke),Pe;if(Ie===null){for(;Ke<Z.length;Ke++)Ie=ue(W,Z[Ke],le),Ie!==null&&(K=b(Ie,K,Ke),ft===null?Pe=Ie:ft.sibling=Ie,ft=Ie);return ot&&vo(W,Ke),Pe}for(Ie=g(Ie);Ke<Z.length;Ke++)nt=ie(Ie,W,Ke,Z[Ke],le),nt!==null&&(s&&nt.alternate!==null&&Ie.delete(nt.key===null?Ke:nt.key),K=b(nt,K,Ke),ft===null?Pe=nt:ft.sibling=nt,ft=nt);return s&&Ie.forEach(function(js){return u(W,js)}),ot&&vo(W,Ke),Pe}function ke(W,K,Z,le){if(Z==null)throw Error(r(151));for(var Pe=null,ft=null,Ie=K,Ke=K=0,nt=null,ht=Z.next();Ie!==null&&!ht.done;Ke++,ht=Z.next()){Ie.index>Ke?(nt=Ie,Ie=null):nt=Ie.sibling;var js=te(W,Ie,ht.value,le);if(js===null){Ie===null&&(Ie=nt);break}s&&Ie&&js.alternate===null&&u(W,Ie),K=b(js,K,Ke),ft===null?Pe=js:ft.sibling=js,ft=js,Ie=nt}if(ht.done)return h(W,Ie),ot&&vo(W,Ke),Pe;if(Ie===null){for(;!ht.done;Ke++,ht=Z.next())ht=ue(W,ht.value,le),ht!==null&&(K=b(ht,K,Ke),ft===null?Pe=ht:ft.sibling=ht,ft=ht);return ot&&vo(W,Ke),Pe}for(Ie=g(Ie);!ht.done;Ke++,ht=Z.next())ht=ie(Ie,W,Ke,ht.value,le),ht!==null&&(s&&ht.alternate!==null&&Ie.delete(ht.key===null?Ke:ht.key),K=b(ht,K,Ke),ft===null?Pe=ht:ft.sibling=ht,ft=ht);return s&&Ie.forEach(function(Aj){return u(W,Aj)}),ot&&vo(W,Ke),Pe}function Dt(W,K,Z,le){if(typeof Z=="object"&&Z!==null&&Z.type===w&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:e:{for(var Pe=Z.key;K!==null;){if(K.key===Pe){if(Pe=Z.type,Pe===w){if(K.tag===7){h(W,K.sibling),le=x(K,Z.props.children),le.return=W,W=le;break e}}else if(K.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===N&&Zl(Pe)===K.type){h(W,K.sibling),le=x(K,Z.props),fh(le,Z),le.return=W,W=le;break e}h(W,K);break}else u(W,K);K=K.sibling}Z.type===w?(le=Kl(Z.props.children,W.mode,le,Z.key),le.return=W,W=le):(le=Y0(Z.type,Z.key,Z.props,null,W.mode,le),fh(le,Z),le.return=W,W=le)}return O(W);case _:e:{for(Pe=Z.key;K!==null;){if(K.key===Pe)if(K.tag===4&&K.stateNode.containerInfo===Z.containerInfo&&K.stateNode.implementation===Z.implementation){h(W,K.sibling),le=x(K,Z.children||[]),le.return=W,W=le;break e}else{h(W,K);break}else u(W,K);K=K.sibling}le=Sm(Z,W.mode,le),le.return=W,W=le}return O(W);case N:return Z=Zl(Z),Dt(W,K,Z,le)}if(be(Z))return Ae(W,K,Z,le);if(H(Z)){if(Pe=H(Z),typeof Pe!="function")throw Error(r(150));return Z=Pe.call(Z),ke(W,K,Z,le)}if(typeof Z.then=="function")return Dt(W,K,rp(Z),le);if(Z.$$typeof===R)return Dt(W,K,J0(W,Z),le);ip(W,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,K!==null&&K.tag===6?(h(W,K.sibling),le=x(K,Z),le.return=W,W=le):(h(W,K),le=Am(Z,W.mode,le),le.return=W,W=le),O(W)):h(W,K)}return function(W,K,Z,le){try{ch=0;var Pe=Dt(W,K,Z,le);return mc=null,Pe}catch(Ie){if(Ie===vc||Ie===tp)throw Ie;var ft=fi(29,Ie,null,W.mode);return ft.lanes=le,ft.return=W,ft}finally{}}}var eu=KS(!0),WS=KS(!1),_s=!1;function jm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bm(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function bs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ws(s,u,h){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(mt&2)!==0){var x=g.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),g.pending=u,u=X0(s),PS(s,null,h),u}return W0(s,g,u,h),X0(s)}function hh(s,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var g=u.lanes;g&=s.pendingLanes,h|=g,u.lanes=h,Vf(s,h)}}function Vm(s,u){var h=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var x=null,b=null;if(h=h.firstBaseUpdate,h!==null){do{var O={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};b===null?x=b=O:b=b.next=O,h=h.next}while(h!==null);b===null?x=b=u:b=b.next=u}else x=b=u;h={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:b,shared:g.shared,callbacks:g.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=u:s.next=u,h.lastBaseUpdate=u}var Fm=!1;function dh(){if(Fm){var s=gc;if(s!==null)throw s}}function ph(s,u,h,g){Fm=!1;var x=s.updateQueue;_s=!1;var b=x.firstBaseUpdate,O=x.lastBaseUpdate,j=x.shared.pending;if(j!==null){x.shared.pending=null;var q=j,J=q.next;q.next=null,O===null?b=J:O.next=J,O=q;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,j=oe.lastBaseUpdate,j!==O&&(j===null?oe.firstBaseUpdate=J:j.next=J,oe.lastBaseUpdate=q))}if(b!==null){var ue=x.baseState;O=0,oe=J=q=null,j=b;do{var te=j.lane&-536870913,ie=te!==j.lane;if(ie?(tt&te)===te:(g&te)===te){te!==0&&te===pc&&(Fm=!0),oe!==null&&(oe=oe.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Ae=s,ke=j;te=u;var Dt=h;switch(ke.tag){case 1:if(Ae=ke.payload,typeof Ae=="function"){ue=Ae.call(Dt,ue,te);break e}ue=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=ke.payload,te=typeof Ae=="function"?Ae.call(Dt,ue,te):Ae,te==null)break e;ue=p({},ue,te);break e;case 2:_s=!0}}te=j.callback,te!==null&&(s.flags|=64,ie&&(s.flags|=8192),ie=x.callbacks,ie===null?x.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:j.tag,payload:j.payload,callback:j.callback,next:null},oe===null?(J=oe=ie,q=ue):oe=oe.next=ie,O|=te;if(j=j.next,j===null){if(j=x.shared.pending,j===null)break;ie=j,j=ie.next,ie.next=null,x.lastBaseUpdate=ie,x.shared.pending=null}}while(!0);oe===null&&(q=ue),x.baseState=q,x.firstBaseUpdate=J,x.lastBaseUpdate=oe,b===null&&(x.shared.lanes=0),Cs|=O,s.lanes=O,s.memoizedState=ue}}function XS(s,u){if(typeof s!="function")throw Error(r(191,s));s.call(u)}function YS(s,u){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)XS(h[s],u)}var yc=G(null),ap=G(0);function QS(s,u){s=Co,ye(ap,s),ye(yc,u),Co=s|u.baseLanes}function Um(){ye(ap,Co),ye(yc,yc.current)}function zm(){Co=ap.current,ee(yc),ee(ap)}var hi=G(null),Vi=null;function Es(s){var u=s.alternate;ye(dn,dn.current&1),ye(hi,s),Vi===null&&(u===null||yc.current!==null||u.memoizedState!==null)&&(Vi=s)}function Hm(s){ye(dn,dn.current),ye(hi,s),Vi===null&&(Vi=s)}function ZS(s){s.tag===22?(ye(dn,dn.current),ye(hi,s),Vi===null&&(Vi=s)):As()}function As(){ye(dn,dn.current),ye(hi,hi.current)}function di(s){ee(hi),Vi===s&&(Vi=null),ee(dn)}var dn=G(0);function op(s){for(var u=s;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Xy(h)||Yy(h)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var xo=0,qe=null,Rt=null,Sn=null,sp=!1,xc=!1,tu=!1,lp=0,gh=0,_c=null,pL=0;function an(){throw Error(r(321))}function $m(s,u){if(u===null)return!1;for(var h=0;h<u.length&&h<s.length;h++)if(!ci(s[h],u[h]))return!1;return!0}function qm(s,u,h,g,x,b){return xo=b,qe=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Y.H=s===null||s.memoizedState===null?kT:oy,tu=!1,b=h(g,x),tu=!1,xc&&(b=eT(u,h,g,x)),JS(s),b}function JS(s){Y.H=yh;var u=Rt!==null&&Rt.next!==null;if(xo=0,Sn=Rt=qe=null,sp=!1,gh=0,_c=null,u)throw Error(r(300));s===null||Tn||(s=s.dependencies,s!==null&&Z0(s)&&(Tn=!0))}function eT(s,u,h,g){qe=s;var x=0;do{if(xc&&(_c=null),gh=0,xc=!1,25<=x)throw Error(r(301));if(x+=1,Sn=Rt=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Y.H=LT,b=u(h,g)}while(xc);return b}function gL(){var s=Y.H,u=s.useState()[0];return u=typeof u.then=="function"?vh(u):u,s=s.useState()[0],(Rt!==null?Rt.memoizedState:null)!==s&&(qe.flags|=1024),u}function Gm(){var s=lp!==0;return lp=0,s}function Km(s,u,h){u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~h}function Wm(s){if(sp){for(s=s.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}sp=!1}xo=0,Sn=Rt=qe=null,xc=!1,gh=lp=0,_c=null}function Fr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?qe.memoizedState=Sn=s:Sn=Sn.next=s,Sn}function pn(){if(Rt===null){var s=qe.alternate;s=s!==null?s.memoizedState:null}else s=Rt.next;var u=Sn===null?qe.memoizedState:Sn.next;if(u!==null)Sn=u,Rt=s;else{if(s===null)throw qe.alternate===null?Error(r(467)):Error(r(310));Rt=s,s={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Sn===null?qe.memoizedState=Sn=s:Sn=Sn.next=s}return Sn}function up(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vh(s){var u=gh;return gh+=1,_c===null&&(_c=[]),s=$S(_c,s,u),u=qe,(Sn===null?u.memoizedState:Sn.next)===null&&(u=u.alternate,Y.H=u===null||u.memoizedState===null?kT:oy),s}function cp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return vh(s);if(s.$$typeof===R)return dr(s)}throw Error(r(438,String(s)))}function Xm(s){var u=null,h=qe.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var g=qe.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(x){return x.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=up(),qe.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(s),g=0;g<s;g++)h[g]=z;return u.index++,h}function _o(s,u){return typeof u=="function"?u(s):u}function fp(s){var u=pn();return Ym(u,Rt,s)}function Ym(s,u,h){var g=s.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=h;var x=s.baseQueue,b=g.pending;if(b!==null){if(x!==null){var O=x.next;x.next=b.next,b.next=O}u.baseQueue=x=b,g.pending=null}if(b=s.baseState,x===null)s.memoizedState=b;else{u=x.next;var j=O=null,q=null,J=u,oe=!1;do{var ue=J.lane&-536870913;if(ue!==J.lane?(tt&ue)===ue:(xo&ue)===ue){var te=J.revertLane;if(te===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ue===pc&&(oe=!0);else if((xo&te)===te){J=J.next,te===pc&&(oe=!0);continue}else ue={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(j=q=ue,O=b):q=q.next=ue,qe.lanes|=te,Cs|=te;ue=J.action,tu&&h(b,ue),b=J.hasEagerState?J.eagerState:h(b,ue)}else te={lane:ue,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(j=q=te,O=b):q=q.next=te,qe.lanes|=ue,Cs|=ue;J=J.next}while(J!==null&&J!==u);if(q===null?O=b:q.next=j,!ci(b,s.memoizedState)&&(Tn=!0,oe&&(h=gc,h!==null)))throw h;s.memoizedState=b,s.baseState=O,s.baseQueue=q,g.lastRenderedState=b}return x===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function Qm(s){var u=pn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var g=h.dispatch,x=h.pending,b=u.memoizedState;if(x!==null){h.pending=null;var O=x=x.next;do b=s(b,O.action),O=O.next;while(O!==x);ci(b,u.memoizedState)||(Tn=!0),u.memoizedState=b,u.baseQueue===null&&(u.baseState=b),h.lastRenderedState=b}return[b,g]}function tT(s,u,h){var g=qe,x=pn(),b=ot;if(b){if(h===void 0)throw Error(r(407));h=h()}else h=u();var O=!ci((Rt||x).memoizedState,h);if(O&&(x.memoizedState=h,Tn=!0),x=x.queue,ey(iT.bind(null,g,x,s),[s]),x.getSnapshot!==u||O||Sn!==null&&Sn.memoizedState.tag&1){if(g.flags|=2048,bc(9,{destroy:void 0},rT.bind(null,g,x,h,u),null),kt===null)throw Error(r(349));b||(xo&127)!==0||nT(g,u,h)}return h}function nT(s,u,h){s.flags|=16384,s={getSnapshot:u,value:h},u=qe.updateQueue,u===null?(u=up(),qe.updateQueue=u,u.stores=[s]):(h=u.stores,h===null?u.stores=[s]:h.push(s))}function rT(s,u,h,g){u.value=h,u.getSnapshot=g,aT(u)&&oT(s)}function iT(s,u,h){return h(function(){aT(u)&&oT(s)})}function aT(s){var u=s.getSnapshot;s=s.value;try{var h=u();return!ci(s,h)}catch{return!0}}function oT(s){var u=Gl(s,2);u!==null&&Zr(u,s,2)}function Zm(s){var u=Fr();if(typeof s=="function"){var h=s;if(s=h(),tu){Oi(!0);try{h()}finally{Oi(!1)}}}return u.memoizedState=u.baseState=s,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:s},u}function sT(s,u,h,g){return s.baseState=h,Ym(s,Rt,typeof g=="function"?g:_o)}function vL(s,u,h,g,x){if(pp(s))throw Error(r(485));if(s=u.action,s!==null){var b={payload:x,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){b.listeners.push(O)}};Y.T!==null?h(!0):b.isTransition=!1,g(b),h=u.pending,h===null?(b.next=u.pending=b,lT(u,b)):(b.next=h.next,u.pending=h.next=b)}}function lT(s,u){var h=u.action,g=u.payload,x=s.state;if(u.isTransition){var b=Y.T,O={};Y.T=O;try{var j=h(x,g),q=Y.S;q!==null&&q(O,j),uT(s,u,j)}catch(J){Jm(s,u,J)}finally{b!==null&&O.types!==null&&(b.types=O.types),Y.T=b}}else try{b=h(x,g),uT(s,u,b)}catch(J){Jm(s,u,J)}}function uT(s,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){cT(s,u,g)},function(g){return Jm(s,u,g)}):cT(s,u,h)}function cT(s,u,h){u.status="fulfilled",u.value=h,fT(u),s.state=h,u=s.pending,u!==null&&(h=u.next,h===u?s.pending=null:(h=h.next,u.next=h,lT(s,h)))}function Jm(s,u,h){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=h,fT(u),u=u.next;while(u!==g)}s.action=null}function fT(s){s=s.listeners;for(var u=0;u<s.length;u++)(0,s[u])()}function hT(s,u){return u}function dT(s,u){if(ot){var h=kt.formState;if(h!==null){e:{var g=qe;if(ot){if(Ut){t:{for(var x=Ut,b=Bi;x.nodeType!==8;){if(!b){x=null;break t}if(x=Fi(x.nextSibling),x===null){x=null;break t}}b=x.data,x=b==="F!"||b==="F"?x:null}if(x){Ut=Fi(x.nextSibling),g=x.data==="F!";break e}}ys(g)}g=!1}g&&(u=h[0])}}return h=Fr(),h.memoizedState=h.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hT,lastRenderedState:u},h.queue=g,h=DT.bind(null,qe,g),g.dispatch=h,g=Zm(!1),b=ay.bind(null,qe,!1,g.queue),g=Fr(),x={state:u,dispatch:null,action:s,pending:null},g.queue=x,h=vL.bind(null,qe,x,b,h),x.dispatch=h,g.memoizedState=s,[u,h,!1]}function pT(s){var u=pn();return gT(u,Rt,s)}function gT(s,u,h){if(u=Ym(s,u,hT)[0],s=fp(_o)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=vh(u)}catch(O){throw O===vc?tp:O}else g=u;u=pn();var x=u.queue,b=x.dispatch;return h!==u.memoizedState&&(qe.flags|=2048,bc(9,{destroy:void 0},mL.bind(null,x,h),null)),[g,b,s]}function mL(s,u){s.action=u}function vT(s){var u=pn(),h=Rt;if(h!==null)return gT(u,h,s);pn(),u=u.memoizedState,h=pn();var g=h.queue.dispatch;return h.memoizedState=s,[u,g,!1]}function bc(s,u,h,g){return s={tag:s,create:h,deps:g,inst:u,next:null},u=qe.updateQueue,u===null&&(u=up(),qe.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=s.next=s:(g=h.next,h.next=s,s.next=g,u.lastEffect=s),s}function mT(){return pn().memoizedState}function hp(s,u,h,g){var x=Fr();qe.flags|=s,x.memoizedState=bc(1|u,{destroy:void 0},h,g===void 0?null:g)}function dp(s,u,h,g){var x=pn();g=g===void 0?null:g;var b=x.memoizedState.inst;Rt!==null&&g!==null&&$m(g,Rt.memoizedState.deps)?x.memoizedState=bc(u,b,h,g):(qe.flags|=s,x.memoizedState=bc(1|u,b,h,g))}function yT(s,u){hp(8390656,8,s,u)}function ey(s,u){dp(2048,8,s,u)}function yL(s){qe.flags|=4;var u=qe.updateQueue;if(u===null)u=up(),qe.updateQueue=u,u.events=[s];else{var h=u.events;h===null?u.events=[s]:h.push(s)}}function xT(s){var u=pn().memoizedState;return yL({ref:u,nextImpl:s}),function(){if((mt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function _T(s,u){return dp(4,2,s,u)}function bT(s,u){return dp(4,4,s,u)}function wT(s,u){if(typeof u=="function"){s=s();var h=u(s);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function ET(s,u,h){h=h!=null?h.concat([s]):null,dp(4,4,wT.bind(null,u,s),h)}function ty(){}function AT(s,u){var h=pn();u=u===void 0?null:u;var g=h.memoizedState;return u!==null&&$m(u,g[1])?g[0]:(h.memoizedState=[s,u],s)}function ST(s,u){var h=pn();u=u===void 0?null:u;var g=h.memoizedState;if(u!==null&&$m(u,g[1]))return g[0];if(g=s(),tu){Oi(!0);try{s()}finally{Oi(!1)}}return h.memoizedState=[g,u],g}function ny(s,u,h){return h===void 0||(xo&1073741824)!==0&&(tt&261930)===0?s.memoizedState=u:(s.memoizedState=h,s=TC(),qe.lanes|=s,Cs|=s,h)}function TT(s,u,h,g){return ci(h,u)?h:yc.current!==null?(s=ny(s,h,g),ci(s,u)||(Tn=!0),s):(xo&42)===0||(xo&1073741824)!==0&&(tt&261930)===0?(Tn=!0,s.memoizedState=h):(s=TC(),qe.lanes|=s,Cs|=s,u)}function CT(s,u,h,g,x){var b=se.p;se.p=b!==0&&8>b?b:8;var O=Y.T,j={};Y.T=j,ay(s,!1,u,h);try{var q=x(),J=Y.S;if(J!==null&&J(j,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var oe=dL(q,g);mh(s,u,oe,vi(s))}else mh(s,u,g,vi(s))}catch(ue){mh(s,u,{then:function(){},status:"rejected",reason:ue},vi())}finally{se.p=b,O!==null&&j.types!==null&&(O.types=j.types),Y.T=O}}function xL(){}function ry(s,u,h,g){if(s.tag!==5)throw Error(r(476));var x=IT(s).queue;CT(s,x,u,me,h===null?xL:function(){return OT(s),h(g)})}function IT(s){var u=s.memoizedState;if(u!==null)return u;u={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:me},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:h},next:null},s.memoizedState=u,s=s.alternate,s!==null&&(s.memoizedState=u),u}function OT(s){var u=IT(s);u.next===null&&(u=s.alternate.memoizedState),mh(s,u.next.queue,{},vi())}function iy(){return dr(Mh)}function RT(){return pn().memoizedState}function PT(){return pn().memoizedState}function _L(s){for(var u=s.return;u!==null;){switch(u.tag){case 24:case 3:var h=vi();s=bs(h);var g=ws(u,s,h);g!==null&&(Zr(g,u,h),hh(g,u,h)),u={cache:Nm()},s.payload=u;return}u=u.return}}function bL(s,u,h){var g=vi();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},pp(s)?NT(u,h):(h=wm(s,u,h,g),h!==null&&(Zr(h,s,g),MT(h,u,g)))}function DT(s,u,h){var g=vi();mh(s,u,h,g)}function mh(s,u,h,g){var x={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(pp(s))NT(u,x);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=u.lastRenderedReducer,b!==null))try{var O=u.lastRenderedState,j=b(O,h);if(x.hasEagerState=!0,x.eagerState=j,ci(j,O))return W0(s,u,x,0),kt===null&&K0(),!1}catch{}finally{}if(h=wm(s,u,x,g),h!==null)return Zr(h,s,g),MT(h,u,g),!0}return!1}function ay(s,u,h,g){if(g={lane:2,revertLane:jy(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},pp(s)){if(u)throw Error(r(479))}else u=wm(s,h,g,2),u!==null&&Zr(u,s,2)}function pp(s){var u=s.alternate;return s===qe||u!==null&&u===qe}function NT(s,u){xc=sp=!0;var h=s.pending;h===null?u.next=u:(u.next=h.next,h.next=u),s.pending=u}function MT(s,u,h){if((h&4194048)!==0){var g=u.lanes;g&=s.pendingLanes,h|=g,u.lanes=h,Vf(s,h)}}var yh={readContext:dr,use:cp,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an};yh.useEffectEvent=an;var kT={readContext:dr,use:cp,useCallback:function(s,u){return Fr().memoizedState=[s,u===void 0?null:u],s},useContext:dr,useEffect:yT,useImperativeHandle:function(s,u,h){h=h!=null?h.concat([s]):null,hp(4194308,4,wT.bind(null,u,s),h)},useLayoutEffect:function(s,u){return hp(4194308,4,s,u)},useInsertionEffect:function(s,u){hp(4,2,s,u)},useMemo:function(s,u){var h=Fr();u=u===void 0?null:u;var g=s();if(tu){Oi(!0);try{s()}finally{Oi(!1)}}return h.memoizedState=[g,u],g},useReducer:function(s,u,h){var g=Fr();if(h!==void 0){var x=h(u);if(tu){Oi(!0);try{h(u)}finally{Oi(!1)}}}else x=u;return g.memoizedState=g.baseState=x,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:x},g.queue=s,s=s.dispatch=bL.bind(null,qe,s),[g.memoizedState,s]},useRef:function(s){var u=Fr();return s={current:s},u.memoizedState=s},useState:function(s){s=Zm(s);var u=s.queue,h=DT.bind(null,qe,u);return u.dispatch=h,[s.memoizedState,h]},useDebugValue:ty,useDeferredValue:function(s,u){var h=Fr();return ny(h,s,u)},useTransition:function(){var s=Zm(!1);return s=CT.bind(null,qe,s.queue,!0,!1),Fr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,u,h){var g=qe,x=Fr();if(ot){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),kt===null)throw Error(r(349));(tt&127)!==0||nT(g,u,h)}x.memoizedState=h;var b={value:h,getSnapshot:u};return x.queue=b,yT(iT.bind(null,g,b,s),[s]),g.flags|=2048,bc(9,{destroy:void 0},rT.bind(null,g,b,h,u),null),h},useId:function(){var s=Fr(),u=kt.identifierPrefix;if(ot){var h=$a,g=Ha;h=(g&~(1<<32-fn(g)-1)).toString(32)+h,u="_"+u+"R_"+h,h=lp++,0<h&&(u+="H"+h.toString(32)),u+="_"}else h=pL++,u="_"+u+"r_"+h.toString(32)+"_";return s.memoizedState=u},useHostTransitionStatus:iy,useFormState:dT,useActionState:dT,useOptimistic:function(s){var u=Fr();u.memoizedState=u.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=ay.bind(null,qe,!0,h),h.dispatch=u,[s,u]},useMemoCache:Xm,useCacheRefresh:function(){return Fr().memoizedState=_L.bind(null,qe)},useEffectEvent:function(s){var u=Fr(),h={impl:s};return u.memoizedState=h,function(){if((mt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},oy={readContext:dr,use:cp,useCallback:AT,useContext:dr,useEffect:ey,useImperativeHandle:ET,useInsertionEffect:_T,useLayoutEffect:bT,useMemo:ST,useReducer:fp,useRef:mT,useState:function(){return fp(_o)},useDebugValue:ty,useDeferredValue:function(s,u){var h=pn();return TT(h,Rt.memoizedState,s,u)},useTransition:function(){var s=fp(_o)[0],u=pn().memoizedState;return[typeof s=="boolean"?s:vh(s),u]},useSyncExternalStore:tT,useId:RT,useHostTransitionStatus:iy,useFormState:pT,useActionState:pT,useOptimistic:function(s,u){var h=pn();return sT(h,Rt,s,u)},useMemoCache:Xm,useCacheRefresh:PT};oy.useEffectEvent=xT;var LT={readContext:dr,use:cp,useCallback:AT,useContext:dr,useEffect:ey,useImperativeHandle:ET,useInsertionEffect:_T,useLayoutEffect:bT,useMemo:ST,useReducer:Qm,useRef:mT,useState:function(){return Qm(_o)},useDebugValue:ty,useDeferredValue:function(s,u){var h=pn();return Rt===null?ny(h,s,u):TT(h,Rt.memoizedState,s,u)},useTransition:function(){var s=Qm(_o)[0],u=pn().memoizedState;return[typeof s=="boolean"?s:vh(s),u]},useSyncExternalStore:tT,useId:RT,useHostTransitionStatus:iy,useFormState:vT,useActionState:vT,useOptimistic:function(s,u){var h=pn();return Rt!==null?sT(h,Rt,s,u):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:Xm,useCacheRefresh:PT};LT.useEffectEvent=xT;function sy(s,u,h,g){u=s.memoizedState,h=h(g,u),h=h==null?u:p({},u,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var ly={enqueueSetState:function(s,u,h){s=s._reactInternals;var g=vi(),x=bs(g);x.payload=u,h!=null&&(x.callback=h),u=ws(s,x,g),u!==null&&(Zr(u,s,g),hh(u,s,g))},enqueueReplaceState:function(s,u,h){s=s._reactInternals;var g=vi(),x=bs(g);x.tag=1,x.payload=u,h!=null&&(x.callback=h),u=ws(s,x,g),u!==null&&(Zr(u,s,g),hh(u,s,g))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var h=vi(),g=bs(h);g.tag=2,u!=null&&(g.callback=u),u=ws(s,g,h),u!==null&&(Zr(u,s,h),hh(u,s,h))}};function jT(s,u,h,g,x,b,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,b,O):u.prototype&&u.prototype.isPureReactComponent?!ih(h,g)||!ih(x,b):!0}function BT(s,u,h,g){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,g),u.state!==s&&ly.enqueueReplaceState(u,u.state,null)}function nu(s,u){var h=u;if("ref"in u){h={};for(var g in u)g!=="ref"&&(h[g]=u[g])}if(s=s.defaultProps){h===u&&(h=p({},h));for(var x in s)h[x]===void 0&&(h[x]=s[x])}return h}function VT(s){G0(s)}function FT(s){console.error(s)}function UT(s){G0(s)}function gp(s,u){try{var h=s.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function zT(s,u,h){try{var g=s.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function uy(s,u,h){return h=bs(h),h.tag=3,h.payload={element:null},h.callback=function(){gp(s,u)},h}function HT(s){return s=bs(s),s.tag=3,s}function $T(s,u,h,g){var x=h.type.getDerivedStateFromError;if(typeof x=="function"){var b=g.value;s.payload=function(){return x(b)},s.callback=function(){zT(u,h,g)}}var O=h.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(s.callback=function(){zT(u,h,g),typeof x!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var j=g.stack;this.componentDidCatch(g.value,{componentStack:j!==null?j:""})})}function wL(s,u,h,g,x){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=h.alternate,u!==null&&dc(u,h,x,!0),h=hi.current,h!==null){switch(h.tag){case 31:case 13:return Vi===null?Cp():h.alternate===null&&on===0&&(on=3),h.flags&=-257,h.flags|=65536,h.lanes=x,g===np?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([g]):u.add(g),My(s,g,x)),!1;case 22:return h.flags|=65536,g===np?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([g]):h.add(g)),My(s,g,x)),!1}throw Error(r(435,h.tag))}return My(s,g,x),Cp(),!1}if(ot)return u=hi.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=x,g!==Im&&(s=Error(r(422),{cause:g}),sh(ki(s,h)))):(g!==Im&&(u=Error(r(423),{cause:g}),sh(ki(u,h))),s=s.current.alternate,s.flags|=65536,x&=-x,s.lanes|=x,g=ki(g,h),x=uy(s.stateNode,g,x),Vm(s,x),on!==4&&(on=2)),!1;var b=Error(r(520),{cause:g});if(b=ki(b,h),Th===null?Th=[b]:Th.push(b),on!==4&&(on=2),u===null)return!0;g=ki(g,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,s=x&-x,h.lanes|=s,s=uy(h.stateNode,g,s),Vm(h,s),!1;case 1:if(u=h.type,b=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Is===null||!Is.has(b))))return h.flags|=65536,x&=-x,h.lanes|=x,x=HT(x),$T(x,s,h,g),Vm(h,x),!1}h=h.return}while(h!==null);return!1}var cy=Error(r(461)),Tn=!1;function pr(s,u,h,g){u.child=s===null?WS(u,null,h,g):eu(u,s.child,h,g)}function qT(s,u,h,g,x){h=h.render;var b=u.ref;if("ref"in g){var O={};for(var j in g)j!=="ref"&&(O[j]=g[j])}else O=g;return Yl(u),g=qm(s,u,h,O,b,x),j=Gm(),s!==null&&!Tn?(Km(s,u,x),bo(s,u,x)):(ot&&j&&Tm(u),u.flags|=1,pr(s,u,g,x),u.child)}function GT(s,u,h,g,x){if(s===null){var b=h.type;return typeof b=="function"&&!Em(b)&&b.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=b,KT(s,u,b,g,x)):(s=Y0(h.type,null,g,u,u.mode,x),s.ref=u.ref,s.return=u,u.child=s)}if(b=s.child,!yy(s,x)){var O=b.memoizedProps;if(h=h.compare,h=h!==null?h:ih,h(O,g)&&s.ref===u.ref)return bo(s,u,x)}return u.flags|=1,s=go(b,g),s.ref=u.ref,s.return=u,u.child=s}function KT(s,u,h,g,x){if(s!==null){var b=s.memoizedProps;if(ih(b,g)&&s.ref===u.ref)if(Tn=!1,u.pendingProps=g=b,yy(s,x))(s.flags&131072)!==0&&(Tn=!0);else return u.lanes=s.lanes,bo(s,u,x)}return fy(s,u,h,g,x)}function WT(s,u,h,g){var x=g.children,b=s!==null?s.memoizedState:null;if(s===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((u.flags&128)!==0){if(b=b!==null?b.baseLanes|h:h,s!==null){for(g=u.child=s.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;g=x&~b}else g=0,u.child=null;return XT(s,u,b,h,g)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},s!==null&&ep(u,b!==null?b.cachePool:null),b!==null?QS(u,b):Um(),ZS(u);else return g=u.lanes=536870912,XT(s,u,b!==null?b.baseLanes|h:h,h,g)}else b!==null?(ep(u,b.cachePool),QS(u,b),As(),u.memoizedState=null):(s!==null&&ep(u,null),Um(),As());return pr(s,u,x,h),u.child}function xh(s,u){return s!==null&&s.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function XT(s,u,h,g,x){var b=km();return b=b===null?null:{parent:An._currentValue,pool:b},u.memoizedState={baseLanes:h,cachePool:b},s!==null&&ep(u,null),Um(),ZS(u),s!==null&&dc(s,u,g,!0),u.childLanes=x,null}function vp(s,u){return u=yp({mode:u.mode,children:u.children},s.mode),u.ref=s.ref,s.child=u,u.return=s,u}function YT(s,u,h){return eu(u,s.child,null,h),s=vp(u,u.pendingProps),s.flags|=2,di(u),u.memoizedState=null,s}function EL(s,u,h){var g=u.pendingProps,x=(u.flags&128)!==0;if(u.flags&=-129,s===null){if(ot){if(g.mode==="hidden")return s=vp(u,g),u.lanes=536870912,xh(null,s);if(Hm(u),(s=Ut)?(s=l3(s,Bi),s=s!==null&&s.data==="&"?s:null,s!==null&&(u.memoizedState={dehydrated:s,treeContext:vs!==null?{id:Ha,overflow:$a}:null,retryLane:536870912,hydrationErrors:null},h=NS(s),h.return=u,u.child=h,hr=u,Ut=null)):s=null,s===null)throw ys(u);return u.lanes=536870912,null}return vp(u,g)}var b=s.memoizedState;if(b!==null){var O=b.dehydrated;if(Hm(u),x)if(u.flags&256)u.flags&=-257,u=YT(s,u,h);else if(u.memoizedState!==null)u.child=s.child,u.flags|=128,u=null;else throw Error(r(558));else if(Tn||dc(s,u,h,!1),x=(h&s.childLanes)!==0,Tn||x){if(g=kt,g!==null&&(O=Ff(g,h),O!==0&&O!==b.retryLane))throw b.retryLane=O,Gl(s,O),Zr(g,s,O),cy;Cp(),u=YT(s,u,h)}else s=b.treeContext,Ut=Fi(O.nextSibling),hr=u,ot=!0,ms=null,Bi=!1,s!==null&&LS(u,s),u=vp(u,g),u.flags|=4096;return u}return s=go(s.child,{mode:g.mode,children:g.children}),s.ref=u.ref,u.child=s,s.return=u,s}function mp(s,u){var h=u.ref;if(h===null)s!==null&&s.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(s===null||s.ref!==h)&&(u.flags|=4194816)}}function fy(s,u,h,g,x){return Yl(u),h=qm(s,u,h,g,void 0,x),g=Gm(),s!==null&&!Tn?(Km(s,u,x),bo(s,u,x)):(ot&&g&&Tm(u),u.flags|=1,pr(s,u,h,x),u.child)}function QT(s,u,h,g,x,b){return Yl(u),u.updateQueue=null,h=eT(u,g,h,x),JS(s),g=Gm(),s!==null&&!Tn?(Km(s,u,b),bo(s,u,b)):(ot&&g&&Tm(u),u.flags|=1,pr(s,u,h,b),u.child)}function ZT(s,u,h,g,x){if(Yl(u),u.stateNode===null){var b=uc,O=h.contextType;typeof O=="object"&&O!==null&&(b=dr(O)),b=new h(g,b),u.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=ly,u.stateNode=b,b._reactInternals=u,b=u.stateNode,b.props=g,b.state=u.memoizedState,b.refs={},jm(u),O=h.contextType,b.context=typeof O=="object"&&O!==null?dr(O):uc,b.state=u.memoizedState,O=h.getDerivedStateFromProps,typeof O=="function"&&(sy(u,h,O,g),b.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(O=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),O!==b.state&&ly.enqueueReplaceState(b,b.state,null),ph(u,g,b,x),dh(),b.state=u.memoizedState),typeof b.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(s===null){b=u.stateNode;var j=u.memoizedProps,q=nu(h,j);b.props=q;var J=b.context,oe=h.contextType;O=uc,typeof oe=="object"&&oe!==null&&(O=dr(oe));var ue=h.getDerivedStateFromProps;oe=typeof ue=="function"||typeof b.getSnapshotBeforeUpdate=="function",j=u.pendingProps!==j,oe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j||J!==O)&&BT(u,b,g,O),_s=!1;var te=u.memoizedState;b.state=te,ph(u,g,b,x),dh(),J=u.memoizedState,j||te!==J||_s?(typeof ue=="function"&&(sy(u,h,ue,g),J=u.memoizedState),(q=_s||jT(u,h,q,g,te,J,O))?(oe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(u.flags|=4194308)):(typeof b.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=J),b.props=g,b.state=J,b.context=O,g=q):(typeof b.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{b=u.stateNode,Bm(s,u),O=u.memoizedProps,oe=nu(h,O),b.props=oe,ue=u.pendingProps,te=b.context,J=h.contextType,q=uc,typeof J=="object"&&J!==null&&(q=dr(J)),j=h.getDerivedStateFromProps,(J=typeof j=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O!==ue||te!==q)&&BT(u,b,g,q),_s=!1,te=u.memoizedState,b.state=te,ph(u,g,b,x),dh();var ie=u.memoizedState;O!==ue||te!==ie||_s||s!==null&&s.dependencies!==null&&Z0(s.dependencies)?(typeof j=="function"&&(sy(u,h,j,g),ie=u.memoizedState),(oe=_s||jT(u,h,oe,g,te,ie,q)||s!==null&&s.dependencies!==null&&Z0(s.dependencies))?(J||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(g,ie,q),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(g,ie,q)),typeof b.componentDidUpdate=="function"&&(u.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof b.componentDidUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(u.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=ie),b.props=g,b.state=ie,b.context=q,g=oe):(typeof b.componentDidUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(u.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(u.flags|=1024),g=!1)}return b=g,mp(s,u),g=(u.flags&128)!==0,b||g?(b=u.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:b.render(),u.flags|=1,s!==null&&g?(u.child=eu(u,s.child,null,x),u.child=eu(u,null,h,x)):pr(s,u,h,x),u.memoizedState=b.state,s=u.child):s=bo(s,u,x),s}function JT(s,u,h,g){return Wl(),u.flags|=256,pr(s,u,h,g),u.child}var hy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dy(s){return{baseLanes:s,cachePool:zS()}}function py(s,u,h){return s=s!==null?s.childLanes&~h:0,u&&(s|=gi),s}function eC(s,u,h){var g=u.pendingProps,x=!1,b=(u.flags&128)!==0,O;if((O=b)||(O=s!==null&&s.memoizedState===null?!1:(dn.current&2)!==0),O&&(x=!0,u.flags&=-129),O=(u.flags&32)!==0,u.flags&=-33,s===null){if(ot){if(x?Es(u):As(),(s=Ut)?(s=l3(s,Bi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(u.memoizedState={dehydrated:s,treeContext:vs!==null?{id:Ha,overflow:$a}:null,retryLane:536870912,hydrationErrors:null},h=NS(s),h.return=u,u.child=h,hr=u,Ut=null)):s=null,s===null)throw ys(u);return Yy(s)?u.lanes=32:u.lanes=536870912,null}var j=g.children;return g=g.fallback,x?(As(),x=u.mode,j=yp({mode:"hidden",children:j},x),g=Kl(g,x,h,null),j.return=u,g.return=u,j.sibling=g,u.child=j,g=u.child,g.memoizedState=dy(h),g.childLanes=py(s,O,h),u.memoizedState=hy,xh(null,g)):(Es(u),gy(u,j))}var q=s.memoizedState;if(q!==null&&(j=q.dehydrated,j!==null)){if(b)u.flags&256?(Es(u),u.flags&=-257,u=vy(s,u,h)):u.memoizedState!==null?(As(),u.child=s.child,u.flags|=128,u=null):(As(),j=g.fallback,x=u.mode,g=yp({mode:"visible",children:g.children},x),j=Kl(j,x,h,null),j.flags|=2,g.return=u,j.return=u,g.sibling=j,u.child=g,eu(u,s.child,null,h),g=u.child,g.memoizedState=dy(h),g.childLanes=py(s,O,h),u.memoizedState=hy,u=xh(null,g));else if(Es(u),Yy(j)){if(O=j.nextSibling&&j.nextSibling.dataset,O)var J=O.dgst;O=J,g=Error(r(419)),g.stack="",g.digest=O,sh({value:g,source:null,stack:null}),u=vy(s,u,h)}else if(Tn||dc(s,u,h,!1),O=(h&s.childLanes)!==0,Tn||O){if(O=kt,O!==null&&(g=Ff(O,h),g!==0&&g!==q.retryLane))throw q.retryLane=g,Gl(s,g),Zr(O,s,g),cy;Xy(j)||Cp(),u=vy(s,u,h)}else Xy(j)?(u.flags|=192,u.child=s.child,u=null):(s=q.treeContext,Ut=Fi(j.nextSibling),hr=u,ot=!0,ms=null,Bi=!1,s!==null&&LS(u,s),u=gy(u,g.children),u.flags|=4096);return u}return x?(As(),j=g.fallback,x=u.mode,q=s.child,J=q.sibling,g=go(q,{mode:"hidden",children:g.children}),g.subtreeFlags=q.subtreeFlags&65011712,J!==null?j=go(J,j):(j=Kl(j,x,h,null),j.flags|=2),j.return=u,g.return=u,g.sibling=j,u.child=g,xh(null,g),g=u.child,j=s.child.memoizedState,j===null?j=dy(h):(x=j.cachePool,x!==null?(q=An._currentValue,x=x.parent!==q?{parent:q,pool:q}:x):x=zS(),j={baseLanes:j.baseLanes|h,cachePool:x}),g.memoizedState=j,g.childLanes=py(s,O,h),u.memoizedState=hy,xh(s.child,g)):(Es(u),h=s.child,s=h.sibling,h=go(h,{mode:"visible",children:g.children}),h.return=u,h.sibling=null,s!==null&&(O=u.deletions,O===null?(u.deletions=[s],u.flags|=16):O.push(s)),u.child=h,u.memoizedState=null,h)}function gy(s,u){return u=yp({mode:"visible",children:u},s.mode),u.return=s,s.child=u}function yp(s,u){return s=fi(22,s,null,u),s.lanes=0,s}function vy(s,u,h){return eu(u,s.child,null,h),s=gy(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function tC(s,u,h){s.lanes|=u;var g=s.alternate;g!==null&&(g.lanes|=u),Pm(s.return,u,h)}function my(s,u,h,g,x,b){var O=s.memoizedState;O===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:x,treeForkCount:b}:(O.isBackwards=u,O.rendering=null,O.renderingStartTime=0,O.last=g,O.tail=h,O.tailMode=x,O.treeForkCount=b)}function nC(s,u,h){var g=u.pendingProps,x=g.revealOrder,b=g.tail;g=g.children;var O=dn.current,j=(O&2)!==0;if(j?(O=O&1|2,u.flags|=128):O&=1,ye(dn,O),pr(s,u,g,h),g=ot?oh:0,!j&&s!==null&&(s.flags&128)!==0)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&tC(s,h,u);else if(s.tag===19)tC(s,h,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(x){case"forwards":for(h=u.child,x=null;h!==null;)s=h.alternate,s!==null&&op(s)===null&&(x=h),h=h.sibling;h=x,h===null?(x=u.child,u.child=null):(x=h.sibling,h.sibling=null),my(u,!1,x,h,b,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,x=u.child,u.child=null;x!==null;){if(s=x.alternate,s!==null&&op(s)===null){u.child=x;break}s=x.sibling,x.sibling=h,h=x,x=s}my(u,!0,h,null,b,g);break;case"together":my(u,!1,null,null,void 0,g);break;default:u.memoizedState=null}return u.child}function bo(s,u,h){if(s!==null&&(u.dependencies=s.dependencies),Cs|=u.lanes,(h&u.childLanes)===0)if(s!==null){if(dc(s,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(s!==null&&u.child!==s.child)throw Error(r(153));if(u.child!==null){for(s=u.child,h=go(s,s.pendingProps),u.child=h,h.return=u;s.sibling!==null;)s=s.sibling,h=h.sibling=go(s,s.pendingProps),h.return=u;h.sibling=null}return u.child}function yy(s,u){return(s.lanes&u)!==0?!0:(s=s.dependencies,!!(s!==null&&Z0(s)))}function AL(s,u,h){switch(u.tag){case 3:ln(u,u.stateNode.containerInfo),xs(u,An,s.memoizedState.cache),Wl();break;case 27:case 5:Fe(u);break;case 4:ln(u,u.stateNode.containerInfo);break;case 10:xs(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Hm(u),null;break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(Es(u),u.flags|=128,null):(h&u.child.childLanes)!==0?eC(s,u,h):(Es(u),s=bo(s,u,h),s!==null?s.sibling:null);Es(u);break;case 19:var x=(s.flags&128)!==0;if(g=(h&u.childLanes)!==0,g||(dc(s,u,h,!1),g=(h&u.childLanes)!==0),x){if(g)return nC(s,u,h);u.flags|=128}if(x=u.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ye(dn,dn.current),g)break;return null;case 22:return u.lanes=0,WT(s,u,h,u.pendingProps);case 24:xs(u,An,s.memoizedState.cache)}return bo(s,u,h)}function rC(s,u,h){if(s!==null)if(s.memoizedProps!==u.pendingProps)Tn=!0;else{if(!yy(s,h)&&(u.flags&128)===0)return Tn=!1,AL(s,u,h);Tn=(s.flags&131072)!==0}else Tn=!1,ot&&(u.flags&1048576)!==0&&kS(u,oh,u.index);switch(u.lanes=0,u.tag){case 16:e:{var g=u.pendingProps;if(s=Zl(u.elementType),u.type=s,typeof s=="function")Em(s)?(g=nu(s,g),u.tag=1,u=ZT(null,u,s,g,h)):(u.tag=0,u=fy(null,u,s,g,h));else{if(s!=null){var x=s.$$typeof;if(x===M){u.tag=11,u=qT(null,u,s,g,h);break e}else if(x===D){u.tag=14,u=GT(null,u,s,g,h);break e}}throw u=de(s)||s,Error(r(306,u,""))}}return u;case 0:return fy(s,u,u.type,u.pendingProps,h);case 1:return g=u.type,x=nu(g,u.pendingProps),ZT(s,u,g,x,h);case 3:e:{if(ln(u,u.stateNode.containerInfo),s===null)throw Error(r(387));g=u.pendingProps;var b=u.memoizedState;x=b.element,Bm(s,u),ph(u,g,null,h);var O=u.memoizedState;if(g=O.cache,xs(u,An,g),g!==b.cache&&Dm(u,[An],h,!0),dh(),g=O.element,b.isDehydrated)if(b={element:g,isDehydrated:!1,cache:O.cache},u.updateQueue.baseState=b,u.memoizedState=b,u.flags&256){u=JT(s,u,g,h);break e}else if(g!==x){x=ki(Error(r(424)),u),sh(x),u=JT(s,u,g,h);break e}else{switch(s=u.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ut=Fi(s.firstChild),hr=u,ot=!0,ms=null,Bi=!0,h=WS(u,null,g,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Wl(),g===x){u=bo(s,u,h);break e}pr(s,u,g,h)}u=u.child}return u;case 26:return mp(s,u),s===null?(h=p3(u.type,null,u.pendingProps,null))?u.memoizedState=h:ot||(h=u.type,s=u.pendingProps,g=Mp(He.current).createElement(h),g[bn]=u,g[Zn]=s,gr(g,h,s),wn(g),u.stateNode=g):u.memoizedState=p3(u.type,s.memoizedProps,u.pendingProps,s.memoizedState),null;case 27:return Fe(u),s===null&&ot&&(g=u.stateNode=f3(u.type,u.pendingProps,He.current),hr=u,Bi=!0,x=Ut,Ds(u.type)?(Qy=x,Ut=Fi(g.firstChild)):Ut=x),pr(s,u,u.pendingProps.children,h),mp(s,u),s===null&&(u.flags|=4194304),u.child;case 5:return s===null&&ot&&((x=g=Ut)&&(g=ej(g,u.type,u.pendingProps,Bi),g!==null?(u.stateNode=g,hr=u,Ut=Fi(g.firstChild),Bi=!1,x=!0):x=!1),x||ys(u)),Fe(u),x=u.type,b=u.pendingProps,O=s!==null?s.memoizedProps:null,g=b.children,Gy(x,b)?g=null:O!==null&&Gy(x,O)&&(u.flags|=32),u.memoizedState!==null&&(x=qm(s,u,gL,null,null,h),Mh._currentValue=x),mp(s,u),pr(s,u,g,h),u.child;case 6:return s===null&&ot&&((s=h=Ut)&&(h=tj(h,u.pendingProps,Bi),h!==null?(u.stateNode=h,hr=u,Ut=null,s=!0):s=!1),s||ys(u)),null;case 13:return eC(s,u,h);case 4:return ln(u,u.stateNode.containerInfo),g=u.pendingProps,s===null?u.child=eu(u,null,g,h):pr(s,u,g,h),u.child;case 11:return qT(s,u,u.type,u.pendingProps,h);case 7:return pr(s,u,u.pendingProps,h),u.child;case 8:return pr(s,u,u.pendingProps.children,h),u.child;case 12:return pr(s,u,u.pendingProps.children,h),u.child;case 10:return g=u.pendingProps,xs(u,u.type,g.value),pr(s,u,g.children,h),u.child;case 9:return x=u.type._context,g=u.pendingProps.children,Yl(u),x=dr(x),g=g(x),u.flags|=1,pr(s,u,g,h),u.child;case 14:return GT(s,u,u.type,u.pendingProps,h);case 15:return KT(s,u,u.type,u.pendingProps,h);case 19:return nC(s,u,h);case 31:return EL(s,u,h);case 22:return WT(s,u,h,u.pendingProps);case 24:return Yl(u),g=dr(An),s===null?(x=km(),x===null&&(x=kt,b=Nm(),x.pooledCache=b,b.refCount++,b!==null&&(x.pooledCacheLanes|=h),x=b),u.memoizedState={parent:g,cache:x},jm(u),xs(u,An,x)):((s.lanes&h)!==0&&(Bm(s,u),ph(u,null,null,h),dh()),x=s.memoizedState,b=u.memoizedState,x.parent!==g?(x={parent:g,cache:g},u.memoizedState=x,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=x),xs(u,An,g)):(g=b.cache,xs(u,An,g),g!==x.cache&&Dm(u,[An],h,!0))),pr(s,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function wo(s){s.flags|=4}function xy(s,u,h,g,x){if((u=(s.mode&32)!==0)&&(u=!1),u){if(s.flags|=16777216,(x&335544128)===x)if(s.stateNode.complete)s.flags|=8192;else if(RC())s.flags|=8192;else throw Jl=np,Lm}else s.flags&=-16777217}function iC(s,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!x3(u))if(RC())s.flags|=8192;else throw Jl=np,Lm}function xp(s,u){u!==null&&(s.flags|=4),s.flags&16384&&(u=s.tag!==22?S0():536870912,s.lanes|=u,Sc|=u)}function _h(s,u){if(!ot)switch(s.tailMode){case"hidden":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function zt(s){var u=s.alternate!==null&&s.alternate.child===s.child,h=0,g=0;if(u)for(var x=s.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags&65011712,g|=x.flags&65011712,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=g,s.childLanes=h,u}function SL(s,u,h){var g=u.pendingProps;switch(Cm(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(u),null;case 1:return zt(u),null;case 3:return h=u.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),yo(An),pe(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(hc(u)?wo(u):s===null||s.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Om())),zt(u),null;case 26:var x=u.type,b=u.memoizedState;return s===null?(wo(u),b!==null?(zt(u),iC(u,b)):(zt(u),xy(u,x,null,g,h))):b?b!==s.memoizedState?(wo(u),zt(u),iC(u,b)):(zt(u),u.flags&=-16777217):(s=s.memoizedProps,s!==g&&wo(u),zt(u),xy(u,x,s,g,h)),null;case 27:if(We(u),h=He.current,x=u.type,s!==null&&u.stateNode!=null)s.memoizedProps!==g&&wo(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return zt(u),null}s=xe.current,hc(u)?jS(u):(s=f3(x,g,h),u.stateNode=s,wo(u))}return zt(u),null;case 5:if(We(u),x=u.type,s!==null&&u.stateNode!=null)s.memoizedProps!==g&&wo(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return zt(u),null}if(b=xe.current,hc(u))jS(u);else{var O=Mp(He.current);switch(b){case 1:b=O.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:b=O.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":b=O.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":b=O.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":b=O.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof g.is=="string"?O.createElement("select",{is:g.is}):O.createElement("select"),g.multiple?b.multiple=!0:g.size&&(b.size=g.size);break;default:b=typeof g.is=="string"?O.createElement(x,{is:g.is}):O.createElement(x)}}b[bn]=u,b[Zn]=g;e:for(O=u.child;O!==null;){if(O.tag===5||O.tag===6)b.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===u)break e;for(;O.sibling===null;){if(O.return===null||O.return===u)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}u.stateNode=b;e:switch(gr(b,x,g),x){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&wo(u)}}return zt(u),xy(u,u.type,s===null?null:s.memoizedProps,u.pendingProps,h),null;case 6:if(s&&u.stateNode!=null)s.memoizedProps!==g&&wo(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(r(166));if(s=He.current,hc(u)){if(s=u.stateNode,h=u.memoizedProps,g=null,x=hr,x!==null)switch(x.tag){case 27:case 5:g=x.memoizedProps}s[bn]=u,s=!!(s.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||e3(s.nodeValue,h)),s||ys(u,!0)}else s=Mp(s).createTextNode(g),s[bn]=u,u.stateNode=s}return zt(u),null;case 31:if(h=u.memoizedState,s===null||s.memoizedState!==null){if(g=hc(u),h!==null){if(s===null){if(!g)throw Error(r(318));if(s=u.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[bn]=u}else Wl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;zt(u),s=!1}else h=Om(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=h),s=!0;if(!s)return u.flags&256?(di(u),u):(di(u),null);if((u.flags&128)!==0)throw Error(r(558))}return zt(u),null;case 13:if(g=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(x=hc(u),g!==null&&g.dehydrated!==null){if(s===null){if(!x)throw Error(r(318));if(x=u.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[bn]=u}else Wl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;zt(u),x=!1}else x=Om(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=x),x=!0;if(!x)return u.flags&256?(di(u),u):(di(u),null)}return di(u),(u.flags&128)!==0?(u.lanes=h,u):(h=g!==null,s=s!==null&&s.memoizedState!==null,h&&(g=u.child,x=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(x=g.alternate.memoizedState.cachePool.pool),b=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(b=g.memoizedState.cachePool.pool),b!==x&&(g.flags|=2048)),h!==s&&h&&(u.child.flags|=8192),xp(u,u.updateQueue),zt(u),null);case 4:return pe(),s===null&&Uy(u.stateNode.containerInfo),zt(u),null;case 10:return yo(u.type),zt(u),null;case 19:if(ee(dn),g=u.memoizedState,g===null)return zt(u),null;if(x=(u.flags&128)!==0,b=g.rendering,b===null)if(x)_h(g,!1);else{if(on!==0||s!==null&&(s.flags&128)!==0)for(s=u.child;s!==null;){if(b=op(s),b!==null){for(u.flags|=128,_h(g,!1),s=b.updateQueue,u.updateQueue=s,xp(u,s),u.subtreeFlags=0,s=h,h=u.child;h!==null;)DS(h,s),h=h.sibling;return ye(dn,dn.current&1|2),ot&&vo(u,g.treeForkCount),u.child}s=s.sibling}g.tail!==null&&Br()>Ap&&(u.flags|=128,x=!0,_h(g,!1),u.lanes=4194304)}else{if(!x)if(s=op(b),s!==null){if(u.flags|=128,x=!0,s=s.updateQueue,u.updateQueue=s,xp(u,s),_h(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!ot)return zt(u),null}else 2*Br()-g.renderingStartTime>Ap&&h!==536870912&&(u.flags|=128,x=!0,_h(g,!1),u.lanes=4194304);g.isBackwards?(b.sibling=u.child,u.child=b):(s=g.last,s!==null?s.sibling=b:u.child=b,g.last=b)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Br(),s.sibling=null,h=dn.current,ye(dn,x?h&1|2:h&1),ot&&vo(u,g.treeForkCount),s):(zt(u),null);case 22:case 23:return di(u),zm(),g=u.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(h&536870912)!==0&&(u.flags&128)===0&&(zt(u),u.subtreeFlags&6&&(u.flags|=8192)):zt(u),h=u.updateQueue,h!==null&&xp(u,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048),s!==null&&ee(Ql),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),yo(An),zt(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function TL(s,u){switch(Cm(u),u.tag){case 1:return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return yo(An),pe(),s=u.flags,(s&65536)!==0&&(s&128)===0?(u.flags=s&-65537|128,u):null;case 26:case 27:case 5:return We(u),null;case 31:if(u.memoizedState!==null){if(di(u),u.alternate===null)throw Error(r(340));Wl()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 13:if(di(u),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Wl()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return ee(dn),null;case 4:return pe(),null;case 10:return yo(u.type),null;case 22:case 23:return di(u),zm(),s!==null&&ee(Ql),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 24:return yo(An),null;case 25:return null;default:return null}}function aC(s,u){switch(Cm(u),u.tag){case 3:yo(An),pe();break;case 26:case 27:case 5:We(u);break;case 4:pe();break;case 31:u.memoizedState!==null&&di(u);break;case 13:di(u);break;case 19:ee(dn);break;case 10:yo(u.type);break;case 22:case 23:di(u),zm(),s!==null&&ee(Ql);break;case 24:yo(An)}}function bh(s,u){try{var h=u.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var x=g.next;h=x;do{if((h.tag&s)===s){g=void 0;var b=h.create,O=h.inst;g=b(),O.destroy=g}h=h.next}while(h!==x)}}catch(j){St(u,u.return,j)}}function Ss(s,u,h){try{var g=u.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var b=x.next;g=b;do{if((g.tag&s)===s){var O=g.inst,j=O.destroy;if(j!==void 0){O.destroy=void 0,x=u;var q=h,J=j;try{J()}catch(oe){St(x,q,oe)}}}g=g.next}while(g!==b)}}catch(oe){St(u,u.return,oe)}}function oC(s){var u=s.updateQueue;if(u!==null){var h=s.stateNode;try{YS(u,h)}catch(g){St(s,s.return,g)}}}function sC(s,u,h){h.props=nu(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(g){St(s,u,g)}}function wh(s,u){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof h=="function"?s.refCleanup=h(g):h.current=g}}catch(x){St(s,u,x)}}function qa(s,u){var h=s.ref,g=s.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(x){St(s,u,x)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(x){St(s,u,x)}else h.current=null}function lC(s){var u=s.type,h=s.memoizedProps,g=s.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(x){St(s,s.return,x)}}function _y(s,u,h){try{var g=s.stateNode;WL(g,s.type,h,u),g[Zn]=u}catch(x){St(s,s.return,x)}}function uC(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ds(s.type)||s.tag===4}function by(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||uC(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ds(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function wy(s,u,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(s),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=sa));else if(g!==4&&(g===27&&Ds(s.type)&&(h=s.stateNode,u=null),s=s.child,s!==null))for(wy(s,u,h),s=s.sibling;s!==null;)wy(s,u,h),s=s.sibling}function _p(s,u,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,u?h.insertBefore(s,u):h.appendChild(s);else if(g!==4&&(g===27&&Ds(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(_p(s,u,h),s=s.sibling;s!==null;)_p(s,u,h),s=s.sibling}function cC(s){var u=s.stateNode,h=s.memoizedProps;try{for(var g=s.type,x=u.attributes;x.length;)u.removeAttributeNode(x[0]);gr(u,g,h),u[bn]=s,u[Zn]=h}catch(b){St(s,s.return,b)}}var Eo=!1,Cn=!1,Ey=!1,fC=typeof WeakSet=="function"?WeakSet:Set,er=null;function CL(s,u){if(s=s.containerInfo,$y=Up,s=ES(s),vm(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var x=g.anchorOffset,b=g.focusNode;g=g.focusOffset;try{h.nodeType,b.nodeType}catch{h=null;break e}var O=0,j=-1,q=-1,J=0,oe=0,ue=s,te=null;t:for(;;){for(var ie;ue!==h||x!==0&&ue.nodeType!==3||(j=O+x),ue!==b||g!==0&&ue.nodeType!==3||(q=O+g),ue.nodeType===3&&(O+=ue.nodeValue.length),(ie=ue.firstChild)!==null;)te=ue,ue=ie;for(;;){if(ue===s)break t;if(te===h&&++J===x&&(j=O),te===b&&++oe===g&&(q=O),(ie=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=ie}h=j===-1||q===-1?null:{start:j,end:q}}else h=null}h=h||{start:0,end:0}}else h=null;for(qy={focusedElem:s,selectionRange:h},Up=!1,er=u;er!==null;)if(u=er,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,er=s;else for(;er!==null;){switch(u=er,b=u.alternate,s=u.flags,u.tag){case 0:if((s&4)!==0&&(s=u.updateQueue,s=s!==null?s.events:null,s!==null))for(h=0;h<s.length;h++)x=s[h],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,h=u,x=b.memoizedProps,b=b.memoizedState,g=h.stateNode;try{var Ae=nu(h.type,x);s=g.getSnapshotBeforeUpdate(Ae,b),g.__reactInternalSnapshotBeforeUpdate=s}catch(ke){St(h,h.return,ke)}}break;case 3:if((s&1024)!==0){if(s=u.stateNode.containerInfo,h=s.nodeType,h===9)Wy(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Wy(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=u.sibling,s!==null){s.return=u.return,er=s;break}er=u.return}}function hC(s,u,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:So(s,h),g&4&&bh(5,h);break;case 1:if(So(s,h),g&4)if(s=h.stateNode,u===null)try{s.componentDidMount()}catch(O){St(h,h.return,O)}else{var x=nu(h.type,u.memoizedProps);u=u.memoizedState;try{s.componentDidUpdate(x,u,s.__reactInternalSnapshotBeforeUpdate)}catch(O){St(h,h.return,O)}}g&64&&oC(h),g&512&&wh(h,h.return);break;case 3:if(So(s,h),g&64&&(s=h.updateQueue,s!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{YS(s,u)}catch(O){St(h,h.return,O)}}break;case 27:u===null&&g&4&&cC(h);case 26:case 5:So(s,h),u===null&&g&4&&lC(h),g&512&&wh(h,h.return);break;case 12:So(s,h);break;case 31:So(s,h),g&4&&gC(s,h);break;case 13:So(s,h),g&4&&vC(s,h),g&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=LL.bind(null,h),nj(s,h))));break;case 22:if(g=h.memoizedState!==null||Eo,!g){u=u!==null&&u.memoizedState!==null||Cn,x=Eo;var b=Cn;Eo=g,(Cn=u)&&!b?To(s,h,(h.subtreeFlags&8772)!==0):So(s,h),Eo=x,Cn=b}break;case 30:break;default:So(s,h)}}function dC(s){var u=s.alternate;u!==null&&(s.alternate=null,dC(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&Xu(u)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Wt=null,Wr=!1;function Ao(s,u,h){for(h=h.child;h!==null;)pC(s,u,h),h=h.sibling}function pC(s,u,h){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(ra,h)}catch{}switch(h.tag){case 26:Cn||qa(h,u),Ao(s,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Cn||qa(h,u);var g=Wt,x=Wr;Ds(h.type)&&(Wt=h.stateNode,Wr=!1),Ao(s,u,h),Ph(h.stateNode),Wt=g,Wr=x;break;case 5:Cn||qa(h,u);case 6:if(g=Wt,x=Wr,Wt=null,Ao(s,u,h),Wt=g,Wr=x,Wt!==null)if(Wr)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(h.stateNode)}catch(b){St(h,u,b)}else try{Wt.removeChild(h.stateNode)}catch(b){St(h,u,b)}break;case 18:Wt!==null&&(Wr?(s=Wt,o3(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),Nc(s)):o3(Wt,h.stateNode));break;case 4:g=Wt,x=Wr,Wt=h.stateNode.containerInfo,Wr=!0,Ao(s,u,h),Wt=g,Wr=x;break;case 0:case 11:case 14:case 15:Ss(2,h,u),Cn||Ss(4,h,u),Ao(s,u,h);break;case 1:Cn||(qa(h,u),g=h.stateNode,typeof g.componentWillUnmount=="function"&&sC(h,u,g)),Ao(s,u,h);break;case 21:Ao(s,u,h);break;case 22:Cn=(g=Cn)||h.memoizedState!==null,Ao(s,u,h),Cn=g;break;default:Ao(s,u,h)}}function gC(s,u){if(u.memoizedState===null&&(s=u.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Nc(s)}catch(h){St(u,u.return,h)}}}function vC(s,u){if(u.memoizedState===null&&(s=u.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Nc(s)}catch(h){St(u,u.return,h)}}function IL(s){switch(s.tag){case 31:case 13:case 19:var u=s.stateNode;return u===null&&(u=s.stateNode=new fC),u;case 22:return s=s.stateNode,u=s._retryCache,u===null&&(u=s._retryCache=new fC),u;default:throw Error(r(435,s.tag))}}function bp(s,u){var h=IL(s);u.forEach(function(g){if(!h.has(g)){h.add(g);var x=jL.bind(null,s,g);g.then(x,x)}})}function Xr(s,u){var h=u.deletions;if(h!==null)for(var g=0;g<h.length;g++){var x=h[g],b=s,O=u,j=O;e:for(;j!==null;){switch(j.tag){case 27:if(Ds(j.type)){Wt=j.stateNode,Wr=!1;break e}break;case 5:Wt=j.stateNode,Wr=!1;break e;case 3:case 4:Wt=j.stateNode.containerInfo,Wr=!0;break e}j=j.return}if(Wt===null)throw Error(r(160));pC(b,O,x),Wt=null,Wr=!1,b=x.alternate,b!==null&&(b.return=null),x.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)mC(u,s),u=u.sibling}var da=null;function mC(s,u){var h=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Xr(u,s),Yr(s),g&4&&(Ss(3,s,s.return),bh(3,s),Ss(5,s,s.return));break;case 1:Xr(u,s),Yr(s),g&512&&(Cn||h===null||qa(h,h.return)),g&64&&Eo&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var x=da;if(Xr(u,s),Yr(s),g&512&&(Cn||h===null||qa(h,h.return)),g&4){var b=h!==null?h.memoizedState:null;if(g=s.memoizedState,h===null)if(g===null)if(s.stateNode===null){e:{g=s.type,h=s.memoizedProps,x=x.ownerDocument||x;t:switch(g){case"title":b=x.getElementsByTagName("title")[0],(!b||b[Pa]||b[bn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=x.createElement(g),x.head.insertBefore(b,x.querySelector("head > title"))),gr(b,g,h),b[bn]=s,wn(b),g=b;break e;case"link":var O=m3("link","href",x).get(g+(h.href||""));if(O){for(var j=0;j<O.length;j++)if(b=O[j],b.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&b.getAttribute("rel")===(h.rel==null?null:h.rel)&&b.getAttribute("title")===(h.title==null?null:h.title)&&b.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){O.splice(j,1);break t}}b=x.createElement(g),gr(b,g,h),x.head.appendChild(b);break;case"meta":if(O=m3("meta","content",x).get(g+(h.content||""))){for(j=0;j<O.length;j++)if(b=O[j],b.getAttribute("content")===(h.content==null?null:""+h.content)&&b.getAttribute("name")===(h.name==null?null:h.name)&&b.getAttribute("property")===(h.property==null?null:h.property)&&b.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&b.getAttribute("charset")===(h.charSet==null?null:h.charSet)){O.splice(j,1);break t}}b=x.createElement(g),gr(b,g,h),x.head.appendChild(b);break;default:throw Error(r(468,g))}b[bn]=s,wn(b),g=b}s.stateNode=g}else y3(x,s.type,s.stateNode);else s.stateNode=v3(x,g,s.memoizedProps);else b!==g?(b===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):b.count--,g===null?y3(x,s.type,s.stateNode):v3(x,g,s.memoizedProps)):g===null&&s.stateNode!==null&&_y(s,s.memoizedProps,h.memoizedProps)}break;case 27:Xr(u,s),Yr(s),g&512&&(Cn||h===null||qa(h,h.return)),h!==null&&g&4&&_y(s,s.memoizedProps,h.memoizedProps);break;case 5:if(Xr(u,s),Yr(s),g&512&&(Cn||h===null||qa(h,h.return)),s.flags&32){x=s.stateNode;try{Kr(x,"")}catch(Ae){St(s,s.return,Ae)}}g&4&&s.stateNode!=null&&(x=s.memoizedProps,_y(s,x,h!==null?h.memoizedProps:x)),g&1024&&(Ey=!0);break;case 6:if(Xr(u,s),Yr(s),g&4){if(s.stateNode===null)throw Error(r(162));g=s.memoizedProps,h=s.stateNode;try{h.nodeValue=g}catch(Ae){St(s,s.return,Ae)}}break;case 3:if(jp=null,x=da,da=kp(u.containerInfo),Xr(u,s),da=x,Yr(s),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Nc(u.containerInfo)}catch(Ae){St(s,s.return,Ae)}Ey&&(Ey=!1,yC(s));break;case 4:g=da,da=kp(s.stateNode.containerInfo),Xr(u,s),Yr(s),da=g;break;case 12:Xr(u,s),Yr(s);break;case 31:Xr(u,s),Yr(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,bp(s,g)));break;case 13:Xr(u,s),Yr(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Ep=Br()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,bp(s,g)));break;case 22:x=s.memoizedState!==null;var q=h!==null&&h.memoizedState!==null,J=Eo,oe=Cn;if(Eo=J||x,Cn=oe||q,Xr(u,s),Cn=oe,Eo=J,Yr(s),g&8192)e:for(u=s.stateNode,u._visibility=x?u._visibility&-2:u._visibility|1,x&&(h===null||q||Eo||Cn||ru(s)),h=null,u=s;;){if(u.tag===5||u.tag===26){if(h===null){q=h=u;try{if(b=q.stateNode,x)O=b.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{j=q.stateNode;var ue=q.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;j.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Ae){St(q,q.return,Ae)}}}else if(u.tag===6){if(h===null){q=u;try{q.stateNode.nodeValue=x?"":q.memoizedProps}catch(Ae){St(q,q.return,Ae)}}}else if(u.tag===18){if(h===null){q=u;try{var ie=q.stateNode;x?s3(ie,!0):s3(q.stateNode,!1)}catch(Ae){St(q,q.return,Ae)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===s)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break e;for(;u.sibling===null;){if(u.return===null||u.return===s)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=s.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,bp(s,h))));break;case 19:Xr(u,s),Yr(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,bp(s,g)));break;case 30:break;case 21:break;default:Xr(u,s),Yr(s)}}function Yr(s){var u=s.flags;if(u&2){try{for(var h,g=s.return;g!==null;){if(uC(g)){h=g;break}g=g.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var x=h.stateNode,b=by(s);_p(s,b,x);break;case 5:var O=h.stateNode;h.flags&32&&(Kr(O,""),h.flags&=-33);var j=by(s);_p(s,j,O);break;case 3:case 4:var q=h.stateNode.containerInfo,J=by(s);wy(s,J,q);break;default:throw Error(r(161))}}catch(oe){St(s,s.return,oe)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function yC(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var u=s;yC(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),s=s.sibling}}function So(s,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)hC(s,u.alternate,u),u=u.sibling}function ru(s){for(s=s.child;s!==null;){var u=s;switch(u.tag){case 0:case 11:case 14:case 15:Ss(4,u,u.return),ru(u);break;case 1:qa(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&sC(u,u.return,h),ru(u);break;case 27:Ph(u.stateNode);case 26:case 5:qa(u,u.return),ru(u);break;case 22:u.memoizedState===null&&ru(u);break;case 30:ru(u);break;default:ru(u)}s=s.sibling}}function To(s,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,x=s,b=u,O=b.flags;switch(b.tag){case 0:case 11:case 15:To(x,b,h),bh(4,b);break;case 1:if(To(x,b,h),g=b,x=g.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(J){St(g,g.return,J)}if(g=b,x=g.updateQueue,x!==null){var j=g.stateNode;try{var q=x.shared.hiddenCallbacks;if(q!==null)for(x.shared.hiddenCallbacks=null,x=0;x<q.length;x++)XS(q[x],j)}catch(J){St(g,g.return,J)}}h&&O&64&&oC(b),wh(b,b.return);break;case 27:cC(b);case 26:case 5:To(x,b,h),h&&g===null&&O&4&&lC(b),wh(b,b.return);break;case 12:To(x,b,h);break;case 31:To(x,b,h),h&&O&4&&gC(x,b);break;case 13:To(x,b,h),h&&O&4&&vC(x,b);break;case 22:b.memoizedState===null&&To(x,b,h),wh(b,b.return);break;case 30:break;default:To(x,b,h)}u=u.sibling}}function Ay(s,u){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(s=u.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&lh(h))}function Sy(s,u){s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&lh(s))}function pa(s,u,h,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)xC(s,u,h,g),u=u.sibling}function xC(s,u,h,g){var x=u.flags;switch(u.tag){case 0:case 11:case 15:pa(s,u,h,g),x&2048&&bh(9,u);break;case 1:pa(s,u,h,g);break;case 3:pa(s,u,h,g),x&2048&&(s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&lh(s)));break;case 12:if(x&2048){pa(s,u,h,g),s=u.stateNode;try{var b=u.memoizedProps,O=b.id,j=b.onPostCommit;typeof j=="function"&&j(O,u.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(q){St(u,u.return,q)}}else pa(s,u,h,g);break;case 31:pa(s,u,h,g);break;case 13:pa(s,u,h,g);break;case 23:break;case 22:b=u.stateNode,O=u.alternate,u.memoizedState!==null?b._visibility&2?pa(s,u,h,g):Eh(s,u):b._visibility&2?pa(s,u,h,g):(b._visibility|=2,wc(s,u,h,g,(u.subtreeFlags&10256)!==0||!1)),x&2048&&Ay(O,u);break;case 24:pa(s,u,h,g),x&2048&&Sy(u.alternate,u);break;default:pa(s,u,h,g)}}function wc(s,u,h,g,x){for(x=x&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var b=s,O=u,j=h,q=g,J=O.flags;switch(O.tag){case 0:case 11:case 15:wc(b,O,j,q,x),bh(8,O);break;case 23:break;case 22:var oe=O.stateNode;O.memoizedState!==null?oe._visibility&2?wc(b,O,j,q,x):Eh(b,O):(oe._visibility|=2,wc(b,O,j,q,x)),x&&J&2048&&Ay(O.alternate,O);break;case 24:wc(b,O,j,q,x),x&&J&2048&&Sy(O.alternate,O);break;default:wc(b,O,j,q,x)}u=u.sibling}}function Eh(s,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=s,g=u,x=g.flags;switch(g.tag){case 22:Eh(h,g),x&2048&&Ay(g.alternate,g);break;case 24:Eh(h,g),x&2048&&Sy(g.alternate,g);break;default:Eh(h,g)}u=u.sibling}}var Ah=8192;function Ec(s,u,h){if(s.subtreeFlags&Ah)for(s=s.child;s!==null;)_C(s,u,h),s=s.sibling}function _C(s,u,h){switch(s.tag){case 26:Ec(s,u,h),s.flags&Ah&&s.memoizedState!==null&&pj(h,da,s.memoizedState,s.memoizedProps);break;case 5:Ec(s,u,h);break;case 3:case 4:var g=da;da=kp(s.stateNode.containerInfo),Ec(s,u,h),da=g;break;case 22:s.memoizedState===null&&(g=s.alternate,g!==null&&g.memoizedState!==null?(g=Ah,Ah=16777216,Ec(s,u,h),Ah=g):Ec(s,u,h));break;default:Ec(s,u,h)}}function bC(s){var u=s.alternate;if(u!==null&&(s=u.child,s!==null)){u.child=null;do u=s.sibling,s.sibling=null,s=u;while(s!==null)}}function Sh(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];er=g,EC(g,s)}bC(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)wC(s),s=s.sibling}function wC(s){switch(s.tag){case 0:case 11:case 15:Sh(s),s.flags&2048&&Ss(9,s,s.return);break;case 3:Sh(s);break;case 12:Sh(s);break;case 22:var u=s.stateNode;s.memoizedState!==null&&u._visibility&2&&(s.return===null||s.return.tag!==13)?(u._visibility&=-3,wp(s)):Sh(s);break;default:Sh(s)}}function wp(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];er=g,EC(g,s)}bC(s)}for(s=s.child;s!==null;){switch(u=s,u.tag){case 0:case 11:case 15:Ss(8,u,u.return),wp(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,wp(u));break;default:wp(u)}s=s.sibling}}function EC(s,u){for(;er!==null;){var h=er;switch(h.tag){case 0:case 11:case 15:Ss(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:lh(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,er=g;else e:for(h=s;er!==null;){g=er;var x=g.sibling,b=g.return;if(dC(g),g===h){er=null;break e}if(x!==null){x.return=b,er=x;break e}er=b}}}var OL={getCacheForType:function(s){var u=dr(An),h=u.data.get(s);return h===void 0&&(h=s(),u.data.set(s,h)),h},cacheSignal:function(){return dr(An).controller.signal}},RL=typeof WeakMap=="function"?WeakMap:Map,mt=0,kt=null,Ze=null,tt=0,At=0,pi=null,Ts=!1,Ac=!1,Ty=!1,Co=0,on=0,Cs=0,iu=0,Cy=0,gi=0,Sc=0,Th=null,Qr=null,Iy=!1,Ep=0,AC=0,Ap=1/0,Sp=null,Is=null,Vn=0,Os=null,Tc=null,Io=0,Oy=0,Ry=null,SC=null,Ch=0,Py=null;function vi(){return(mt&2)!==0&&tt!==0?tt&-tt:Y.T!==null?jy():T0()}function TC(){if(gi===0)if((tt&536870912)===0||ot){var s=Pl;Pl<<=1,(Pl&3932160)===0&&(Pl=262144),gi=s}else gi=536870912;return s=hi.current,s!==null&&(s.flags|=32),gi}function Zr(s,u,h){(s===kt&&(At===2||At===9)||s.cancelPendingCommit!==null)&&(Cc(s,0),Rs(s,tt,gi,!1)),Dl(s,h),((mt&2)===0||s!==kt)&&(s===kt&&((mt&2)===0&&(iu|=h),on===4&&Rs(s,tt,gi,!1)),Ga(s))}function CC(s,u,h){if((mt&6)!==0)throw Error(r(327));var g=!h&&(u&127)===0&&(u&s.expiredLanes)===0||ia(s,u),x=g?NL(s,u):Ny(s,u,!0),b=g;do{if(x===0){Ac&&!g&&Rs(s,u,0,!1);break}else{if(h=s.current.alternate,b&&!PL(h)){x=Ny(s,u,!1),b=!1;continue}if(x===2){if(b=u,s.errorRecoveryDisabledLanes&b)var O=0;else O=s.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){u=O;e:{var j=s;x=Th;var q=j.current.memoizedState.isDehydrated;if(q&&(Cc(j,O).flags|=256),O=Ny(j,O,!1),O!==2){if(Ty&&!q){j.errorRecoveryDisabledLanes|=b,iu|=b,x=4;break e}b=Qr,Qr=x,b!==null&&(Qr===null?Qr=b:Qr.push.apply(Qr,b))}x=O}if(b=!1,x!==2)continue}}if(x===1){Cc(s,0),Rs(s,u,0,!0);break}e:{switch(g=s,b=x,b){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Rs(g,u,gi,!Ts);break e;case 2:Qr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(x=Ep+300-Br(),10<x)){if(Rs(g,u,gi,!Ts),Ia(g,0,!0)!==0)break e;Io=u,g.timeoutHandle=i3(IC.bind(null,g,h,Qr,Sp,Iy,u,gi,iu,Sc,Ts,b,"Throttled",-0,0),x);break e}IC(g,h,Qr,Sp,Iy,u,gi,iu,Sc,Ts,b,null,-0,0)}}break}while(!0);Ga(s)}function IC(s,u,h,g,x,b,O,j,q,J,oe,ue,te,ie){if(s.timeoutHandle=-1,ue=u.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sa},_C(u,b,ue);var Ae=(b&62914560)===b?Ep-Br():(b&4194048)===b?AC-Br():0;if(Ae=gj(ue,Ae),Ae!==null){Io=b,s.cancelPendingCommit=Ae(LC.bind(null,s,u,b,h,g,x,O,j,q,oe,ue,null,te,ie)),Rs(s,b,O,!J);return}}LC(s,u,b,h,g,x,O,j,q)}function PL(s){for(var u=s;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var x=h[g],b=x.getSnapshot;x=x.value;try{if(!ci(b(),x))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Rs(s,u,h,g){u&=~Cy,u&=~iu,s.suspendedLanes|=u,s.pingedLanes&=~u,g&&(s.warmLanes|=u),g=s.expirationTimes;for(var x=u;0<x;){var b=31-fn(x),O=1<<b;g[b]=-1,x&=~O}h!==0&&Nl(s,h,u)}function Tp(){return(mt&6)===0?(Ih(0),!1):!0}function Dy(){if(Ze!==null){if(At===0)var s=Ze.return;else s=Ze,mo=Xl=null,Wm(s),mc=null,ch=0,s=Ze;for(;s!==null;)aC(s.alternate,s),s=s.return;Ze=null}}function Cc(s,u){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,QL(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),Io=0,Dy(),kt=s,Ze=h=go(s.current,null),tt=u,At=0,pi=null,Ts=!1,Ac=ia(s,u),Ty=!1,Sc=gi=Cy=iu=Cs=on=0,Qr=Th=null,Iy=!1,(u&8)!==0&&(u|=u&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=u;0<g;){var x=31-fn(g),b=1<<x;u|=s[x],g&=~b}return Co=u,K0(),h}function OC(s,u){qe=null,Y.H=yh,u===vc||u===tp?(u=qS(),At=3):u===Lm?(u=qS(),At=4):At=u===cy?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,pi=u,Ze===null&&(on=1,gp(s,ki(u,s.current)))}function RC(){var s=hi.current;return s===null?!0:(tt&4194048)===tt?Vi===null:(tt&62914560)===tt||(tt&536870912)!==0?s===Vi:!1}function PC(){var s=Y.H;return Y.H=yh,s===null?yh:s}function DC(){var s=Y.A;return Y.A=OL,s}function Cp(){on=4,Ts||(tt&4194048)!==tt&&hi.current!==null||(Ac=!0),(Cs&134217727)===0&&(iu&134217727)===0||kt===null||Rs(kt,tt,gi,!1)}function Ny(s,u,h){var g=mt;mt|=2;var x=PC(),b=DC();(kt!==s||tt!==u)&&(Sp=null,Cc(s,u)),u=!1;var O=on;e:do try{if(At!==0&&Ze!==null){var j=Ze,q=pi;switch(At){case 8:Dy(),O=6;break e;case 3:case 2:case 9:case 6:hi.current===null&&(u=!0);var J=At;if(At=0,pi=null,Ic(s,j,q,J),h&&Ac){O=0;break e}break;default:J=At,At=0,pi=null,Ic(s,j,q,J)}}DL(),O=on;break}catch(oe){OC(s,oe)}while(!0);return u&&s.shellSuspendCounter++,mo=Xl=null,mt=g,Y.H=x,Y.A=b,Ze===null&&(kt=null,tt=0,K0()),O}function DL(){for(;Ze!==null;)NC(Ze)}function NL(s,u){var h=mt;mt|=2;var g=PC(),x=DC();kt!==s||tt!==u?(Sp=null,Ap=Br()+500,Cc(s,u)):Ac=ia(s,u);e:do try{if(At!==0&&Ze!==null){u=Ze;var b=pi;t:switch(At){case 1:At=0,pi=null,Ic(s,u,b,1);break;case 2:case 9:if(HS(b)){At=0,pi=null,MC(u);break}u=function(){At!==2&&At!==9||kt!==s||(At=7),Ga(s)},b.then(u,u);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:HS(b)?(At=0,pi=null,MC(u)):(At=0,pi=null,Ic(s,u,b,7));break;case 5:var O=null;switch(Ze.tag){case 26:O=Ze.memoizedState;case 5:case 27:var j=Ze;if(O?x3(O):j.stateNode.complete){At=0,pi=null;var q=j.sibling;if(q!==null)Ze=q;else{var J=j.return;J!==null?(Ze=J,Ip(J)):Ze=null}break t}}At=0,pi=null,Ic(s,u,b,5);break;case 6:At=0,pi=null,Ic(s,u,b,6);break;case 8:Dy(),on=6;break e;default:throw Error(r(462))}}ML();break}catch(oe){OC(s,oe)}while(!0);return mo=Xl=null,Y.H=g,Y.A=x,mt=h,Ze!==null?0:(kt=null,tt=0,K0(),on)}function ML(){for(;Ze!==null&&!um();)NC(Ze)}function NC(s){var u=rC(s.alternate,s,Co);s.memoizedProps=s.pendingProps,u===null?Ip(s):Ze=u}function MC(s){var u=s,h=u.alternate;switch(u.tag){case 15:case 0:u=QT(h,u,u.pendingProps,u.type,void 0,tt);break;case 11:u=QT(h,u,u.pendingProps,u.type.render,u.ref,tt);break;case 5:Wm(u);default:aC(h,u),u=Ze=DS(u,Co),u=rC(h,u,Co)}s.memoizedProps=s.pendingProps,u===null?Ip(s):Ze=u}function Ic(s,u,h,g){mo=Xl=null,Wm(u),mc=null,ch=0;var x=u.return;try{if(wL(s,x,u,h,tt)){on=1,gp(s,ki(h,s.current)),Ze=null;return}}catch(b){if(x!==null)throw Ze=x,b;on=1,gp(s,ki(h,s.current)),Ze=null;return}u.flags&32768?(ot||g===1?s=!0:Ac||(tt&536870912)!==0?s=!1:(Ts=s=!0,(g===2||g===9||g===3||g===6)&&(g=hi.current,g!==null&&g.tag===13&&(g.flags|=16384))),kC(u,s)):Ip(u)}function Ip(s){var u=s;do{if((u.flags&32768)!==0){kC(u,Ts);return}s=u.return;var h=SL(u.alternate,u,Co);if(h!==null){Ze=h;return}if(u=u.sibling,u!==null){Ze=u;return}Ze=u=s}while(u!==null);on===0&&(on=5)}function kC(s,u){do{var h=TL(s.alternate,s);if(h!==null){h.flags&=32767,Ze=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(s=s.sibling,s!==null)){Ze=s;return}Ze=s=h}while(s!==null);on=6,Ze=null}function LC(s,u,h,g,x,b,O,j,q){s.cancelPendingCommit=null;do Op();while(Vn!==0);if((mt&6)!==0)throw Error(r(327));if(u!==null){if(u===s.current)throw Error(r(177));if(b=u.lanes|u.childLanes,b|=bm,hm(s,h,b,O,j,q),s===kt&&(Ze=kt=null,tt=0),Tc=u,Os=s,Io=h,Oy=b,Ry=x,SC=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,BL(os,function(){return UC(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=Y.T,Y.T=null,x=se.p,se.p=2,O=mt,mt|=4;try{CL(s,u,h)}finally{mt=O,se.p=x,Y.T=g}}Vn=1,jC(),BC(),VC()}}function jC(){if(Vn===1){Vn=0;var s=Os,u=Tc,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=Y.T,Y.T=null;var g=se.p;se.p=2;var x=mt;mt|=4;try{mC(u,s);var b=qy,O=ES(s.containerInfo),j=b.focusedElem,q=b.selectionRange;if(O!==j&&j&&j.ownerDocument&&wS(j.ownerDocument.documentElement,j)){if(q!==null&&vm(j)){var J=q.start,oe=q.end;if(oe===void 0&&(oe=J),"selectionStart"in j)j.selectionStart=J,j.selectionEnd=Math.min(oe,j.value.length);else{var ue=j.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var ie=te.getSelection(),Ae=j.textContent.length,ke=Math.min(q.start,Ae),Dt=q.end===void 0?ke:Math.min(q.end,Ae);!ie.extend&&ke>Dt&&(O=Dt,Dt=ke,ke=O);var W=bS(j,ke),K=bS(j,Dt);if(W&&K&&(ie.rangeCount!==1||ie.anchorNode!==W.node||ie.anchorOffset!==W.offset||ie.focusNode!==K.node||ie.focusOffset!==K.offset)){var Z=ue.createRange();Z.setStart(W.node,W.offset),ie.removeAllRanges(),ke>Dt?(ie.addRange(Z),ie.extend(K.node,K.offset)):(Z.setEnd(K.node,K.offset),ie.addRange(Z))}}}}for(ue=[],ie=j;ie=ie.parentNode;)ie.nodeType===1&&ue.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<ue.length;j++){var le=ue[j];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Up=!!$y,qy=$y=null}finally{mt=x,se.p=g,Y.T=h}}s.current=u,Vn=2}}function BC(){if(Vn===2){Vn=0;var s=Os,u=Tc,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=Y.T,Y.T=null;var g=se.p;se.p=2;var x=mt;mt|=4;try{hC(s,u.alternate,u)}finally{mt=x,se.p=g,Y.T=h}}Vn=3}}function VC(){if(Vn===4||Vn===3){Vn=0,x0();var s=Os,u=Tc,h=Io,g=SC;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Vn=5:(Vn=0,Tc=Os=null,FC(s,s.pendingLanes));var x=s.pendingLanes;if(x===0&&(Is=null),co(h),u=u.stateNode,cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(ra,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=Y.T,x=se.p,se.p=2,Y.T=null;try{for(var b=s.onRecoverableError,O=0;O<g.length;O++){var j=g[O];b(j.value,{componentStack:j.stack})}}finally{Y.T=u,se.p=x}}(Io&3)!==0&&Op(),Ga(s),x=s.pendingLanes,(h&261930)!==0&&(x&42)!==0?s===Py?Ch++:(Ch=0,Py=s):Ch=0,Ih(0)}}function FC(s,u){(s.pooledCacheLanes&=u)===0&&(u=s.pooledCache,u!=null&&(s.pooledCache=null,lh(u)))}function Op(){return jC(),BC(),VC(),UC()}function UC(){if(Vn!==5)return!1;var s=Os,u=Oy;Oy=0;var h=co(Io),g=Y.T,x=se.p;try{se.p=32>h?32:h,Y.T=null,h=Ry,Ry=null;var b=Os,O=Io;if(Vn=0,Tc=Os=null,Io=0,(mt&6)!==0)throw Error(r(331));var j=mt;if(mt|=4,wC(b.current),xC(b,b.current,O,h),mt=j,Ih(0,!1),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(ra,b)}catch{}return!0}finally{se.p=x,Y.T=g,FC(s,u)}}function zC(s,u,h){u=ki(h,u),u=uy(s.stateNode,u,2),s=ws(s,u,2),s!==null&&(Dl(s,2),Ga(s))}function St(s,u,h){if(s.tag===3)zC(s,s,h);else for(;u!==null;){if(u.tag===3){zC(u,s,h);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Is===null||!Is.has(g))){s=ki(h,s),h=HT(2),g=ws(u,h,2),g!==null&&($T(h,g,u,s),Dl(g,2),Ga(g));break}}u=u.return}}function My(s,u,h){var g=s.pingCache;if(g===null){g=s.pingCache=new RL;var x=new Set;g.set(u,x)}else x=g.get(u),x===void 0&&(x=new Set,g.set(u,x));x.has(h)||(Ty=!0,x.add(h),s=kL.bind(null,s,u,h),u.then(s,s))}function kL(s,u,h){var g=s.pingCache;g!==null&&g.delete(u),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,kt===s&&(tt&h)===h&&(on===4||on===3&&(tt&62914560)===tt&&300>Br()-Ep?(mt&2)===0&&Cc(s,0):Cy|=h,Sc===tt&&(Sc=0)),Ga(s)}function HC(s,u){u===0&&(u=S0()),s=Gl(s,u),s!==null&&(Dl(s,u),Ga(s))}function LL(s){var u=s.memoizedState,h=0;u!==null&&(h=u.retryLane),HC(s,h)}function jL(s,u){var h=0;switch(s.tag){case 31:case 13:var g=s.stateNode,x=s.memoizedState;x!==null&&(h=x.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(u),HC(s,h)}function BL(s,u){return Bn(s,u)}var Rp=null,Oc=null,ky=!1,Pp=!1,Ly=!1,Ps=0;function Ga(s){s!==Oc&&s.next===null&&(Oc===null?Rp=Oc=s:Oc=Oc.next=s),Pp=!0,ky||(ky=!0,FL())}function Ih(s,u){if(!Ly&&Pp){Ly=!0;do for(var h=!1,g=Rp;g!==null;){if(s!==0){var x=g.pendingLanes;if(x===0)var b=0;else{var O=g.suspendedLanes,j=g.pingedLanes;b=(1<<31-fn(42|s)+1)-1,b&=x&~(O&~j),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(h=!0,KC(g,b))}else b=tt,b=Ia(g,g===kt?b:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(b&3)===0||ia(g,b)||(h=!0,KC(g,b));g=g.next}while(h);Ly=!1}}function VL(){$C()}function $C(){Pp=ky=!1;var s=0;Ps!==0&&YL()&&(s=Ps);for(var u=Br(),h=null,g=Rp;g!==null;){var x=g.next,b=qC(g,u);b===0?(g.next=null,h===null?Rp=x:h.next=x,x===null&&(Oc=h)):(h=g,(s!==0||(b&3)!==0)&&(Pp=!0)),g=x}Vn!==0&&Vn!==5||Ih(s),Ps!==0&&(Ps=0)}function qC(s,u){for(var h=s.suspendedLanes,g=s.pingedLanes,x=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var O=31-fn(b),j=1<<O,q=x[O];q===-1?((j&h)===0||(j&g)!==0)&&(x[O]=fm(j,u)):q<=u&&(s.expiredLanes|=j),b&=~j}if(u=kt,h=tt,h=Ia(s,s===u?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,h===0||s===u&&(At===2||At===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&as(g),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||ia(s,h)){if(u=h&-h,u===s.callbackPriority)return u;switch(g!==null&&as(g),co(h)){case 2:case 8:h=Bf;break;case 32:h=os;break;case 268435456:h=_0;break;default:h=os}return g=GC.bind(null,s),h=Bn(h,g),s.callbackPriority=u,s.callbackNode=h,u}return g!==null&&g!==null&&as(g),s.callbackPriority=2,s.callbackNode=null,2}function GC(s,u){if(Vn!==0&&Vn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(Op()&&s.callbackNode!==h)return null;var g=tt;return g=Ia(s,s===kt?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(CC(s,g,u),qC(s,Br()),s.callbackNode!=null&&s.callbackNode===h?GC.bind(null,s):null)}function KC(s,u){if(Op())return null;CC(s,u,!0)}function FL(){ZL(function(){(mt&6)!==0?Bn(jf,VL):$C()})}function jy(){if(Ps===0){var s=pc;s===0&&(s=Ta,Ta<<=1,(Ta&261888)===0&&(Ta=256)),Ps=s}return Ps}function WC(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ju(""+s)}function XC(s,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,s.id&&h.setAttribute("form",s.id),u.parentNode.insertBefore(h,u),s=new FormData(s),h.parentNode.removeChild(h),s}function UL(s,u,h,g,x){if(u==="submit"&&h&&h.stateNode===x){var b=WC((x[Zn]||null).action),O=g.submitter;O&&(u=(u=O[Zn]||null)?WC(u.formAction):O.getAttribute("formAction"),u!==null&&(b=u,O=null));var j=new Va("action","action",null,g,x);s.push({event:j,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ps!==0){var q=O?XC(x,O):new FormData(x);ry(h,{pending:!0,data:q,method:x.method,action:b},null,q)}}else typeof b=="function"&&(j.preventDefault(),q=O?XC(x,O):new FormData(x),ry(h,{pending:!0,data:q,method:x.method,action:b},b,q))},currentTarget:x}]})}}for(var By=0;By<_m.length;By++){var Vy=_m[By],zL=Vy.toLowerCase(),HL=Vy[0].toUpperCase()+Vy.slice(1);ha(zL,"on"+HL)}ha(TS,"onAnimationEnd"),ha(CS,"onAnimationIteration"),ha(IS,"onAnimationStart"),ha("dblclick","onDoubleClick"),ha("focusin","onFocus"),ha("focusout","onBlur"),ha(aL,"onTransitionRun"),ha(oL,"onTransitionStart"),ha(sL,"onTransitionCancel"),ha(OS,"onTransitionEnd"),ka("onMouseEnter",["mouseout","mouseover"]),ka("onMouseLeave",["mouseout","mouseover"]),ka("onPointerEnter",["pointerout","pointerover"]),ka("onPointerLeave",["pointerout","pointerover"]),Ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$L=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oh));function YC(s,u){u=(u&4)!==0;for(var h=0;h<s.length;h++){var g=s[h],x=g.event;g=g.listeners;e:{var b=void 0;if(u)for(var O=g.length-1;0<=O;O--){var j=g[O],q=j.instance,J=j.currentTarget;if(j=j.listener,q!==b&&x.isPropagationStopped())break e;b=j,x.currentTarget=J;try{b(x)}catch(oe){G0(oe)}x.currentTarget=null,b=q}else for(O=0;O<g.length;O++){if(j=g[O],q=j.instance,J=j.currentTarget,j=j.listener,q!==b&&x.isPropagationStopped())break e;b=j,x.currentTarget=J;try{b(x)}catch(oe){G0(oe)}x.currentTarget=null,b=q}}}}function Je(s,u){var h=u[Wu];h===void 0&&(h=u[Wu]=new Set);var g=s+"__bubble";h.has(g)||(QC(u,s,2,!1),h.add(g))}function Fy(s,u,h){var g=0;u&&(g|=4),QC(h,s,g,u)}var Dp="_reactListening"+Math.random().toString(36).slice(2);function Uy(s){if(!s[Dp]){s[Dp]=!0,Uf.forEach(function(h){h!=="selectionchange"&&($L.has(h)||Fy(h,!1,s),Fy(h,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[Dp]||(u[Dp]=!0,Fy("selectionchange",!1,u))}}function QC(s,u,h,g){switch(T3(u)){case 2:var x=yj;break;case 8:x=xj;break;default:x=n2}h=x.bind(null,u,h,s),x=void 0,!Bl||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(x=!0),g?x!==void 0?s.addEventListener(u,h,{capture:!0,passive:x}):s.addEventListener(u,h,!0):x!==void 0?s.addEventListener(u,h,{passive:x}):s.addEventListener(u,h,!1)}function zy(s,u,h,g,x){var b=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var j=g.stateNode.containerInfo;if(j===x)break;if(O===4)for(O=g.return;O!==null;){var q=O.tag;if((q===3||q===4)&&O.stateNode.containerInfo===x)return;O=O.return}for(;j!==null;){if(O=Da(j),O===null)return;if(q=O.tag,q===5||q===6||q===26||q===27){g=b=O;continue e}j=j.parentNode}}g=g.return}hs(function(){var J=b,oe=Pi(h),ue=[];e:{var te=RS.get(s);if(te!==void 0){var ie=Va,Ae=s;switch(s){case"keypress":if(Fl(h)===0)break e;case"keydown":case"keyup":ie=H0;break;case"focusin":Ae="focus",ie=zl;break;case"focusout":Ae="blur",ie=zl;break;case"beforeblur":case"afterblur":ie=zl;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=eh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=M0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=T;break;case TS:case CS:case IS:ie=L0;break;case OS:ie=V;break;case"scroll":case"scrollend":ie=Jf;break;case"wheel":ie=re;break;case"copy":case"cut":case"paste":ie=j0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=po;break;case"toggle":case"beforetoggle":ie=$e}var ke=(u&4)!==0,Dt=!ke&&(s==="scroll"||s==="scrollend"),W=ke?te!==null?te+"Capture":null:te;ke=[];for(var K=J,Z;K!==null;){var le=K;if(Z=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Z===null||W===null||(le=la(K,W),le!=null&&ke.push(Rh(K,le,Z))),Dt)break;K=K.return}0<ke.length&&(te=new ie(te,Ae,null,h,oe),ue.push({event:te,listeners:ke}))}}if((u&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ie=s==="mouseout"||s==="pointerout",te&&h!==Yf&&(Ae=h.relatedTarget||h.fromElement)&&(Da(Ae)||Ae[Ra]))break e;if((ie||te)&&(te=oe.window===oe?oe:(te=oe.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(Ae=h.relatedTarget||h.toElement,ie=J,Ae=Ae?Da(Ae):null,Ae!==null&&(Dt=a(Ae),ke=Ae.tag,Ae!==Dt||ke!==5&&ke!==27&&ke!==6)&&(Ae=null)):(ie=null,Ae=J),ie!==Ae)){if(ke=eh,le="onMouseLeave",W="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(ke=po,le="onPointerLeave",W="onPointerEnter",K="pointer"),Dt=ie==null?te:li(ie),Z=Ae==null?te:li(Ae),te=new ke(le,K+"leave",ie,h,oe),te.target=Dt,te.relatedTarget=Z,le=null,Da(oe)===J&&(ke=new ke(W,K+"enter",Ae,h,oe),ke.target=Z,ke.relatedTarget=Dt,le=ke),Dt=le,ie&&Ae)t:{for(ke=qL,W=ie,K=Ae,Z=0,le=W;le;le=ke(le))Z++;le=0;for(var Pe=K;Pe;Pe=ke(Pe))le++;for(;0<Z-le;)W=ke(W),Z--;for(;0<le-Z;)K=ke(K),le--;for(;Z--;){if(W===K||K!==null&&W===K.alternate){ke=W;break t}W=ke(W),K=ke(K)}ke=null}else ke=null;ie!==null&&ZC(ue,te,ie,ke,!1),Ae!==null&&Dt!==null&&ZC(ue,Dt,Ae,ke,!0)}}e:{if(te=J?li(J):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var ft=gS;else if(dS(te))if(vS)ft=nL;else{ft=eL;var Ie=Jk}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&Zu(J.elementType)&&(ft=gS):ft=tL;if(ft&&(ft=ft(s,J))){pS(ue,ft,h,oe);break e}Ie&&Ie(s,te,J),s==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&Kf(te,"number",te.value)}switch(Ie=J?li(J):window,s){case"focusin":(dS(Ie)||Ie.contentEditable==="true")&&(oc=Ie,mm=J,ah=null);break;case"focusout":ah=mm=oc=null;break;case"mousedown":ym=!0;break;case"contextmenu":case"mouseup":case"dragend":ym=!1,AS(ue,h,oe);break;case"selectionchange":if(iL)break;case"keydown":case"keyup":AS(ue,h,oe)}var Ke;if(vt)e:{switch(s){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else ac?Hl(s,h)&&(nt="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(nt="onCompositionStart");nt&&(za&&h.locale!=="ko"&&(ac||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&ac&&(Ke=Zf()):(Ba=oe,Qf="value"in Ba?Ba.value:Ba.textContent,ac=!0)),Ie=Np(J,nt),0<Ie.length&&(nt=new Ua(nt,s,null,h,oe),ue.push({event:nt,listeners:Ie}),Ke?nt.data=Ke:(Ke=ic(h),Ke!==null&&(nt.data=Ke)))),(Ke=Ni?Xk(s,h):Yk(s,h))&&(nt=Np(J,"onBeforeInput"),0<nt.length&&(Ie=new Ua("onBeforeInput","beforeinput",null,h,oe),ue.push({event:Ie,listeners:nt}),Ie.data=Ke)),UL(ue,s,J,h,oe)}YC(ue,u)})}function Rh(s,u,h){return{instance:s,listener:u,currentTarget:h}}function Np(s,u){for(var h=u+"Capture",g=[];s!==null;){var x=s,b=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||b===null||(x=la(s,h),x!=null&&g.unshift(Rh(s,x,b)),x=la(s,u),x!=null&&g.push(Rh(s,x,b))),s.tag===3)return g;s=s.return}return[]}function qL(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function ZC(s,u,h,g,x){for(var b=u._reactName,O=[];h!==null&&h!==g;){var j=h,q=j.alternate,J=j.stateNode;if(j=j.tag,q!==null&&q===g)break;j!==5&&j!==26&&j!==27||J===null||(q=J,x?(J=la(h,b),J!=null&&O.unshift(Rh(h,J,q))):x||(J=la(h,b),J!=null&&O.push(Rh(h,J,q)))),h=h.return}O.length!==0&&s.push({event:u,listeners:O})}var GL=/\r\n?/g,KL=/\u0000|\uFFFD/g;function JC(s){return(typeof s=="string"?s:""+s).replace(GL,`
`).replace(KL,"")}function e3(s,u){return u=JC(u),JC(s)===u}function Pt(s,u,h,g,x,b){switch(h){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||Kr(s,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&Kr(s,""+g);break;case"className":ui(s,"class",g);break;case"tabIndex":ui(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":ui(s,h,g);break;case"style":Xf(s,g,b);break;case"data":if(u!=="object"){ui(s,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||h!=="href")){s.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(h);break}g=Ju(""+g),s.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(h==="formAction"?(u!=="input"&&Pt(s,u,"name",x.name,x,null),Pt(s,u,"formEncType",x.formEncType,x,null),Pt(s,u,"formMethod",x.formMethod,x,null),Pt(s,u,"formTarget",x.formTarget,x,null)):(Pt(s,u,"encType",x.encType,x,null),Pt(s,u,"method",x.method,x,null),Pt(s,u,"target",x.target,x,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(h);break}g=Ju(""+g),s.setAttribute(h,g);break;case"onClick":g!=null&&(s.onclick=sa);break;case"onScroll":g!=null&&Je("scroll",s);break;case"onScrollEnd":g!=null&&Je("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(x.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}h=Ju(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,""+g):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":g===!0?s.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,g):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(h,g):s.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(h):s.setAttribute(h,g);break;case"popover":Je("beforetoggle",s),Je("toggle",s),Yu(s,"popover",g);break;case"xlinkActuate":En(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":En(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":En(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":En(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":En(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":En(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":En(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":En(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":En(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Yu(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=N0.get(h)||h,Yu(s,h,g))}}function Hy(s,u,h,g,x,b){switch(h){case"style":Xf(s,g,b);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(x.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"children":typeof g=="string"?Kr(s,g):(typeof g=="number"||typeof g=="bigint")&&Kr(s,""+g);break;case"onScroll":g!=null&&Je("scroll",s);break;case"onScrollEnd":g!=null&&Je("scrollend",s);break;case"onClick":g!=null&&(s.onclick=sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zf.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(x=h.endsWith("Capture"),u=h.slice(2,x?h.length-7:void 0),b=s[Zn]||null,b=b!=null?b[h]:null,typeof b=="function"&&s.removeEventListener(u,b,x),typeof g=="function")){typeof b!="function"&&b!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(u,g,x);break e}h in s?s[h]=g:g===!0?s.setAttribute(h,""):Yu(s,h,g)}}}function gr(s,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",s),Je("load",s);var g=!1,x=!1,b;for(b in h)if(h.hasOwnProperty(b)){var O=h[b];if(O!=null)switch(b){case"src":g=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Pt(s,u,b,O,h,null)}}x&&Pt(s,u,"srcSet",h.srcSet,h,null),g&&Pt(s,u,"src",h.src,h,null);return;case"input":Je("invalid",s);var j=b=O=x=null,q=null,J=null;for(g in h)if(h.hasOwnProperty(g)){var oe=h[g];if(oe!=null)switch(g){case"name":x=oe;break;case"type":O=oe;break;case"checked":q=oe;break;case"defaultChecked":J=oe;break;case"value":b=oe;break;case"defaultValue":j=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,u));break;default:Pt(s,u,g,oe,h,null)}}R0(s,b,j,q,J,O,x,!1);return;case"select":Je("invalid",s),g=O=b=null;for(x in h)if(h.hasOwnProperty(x)&&(j=h[x],j!=null))switch(x){case"value":b=j;break;case"defaultValue":O=j;break;case"multiple":g=j;default:Pt(s,u,x,j,h,null)}u=b,h=O,s.multiple=!!g,u!=null?ls(s,!!g,u,!1):h!=null&&ls(s,!!g,h,!0);return;case"textarea":Je("invalid",s),b=x=g=null;for(O in h)if(h.hasOwnProperty(O)&&(j=h[O],j!=null))switch(O){case"value":g=j;break;case"defaultValue":x=j;break;case"children":b=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:Pt(s,u,O,j,h,null)}us(s,g,x,b);return;case"option":for(q in h)if(h.hasOwnProperty(q)&&(g=h[q],g!=null))switch(q){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Pt(s,u,q,g,h,null)}return;case"dialog":Je("beforetoggle",s),Je("toggle",s),Je("cancel",s),Je("close",s);break;case"iframe":case"object":Je("load",s);break;case"video":case"audio":for(g=0;g<Oh.length;g++)Je(Oh[g],s);break;case"image":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"embed":case"source":case"link":Je("error",s),Je("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in h)if(h.hasOwnProperty(J)&&(g=h[J],g!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Pt(s,u,J,g,h,null)}return;default:if(Zu(u)){for(oe in h)h.hasOwnProperty(oe)&&(g=h[oe],g!==void 0&&Hy(s,u,oe,g,h,void 0));return}}for(j in h)h.hasOwnProperty(j)&&(g=h[j],g!=null&&Pt(s,u,j,g,h,null))}function WL(s,u,h,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,b=null,O=null,j=null,q=null,J=null,oe=null;for(ie in h){var ue=h[ie];if(h.hasOwnProperty(ie)&&ue!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":q=ue;default:g.hasOwnProperty(ie)||Pt(s,u,ie,null,g,ue)}}for(var te in g){var ie=g[te];if(ue=h[te],g.hasOwnProperty(te)&&(ie!=null||ue!=null))switch(te){case"type":b=ie;break;case"name":x=ie;break;case"checked":J=ie;break;case"defaultChecked":oe=ie;break;case"value":O=ie;break;case"defaultValue":j=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,u));break;default:ie!==ue&&Pt(s,u,te,ie,g,ue)}}Qu(s,O,j,q,J,oe,b,x);return;case"select":ie=O=j=te=null;for(b in h)if(q=h[b],h.hasOwnProperty(b)&&q!=null)switch(b){case"value":break;case"multiple":ie=q;default:g.hasOwnProperty(b)||Pt(s,u,b,null,g,q)}for(x in g)if(b=g[x],q=h[x],g.hasOwnProperty(x)&&(b!=null||q!=null))switch(x){case"value":te=b;break;case"defaultValue":j=b;break;case"multiple":O=b;default:b!==q&&Pt(s,u,x,b,g,q)}u=j,h=O,g=ie,te!=null?ls(s,!!h,te,!1):!!g!=!!h&&(u!=null?ls(s,!!h,u,!0):ls(s,!!h,h?[]:"",!1));return;case"textarea":ie=te=null;for(j in h)if(x=h[j],h.hasOwnProperty(j)&&x!=null&&!g.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Pt(s,u,j,null,g,x)}for(O in g)if(x=g[O],b=h[O],g.hasOwnProperty(O)&&(x!=null||b!=null))switch(O){case"value":te=x;break;case"defaultValue":ie=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==b&&Pt(s,u,O,x,g,b)}P0(s,te,ie);return;case"option":for(var Ae in h)if(te=h[Ae],h.hasOwnProperty(Ae)&&te!=null&&!g.hasOwnProperty(Ae))switch(Ae){case"selected":s.selected=!1;break;default:Pt(s,u,Ae,null,g,te)}for(q in g)if(te=g[q],ie=h[q],g.hasOwnProperty(q)&&te!==ie&&(te!=null||ie!=null))switch(q){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Pt(s,u,q,te,g,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in h)te=h[ke],h.hasOwnProperty(ke)&&te!=null&&!g.hasOwnProperty(ke)&&Pt(s,u,ke,null,g,te);for(J in g)if(te=g[J],ie=h[J],g.hasOwnProperty(J)&&te!==ie&&(te!=null||ie!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,u));break;default:Pt(s,u,J,te,g,ie)}return;default:if(Zu(u)){for(var Dt in h)te=h[Dt],h.hasOwnProperty(Dt)&&te!==void 0&&!g.hasOwnProperty(Dt)&&Hy(s,u,Dt,void 0,g,te);for(oe in g)te=g[oe],ie=h[oe],!g.hasOwnProperty(oe)||te===ie||te===void 0&&ie===void 0||Hy(s,u,oe,te,g,ie);return}}for(var W in h)te=h[W],h.hasOwnProperty(W)&&te!=null&&!g.hasOwnProperty(W)&&Pt(s,u,W,null,g,te);for(ue in g)te=g[ue],ie=h[ue],!g.hasOwnProperty(ue)||te===ie||te==null&&ie==null||Pt(s,u,ue,te,g,ie)}function t3(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XL(){if(typeof performance.getEntriesByType=="function"){for(var s=0,u=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var x=h[g],b=x.transferSize,O=x.initiatorType,j=x.duration;if(b&&j&&t3(O)){for(O=0,j=x.responseEnd,g+=1;g<h.length;g++){var q=h[g],J=q.startTime;if(J>j)break;var oe=q.transferSize,ue=q.initiatorType;oe&&t3(ue)&&(q=q.responseEnd,O+=oe*(q<j?1:(j-J)/(q-J)))}if(--g,u+=8*(b+O)/(x.duration/1e3),s++,10<s)break}}if(0<s)return u/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var $y=null,qy=null;function Mp(s){return s.nodeType===9?s:s.ownerDocument}function n3(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r3(s,u){if(s===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&u==="foreignObject"?0:s}function Gy(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Ky=null;function YL(){var s=window.event;return s&&s.type==="popstate"?s===Ky?!1:(Ky=s,!0):(Ky=null,!1)}var i3=typeof setTimeout=="function"?setTimeout:void 0,QL=typeof clearTimeout=="function"?clearTimeout:void 0,a3=typeof Promise=="function"?Promise:void 0,ZL=typeof queueMicrotask=="function"?queueMicrotask:typeof a3<"u"?function(s){return a3.resolve(null).then(s).catch(JL)}:i3;function JL(s){setTimeout(function(){throw s})}function Ds(s){return s==="head"}function o3(s,u){var h=u,g=0;do{var x=h.nextSibling;if(s.removeChild(h),x&&x.nodeType===8)if(h=x.data,h==="/$"||h==="/&"){if(g===0){s.removeChild(x),Nc(u);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")Ph(s.ownerDocument.documentElement);else if(h==="head"){h=s.ownerDocument.head,Ph(h);for(var b=h.firstChild;b;){var O=b.nextSibling,j=b.nodeName;b[Pa]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&b.rel.toLowerCase()==="stylesheet"||h.removeChild(b),b=O}}else h==="body"&&Ph(s.ownerDocument.body);h=x}while(h);Nc(u)}function s3(s,u){var h=s;s=0;do{var g=h.nextSibling;if(h.nodeType===1?u?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(u?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(s===0)break;s--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||s++;h=g}while(h)}function Wy(s){var u=s.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Wy(h),Xu(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function ej(s,u,h,g){for(;s.nodeType===1;){var x=h;if(s.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[Pa])switch(u){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==x.rel||s.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||s.getAttribute("title")!==(x.title==null?null:x.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(x.src==null?null:x.src)||s.getAttribute("type")!==(x.type==null?null:x.type)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(u==="input"&&s.type==="hidden"){var b=x.name==null?null:""+x.name;if(x.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=Fi(s.nextSibling),s===null)break}return null}function tj(s,u,h){if(u==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=Fi(s.nextSibling),s===null))return null;return s}function l3(s,u){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Fi(s.nextSibling),s===null))return null;return s}function Xy(s){return s.data==="$?"||s.data==="$~"}function Yy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function nj(s,u){var h=s.ownerDocument;if(s.data==="$~")s._reactRetry=u;else if(s.data!=="$?"||h.readyState!=="loading")u();else{var g=function(){u(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function Fi(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return s}var Qy=null;function u3(s){s=s.nextSibling;for(var u=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"||h==="/&"){if(u===0)return Fi(s.nextSibling);u--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||u++}s=s.nextSibling}return null}function c3(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(u===0)return s;u--}else h!=="/$"&&h!=="/&"||u++}s=s.previousSibling}return null}function f3(s,u,h){switch(u=Mp(h),s){case"html":if(s=u.documentElement,!s)throw Error(r(452));return s;case"head":if(s=u.head,!s)throw Error(r(453));return s;case"body":if(s=u.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Ph(s){for(var u=s.attributes;u.length;)s.removeAttributeNode(u[0]);Xu(s)}var Ui=new Map,h3=new Set;function kp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Oo=se.d;se.d={f:rj,r:ij,D:aj,C:oj,L:sj,m:lj,X:cj,S:uj,M:fj};function rj(){var s=Oo.f(),u=Tp();return s||u}function ij(s){var u=Ri(s);u!==null&&u.tag===5&&u.type==="form"?OT(u):Oo.r(s)}var Rc=typeof document>"u"?null:document;function d3(s,u,h){var g=Rc;if(g&&typeof u=="string"&&u){var x=Gr(u);x='link[rel="'+s+'"][href="'+x+'"]',typeof h=="string"&&(x+='[crossorigin="'+h+'"]'),h3.has(x)||(h3.add(x),s={rel:s,crossOrigin:h,href:u},g.querySelector(x)===null&&(u=g.createElement("link"),gr(u,"link",s),wn(u),g.head.appendChild(u)))}}function aj(s){Oo.D(s),d3("dns-prefetch",s,null)}function oj(s,u){Oo.C(s,u),d3("preconnect",s,u)}function sj(s,u,h){Oo.L(s,u,h);var g=Rc;if(g&&s&&u){var x='link[rel="preload"][as="'+Gr(u)+'"]';u==="image"&&h&&h.imageSrcSet?(x+='[imagesrcset="'+Gr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(x+='[imagesizes="'+Gr(h.imageSizes)+'"]')):x+='[href="'+Gr(s)+'"]';var b=x;switch(u){case"style":b=Pc(s);break;case"script":b=Dc(s)}Ui.has(b)||(s=p({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:s,as:u},h),Ui.set(b,s),g.querySelector(x)!==null||u==="style"&&g.querySelector(Dh(b))||u==="script"&&g.querySelector(Nh(b))||(u=g.createElement("link"),gr(u,"link",s),wn(u),g.head.appendChild(u)))}}function lj(s,u){Oo.m(s,u);var h=Rc;if(h&&s){var g=u&&typeof u.as=="string"?u.as:"script",x='link[rel="modulepreload"][as="'+Gr(g)+'"][href="'+Gr(s)+'"]',b=x;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Dc(s)}if(!Ui.has(b)&&(s=p({rel:"modulepreload",href:s},u),Ui.set(b,s),h.querySelector(x)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Nh(b)))return}g=h.createElement("link"),gr(g,"link",s),wn(g),h.head.appendChild(g)}}}function uj(s,u,h){Oo.S(s,u,h);var g=Rc;if(g&&s){var x=Na(g).hoistableStyles,b=Pc(s);u=u||"default";var O=x.get(b);if(!O){var j={loading:0,preload:null};if(O=g.querySelector(Dh(b)))j.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":u},h),(h=Ui.get(b))&&Zy(s,h);var q=O=g.createElement("link");wn(q),gr(q,"link",s),q._p=new Promise(function(J,oe){q.onload=J,q.onerror=oe}),q.addEventListener("load",function(){j.loading|=1}),q.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Lp(O,u,g)}O={type:"stylesheet",instance:O,count:1,state:j},x.set(b,O)}}}function cj(s,u){Oo.X(s,u);var h=Rc;if(h&&s){var g=Na(h).hoistableScripts,x=Dc(s),b=g.get(x);b||(b=h.querySelector(Nh(x)),b||(s=p({src:s,async:!0},u),(u=Ui.get(x))&&Jy(s,u),b=h.createElement("script"),wn(b),gr(b,"link",s),h.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},g.set(x,b))}}function fj(s,u){Oo.M(s,u);var h=Rc;if(h&&s){var g=Na(h).hoistableScripts,x=Dc(s),b=g.get(x);b||(b=h.querySelector(Nh(x)),b||(s=p({src:s,async:!0,type:"module"},u),(u=Ui.get(x))&&Jy(s,u),b=h.createElement("script"),wn(b),gr(b,"link",s),h.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},g.set(x,b))}}function p3(s,u,h,g){var x=(x=He.current)?kp(x):null;if(!x)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=Pc(h.href),h=Na(x).hoistableStyles,g=h.get(u),g||(g={type:"style",instance:null,count:0,state:null},h.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=Pc(h.href);var b=Na(x).hoistableStyles,O=b.get(s);if(O||(x=x.ownerDocument||x,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,O),(b=x.querySelector(Dh(s)))&&!b._p&&(O.instance=b,O.state.loading=5),Ui.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ui.set(s,h),b||hj(x,s,h,O.state))),u&&g===null)throw Error(r(528,""));return O}if(u&&g!==null)throw Error(r(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Dc(h),h=Na(x).hoistableScripts,g=h.get(u),g||(g={type:"script",instance:null,count:0,state:null},h.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Pc(s){return'href="'+Gr(s)+'"'}function Dh(s){return'link[rel="stylesheet"]['+s+"]"}function g3(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function hj(s,u,h,g){s.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=s.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),gr(u,"link",h),wn(u),s.head.appendChild(u))}function Dc(s){return'[src="'+Gr(s)+'"]'}function Nh(s){return"script[async]"+s}function v3(s,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var g=s.querySelector('style[data-href~="'+Gr(h.href)+'"]');if(g)return u.instance=g,wn(g),g;var x=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),wn(g),gr(g,"style",x),Lp(g,h.precedence,s),u.instance=g;case"stylesheet":x=Pc(h.href);var b=s.querySelector(Dh(x));if(b)return u.state.loading|=4,u.instance=b,wn(b),b;g=g3(h),(x=Ui.get(x))&&Zy(g,x),b=(s.ownerDocument||s).createElement("link"),wn(b);var O=b;return O._p=new Promise(function(j,q){O.onload=j,O.onerror=q}),gr(b,"link",g),u.state.loading|=4,Lp(b,h.precedence,s),u.instance=b;case"script":return b=Dc(h.src),(x=s.querySelector(Nh(b)))?(u.instance=x,wn(x),x):(g=h,(x=Ui.get(b))&&(g=p({},h),Jy(g,x)),s=s.ownerDocument||s,x=s.createElement("script"),wn(x),gr(x,"link",g),s.head.appendChild(x),u.instance=x);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,Lp(g,h.precedence,s));return u.instance}function Lp(s,u,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=g.length?g[g.length-1]:null,b=x,O=0;O<g.length;O++){var j=g[O];if(j.dataset.precedence===u)b=j;else if(b!==x)break}b?b.parentNode.insertBefore(s,b.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(s,u.firstChild))}function Zy(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.title==null&&(s.title=u.title)}function Jy(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.integrity==null&&(s.integrity=u.integrity)}var jp=null;function m3(s,u,h){if(jp===null){var g=new Map,x=jp=new Map;x.set(h,g)}else x=jp,g=x.get(h),g||(g=new Map,x.set(h,g));if(g.has(s))return g;for(g.set(s,null),h=h.getElementsByTagName(s),x=0;x<h.length;x++){var b=h[x];if(!(b[Pa]||b[bn]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var O=b.getAttribute(u)||"";O=s+O;var j=g.get(O);j?j.push(b):g.set(O,[b])}}return g}function y3(s,u,h){s=s.ownerDocument||s,s.head.insertBefore(h,u==="title"?s.querySelector("head > title"):null)}function dj(s,u,h){if(h===1||u.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return s=u.disabled,typeof u.precedence=="string"&&s==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function x3(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function pj(s,u,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var x=Pc(g.href),b=u.querySelector(Dh(x));if(b){u=b._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(s.count++,s=Bp.bind(s),u.then(s,s)),h.state.loading|=4,h.instance=b,wn(b);return}b=u.ownerDocument||u,g=g3(g),(x=Ui.get(x))&&Zy(g,x),b=b.createElement("link"),wn(b);var O=b;O._p=new Promise(function(j,q){O.onload=j,O.onerror=q}),gr(b,"link",g),h.instance=b}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(s.count++,h=Bp.bind(s),u.addEventListener("load",h),u.addEventListener("error",h))}}var e2=0;function gj(s,u){return s.stylesheets&&s.count===0&&Fp(s,s.stylesheets),0<s.count||0<s.imgCount?function(h){var g=setTimeout(function(){if(s.stylesheets&&Fp(s,s.stylesheets),s.unsuspend){var b=s.unsuspend;s.unsuspend=null,b()}},6e4+u);0<s.imgBytes&&e2===0&&(e2=62500*XL());var x=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Fp(s,s.stylesheets),s.unsuspend)){var b=s.unsuspend;s.unsuspend=null,b()}},(s.imgBytes>e2?50:800)+u);return s.unsuspend=h,function(){s.unsuspend=null,clearTimeout(g),clearTimeout(x)}}:null}function Bp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fp(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Vp=null;function Fp(s,u){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Vp=new Map,u.forEach(vj,s),Vp=null,Bp.call(s))}function vj(s,u){if(!(u.state.loading&4)){var h=Vp.get(s);if(h)var g=h.get(null);else{h=new Map,Vp.set(s,h);for(var x=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<x.length;b++){var O=x[b];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(h.set(O.dataset.precedence,O),g=O)}g&&h.set(null,g)}x=u.instance,O=x.getAttribute("data-precedence"),b=h.get(O)||g,b===g&&h.set(null,x),h.set(O,x),this.count++,g=Bp.bind(this),x.addEventListener("load",g),x.addEventListener("error",g),b?b.parentNode.insertBefore(x,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(x,s.firstChild)),u.state.loading|=4}}var Mh={$$typeof:R,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function mj(s,u,h,g,x,b,O,j,q){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oa(0),this.hiddenUpdates=Oa(null),this.identifierPrefix=g,this.onUncaughtError=x,this.onCaughtError=b,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function _3(s,u,h,g,x,b,O,j,q,J,oe,ue){return s=new mj(s,u,h,O,q,J,oe,ue,j),u=1,b===!0&&(u|=24),b=fi(3,null,null,u),s.current=b,b.stateNode=s,u=Nm(),u.refCount++,s.pooledCache=u,u.refCount++,b.memoizedState={element:g,isDehydrated:h,cache:u},jm(b),s}function b3(s){return s?(s=uc,s):uc}function w3(s,u,h,g,x,b){x=b3(x),g.context===null?g.context=x:g.pendingContext=x,g=bs(u),g.payload={element:h},b=b===void 0?null:b,b!==null&&(g.callback=b),h=ws(s,g,u),h!==null&&(Zr(h,s,u),hh(h,s,u))}function E3(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<u?h:u}}function t2(s,u){E3(s,u),(s=s.alternate)&&E3(s,u)}function A3(s){if(s.tag===13||s.tag===31){var u=Gl(s,67108864);u!==null&&Zr(u,s,67108864),t2(s,67108864)}}function S3(s){if(s.tag===13||s.tag===31){var u=vi();u=Ml(u);var h=Gl(s,u);h!==null&&Zr(h,s,u),t2(s,u)}}var Up=!0;function yj(s,u,h,g){var x=Y.T;Y.T=null;var b=se.p;try{se.p=2,n2(s,u,h,g)}finally{se.p=b,Y.T=x}}function xj(s,u,h,g){var x=Y.T;Y.T=null;var b=se.p;try{se.p=8,n2(s,u,h,g)}finally{se.p=b,Y.T=x}}function n2(s,u,h,g){if(Up){var x=r2(g);if(x===null)zy(s,u,g,zp,h),C3(s,g);else if(bj(x,s,u,h,g))g.stopPropagation();else if(C3(s,g),u&4&&-1<_j.indexOf(s)){for(;x!==null;){var b=Ri(x);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var O=Ca(b.pendingLanes);if(O!==0){var j=b;for(j.pendingLanes|=2,j.entangledLanes|=2;O;){var q=1<<31-fn(O);j.entanglements[1]|=q,O&=~q}Ga(b),(mt&6)===0&&(Ap=Br()+500,Ih(0))}}break;case 31:case 13:j=Gl(b,2),j!==null&&Zr(j,b,2),Tp(),t2(b,2)}if(b=r2(g),b===null&&zy(s,u,g,zp,h),b===x)break;x=b}x!==null&&g.stopPropagation()}else zy(s,u,g,null,h)}}function r2(s){return s=Pi(s),i2(s)}var zp=null;function i2(s){if(zp=null,s=Da(s),s!==null){var u=a(s);if(u===null)s=null;else{var h=u.tag;if(h===13){if(s=o(u),s!==null)return s;s=null}else if(h===31){if(s=l(u),s!==null)return s;s=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null)}}return zp=s,null}function T3(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rl()){case jf:return 2;case Bf:return 8;case os:case cm:return 32;case _0:return 268435456;default:return 32}default:return 32}}var a2=!1,Ns=null,Ms=null,ks=null,kh=new Map,Lh=new Map,Ls=[],_j="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C3(s,u){switch(s){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":kh.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lh.delete(u.pointerId)}}function jh(s,u,h,g,x,b){return s===null||s.nativeEvent!==b?(s={blockedOn:u,domEventName:h,eventSystemFlags:g,nativeEvent:b,targetContainers:[x]},u!==null&&(u=Ri(u),u!==null&&A3(u)),s):(s.eventSystemFlags|=g,u=s.targetContainers,x!==null&&u.indexOf(x)===-1&&u.push(x),s)}function bj(s,u,h,g,x){switch(u){case"focusin":return Ns=jh(Ns,s,u,h,g,x),!0;case"dragenter":return Ms=jh(Ms,s,u,h,g,x),!0;case"mouseover":return ks=jh(ks,s,u,h,g,x),!0;case"pointerover":var b=x.pointerId;return kh.set(b,jh(kh.get(b)||null,s,u,h,g,x)),!0;case"gotpointercapture":return b=x.pointerId,Lh.set(b,jh(Lh.get(b)||null,s,u,h,g,x)),!0}return!1}function I3(s){var u=Da(s.target);if(u!==null){var h=a(u);if(h!==null){if(u=h.tag,u===13){if(u=o(h),u!==null){s.blockedOn=u,aa(s.priority,function(){S3(h)});return}}else if(u===31){if(u=l(h),u!==null){s.blockedOn=u,aa(s.priority,function(){S3(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Hp(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var h=r2(s.nativeEvent);if(h===null){h=s.nativeEvent;var g=new h.constructor(h.type,h);Yf=g,h.target.dispatchEvent(g),Yf=null}else return u=Ri(h),u!==null&&A3(u),s.blockedOn=h,!1;u.shift()}return!0}function O3(s,u,h){Hp(s)&&h.delete(u)}function wj(){a2=!1,Ns!==null&&Hp(Ns)&&(Ns=null),Ms!==null&&Hp(Ms)&&(Ms=null),ks!==null&&Hp(ks)&&(ks=null),kh.forEach(O3),Lh.forEach(O3)}function $p(s,u){s.blockedOn===u&&(s.blockedOn=null,a2||(a2=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wj)))}var qp=null;function R3(s){qp!==s&&(qp=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){qp===s&&(qp=null);for(var u=0;u<s.length;u+=3){var h=s[u],g=s[u+1],x=s[u+2];if(typeof g!="function"){if(i2(g||h)===null)continue;break}var b=Ri(h);b!==null&&(s.splice(u,3),u-=3,ry(b,{pending:!0,data:x,method:h.method,action:g},g,x))}}))}function Nc(s){function u(q){return $p(q,s)}Ns!==null&&$p(Ns,s),Ms!==null&&$p(Ms,s),ks!==null&&$p(ks,s),kh.forEach(u),Lh.forEach(u);for(var h=0;h<Ls.length;h++){var g=Ls[h];g.blockedOn===s&&(g.blockedOn=null)}for(;0<Ls.length&&(h=Ls[0],h.blockedOn===null);)I3(h),h.blockedOn===null&&Ls.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var x=h[g],b=h[g+1],O=x[Zn]||null;if(typeof b=="function")O||R3(h);else if(O){var j=null;if(b&&b.hasAttribute("formAction")){if(x=b,O=b[Zn]||null)j=O.formAction;else if(i2(x)!==null)continue}else j=O.action;typeof j=="function"?h[g+1]=j:(h.splice(g,3),g-=3),R3(h)}}}function P3(){function s(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(O){return x=O})},focusReset:"manual",scroll:"manual"})}function u(){x!==null&&(x(),x=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,x=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),x!==null&&(x(),x=null)}}}function o2(s){this._internalRoot=s}Gp.prototype.render=o2.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(r(409));var h=u.current,g=vi();w3(h,g,s,u,null,null)},Gp.prototype.unmount=o2.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;w3(s.current,2,null,s,null,null),Tp(),u[Ra]=null}};function Gp(s){this._internalRoot=s}Gp.prototype.unstable_scheduleHydration=function(s){if(s){var u=T0();s={blockedOn:null,target:s,priority:u};for(var h=0;h<Ls.length&&u!==0&&u<Ls[h].priority;h++);Ls.splice(h,0,s),h===0&&I3(s)}};var D3=e.version;if(D3!=="19.2.0")throw Error(r(527,D3,"19.2.0"));se.findDOMNode=function(s){var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(u),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var Ej={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kp.isDisabled&&Kp.supportsFiber)try{ra=Kp.inject(Ej),cr=Kp}catch{}}return Vh.createRoot=function(s,u){if(!i(s))throw Error(r(299));var h=!1,g="",x=VT,b=FT,O=UT;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(b=u.onCaughtError),u.onRecoverableError!==void 0&&(O=u.onRecoverableError)),u=_3(s,1,!1,null,null,h,g,null,x,b,O,P3),s[Ra]=u.current,Uy(s),new o2(u)},Vh.hydrateRoot=function(s,u,h){if(!i(s))throw Error(r(299));var g=!1,x="",b=VT,O=FT,j=UT,q=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(x=h.identifierPrefix),h.onUncaughtError!==void 0&&(b=h.onUncaughtError),h.onCaughtError!==void 0&&(O=h.onCaughtError),h.onRecoverableError!==void 0&&(j=h.onRecoverableError),h.formState!==void 0&&(q=h.formState)),u=_3(s,1,!0,u,h??null,g,x,q,b,O,j,P3),u.context=b3(null),h=u.current,g=vi(),g=Ml(g),x=bs(g),x.callback=null,ws(h,x,g),h=g,u.current.lanes=h,Dl(u,h),Ga(u),s[Ra]=u.current,Uy(s),new Gp(u)},Vh.version="19.2.0",Vh}var z3;function Mj(){if(z3)return u2.exports;z3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),u2.exports=Nj(),u2.exports}var kj=Mj();const Lj=so(kj),jj=({title:t})=>A.jsx("header",{children:t});var hP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},H3=Mr.createContext&&Mr.createContext(hP),Bj=["attr","size","title"];function Vj(t,e){if(t==null)return{};var n=Fj(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fj(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function V1(){return V1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V1.apply(this,arguments)}function $3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$3(Object(n),!0).forEach(function(r){Uj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uj(t,e,n){return e=zj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zj(t){var e=Hj(t,"string");return typeof e=="symbol"?e:e+""}function Hj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dP(t){return t&&t.map((e,n)=>Mr.createElement(e.tag,F1({key:n},e.attr),dP(e.child)))}function Be(t){return e=>Mr.createElement($j,V1({attr:F1({},t.attr)},e),dP(t.child))}function $j(t){var e=n=>{var{attr:r,size:i,title:a}=t,o=Vj(t,Bj),l=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),Mr.createElement("svg",V1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:F1(F1({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&Mr.createElement("title",null,a),t.children)};return H3!==void 0?Mr.createElement(H3.Consumer,null,n=>e(n)):e(hP)}function qj(t){return Be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function Gj(t){return Be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(t)}function Kg(t){return Be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function Kj(t){return Be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function Wj(t){return Be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function Wg(t){return Be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"},child:[]}]})(t)}function Xg(t){return Be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(t)}function Yg(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"},child:[]}]})(t)}function Yb(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(t)}function Xj(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"},child:[]}]})(t)}function Fd(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function Yj(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"},child:[]}]})(t)}function Qj(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"},child:[]}]})(t)}function Zj(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"},child:[]}]})(t)}function Jj(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2 11.7V16h-4v-2.3C8.48 12.63 7 11.53 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.49-1.51 3.65-3 4.7z"},child:[]}]})(t)}function eB(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"},child:[]}]})(t)}function tB(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z"},child:[]}]})(t)}function nB(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(t)}function pP(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"},child:[]}]})(t)}function rB(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(t)}function Qg(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49A1.003 1.003 0 0 0 20 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(t)}function iB(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"},child:[]}]})(t)}function gP(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"},child:[]}]})(t)}function aB(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"},child:[]}]})(t)}function oB(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(t)}function sB(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9.5 6.5v3h-3v-3h3M11 5H5v6h6V5zm-1.5 9.5v3h-3v-3h3M11 13H5v6h6v-6zm6.5-6.5v3h-3v-3h3M19 5h-6v6h6V5zm-6 8h1.5v1.5H13V13zm1.5 1.5H16V16h-1.5v-1.5zM16 13h1.5v1.5H16V13zm-3 3h1.5v1.5H13V16zm1.5 1.5H16V19h-1.5v-1.5zM16 16h1.5v1.5H16V16zm1.5-1.5H19V16h-1.5v-1.5zm0 3H19V19h-1.5v-1.5zM22 7h-2V4h-3V2h5v5zm0 15v-5h-2v3h-3v2h5zM2 22h5v-2H4v-3H2v5zM2 2v5h2V4h3V2H2z"},child:[]}]})(t)}function vP(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(t)}function Yc(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2zm-5 12H9v-2h6v2zm5-7H4V4l16-.02V7z"},child:[]}]})(t)}function mP(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(t)}function lB(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"},child:[]}]})(t)}function uB(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"},child:[]}]})(t)}function cB(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M4 9h4v11H4zM16 13h4v7h-4zM10 4h4v16h-4z"},child:[]}]})(t)}function d_(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"},child:[]}]})(t)}function Qb(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m9.4 10.5 4.77-8.26a9.984 9.984 0 0 0-8.49 2.01l3.66 6.35.06-.1zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9h9.66zm.26 1h-7.49l.29.5 4.76 8.25A9.91 9.91 0 0 0 22 12c0-.69-.07-1.35-.2-2zM8.54 12l-3.9-6.75A9.958 9.958 0 0 0 2.2 14h7.49l-1.15-2zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15H2.46zm11.27 0-3.9 6.76a9.984 9.984 0 0 0 8.49-2.01l-3.66-6.35-.93 1.6z"},child:[]}]})(t)}function fB(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(t)}function hB(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3.2"},child:[]},{tag:"path",attr:{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"},child:[]}]})(t)}function U1(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m8.1 13.34 2.83-2.83L3.91 3.5a4.008 4.008 0 0 0 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z"},child:[]}]})(t)}function Zb(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z"},child:[]}]})(t)}function dB(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},child:[]}]})(t)}function pB(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"},child:[]}]})(t)}function gB(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"},child:[]}]})(t)}function Zg(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(t)}function vB(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},child:[]}]})(t)}function mB(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(t)}function yB(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"},child:[]}]})(t)}function p_(t){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},child:[]}]})(t)}const xB=({currentScreen:t,onNavigate:e})=>{const n=[{screen:"home",icon:A.jsx(Kj,{size:24}),label:"ホーム"},{screen:"meals",icon:A.jsx(Zb,{size:24}),label:"食事"},{screen:"barcode",icon:A.jsx(Gj,{size:24}),label:"スキャン"},{screen:"report",icon:A.jsx(qj,{size:24}),label:"レポート"},{screen:"settings",icon:A.jsx(Wj,{size:24}),label:"設定"}];return A.jsx("nav",{id:"bottomNav",children:n.map(r=>A.jsxs("button",{className:`nav-item ${t===r.screen?"active":""}`,onClick:()=>e(r.screen),children:[A.jsx("span",{children:r.icon}),A.jsx("span",{children:r.label})]},r.screen))})},q3=t=>{let e;const n=new Set,r=(f,d)=>{const p=typeof f=="function"?f(e):f;if(!Object.is(p,e)){const v=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(m=>m(e,v))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f))},c=e=t(r,i,l);return l},_B=(t=>t?q3(t):q3),bB=t=>t;function wB(t,e=bB){const n=Mr.useSyncExternalStore(t.subscribe,Mr.useCallback(()=>e(t.getState()),[t,e]),Mr.useCallback(()=>e(t.getInitialState()),[t,e]));return Mr.useDebugValue(n),n}const G3=t=>{const e=_B(t),n=r=>wB(e,r);return Object.assign(n,e),n},vf=(t=>t?G3(t):G3);function Cu(t,e){try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return console.error(`localStorage取得エラー (${t}):`,n),e}}function Yt(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error(`localStorage保存エラー (${t}):`,n)}}const _t={INTAKES:"intakes",EXPENSES:"expenses",STOCKS:"stocks",SHOPPING:"shopping",RECIPE_HISTORY:"recipeHistory",FAVORITE_RECIPES:"favoriteRecipes",SETTINGS:"settings"},vr=[];for(let t=0;t<256;++t)vr.push((t+256).toString(16).slice(1));function EB(t,e=0){return(vr[t[e+0]]+vr[t[e+1]]+vr[t[e+2]]+vr[t[e+3]]+"-"+vr[t[e+4]]+vr[t[e+5]]+"-"+vr[t[e+6]]+vr[t[e+7]]+"-"+vr[t[e+8]]+vr[t[e+9]]+"-"+vr[t[e+10]]+vr[t[e+11]]+vr[t[e+12]]+vr[t[e+13]]+vr[t[e+14]]+vr[t[e+15]]).toLowerCase()}let d2;const AB=new Uint8Array(16);function SB(){if(!d2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");d2=crypto.getRandomValues.bind(crypto)}return d2(AB)}const TB=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),K3={randomUUID:TB};function CB(t,e,n){t=t||{};const r=t.random??t.rng?.()??SB();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,EB(r)}function IB(t,e,n){return K3.randomUUID&&!t?K3.randomUUID():CB(t)}function Ys(){return IB()}const OB=()=>{};var W3={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},RB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},xP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,d=a>>2,p=(a&3)<<4|l>>4;let v=(l&15)<<2|f>>6,m=f&63;c||(m=64,o||(v=64)),r.push(n[d],n[p],n[v],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||f==null||p==null)throw new PB;const v=a<<2|l>>4;if(r.push(v),f!==64){const m=l<<4&240|f>>2;if(r.push(m),p!==64){const _=f<<6&192|p;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DB=function(t){const e=yP(t);return xP.encodeByteArray(e,!0)},z1=function(t){return DB(t).replace(/\./g,"")},_P=function(t){try{return xP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=()=>NB().__FIREBASE_DEFAULTS__,kB=()=>{if(typeof process>"u"||typeof W3>"u")return;const t=W3.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_P(t[1]);return e&&JSON.parse(e)},Jg=()=>{try{return OB()||MB()||kB()||LB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bP=t=>Jg()?.emulatorHosts?.[t],jB=t=>{const e=bP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wP=()=>Jg()?.config,EP=t=>Jg()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AP(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[z1(JSON.stringify(n)),z1(JSON.stringify(o)),""].join(".")}const cd={};function FB(){const t={prod:[],emulator:[]};for(const e of Object.keys(cd))cd[e]?t.emulator.push(e):t.prod.push(e);return t}function UB(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let X3=!1;function SP(t,e){if(typeof window>"u"||typeof document>"u"||!mf(window.location.host)||cd[t]===e||cd[t]||X3)return;cd[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=FB().prod.length>0;function o(){const v=document.getElementById(r);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,m){v.setAttribute("width","24"),v.setAttribute("id",m),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{X3=!0,o()},v}function d(v,m){v.setAttribute("id",m),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=UB(r),m=n("text"),_=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),E=document.getElementById(w)||document.createElement("a"),S=n("preprendIcon"),I=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const R=v.element;l(R),d(E,w);const M=f();c(I,S),R.append(I,_,E,M),document.body.appendChild(R)}a?(_.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lr())}function HB(){const t=Jg()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $B(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KB(){const t=Lr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WB(){return!HB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XB(){try{return typeof indexedDB=="object"}catch{return!1}}function YB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB="FirebaseError";class Xo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QB,Object.setPrototypeOf(this,Xo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ud.prototype.create)}}class Ud{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?ZB(a,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Xo(i,l,r)}}function ZB(t,e){return t.replace(JB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const JB=/\{\$([^}]+)}/g;function eV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Iu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(Y3(a)&&Y3(o)){if(!Iu(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Y3(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Jh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function tV(t,e){const n=new nV(t,e);return n.subscribe.bind(n)}class nV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=p2),i.error===void 0&&(i.error=p2),i.complete===void 0&&(i.complete=p2);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function p2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(t){return t&&t._delegate?t._delegate:t}class Ou{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iV=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new BB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oV(e))try{this.getOrInitializeService({instanceIdentifier:lu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=lu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lu){return this.instances.has(e)}getOptions(e=lu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lu){return this.component?this.component.multipleInstances?e:lu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function aV(t){return t===lu?void 0:t}function oV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const lV={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},uV=rt.INFO,cV={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},fV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=cV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jb{constructor(e){this.name=e,this._logLevel=uV,this._logHandler=fV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const hV=(t,e)=>e.some(n=>t instanceof n);let Q3,Z3;function dV(){return Q3||(Q3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pV(){return Z3||(Z3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TP=new WeakMap,g_=new WeakMap,CP=new WeakMap,g2=new WeakMap,ew=new WeakMap;function gV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Qs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&TP.set(n,t)}).catch(()=>{}),ew.set(e,t),e}function vV(t){if(g_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});g_.set(t,e)}let v_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return g_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mV(t){v_=t(v_)}function yV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(v2(this),e,...n);return CP.set(r,e.sort?e.sort():[e]),Qs(r)}:pV().includes(t)?function(...e){return t.apply(v2(this),e),Qs(TP.get(this))}:function(...e){return Qs(t.apply(v2(this),e))}}function xV(t){return typeof t=="function"?yV(t):(t instanceof IDBTransaction&&vV(t),hV(t,dV())?new Proxy(t,v_):t)}function Qs(t){if(t instanceof IDBRequest)return gV(t);if(g2.has(t))return g2.get(t);const e=xV(t);return e!==t&&(g2.set(t,e),ew.set(e,t)),e}const v2=t=>ew.get(t);function _V(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=Qs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Qs(o.result),c.oldVersion,c.newVersion,Qs(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const bV=["get","getKey","getAll","getAllKeys","count"],wV=["put","add","delete","clear"],m2=new Map;function J3(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(m2.get(e))return m2.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=wV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bV.includes(n)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return m2.set(e,a),a}mV(t=>({...t,get:(e,n,r)=>J3(e,n)||t.get(e,n,r),has:(e,n)=>!!J3(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AV(t){return t.getComponent()?.type==="VERSION"}const m_="@firebase/app",e4="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=new Jb("@firebase/app"),SV="@firebase/app-compat",TV="@firebase/analytics-compat",CV="@firebase/analytics",IV="@firebase/app-check-compat",OV="@firebase/app-check",RV="@firebase/auth",PV="@firebase/auth-compat",DV="@firebase/database",NV="@firebase/data-connect",MV="@firebase/database-compat",kV="@firebase/functions",LV="@firebase/functions-compat",jV="@firebase/installations",BV="@firebase/installations-compat",VV="@firebase/messaging",FV="@firebase/messaging-compat",UV="@firebase/performance",zV="@firebase/performance-compat",HV="@firebase/remote-config",$V="@firebase/remote-config-compat",qV="@firebase/storage",GV="@firebase/storage-compat",KV="@firebase/firestore",WV="@firebase/ai",XV="@firebase/firestore-compat",YV="firebase",QV="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="[DEFAULT]",ZV={[m_]:"fire-core",[SV]:"fire-core-compat",[CV]:"fire-analytics",[TV]:"fire-analytics-compat",[OV]:"fire-app-check",[IV]:"fire-app-check-compat",[RV]:"fire-auth",[PV]:"fire-auth-compat",[DV]:"fire-rtdb",[NV]:"fire-data-connect",[MV]:"fire-rtdb-compat",[kV]:"fire-fn",[LV]:"fire-fn-compat",[jV]:"fire-iid",[BV]:"fire-iid-compat",[VV]:"fire-fcm",[FV]:"fire-fcm-compat",[UV]:"fire-perf",[zV]:"fire-perf-compat",[HV]:"fire-rc",[$V]:"fire-rc-compat",[qV]:"fire-gcs",[GV]:"fire-gcs-compat",[KV]:"fire-fst",[XV]:"fire-fst-compat",[WV]:"fire-vertex","fire-js":"fire-js",[YV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=new Map,JV=new Map,x_=new Map;function t4(t,e){try{t.container.addComponent(e)}catch(n){Fo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qc(t){const e=t.name;if(x_.has(e))return Fo.debug(`There were multiple attempts to register component ${e}.`),!1;x_.set(e,t);for(const n of H1.values())t4(n,t);for(const n of JV.values())t4(n,t);return!0}function tw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new Ud("app","Firebase",eF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ou("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=QV;function IP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:y_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Zs.create("bad-app-name",{appName:String(i)});if(n||(n=wP()),!n)throw Zs.create("no-options");const a=H1.get(i);if(a){if(Iu(n,a.options)&&Iu(r,a.config))return a;throw Zs.create("duplicate-app",{appName:i})}const o=new sV(i);for(const c of x_.values())o.addComponent(c);const l=new tF(n,r,o);return H1.set(i,l),l}function OP(t=y_){const e=H1.get(t);if(!e&&t===y_&&wP())return IP();if(!e)throw Zs.create("no-app",{appName:t});return e}function Js(t,e,n){let r=ZV[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fo.warn(o.join(" "));return}Qc(new Ou(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF="firebase-heartbeat-database",rF=1,xd="firebase-heartbeat-store";let y2=null;function RP(){return y2||(y2=_V(nF,rF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zs.create("idb-open",{originalErrorMessage:t.message})})),y2}async function iF(t){try{const n=(await RP()).transaction(xd),r=await n.objectStore(xd).get(PP(t));return await n.done,r}catch(e){if(e instanceof Xo)Fo.warn(e.message);else{const n=Zs.create("idb-get",{originalErrorMessage:e?.message});Fo.warn(n.message)}}}async function n4(t,e){try{const r=(await RP()).transaction(xd,"readwrite");await r.objectStore(xd).put(e,PP(t)),await r.done}catch(n){if(n instanceof Xo)Fo.warn(n.message);else{const r=Zs.create("idb-set",{originalErrorMessage:n?.message});Fo.warn(r.message)}}}function PP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=1024,oF=30;class sF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=r4();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>oF){const i=cF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Fo.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=r4(),{heartbeatsToSend:n,unsentEntries:r}=lF(this._heartbeatsCache.heartbeats),i=z1(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Fo.warn(e),""}}}function r4(){return new Date().toISOString().substring(0,10)}function lF(t,e=aF){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),i4(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),i4(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XB()?YB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return n4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return n4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function i4(t){return z1(JSON.stringify({version:2,heartbeats:t})).length}function cF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t){Qc(new Ou("platform-logger",e=>new EV(e),"PRIVATE")),Qc(new Ou("heartbeat",e=>new sF(e),"PRIVATE")),Js(m_,e4,t),Js(m_,e4,"esm2020"),Js("fire-js","")}fF("");var a4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var el,DP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,N){function L(){}L.prototype=N.prototype,D.F=N.prototype,D.prototype=new L,D.prototype.constructor=D,D.D=function(z,U,H){for(var F=Array(arguments.length-2),de=2;de<arguments.length;de++)F[de-2]=arguments[de];return N.prototype[U].apply(z,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,N,L){L||(L=0);const z=Array(16);if(typeof N=="string")for(var U=0;U<16;++U)z[U]=N.charCodeAt(L++)|N.charCodeAt(L++)<<8|N.charCodeAt(L++)<<16|N.charCodeAt(L++)<<24;else for(U=0;U<16;++U)z[U]=N[L++]|N[L++]<<8|N[L++]<<16|N[L++]<<24;N=D.g[0],L=D.g[1],U=D.g[2];let H=D.g[3],F;F=N+(H^L&(U^H))+z[0]+3614090360&4294967295,N=L+(F<<7&4294967295|F>>>25),F=H+(U^N&(L^U))+z[1]+3905402710&4294967295,H=N+(F<<12&4294967295|F>>>20),F=U+(L^H&(N^L))+z[2]+606105819&4294967295,U=H+(F<<17&4294967295|F>>>15),F=L+(N^U&(H^N))+z[3]+3250441966&4294967295,L=U+(F<<22&4294967295|F>>>10),F=N+(H^L&(U^H))+z[4]+4118548399&4294967295,N=L+(F<<7&4294967295|F>>>25),F=H+(U^N&(L^U))+z[5]+1200080426&4294967295,H=N+(F<<12&4294967295|F>>>20),F=U+(L^H&(N^L))+z[6]+2821735955&4294967295,U=H+(F<<17&4294967295|F>>>15),F=L+(N^U&(H^N))+z[7]+4249261313&4294967295,L=U+(F<<22&4294967295|F>>>10),F=N+(H^L&(U^H))+z[8]+1770035416&4294967295,N=L+(F<<7&4294967295|F>>>25),F=H+(U^N&(L^U))+z[9]+2336552879&4294967295,H=N+(F<<12&4294967295|F>>>20),F=U+(L^H&(N^L))+z[10]+4294925233&4294967295,U=H+(F<<17&4294967295|F>>>15),F=L+(N^U&(H^N))+z[11]+2304563134&4294967295,L=U+(F<<22&4294967295|F>>>10),F=N+(H^L&(U^H))+z[12]+1804603682&4294967295,N=L+(F<<7&4294967295|F>>>25),F=H+(U^N&(L^U))+z[13]+4254626195&4294967295,H=N+(F<<12&4294967295|F>>>20),F=U+(L^H&(N^L))+z[14]+2792965006&4294967295,U=H+(F<<17&4294967295|F>>>15),F=L+(N^U&(H^N))+z[15]+1236535329&4294967295,L=U+(F<<22&4294967295|F>>>10),F=N+(U^H&(L^U))+z[1]+4129170786&4294967295,N=L+(F<<5&4294967295|F>>>27),F=H+(L^U&(N^L))+z[6]+3225465664&4294967295,H=N+(F<<9&4294967295|F>>>23),F=U+(N^L&(H^N))+z[11]+643717713&4294967295,U=H+(F<<14&4294967295|F>>>18),F=L+(H^N&(U^H))+z[0]+3921069994&4294967295,L=U+(F<<20&4294967295|F>>>12),F=N+(U^H&(L^U))+z[5]+3593408605&4294967295,N=L+(F<<5&4294967295|F>>>27),F=H+(L^U&(N^L))+z[10]+38016083&4294967295,H=N+(F<<9&4294967295|F>>>23),F=U+(N^L&(H^N))+z[15]+3634488961&4294967295,U=H+(F<<14&4294967295|F>>>18),F=L+(H^N&(U^H))+z[4]+3889429448&4294967295,L=U+(F<<20&4294967295|F>>>12),F=N+(U^H&(L^U))+z[9]+568446438&4294967295,N=L+(F<<5&4294967295|F>>>27),F=H+(L^U&(N^L))+z[14]+3275163606&4294967295,H=N+(F<<9&4294967295|F>>>23),F=U+(N^L&(H^N))+z[3]+4107603335&4294967295,U=H+(F<<14&4294967295|F>>>18),F=L+(H^N&(U^H))+z[8]+1163531501&4294967295,L=U+(F<<20&4294967295|F>>>12),F=N+(U^H&(L^U))+z[13]+2850285829&4294967295,N=L+(F<<5&4294967295|F>>>27),F=H+(L^U&(N^L))+z[2]+4243563512&4294967295,H=N+(F<<9&4294967295|F>>>23),F=U+(N^L&(H^N))+z[7]+1735328473&4294967295,U=H+(F<<14&4294967295|F>>>18),F=L+(H^N&(U^H))+z[12]+2368359562&4294967295,L=U+(F<<20&4294967295|F>>>12),F=N+(L^U^H)+z[5]+4294588738&4294967295,N=L+(F<<4&4294967295|F>>>28),F=H+(N^L^U)+z[8]+2272392833&4294967295,H=N+(F<<11&4294967295|F>>>21),F=U+(H^N^L)+z[11]+1839030562&4294967295,U=H+(F<<16&4294967295|F>>>16),F=L+(U^H^N)+z[14]+4259657740&4294967295,L=U+(F<<23&4294967295|F>>>9),F=N+(L^U^H)+z[1]+2763975236&4294967295,N=L+(F<<4&4294967295|F>>>28),F=H+(N^L^U)+z[4]+1272893353&4294967295,H=N+(F<<11&4294967295|F>>>21),F=U+(H^N^L)+z[7]+4139469664&4294967295,U=H+(F<<16&4294967295|F>>>16),F=L+(U^H^N)+z[10]+3200236656&4294967295,L=U+(F<<23&4294967295|F>>>9),F=N+(L^U^H)+z[13]+681279174&4294967295,N=L+(F<<4&4294967295|F>>>28),F=H+(N^L^U)+z[0]+3936430074&4294967295,H=N+(F<<11&4294967295|F>>>21),F=U+(H^N^L)+z[3]+3572445317&4294967295,U=H+(F<<16&4294967295|F>>>16),F=L+(U^H^N)+z[6]+76029189&4294967295,L=U+(F<<23&4294967295|F>>>9),F=N+(L^U^H)+z[9]+3654602809&4294967295,N=L+(F<<4&4294967295|F>>>28),F=H+(N^L^U)+z[12]+3873151461&4294967295,H=N+(F<<11&4294967295|F>>>21),F=U+(H^N^L)+z[15]+530742520&4294967295,U=H+(F<<16&4294967295|F>>>16),F=L+(U^H^N)+z[2]+3299628645&4294967295,L=U+(F<<23&4294967295|F>>>9),F=N+(U^(L|~H))+z[0]+4096336452&4294967295,N=L+(F<<6&4294967295|F>>>26),F=H+(L^(N|~U))+z[7]+1126891415&4294967295,H=N+(F<<10&4294967295|F>>>22),F=U+(N^(H|~L))+z[14]+2878612391&4294967295,U=H+(F<<15&4294967295|F>>>17),F=L+(H^(U|~N))+z[5]+4237533241&4294967295,L=U+(F<<21&4294967295|F>>>11),F=N+(U^(L|~H))+z[12]+1700485571&4294967295,N=L+(F<<6&4294967295|F>>>26),F=H+(L^(N|~U))+z[3]+2399980690&4294967295,H=N+(F<<10&4294967295|F>>>22),F=U+(N^(H|~L))+z[10]+4293915773&4294967295,U=H+(F<<15&4294967295|F>>>17),F=L+(H^(U|~N))+z[1]+2240044497&4294967295,L=U+(F<<21&4294967295|F>>>11),F=N+(U^(L|~H))+z[8]+1873313359&4294967295,N=L+(F<<6&4294967295|F>>>26),F=H+(L^(N|~U))+z[15]+4264355552&4294967295,H=N+(F<<10&4294967295|F>>>22),F=U+(N^(H|~L))+z[6]+2734768916&4294967295,U=H+(F<<15&4294967295|F>>>17),F=L+(H^(U|~N))+z[13]+1309151649&4294967295,L=U+(F<<21&4294967295|F>>>11),F=N+(U^(L|~H))+z[4]+4149444226&4294967295,N=L+(F<<6&4294967295|F>>>26),F=H+(L^(N|~U))+z[11]+3174756917&4294967295,H=N+(F<<10&4294967295|F>>>22),F=U+(N^(H|~L))+z[2]+718787259&4294967295,U=H+(F<<15&4294967295|F>>>17),F=L+(H^(U|~N))+z[9]+3951481745&4294967295,D.g[0]=D.g[0]+N&4294967295,D.g[1]=D.g[1]+(U+(F<<21&4294967295|F>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+H&4294967295}r.prototype.v=function(D,N){N===void 0&&(N=D.length);const L=N-this.blockSize,z=this.C;let U=this.h,H=0;for(;H<N;){if(U==0)for(;H<=L;)i(this,D,H),H+=this.blockSize;if(typeof D=="string"){for(;H<N;)if(z[U++]=D.charCodeAt(H++),U==this.blockSize){i(this,z),U=0;break}}else for(;H<N;)if(z[U++]=D[H++],U==this.blockSize){i(this,z),U=0;break}}this.h=U,this.o+=N},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var N=1;N<D.length-8;++N)D[N]=0;N=this.o*8;for(var L=D.length-8;L<D.length;++L)D[L]=N&255,N/=256;for(this.v(D),D=Array(16),N=0,L=0;L<4;++L)for(let z=0;z<32;z+=8)D[N++]=this.g[L]>>>z&255;return D};function a(D,N){var L=l;return Object.prototype.hasOwnProperty.call(L,D)?L[D]:L[D]=N(D)}function o(D,N){this.h=N;const L=[];let z=!0;for(let U=D.length-1;U>=0;U--){const H=D[U]|0;z&&H==N||(L[U]=H,z=!1)}this.g=L}var l={};function c(D){return-128<=D&&D<128?a(D,function(N){return new o([N|0],N<0?-1:0)}):new o([D|0],D<0?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return p;if(D<0)return E(f(-D));const N=[];let L=1;for(let z=0;D>=L;z++)N[z]=D/L|0,L*=4294967296;return new o(N,0)}function d(D,N){if(D.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(D.charAt(0)=="-")return E(d(D.substring(1),N));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const L=f(Math.pow(N,8));let z=p;for(let H=0;H<D.length;H+=8){var U=Math.min(8,D.length-H);const F=parseInt(D.substring(H,H+U),N);U<8?(U=f(Math.pow(N,U)),z=z.j(U).add(f(F))):(z=z.j(L),z=z.add(f(F)))}return z}var p=c(0),v=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-E(this).m();let D=0,N=1;for(let L=0;L<this.g.length;L++){const z=this.i(L);D+=(z>=0?z:4294967296+z)*N,N*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(_(this))return"0";if(w(this))return"-"+E(this).toString(D);const N=f(Math.pow(D,6));var L=this;let z="";for(;;){const U=M(L,N).g;L=S(L,U.j(N));let H=((L.g.length>0?L.g[0]:L.h)>>>0).toString(D);if(L=U,_(L))return H+z;for(;H.length<6;)H="0"+H;z=H+z}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function _(D){if(D.h!=0)return!1;for(let N=0;N<D.g.length;N++)if(D.g[N]!=0)return!1;return!0}function w(D){return D.h==-1}t.l=function(D){return D=S(this,D),w(D)?-1:_(D)?0:1};function E(D){const N=D.g.length,L=[];for(let z=0;z<N;z++)L[z]=~D.g[z];return new o(L,~D.h).add(v)}t.abs=function(){return w(this)?E(this):this},t.add=function(D){const N=Math.max(this.g.length,D.g.length),L=[];let z=0;for(let U=0;U<=N;U++){let H=z+(this.i(U)&65535)+(D.i(U)&65535),F=(H>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);z=F>>>16,H&=65535,F&=65535,L[U]=F<<16|H}return new o(L,L[L.length-1]&-2147483648?-1:0)};function S(D,N){return D.add(E(N))}t.j=function(D){if(_(this)||_(D))return p;if(w(this))return w(D)?E(this).j(E(D)):E(E(this).j(D));if(w(D))return E(this.j(E(D)));if(this.l(m)<0&&D.l(m)<0)return f(this.m()*D.m());const N=this.g.length+D.g.length,L=[];for(var z=0;z<2*N;z++)L[z]=0;for(z=0;z<this.g.length;z++)for(let U=0;U<D.g.length;U++){const H=this.i(z)>>>16,F=this.i(z)&65535,de=D.i(U)>>>16,be=D.i(U)&65535;L[2*z+2*U]+=F*be,I(L,2*z+2*U),L[2*z+2*U+1]+=H*be,I(L,2*z+2*U+1),L[2*z+2*U+1]+=F*de,I(L,2*z+2*U+1),L[2*z+2*U+2]+=H*de,I(L,2*z+2*U+2)}for(D=0;D<N;D++)L[D]=L[2*D+1]<<16|L[2*D];for(D=N;D<2*N;D++)L[D]=0;return new o(L,0)};function I(D,N){for(;(D[N]&65535)!=D[N];)D[N+1]+=D[N]>>>16,D[N]&=65535,N++}function R(D,N){this.g=D,this.h=N}function M(D,N){if(_(N))throw Error("division by zero");if(_(D))return new R(p,p);if(w(D))return N=M(E(D),N),new R(E(N.g),E(N.h));if(w(N))return N=M(D,E(N)),new R(E(N.g),N.h);if(D.g.length>30){if(w(D)||w(N))throw Error("slowDivide_ only works with positive integers.");for(var L=v,z=N;z.l(D)<=0;)L=k(L),z=k(z);var U=B(L,1),H=B(z,1);for(z=B(z,2),L=B(L,2);!_(z);){var F=H.add(z);F.l(D)<=0&&(U=U.add(L),H=F),z=B(z,1),L=B(L,1)}return N=S(D,U.j(N)),new R(U,N)}for(U=p;D.l(N)>=0;){for(L=Math.max(1,Math.floor(D.m()/N.m())),z=Math.ceil(Math.log(L)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),H=f(L),F=H.j(N);w(F)||F.l(D)>0;)L-=z,H=f(L),F=H.j(N);_(H)&&(H=v),U=U.add(H),D=S(D,F)}return new R(U,D)}t.B=function(D){return M(this,D).h},t.and=function(D){const N=Math.max(this.g.length,D.g.length),L=[];for(let z=0;z<N;z++)L[z]=this.i(z)&D.i(z);return new o(L,this.h&D.h)},t.or=function(D){const N=Math.max(this.g.length,D.g.length),L=[];for(let z=0;z<N;z++)L[z]=this.i(z)|D.i(z);return new o(L,this.h|D.h)},t.xor=function(D){const N=Math.max(this.g.length,D.g.length),L=[];for(let z=0;z<N;z++)L[z]=this.i(z)^D.i(z);return new o(L,this.h^D.h)};function k(D){const N=D.g.length+1,L=[];for(let z=0;z<N;z++)L[z]=D.i(z)<<1|D.i(z-1)>>>31;return new o(L,D.h)}function B(D,N){const L=N>>5;N%=32;const z=D.g.length-L,U=[];for(let H=0;H<z;H++)U[H]=N>0?D.i(H+L)>>>N|D.i(H+L+1)<<32-N:D.i(H+L);return new o(U,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,DP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=d,el=o}).apply(typeof a4<"u"?a4:typeof self<"u"?self:typeof window<"u"?window:{});var Wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NP,ed,MP,A1,__,kP,LP,jP;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wp=="object"&&Wp];for(var T=0;T<y.length;++T){var P=y[T];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(y,T){if(T)e:{var P=r;y=y.split(".");for(var V=0;V<y.length-1;V++){var X=y[V];if(!(X in P))break e;P=P[X]}y=y[y.length-1],V=P[y],T=T(V),T!=V&&T!=null&&e(P,y,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(T){var P=[],V;for(V in T)Object.prototype.hasOwnProperty.call(T,V)&&P.push([V,T[V]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(y){var T=typeof y;return T=="object"&&y!=null||T=="function"}function c(y,T,P){return y.call.apply(y.bind,arguments)}function f(y,T,P){return f=c,f.apply(null,arguments)}function d(y,T){var P=Array.prototype.slice.call(arguments,1);return function(){var V=P.slice();return V.push.apply(V,arguments),y.apply(this,V)}}function p(y,T){function P(){}P.prototype=T.prototype,y.Z=T.prototype,y.prototype=new P,y.prototype.constructor=y,y.Ob=function(V,X,re){for(var ge=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ge[$e-2]=arguments[$e];return T.prototype[X].apply(V,ge)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function m(y){const T=y.length;if(T>0){const P=Array(T);for(let V=0;V<T;V++)P[V]=y[V];return P}return[]}function _(y,T){for(let V=1;V<arguments.length;V++){const X=arguments[V];var P=typeof X;if(P=P!="object"?P:X?Array.isArray(X)?"array":P:"null",P=="array"||P=="object"&&typeof X.length=="number"){P=y.length||0;const re=X.length||0;y.length=P+re;for(let ge=0;ge<re;ge++)y[P+ge]=X[ge]}else y.push(X)}}class w{constructor(T,P){this.i=T,this.j=P,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function E(y){o.setTimeout(()=>{throw y},0)}function S(){var y=D;let T=null;return y.g&&(T=y.g,y.g=y.g.next,y.g||(y.h=null),T.next=null),T}class I{constructor(){this.h=this.g=null}add(T,P){const V=R.get();V.set(T,P),this.h?this.h.next=V:this.g=V,this.h=V}}var R=new w(()=>new M,y=>y.reset());class M{constructor(){this.next=this.g=this.h=null}set(T,P){this.h=T,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let k,B=!1,D=new I,N=()=>{const y=Promise.resolve(void 0);k=()=>{y.then(L)}};function L(){for(var y;y=S();){try{y.h.call(y.g)}catch(P){E(P)}var T=R;T.j(y),T.h<100&&(T.h++,y.next=T.g,T.g=y)}B=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(y,T){this.type=y,this.g=this.target=T,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var y=!1,T=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const P=()=>{};o.addEventListener("test",P,T),o.removeEventListener("test",P,T)}catch{}return y})();function F(y){return/^[\s\xa0]*$/.test(y)}function de(y,T){U.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,T)}p(de,U),de.prototype.init=function(y,T){const P=this.type=y.type,V=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=T,T=y.relatedTarget,T||(P=="mouseover"?T=y.fromElement:P=="mouseout"&&(T=y.toElement)),this.relatedTarget=T,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),Y=0;function se(y,T,P,V,X){this.listener=y,this.proxy=null,this.src=T,this.type=P,this.capture=!!V,this.ha=X,this.key=++Y,this.da=this.fa=!1}function me(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Se(y,T,P){for(const V in y)T.call(P,y[V],V,y)}function Ge(y,T){for(const P in y)T.call(void 0,y[P],P,y)}function G(y){const T={};for(const P in y)T[P]=y[P];return T}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(y,T){let P,V;for(let X=1;X<arguments.length;X++){V=arguments[X];for(P in V)y[P]=V[P];for(let re=0;re<ee.length;re++)P=ee[re],Object.prototype.hasOwnProperty.call(V,P)&&(y[P]=V[P])}}function xe(y){this.src=y,this.g={},this.h=0}xe.prototype.add=function(y,T,P,V,X){const re=y.toString();y=this.g[re],y||(y=this.g[re]=[],this.h++);const ge=He(y,T,V,X);return ge>-1?(T=y[ge],P||(T.fa=!1)):(T=new se(T,this.src,re,!!V,X),T.fa=P,y.push(T)),T};function Oe(y,T){const P=T.type;if(P in y.g){var V=y.g[P],X=Array.prototype.indexOf.call(V,T,void 0),re;(re=X>=0)&&Array.prototype.splice.call(V,X,1),re&&(me(T),y.g[P].length==0&&(delete y.g[P],y.h--))}}function He(y,T,P,V){for(let X=0;X<y.length;++X){const re=y[X];if(!re.da&&re.listener==T&&re.capture==!!P&&re.ha==V)return X}return-1}var et="closure_lm_"+(Math.random()*1e6|0),ln={};function pe(y,T,P,V,X){if(Array.isArray(T)){for(let re=0;re<T.length;re++)pe(y,T[re],P,V,X);return null}return P=is(P),y&&y[be]?y.J(T,P,l(V)?!!V.capture:!1,X):Fe(y,T,P,!1,V,X)}function Fe(y,T,P,V,X,re){if(!T)throw Error("Invalid event type");const ge=l(X)?!!X.capture:!!X;let $e=cn(y);if($e||(y[et]=$e=new xe(y)),P=$e.add(T,P,V,ge,re),P.proxy)return P;if(V=We(),P.proxy=V,V.src=y,V.listener=P,y.addEventListener)H||(X=ge),X===void 0&&(X=!1),y.addEventListener(T.toString(),V,X);else if(y.attachEvent)y.attachEvent(Qe(T.toString()),V);else if(y.addListener&&y.removeListener)y.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return P}function We(){function y(P){return T.call(y.src,y.listener,P)}const T=jn;return y}function he(y,T,P,V,X){if(Array.isArray(T))for(var re=0;re<T.length;re++)he(y,T[re],P,V,X);else V=l(V)?!!V.capture:!!V,P=is(P),y&&y[be]?(y=y.i,re=String(T).toString(),re in y.g&&(T=y.g[re],P=He(T,P,V,X),P>-1&&(me(T[P]),Array.prototype.splice.call(T,P,1),T.length==0&&(delete y.g[re],y.h--)))):y&&(y=cn(y))&&(T=y.g[T.toString()],y=-1,T&&(y=He(T,P,V,X)),(P=y>-1?T[y]:null)&&un(P))}function un(y){if(typeof y!="number"&&y&&!y.da){var T=y.src;if(T&&T[be])Oe(T.i,y);else{var P=y.type,V=y.proxy;T.removeEventListener?T.removeEventListener(P,V,y.capture):T.detachEvent?T.detachEvent(Qe(P),V):T.addListener&&T.removeListener&&T.removeListener(V),(P=cn(T))?(Oe(P,y),P.h==0&&(P.src=null,T[et]=null)):me(y)}}}function Qe(y){return y in ln?ln[y]:ln[y]="on"+y}function jn(y,T){if(y.da)y=!0;else{T=new de(T,this);const P=y.listener,V=y.ha||y.src;y.fa&&un(y),y=P.call(V,T)}return y}function cn(y){return y=y[et],y instanceof xe?y:null}var si="__closure_events_fn_"+(Math.random()*1e9>>>0);function is(y){return typeof y=="function"?y:(y[si]||(y[si]=function(T){return y.handleEvent(T)}),y[si])}function xn(){z.call(this),this.i=new xe(this),this.M=this,this.G=null}p(xn,z),xn.prototype[be]=!0,xn.prototype.removeEventListener=function(y,T,P,V){he(this,y,T,P,V)};function Bn(y,T){var P,V=y.G;if(V)for(P=[];V;V=V.G)P.push(V);if(y=y.M,V=T.type||T,typeof T=="string")T=new U(T,y);else if(T instanceof U)T.target=T.target||y;else{var X=T;T=new U(V,y),ye(T,X)}X=!0;let re,ge;if(P)for(ge=P.length-1;ge>=0;ge--)re=T.g=P[ge],X=as(re,V,!0,T)&&X;if(re=T.g=y,X=as(re,V,!0,T)&&X,X=as(re,V,!1,T)&&X,P)for(ge=0;ge<P.length;ge++)re=T.g=P[ge],X=as(re,V,!1,T)&&X}xn.prototype.N=function(){if(xn.Z.N.call(this),this.i){var y=this.i;for(const T in y.g){const P=y.g[T];for(let V=0;V<P.length;V++)me(P[V]);delete y.g[T],y.h--}}this.G=null},xn.prototype.J=function(y,T,P,V){return this.i.add(String(y),T,!1,P,V)},xn.prototype.K=function(y,T,P,V){return this.i.add(String(y),T,!0,P,V)};function as(y,T,P,V){if(T=y.i.g[String(T)],!T)return!0;T=T.concat();let X=!0;for(let re=0;re<T.length;++re){const ge=T[re];if(ge&&!ge.da&&ge.capture==P){const $e=ge.listener,hn=ge.ha||ge.src;ge.fa&&Oe(y.i,ge),X=$e.call(hn,V)!==!1&&X}}return X&&!V.defaultPrevented}function um(y,T){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:o.setTimeout(y,T||0)}function x0(y){y.g=um(()=>{y.g=null,y.i&&(y.i=!1,x0(y))},y.l);const T=y.h;y.h=null,y.m.apply(null,T)}class Br extends z{constructor(T,P){super(),this.m=T,this.l=P,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:x0(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rl(y){z.call(this),this.h=y,this.g={}}p(Rl,z);var jf=[];function Bf(y){Se(y.g,function(T,P){this.g.hasOwnProperty(P)&&un(T)},y),y.g={}}Rl.prototype.N=function(){Rl.Z.N.call(this),Bf(this)},Rl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var os=o.JSON.stringify,cm=o.JSON.parse,_0=class{stringify(y){return o.JSON.stringify(y,void 0)}parse(y){return o.JSON.parse(y,void 0)}};function b0(){}function w0(){}var ra={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function cr(){U.call(this,"d")}p(cr,U);function Oi(){U.call(this,"c")}p(Oi,U);var fn={},E0=null;function Ku(){return E0=E0||new xn}fn.Ia="serverreachability";function A0(y){U.call(this,fn.Ia,y)}p(A0,U);function Ta(y){const T=Ku();Bn(T,new A0(T))}fn.STAT_EVENT="statevent";function Pl(y,T){U.call(this,fn.STAT_EVENT,y),this.stat=T}p(Pl,U);function _n(y){const T=Ku();Bn(T,new Pl(T,y))}fn.Ja="timingevent";function Ca(y,T){U.call(this,fn.Ja,y),this.size=T}p(Ca,U);function Ia(y,T){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){y()},T)}function ia(){this.g=!0}ia.prototype.ua=function(){this.g=!1};function fm(y,T,P,V,X,re){y.info(function(){if(y.g)if(re){var ge="",$e=re.split("&");for(let vt=0;vt<$e.length;vt++){var hn=$e[vt].split("=");if(hn.length>1){const Kt=hn[0];hn=hn[1];const Ni=Kt.split("_");ge=Ni.length>=2&&Ni[1]=="type"?ge+(Kt+"="+hn+"&"):ge+(Kt+"=redacted&")}}}else ge=null;else ge=re;return"XMLHTTP REQ ("+V+") [attempt "+X+"]: "+T+`
`+P+`
`+ge})}function S0(y,T,P,V,X,re,ge){y.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+X+"]: "+T+`
`+P+`
`+re+" "+ge})}function Oa(y,T,P,V){y.info(function(){return"XMLHTTP TEXT ("+T+"): "+hm(y,P)+(V?" "+V:"")})}function Dl(y,T){y.info(function(){return"TIMEOUT: "+T})}ia.prototype.info=function(){};function hm(y,T){if(!y.g)return T;if(!T)return null;try{const re=JSON.parse(T);if(re){for(y=0;y<re.length;y++)if(Array.isArray(re[y])){var P=re[y];if(!(P.length<2)){var V=P[1];if(Array.isArray(V)&&!(V.length<1)){var X=V[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ge=1;ge<V.length;ge++)V[ge]=""}}}}return os(re)}catch{return T}}var Nl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ff;function Ml(){}p(Ml,b0),Ml.prototype.g=function(){return new XMLHttpRequest},Ff=new Ml;function co(y){return encodeURIComponent(String(y))}function T0(y){var T=1;y=y.split(":");const P=[];for(;T>0&&y.length;)P.push(y.shift()),T--;return y.length&&P.push(y.join(":")),P}function aa(y,T,P,V){this.j=y,this.i=T,this.l=P,this.S=V||1,this.V=new Rl(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oa}function oa(){this.i=null,this.g="",this.h=!1}var bn={},Zn={};function Ra(y,T,P){y.M=1,y.A=kl(En(T)),y.u=P,y.R=!0,Wu(y,null)}function Wu(y,T){y.F=Date.now(),Pa(y),y.B=En(y.A);var P=y.B,V=y.S;Array.isArray(V)||(V=[String(V)]),Zu(P.i,"t",V),y.C=0,P=y.j.L,y.h=new oa,y.g=U0(y.j,P?T:null,!y.u),y.P>0&&(y.O=new Br(f(y.Y,y,y.g),y.P)),T=y.V,P=y.g,V=y.ba;var X="readystatechange";Array.isArray(X)||(X&&(jf[0]=X.toString()),X=jf);for(let re=0;re<X.length;re++){const ge=pe(P,X[re],V||T.handleEvent,!1,T.h||T);if(!ge)break;T.g[ge.key]=ge}T=y.J?G(y.J):{},y.u?(y.v||(y.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,T)):(y.v="GET",y.g.ea(y.B,y.v,null,T)),Ta(),fm(y.i,y.v,y.B,y.l,y.S,y.u)}aa.prototype.ba=function(y){y=y.target;const T=this.O;T&&ua(y)==3?T.j():this.Y(y)},aa.prototype.Y=function(y){try{if(y==this.g)e:{const $e=ua(this.g),hn=this.g.ya(),vt=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||fr(this.g)))){this.K||$e!=4||hn==7||(hn==8||vt<=0?Ta(3):Ta(2)),Da(this);var T=this.g.ca();this.X=T;var P=dm(this);if(this.o=T==200,S0(this.i,this.v,this.B,this.l,this.S,$e,T),this.o){if(this.U&&!this.L){t:{if(this.g){var V,X=this.g;if((V=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(V)){var re=V;break t}}re=null}if(y=re)Oa(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Na(this,y);else{this.o=!1,this.m=3,_n(12),li(this),Ri(this);break e}}if(this.R){y=!0;let Kt;for(;!this.K&&this.C<P.length;)if(Kt=I0(this,P),Kt==Zn){$e==4&&(this.m=4,_n(14),y=!1),Oa(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==bn){this.m=4,_n(15),Oa(this.i,this.l,P,"[Invalid Chunk]"),y=!1;break}else Oa(this.i,this.l,Kt,null),Na(this,Kt);if(C0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||P.length!=0||this.h.h||(this.m=1,_n(16),y=!1),this.o=this.o&&y,!y)Oa(this.i,this.l,P,"[Invalid Chunked Response]"),li(this),Ri(this);else if(P.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),th(ge),ge.P=!0,_n(11))}}else Oa(this.i,this.l,P,null),Na(this,P);$e==4&&li(this),this.o&&!this.K&&($e==4?j0(this.j,this):(this.o=!1,Pa(this)))}else ho(this.g),T==400&&P.indexOf("Unknown SID")>0?(this.m=3,_n(12)):(this.m=0,_n(13)),li(this),Ri(this)}}}catch{}finally{}};function dm(y){if(!C0(y))return y.g.la();const T=fr(y.g);if(T==="")return"";let P="";const V=T.length,X=ua(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return li(y),Ri(y),"";y.h.i=new o.TextDecoder}for(let re=0;re<V;re++)y.h.h=!0,P+=y.h.i.decode(T[re],{stream:!(X&&re==V-1)});return T.length=0,y.h.g+=P,y.C=0,y.h.g}function C0(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function I0(y,T){var P=y.C,V=T.indexOf(`
`,P);return V==-1?Zn:(P=Number(T.substring(P,V)),isNaN(P)?bn:(V+=1,V+P>T.length?Zn:(T=T.slice(V,V+P),y.C=V+P,T)))}aa.prototype.cancel=function(){this.K=!0,li(this)};function Pa(y){y.T=Date.now()+y.H,Xu(y,y.H)}function Xu(y,T){if(y.D!=null)throw Error("WatchDog timer not null");y.D=Ia(f(y.aa,y),T)}function Da(y){y.D&&(o.clearTimeout(y.D),y.D=null)}aa.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Dl(this.i,this.B),this.M!=2&&(Ta(),_n(17)),li(this),this.m=2,Ri(this)):Xu(this,this.T-y)};function Ri(y){y.j.I==0||y.K||j0(y.j,y)}function li(y){Da(y);var T=y.O;T&&typeof T.dispose=="function"&&T.dispose(),y.O=null,Bf(y.V),y.g&&(T=y.g,y.g=null,T.abort(),T.dispose())}function Na(y,T){try{var P=y.j;if(P.I!=0&&(P.g==y||ka(P.h,y))){if(!y.L&&ka(P.h,y)&&P.I==3){try{var V=P.Ba.g.parse(T)}catch{V=null}if(Array.isArray(V)&&V.length==3){var X=V;if(X[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<y.F)rc(P),ps(P);else break e;zl(P),_n(18)}}else P.xa=X[1],0<P.xa-P.K&&X[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Ia(f(P.Va,P),6e3));Ma(P.h)<=1&&P.ta&&(P.ta=void 0)}else Ua(P,11)}else if((y.L||P.g==y)&&rc(P),!F(T))for(X=P.Ba.g.parse(T),T=0;T<X.length;T++){let vt=X[T];const Kt=vt[0];if(!(Kt<=P.K))if(P.K=Kt,vt=vt[1],P.I==2)if(vt[0]=="c"){P.M=vt[1],P.ba=vt[2];const Ni=vt[3];Ni!=null&&(P.ka=Ni,P.j.info("VER="+P.ka));const za=vt[4];za!=null&&(P.za=za,P.j.info("SVER="+P.za));const ca=vt[5];ca!=null&&typeof ca=="number"&&ca>0&&(V=1.5*ca,P.O=V,P.j.info("backChannelRequestTimeoutMs_="+V)),V=P;const fa=y.g;if(fa){const Hl=fa.g?fa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hl){var re=V.h;re.g||Hl.indexOf("spdy")==-1&&Hl.indexOf("quic")==-1&&Hl.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Hf(re,re.h),re.h=null))}if(V.G){const ic=fa.g?fa.g.getResponseHeader("X-HTTP-Session-Id"):null;ic&&(V.wa=ic,Et(V.J,V.G,ic))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-y.F,P.j.info("Handshake RTT: "+P.T+"ms")),V=P;var ge=y;if(V.na=F0(V,V.L?V.ba:null,V.W),ge.L){$f(V.h,ge);var $e=ge,hn=V.O;hn&&($e.H=hn),$e.D&&(Da($e),Pa($e)),V.g=ge}else k0(V);P.i.length>0&&Fa(P)}else vt[0]!="stop"&&vt[0]!="close"||Ua(P,7);else P.I==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Ua(P,7):Jf(P):vt[0]!="noop"&&P.l&&P.l.qa(vt),P.A=0)}}Ta(4)}catch{}}var wn=class{constructor(y,T){this.g=y,this.map=T}};function Uf(y){this.l=y||10,o.PerformanceNavigationTiming?(y=o.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zf(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Ma(y){return y.h?1:y.g?y.g.size:0}function ka(y,T){return y.h?y.h==T:y.g?y.g.has(T):!1}function Hf(y,T){y.g?y.g.add(T):y.h=T}function $f(y,T){y.h&&y.h==T?y.h=null:y.g&&y.g.has(T)&&y.g.delete(T)}Uf.prototype.cancel=function(){if(this.i=qf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function qf(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let T=y.i;for(const P of y.g.values())T=T.concat(P.G);return T}return m(y.i)}var O0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yu(y,T){if(y){y=y.split("&");for(let P=0;P<y.length;P++){const V=y[P].indexOf("=");let X,re=null;V>=0?(X=y[P].substring(0,V),re=y[P].substring(V+1)):X=y[P],T(X,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function ui(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;y instanceof ui?(this.l=y.l,Jn(this,y.j),this.o=y.o,this.g=y.g,ss(this,y.u),this.h=y.h,Gf(this,N0(y.i)),this.m=y.m):y&&(T=String(y).match(O0))?(this.l=!1,Jn(this,T[1]||"",!0),this.o=La(T[2]||""),this.g=La(T[3]||"",!0),ss(this,T[4]),this.h=La(T[5]||"",!0),Gf(this,T[6]||"",!0),this.m=La(T[7]||"")):(this.l=!1,this.i=new us(null,this.l))}ui.prototype.toString=function(){const y=[];var T=this.j;T&&y.push(Ll(T,Qu,!0),":");var P=this.g;return(P||T=="file")&&(y.push("//"),(T=this.o)&&y.push(Ll(T,Qu,!0),"@"),y.push(co(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&y.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&y.push("/"),y.push(Ll(P,P.charAt(0)=="/"?Kf:R0,!0))),(P=this.i.toString())&&y.push("?",P),(P=this.m)&&y.push("#",Ll(P,P0)),y.join("")},ui.prototype.resolve=function(y){const T=En(this);let P=!!y.j;P?Jn(T,y.j):P=!!y.o,P?T.o=y.o:P=!!y.g,P?T.g=y.g:P=y.u!=null;var V=y.h;if(P)ss(T,y.u);else if(P=!!y.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var X=T.h.lastIndexOf("/");X!=-1&&(V=T.h.slice(0,X+1)+V)}if(X=V,X==".."||X==".")V="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){V=X.lastIndexOf("/",0)==0,X=X.split("/");const re=[];for(let ge=0;ge<X.length;){const $e=X[ge++];$e=="."?V&&ge==X.length&&re.push(""):$e==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),V&&ge==X.length&&re.push("")):(re.push($e),V=!0)}V=re.join("/")}else V=X}return P?T.h=V:P=y.i.toString()!=="",P?Gf(T,N0(y.i)):P=!!y.m,P&&(T.m=y.m),T};function En(y){return new ui(y)}function Jn(y,T,P){y.j=P?La(T,!0):T,y.j&&(y.j=y.j.replace(/:$/,""))}function ss(y,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);y.u=T}else y.u=null}function Gf(y,T,P){T instanceof us?(y.i=T,Ju(y.i,y.l)):(P||(T=Ll(T,ls)),y.i=new us(T,y.l))}function Et(y,T,P){y.i.set(T,P)}function kl(y){return Et(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function La(y,T){return y?T?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Ll(y,T,P){return typeof y=="string"?(y=encodeURI(y).replace(T,Gr),P&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Gr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Qu=/[#\/\?@]/g,R0=/[#\?:]/g,Kf=/[#\?]/g,ls=/[#\?@]/g,P0=/#/g;function us(y,T){this.h=this.g=null,this.i=y||null,this.j=!!T}function Kr(y){y.g||(y.g=new Map,y.h=0,y.i&&Yu(y.i,function(T,P){y.add(decodeURIComponent(T.replace(/\+/g," ")),P)}))}t=us.prototype,t.add=function(y,T){Kr(this),this.i=null,y=cs(this,y);let P=this.g.get(y);return P||this.g.set(y,P=[]),P.push(T),this.h+=1,this};function D0(y,T){Kr(y),T=cs(y,T),y.g.has(T)&&(y.i=null,y.h-=y.g.get(T).length,y.g.delete(T))}function Wf(y,T){return Kr(y),T=cs(y,T),y.g.has(T)}t.forEach=function(y,T){Kr(this),this.g.forEach(function(P,V){P.forEach(function(X){y.call(T,X,V,this)},this)},this)};function Xf(y,T){Kr(y);let P=[];if(typeof T=="string")Wf(y,T)&&(P=P.concat(y.g.get(cs(y,T))));else for(y=Array.from(y.g.values()),T=0;T<y.length;T++)P=P.concat(y[T]);return P}t.set=function(y,T){return Kr(this),this.i=null,y=cs(this,y),Wf(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[T]),this.h+=1,this},t.get=function(y,T){return y?(y=Xf(this,y),y.length>0?String(y[0]):T):T};function Zu(y,T,P){D0(y,T),P.length>0&&(y.i=null,y.g.set(cs(y,T),m(P)),y.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],T=Array.from(this.g.keys());for(let V=0;V<T.length;V++){var P=T[V];const X=co(P);P=Xf(this,P);for(let re=0;re<P.length;re++){let ge=X;P[re]!==""&&(ge+="="+co(P[re])),y.push(ge)}}return this.i=y.join("&")};function N0(y){const T=new us;return T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),T}function cs(y,T){return T=String(T),y.j&&(T=T.toLowerCase()),T}function Ju(y,T){T&&!y.j&&(Kr(y),y.i=null,y.g.forEach(function(P,V){const X=V.toLowerCase();V!=X&&(D0(this,V),Zu(this,X,P))},y)),y.j=T}function sa(y,T){const P=new ia;if(o.Image){const V=new Image;V.onload=d(Pi,P,"TestLoadImage: loaded",!0,T,V),V.onerror=d(Pi,P,"TestLoadImage: error",!1,T,V),V.onabort=d(Pi,P,"TestLoadImage: abort",!1,T,V),V.ontimeout=d(Pi,P,"TestLoadImage: timeout",!1,T,V),o.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=y}else T(!1)}function Yf(y,T){const P=new ia,V=new AbortController,X=setTimeout(()=>{V.abort(),Pi(P,"TestPingServer: timeout",!1,T)},1e4);fetch(y,{signal:V.signal}).then(re=>{clearTimeout(X),re.ok?Pi(P,"TestPingServer: ok",!0,T):Pi(P,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(X),Pi(P,"TestPingServer: error",!1,T)})}function Pi(y,T,P,V,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),V(P)}catch{}}function fs(){this.g=new _0}function ja(y){this.i=y.Sb||null,this.h=y.ab||!1}p(ja,b0),ja.prototype.g=function(){return new jl(this.i,this.h)};function jl(y,T){xn.call(this),this.H=y,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(jl,xn),t=jl.prototype,t.open=function(y,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=T,this.readyState=1,la(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(T.body=y),(this.H||o).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,la(this)),this.g&&(this.readyState=3,la(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ec(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function ec(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var T=y.value?y.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!y.done}))&&(this.response=this.responseText+=T)}y.done?hs(this):la(this),this.readyState==3&&ec(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,hs(this))},t.Na=function(y){this.g&&(this.response=y,hs(this))},t.ga=function(){this.g&&hs(this)};function hs(y){y.readyState=4,y.l=null,y.j=null,y.B=null,la(y)}t.setRequestHeader=function(y,T){this.A.append(y,T)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],T=this.h.entries();for(var P=T.next();!P.done;)P=P.value,y.push(P[0]+": "+P[1]),P=T.next();return y.join(`\r
`)};function la(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(jl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Di(y){let T="";return Se(y,function(P,V){T+=V,T+=":",T+=P,T+=`\r
`}),T}function Bl(y,T,P){e:{for(V in P){var V=!1;break e}V=!0}V||(P=Di(P),typeof y=="string"?P!=null&&co(P):Et(y,T,P))}function Ot(y){xn.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ot,xn);var Ba=/^https?$/i,Qf=["POST","PUT"];t=Ot.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,T,P,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);T=T?T.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ff.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(T,String(y),!0),this.B=!1}catch(re){Vl(this,re);return}if(y=P||"",P=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var X in V)P.set(X,V[X]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const re of V.keys())P.set(re,V.get(re));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(P.keys()).find(re=>re.toLowerCase()=="content-type"),X=o.FormData&&y instanceof o.FormData,!(Array.prototype.indexOf.call(Qf,T,void 0)>=0)||V||X||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ge]of P)this.g.setRequestHeader(re,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(re){Vl(this,re)}};function Vl(y,T){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=T,y.o=5,Zf(y),fo(y)}function Zf(y){y.A||(y.A=!0,Bn(y,"complete"),Bn(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Bn(this,"complete"),Bn(this,"abort"),fo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fo(this,!0)),Ot.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Fl(this):this.Xa())},t.Xa=function(){Fl(this)};function Fl(y){if(y.h&&typeof a<"u"){if(y.v&&ua(y)==4)setTimeout(y.Ca.bind(y),0);else if(Bn(y,"readystatechange"),ua(y)==4){y.h=!1;try{const re=y.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var P;if(!(P=T)){var V;if(V=re===0){let ge=String(y.D).match(O0)[1]||null;!ge&&o.self&&o.self.location&&(ge=o.self.location.protocol.slice(0,-1)),V=!Ba.test(ge?ge.toLowerCase():"")}P=V}if(P)Bn(y,"complete"),Bn(y,"success");else{y.o=6;try{var X=ua(y)>2?y.g.statusText:""}catch{X=""}y.l=X+" ["+y.ca()+"]",Zf(y)}}finally{fo(y)}}}}function fo(y,T){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const P=y.g;y.g=null,T||Bn(y,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ua(y){return y.g?y.g.readyState:0}t.ca=function(){try{return ua(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var T=this.g.responseText;return y&&T.indexOf(y)==0&&(T=T.substring(y.length)),cm(T)}};function fr(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function ho(y){const T={};y=(y.g&&ua(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<y.length;V++){if(F(y[V]))continue;var P=T0(y[V]);const X=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const re=T[X]||[];T[X]=re,re.push(P)}Ge(T,function(V){return V.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Va(y,T,P){return P&&P.internalChannelParams&&P.internalChannelParams[y]||T}function ds(y){this.za=0,this.i=[],this.j=new ia,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Va("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Va("baseRetryDelayMs",5e3,y),this.Za=Va("retryDelaySeedMs",1e4,y),this.Ta=Va("forwardChannelMaxRetries",2,y),this.va=Va("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new Uf(y&&y.concurrentRequestLimit),this.Ba=new fs,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ds.prototype,t.ka=8,t.I=1,t.connect=function(y,T,P,V){_n(0),this.W=y,this.H=T||{},P&&V!==void 0&&(this.H.OSID=P,this.H.OAID=V),this.F=this.X,this.J=F0(this,null,this.W),Fa(this)};function Jf(y){if(tc(y),y.I==3){var T=y.V++,P=En(y.J);if(Et(P,"SID",y.M),Et(P,"RID",T),Et(P,"TYPE","terminate"),Ul(y,P),T=new aa(y,y.j,T),T.M=2,T.A=kl(En(P)),P=!1,o.navigator&&o.navigator.sendBeacon)try{P=o.navigator.sendBeacon(T.A.toString(),"")}catch{}!P&&o.Image&&(new Image().src=T.A,P=!0),P||(T.g=U0(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Pa(T)}V0(y)}function ps(y){y.g&&(th(y),y.g.cancel(),y.g=null)}function tc(y){ps(y),y.v&&(o.clearTimeout(y.v),y.v=null),rc(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&o.clearTimeout(y.m),y.m=null)}function Fa(y){if(!zf(y.h)&&!y.m){y.m=!0;var T=y.Ea;k||N(),B||(k(),B=!0),D.add(T,y),y.D=0}}function nc(y,T){return Ma(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=T.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=Ia(f(y.Ea,y,T),B0(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const X=new aa(this,this.j,y);let re=this.o;if(this.U&&(re?(re=G(re),ye(re,this.U)):re=this.U),this.u!==null||this.R||(X.J=re,re=null),this.S)e:{for(var T=0,P=0;P<this.i.length;P++){t:{var V=this.i[P];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(T+=V,T>4096){T=P;break e}if(T===4096||P===this.i.length-1){T=P+1;break e}}T=1e3}else T=1e3;T=M0(this,X,T),P=En(this.J),Et(P,"RID",y),Et(P,"CVER",22),this.G&&Et(P,"X-HTTP-Session-Id",this.G),Ul(this,P),re&&(this.R?T="headers="+co(Di(re))+"&"+T:this.u&&Bl(P,this.u,re)),Hf(this.h,X),this.Ra&&Et(P,"TYPE","init"),this.S?(Et(P,"$req",T),Et(P,"SID","null"),X.U=!0,Ra(X,P,null)):Ra(X,P,T),this.I=2}}else this.I==3&&(y?eh(this,y):this.i.length==0||zf(this.h)||eh(this))};function eh(y,T){var P;T?P=T.l:P=y.V++;const V=En(y.J);Et(V,"SID",y.M),Et(V,"RID",P),Et(V,"AID",y.K),Ul(y,V),y.u&&y.o&&Bl(V,y.u,y.o),P=new aa(y,y.j,P,y.D+1),y.u===null&&(P.J=y.o),T&&(y.i=T.G.concat(y.i)),T=M0(y,P,1e3),P.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Hf(y.h,P),Ra(P,V,T)}function Ul(y,T){y.H&&Se(y.H,function(P,V){Et(T,V,P)}),y.l&&Se({},function(P,V){Et(T,V,P)})}function M0(y,T,P){P=Math.min(y.i.length,P);const V=y.l?f(y.l.Ka,y.l,y):null;e:{var X=y.i;let $e=-1;for(;;){const hn=["count="+P];$e==-1?P>0?($e=X[0].g,hn.push("ofs="+$e)):$e=0:hn.push("ofs="+$e);let vt=!0;for(let Kt=0;Kt<P;Kt++){var re=X[Kt].g;const Ni=X[Kt].map;if(re-=$e,re<0)$e=Math.max(0,X[Kt].g-100),vt=!1;else try{re="req"+re+"_"||"";try{var ge=Ni instanceof Map?Ni:Object.entries(Ni);for(const[za,ca]of ge){let fa=ca;l(ca)&&(fa=os(ca)),hn.push(re+za+"="+encodeURIComponent(fa))}}catch(za){throw hn.push(re+"type="+encodeURIComponent("_badmap")),za}}catch{V&&V(Ni)}}if(vt){ge=hn.join("&");break e}}ge=void 0}return y=y.i.splice(0,P),T.G=y,ge}function k0(y){if(!y.g&&!y.v){y.Y=1;var T=y.Da;k||N(),B||(k(),B=!0),D.add(T,y),y.A=0}}function zl(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=Ia(f(y.Da,y),B0(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,L0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=Ia(f(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_n(10),ps(this),L0(this))};function th(y){y.B!=null&&(o.clearTimeout(y.B),y.B=null)}function L0(y){y.g=new aa(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var T=En(y.na);Et(T,"RID","rpc"),Et(T,"SID",y.M),Et(T,"AID",y.K),Et(T,"CI",y.F?"0":"1"),!y.F&&y.ia&&Et(T,"TO",y.ia),Et(T,"TYPE","xmlhttp"),Ul(y,T),y.u&&y.o&&Bl(T,y.u,y.o),y.O&&(y.g.H=y.O);var P=y.g;y=y.ba,P.M=1,P.A=kl(En(T)),P.u=null,P.R=!0,Wu(P,y)}t.Va=function(){this.C!=null&&(this.C=null,ps(this),zl(this),_n(19))};function rc(y){y.C!=null&&(o.clearTimeout(y.C),y.C=null)}function j0(y,T){var P=null;if(y.g==T){rc(y),th(y),y.g=null;var V=2}else if(ka(y.h,T))P=T.G,$f(y.h,T),V=1;else return;if(y.I!=0){if(T.o)if(V==1){P=T.u?T.u.length:0,T=Date.now()-T.F;var X=y.D;V=Ku(),Bn(V,new Ca(V,P)),Fa(y)}else k0(y);else if(X=T.m,X==3||X==0&&T.X>0||!(V==1&&nc(y,T)||V==2&&zl(y)))switch(P&&P.length>0&&(T=y.h,T.i=T.i.concat(P)),X){case 1:Ua(y,5);break;case 4:Ua(y,10);break;case 3:Ua(y,6);break;default:Ua(y,2)}}}function B0(y,T){let P=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(P*=2),P*T}function Ua(y,T){if(y.j.info("Error code "+T),T==2){var P=f(y.bb,y),V=y.Ua;const X=!V;V=new ui(V||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Jn(V,"https"),kl(V),X?sa(V.toString(),P):Yf(V.toString(),P)}else _n(2);y.I=0,y.l&&y.l.pa(T),V0(y),tc(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),_n(2)):(this.j.info("Failed to ping google.com"),_n(1))};function V0(y){if(y.I=0,y.ja=[],y.l){const T=qf(y.h);(T.length!=0||y.i.length!=0)&&(_(y.ja,T),_(y.ja,y.i),y.h.i.length=0,m(y.i),y.i.length=0),y.l.oa()}}function F0(y,T,P){var V=P instanceof ui?En(P):new ui(P);if(V.g!="")T&&(V.g=T+"."+V.g),ss(V,V.u);else{var X=o.location;V=X.protocol,T=T?T+"."+X.hostname:X.hostname,X=+X.port;const re=new ui(null);V&&Jn(re,V),T&&(re.g=T),X&&ss(re,X),P&&(re.h=P),V=re}return P=y.G,T=y.wa,P&&T&&Et(V,P,T),Et(V,"VER",y.ka),Ul(y,V),V}function U0(y,T,P){if(T&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=y.Aa&&!y.ma?new Ot(new ja({ab:P})):new Ot(y.ma),T.Fa(y.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function z0(){}t=z0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function gs(){}gs.prototype.g=function(y,T){return new Vr(y,T)};function Vr(y,T){xn.call(this),this.g=new ds(T),this.l=y,this.h=T&&T.messageUrlParams||null,y=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(y?y["X-WebChannel-Content-Type"]=T.messageContentType:y={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(y?y["X-WebChannel-Client-Profile"]=T.sa:y={"X-WebChannel-Client-Profile":T.sa}),this.g.U=y,(y=T&&T.Qb)&&!F(y)&&(this.g.u=y),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!F(T)&&(this.g.G=T,y=this.h,y!==null&&T in y&&(y=this.h,T in y&&delete y[T])),this.j=new po(this)}p(Vr,xn),Vr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vr.prototype.close=function(){Jf(this.g)},Vr.prototype.o=function(y){var T=this.g;if(typeof y=="string"){var P={};P.__data__=y,y=P}else this.v&&(P={},P.__data__=os(y),y=P);T.i.push(new wn(T.Ya++,y)),T.I==3&&Fa(T)},Vr.prototype.N=function(){this.g.l=null,delete this.j,Jf(this.g),delete this.g,Vr.Z.N.call(this)};function H0(y){cr.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var T=y.__sm__;if(T){e:{for(const P in T){y=P;break e}y=void 0}(this.i=y)&&(y=this.i,T=T!==null&&y in T?T[y]:void 0),this.data=T}else this.data=y}p(H0,cr);function $0(){Oi.call(this),this.status=1}p($0,Oi);function po(y){this.g=y}p(po,z0),po.prototype.ra=function(){Bn(this.g,"a")},po.prototype.qa=function(y){Bn(this.g,new H0(y))},po.prototype.pa=function(y){Bn(this.g,new $0)},po.prototype.oa=function(){Bn(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,Vr.prototype.send=Vr.prototype.o,Vr.prototype.open=Vr.prototype.m,Vr.prototype.close=Vr.prototype.close,jP=function(){return new gs},LP=function(){return Ku()},kP=fn,__={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Nl.NO_ERROR=0,Nl.TIMEOUT=8,Nl.HTTP_ERROR=6,A1=Nl,Vf.COMPLETE="complete",MP=Vf,w0.EventType=ra,ra.OPEN="a",ra.CLOSE="b",ra.ERROR="c",ra.MESSAGE="d",xn.prototype.listen=xn.prototype.J,ed=w0,Ot.prototype.listenOnce=Ot.prototype.K,Ot.prototype.getLastError=Ot.prototype.Ha,Ot.prototype.getLastErrorCode=Ot.prototype.ya,Ot.prototype.getStatus=Ot.prototype.ca,Ot.prototype.getResponseJson=Ot.prototype.La,Ot.prototype.getResponseText=Ot.prototype.la,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Fa,NP=Ot}).apply(typeof Wp<"u"?Wp:typeof self<"u"?self:typeof window<"u"?window:{});const o4="@firebase/firestore",s4="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pr.UNAUTHENTICATED=new Pr(null),Pr.GOOGLE_CREDENTIALS=new Pr("google-credentials-uid"),Pr.FIRST_PARTY=new Pr("first-party-uid"),Pr.MOCK_USER=new Pr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=new Jb("@firebase/firestore");function jc(){return Ru.logLevel}function we(t,...e){if(Ru.logLevel<=rt.DEBUG){const n=e.map(nw);Ru.debug(`Firestore (${xf}): ${t}`,...n)}}function Uo(t,...e){if(Ru.logLevel<=rt.ERROR){const n=e.map(nw);Ru.error(`Firestore (${xf}): ${t}`,...n)}}function Zc(t,...e){if(Ru.logLevel<=rt.WARN){const n=e.map(nw);Ru.warn(`Firestore (${xf}): ${t}`,...n)}}function nw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,BP(t,r,n)}function BP(t,e,n){let r=`FIRESTORE (${xf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Uo(r),new Error(r)}function wt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||BP(e,i,r)}function ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Xo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Pr.UNAUTHENTICATED)))}shutdown(){}}class dF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class pF{constructor(e){this.t=e,this.currentUser=Pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new tl;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new tl,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new tl)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string",31837,{l:r}),new VP(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new Pr(e)}}class gF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new gF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Pr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class l4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){wt(this.o===void 0,3512);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new l4(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new l4(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=yF(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function it(t,e){return t<e?-1:t>e?1:0}function b_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return x2(i)===x2(a)?it(i,a):x2(i)?1:-1}return it(t.length,e.length)}const xF=55296,_F=57343;function x2(t){const e=t.charCodeAt(0);return e>=xF&&e<=_F}function Jc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="__name__";class Ka{constructor(e,n,r){n===void 0?n=0:n>e.length&&je(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&je(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ka.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ka?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ka.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return it(e.length,n.length)}static compareSegments(e,n){const r=Ka.isNumericId(e),i=Ka.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ka.extractNumericId(e).compare(Ka.extractNumericId(n)):b_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return el.fromString(e.substring(4,e.length-2))}}class Bt extends Ka{construct(e,n,r){return new Bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Bt(n)}static emptyPath(){return new Bt([])}}const bF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends Ka{construct(e,n,r){return new wr(e,n,r)}static isValidIdentifier(e){return bF.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===u4}static keyField(){return new wr([u4])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new _e(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new _e(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new _e(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(a(),i++)}if(a(),o)throw new _e(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(n)}static emptyPath(){return new wr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Bt.fromString(e))}static fromName(e){return new De(Bt.fromString(e).popFirst(5))}static empty(){return new De(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Bt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t,e,n){if(!n)throw new _e(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wF(t,e,n,r){if(e===!0&&r===!0)throw new _e(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function c4(t){if(!De.isDocumentKey(t))throw new _e(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function f4(t){if(De.isDocumentKey(t))throw new _e(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function UP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ev(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je(12329,{type:typeof t})}function Ya(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ev(t);throw new _e(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Hd(t,e){if(!UP(t))throw new _e(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new _e(ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=-62135596800,d4=1e6;class Gt{static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*d4);return new Gt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<h4)throw new _e(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/d4}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hd(e,Gt._jsonSchema))return new Gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-h4;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Gt._jsonSchemaVersion="firestore/timestamp/1.0",Gt._jsonSchema={type:Nn("string",Gt._jsonSchemaVersion),seconds:Nn("number"),nanoseconds:Nn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Gt(0,0))}static max(){return new Ve(new Gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=-1;function EF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ve.fromTimestamp(r===1e9?new Gt(n+1,0):new Gt(n,r));return new ol(i,De.empty(),e)}function AF(t){return new ol(t.readTime,t.key,_d)}class ol{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ol(Ve.min(),De.empty(),_d)}static max(){return new ol(Ve.max(),De.empty(),_d)}}function SF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _f(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==TF)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,r)=>{n(e)}))}static reject(e){return new fe(((n,r)=>{r(e)}))}static waitFor(e){return new fe(((n,r)=>{let i=0,a=0,o=!1;e.forEach((l=>{++i,l.next((()=>{++a,o&&a===i&&n()}),(c=>r(c)))})),o=!0,a===i&&n()}))}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next((i=>i?fe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new fe(((r,i)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const f=c;n(e[f]).next((d=>{o[f]=d,++l,l===a&&r(o)}),(d=>i(d)))}}))}static doWhile(e,n){return new fe(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function IF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}tv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=-1;function nv(t){return t==null}function $1(t){return t===0&&1/t==-1/0}function OF(t){return typeof t=="number"&&Number.isInteger(t)&&!$1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="";function RF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=p4(e)),e=PF(t.get(n),e);return p4(e)}function PF(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case zP:n+="";break;default:n+=a}}return n}function p4(t){return t+zP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n){this.comparator=e,this.root=n||_r.EMPTY}insert(e,n){return new tn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_r.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_r.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xp(this.root,e,this.comparator,!0)}}class Xp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _r{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??_r.RED,this.left=i??_r.EMPTY,this.right=a??_r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new _r(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _r.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}_r.EMPTY=null,_r.RED=!0,_r.BLACK=!1;_r.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new _r(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new v4(this.data.getIterator())}getIteratorFrom(e){return new v4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Kn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kn(this.comparator);return n.data=e,n}}class v4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new Ei([])}unionWith(e){let n=new Kn(wr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ei(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new $P("Invalid base64 string: "+a):a}})(e);return new Ar(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new Ar(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ar.EMPTY_BYTE_STRING=new Ar("");const DF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sl(t){if(wt(!!t,39018),typeof t=="string"){let e=0;const n=DF.exec(t);if(wt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vn(t.seconds),nanos:vn(t.nanos)}}function vn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ll(t){return typeof t=="string"?Ar.fromBase64String(t):Ar.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP="server_timestamp",GP="__type__",KP="__previous_value__",WP="__local_write_time__";function aw(t){return(t?.mapValue?.fields||{})[GP]?.stringValue===qP}function rv(t){const e=t.mapValue.fields[KP];return aw(e)?rv(e):e}function bd(t){const e=sl(t.mapValue.fields[WP].timestampValue);return new Gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e,n,r,i,a,o,l,c,f,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=d}}const q1="(default)";class wd{constructor(e,n){this.projectId=e,this.database=n||q1}static empty(){return new wd("","")}get isDefaultDatabase(){return this.database===q1}isEqual(e){return e instanceof wd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP="__type__",MF="__max__",Yp={mapValue:{}},YP="__vector__",G1="value";function ul(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?aw(t)?4:LF(t)?9007199254740991:kF(t)?10:11:je(28295,{value:t})}function ro(t,e){if(t===e)return!0;const n=ul(t);if(n!==ul(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bd(t).isEqual(bd(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=sl(i.timestampValue),l=sl(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return ll(i.bytesValue).isEqual(ll(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return vn(i.geoPointValue.latitude)===vn(a.geoPointValue.latitude)&&vn(i.geoPointValue.longitude)===vn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return vn(i.integerValue)===vn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=vn(i.doubleValue),l=vn(a.doubleValue);return o===l?$1(o)===$1(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return Jc(t.arrayValue.values||[],e.arrayValue.values||[],ro);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(g4(o)!==g4(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ro(o[c],l[c])))return!1;return!0})(t,e);default:return je(52216,{left:t})}}function Ed(t,e){return(t.values||[]).find((n=>ro(n,e)))!==void 0}function ef(t,e){if(t===e)return 0;const n=ul(t),r=ul(e);if(n!==r)return it(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const l=vn(a.integerValue||a.doubleValue),c=vn(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return m4(t.timestampValue,e.timestampValue);case 4:return m4(bd(t),bd(e));case 5:return b_(t.stringValue,e.stringValue);case 6:return(function(a,o){const l=ll(a),c=ll(o);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const l=a.split("/"),c=o.split("/");for(let f=0;f<l.length&&f<c.length;f++){const d=it(l[f],c[f]);if(d!==0)return d}return it(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const l=it(vn(a.latitude),vn(o.latitude));return l!==0?l:it(vn(a.longitude),vn(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return y4(t.arrayValue,e.arrayValue);case 10:return(function(a,o){const l=a.fields||{},c=o.fields||{},f=l[G1]?.arrayValue,d=c[G1]?.arrayValue,p=it(f?.values?.length||0,d?.values?.length||0);return p!==0?p:y4(f,d)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===Yp.mapValue&&o===Yp.mapValue)return 0;if(a===Yp.mapValue)return 1;if(o===Yp.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),f=o.fields||{},d=Object.keys(f);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){const v=b_(c[p],d[p]);if(v!==0)return v;const m=ef(l[c[p]],f[d[p]]);if(m!==0)return m}return it(c.length,d.length)})(t.mapValue,e.mapValue);default:throw je(23264,{he:n})}}function m4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const n=sl(t),r=sl(e),i=it(n.seconds,r.seconds);return i!==0?i:it(n.nanos,r.nanos)}function y4(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=ef(n[i],r[i]);if(a)return a}return it(n.length,r.length)}function tf(t){return w_(t)}function w_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=sl(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ll(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return De.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=w_(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${w_(n.fields[o])}`;return i+"}"})(t.mapValue):je(61005,{value:t})}function S1(t){switch(ul(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rv(t);return e?16+S1(e):16;case 5:return 2*t.stringValue.length;case 6:return ll(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+S1(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return xl(r.fields,((a,o)=>{i+=a.length+S1(o)})),i})(t.mapValue);default:throw je(13486,{value:t})}}function x4(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function E_(t){return!!t&&"integerValue"in t}function ow(t){return!!t&&"arrayValue"in t}function _4(t){return!!t&&"nullValue"in t}function b4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function T1(t){return!!t&&"mapValue"in t}function kF(t){return(t?.mapValue?.fields||{})[XP]?.stringValue===YP}function fd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return xl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=fd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fd(t.arrayValue.values[n]);return e}return{...t}}function LF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===MF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.value=e}static empty(){return new ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!T1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fd(n)}setAll(e){let n=wr.emptyPath(),r={},i=[];e.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=fd(o):i.push(l.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());T1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ro(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];T1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xl(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new ni(fd(this.value))}}function QP(t){const e=[];return xl(t.fields,((n,r)=>{const i=new wr([n]);if(T1(r)){const a=QP(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Ei(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n,r,i,a,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Dr(e,0,Ve.min(),Ve.min(),Ve.min(),ni.empty(),0)}static newFoundDocument(e,n,r,i){return new Dr(e,1,n,Ve.min(),r,i,0)}static newNoDocument(e,n){return new Dr(e,2,n,Ve.min(),Ve.min(),ni.empty(),0)}static newUnknownDocument(e,n){return new Dr(e,3,n,Ve.min(),Ve.min(),ni.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n){this.position=e,this.inclusive=n}}function w4(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=De.comparator(De.fromName(o.referenceValue),n.key):r=ef(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function E4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ro(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n="asc"){this.field=e,this.dir=n}}function jF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{}class On extends ZP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new VF(e,n,r):n==="array-contains"?new zF(e,r):n==="in"?new HF(e,r):n==="not-in"?new $F(e,r):n==="array-contains-any"?new qF(e,r):new On(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new FF(e,r):new UF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ef(n,this.value)):n!==null&&ul(this.value)===ul(n)&&this.matchesComparison(ef(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Aa extends ZP{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Aa(e,n)}matches(e){return JP(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function JP(t){return t.op==="and"}function eD(t){return BF(t)&&JP(t)}function BF(t){for(const e of t.filters)if(e instanceof Aa)return!1;return!0}function A_(t){if(t instanceof On)return t.field.canonicalString()+t.op.toString()+tf(t.value);if(eD(t))return t.filters.map((e=>A_(e))).join(",");{const e=t.filters.map((n=>A_(n))).join(",");return`${t.op}(${e})`}}function tD(t,e){return t instanceof On?(function(r,i){return i instanceof On&&r.op===i.op&&r.field.isEqual(i.field)&&ro(r.value,i.value)})(t,e):t instanceof Aa?(function(r,i){return i instanceof Aa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,l)=>a&&tD(o,i.filters[l])),!0):!1})(t,e):void je(19439)}function nD(t){return t instanceof On?(function(n){return`${n.field.canonicalString()} ${n.op} ${tf(n.value)}`})(t):t instanceof Aa?(function(n){return n.op.toString()+" {"+n.getFilters().map(nD).join(" ,")+"}"})(t):"Filter"}class VF extends On{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class FF extends On{constructor(e,n){super(e,"in",n),this.keys=rD("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class UF extends On{constructor(e,n){super(e,"not-in",n),this.keys=rD("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function rD(t,e){return(e.arrayValue?.values||[]).map((n=>De.fromName(n.referenceValue)))}class zF extends On{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ow(n)&&Ed(n.arrayValue,this.value)}}class HF extends On{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ed(this.value.arrayValue,n)}}class $F extends On{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ed(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ed(this.value.arrayValue,n)}}class qF extends On{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ow(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ed(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n=null,r=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function A4(t,e=null,n=[],r=[],i=null,a=null,o=null){return new GF(t,e,n,r,i,a,o)}function sw(t){const e=ze(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>A_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),nv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>tf(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>tf(r))).join(",")),e.Te=n}return e.Te}function lw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!E4(t.startAt,e.startAt)&&E4(t.endAt,e.endAt)}function S_(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n=null,r=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function KF(t,e,n,r,i,a,o,l){return new wf(t,e,n,r,i,a,o,l)}function uw(t){return new wf(t)}function S4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iD(t){return t.collectionGroup!==null}function hd(t){const e=ze(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Kn(wr.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Ad(a,r))})),n.has(wr.keyField().canonicalString())||e.Ie.push(new Ad(wr.keyField(),r))}return e.Ie}function Qa(t){const e=ze(t);return e.Ee||(e.Ee=WF(e,hd(t))),e.Ee}function WF(t,e){if(t.limitType==="F")return A4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Ad(i.field,a)}));const n=t.endAt?new K1(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new K1(t.startAt.position,t.startAt.inclusive):null;return A4(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function T_(t,e){const n=t.filters.concat([e]);return new wf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function C_(t,e,n){return new wf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function iv(t,e){return lw(Qa(t),Qa(e))&&t.limitType===e.limitType}function aD(t){return`${sw(Qa(t))}|lt:${t.limitType}`}function Bc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>nD(i))).join(", ")}]`),nv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>tf(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>tf(i))).join(",")),`Target(${r})`})(Qa(t))}; limitType=${t.limitType})`}function av(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):De.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of hd(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,l,c){const f=w4(o,l,c);return o.inclusive?f<=0:f<0})(r.startAt,hd(r),i)||r.endAt&&!(function(o,l,c){const f=w4(o,l,c);return o.inclusive?f>=0:f>0})(r.endAt,hd(r),i))})(t,e)}function XF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oD(t){return(e,n)=>{let r=!1;for(const i of hd(t)){const a=YF(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function YF(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):(function(a,o,l){const c=o.data.field(a),f=l.data.field(a);return c!==null&&f!==null?ef(c,f):je(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return je(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xl(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return HP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=new tn(De.comparator);function zo(){return QF}const sD=new tn(De.comparator);function td(...t){let e=sD;for(const n of t)e=e.insert(n.key,n);return e}function lD(t){let e=sD;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function du(){return dd()}function uD(){return dd()}function dd(){return new Uu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const ZF=new tn(De.comparator),JF=new Kn(De.comparator);function at(...t){let e=JF;for(const n of t)e=e.add(n);return e}const eU=new Kn(it);function tU(){return eU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$1(e)?"-0":e}}function cD(t){return{integerValue:""+t}}function nU(t,e){return OF(e)?cD(e):cw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this._=void 0}}function rU(t,e,n){return t instanceof W1?(function(i,a){const o={fields:{[GP]:{stringValue:qP},[WP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&aw(a)&&(a=rv(a)),a&&(o.fields[KP]=a),{mapValue:o}})(n,e):t instanceof Sd?hD(t,e):t instanceof Td?dD(t,e):(function(i,a){const o=fD(i,a),l=T4(o)+T4(i.Ae);return E_(o)&&E_(i.Ae)?cD(l):cw(i.serializer,l)})(t,e)}function iU(t,e,n){return t instanceof Sd?hD(t,e):t instanceof Td?dD(t,e):n}function fD(t,e){return t instanceof X1?(function(r){return E_(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class W1 extends ov{}class Sd extends ov{constructor(e){super(),this.elements=e}}function hD(t,e){const n=pD(e);for(const r of t.elements)n.some((i=>ro(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Td extends ov{constructor(e){super(),this.elements=e}}function dD(t,e){let n=pD(e);for(const r of t.elements)n=n.filter((i=>!ro(i,r)));return{arrayValue:{values:n}}}class X1 extends ov{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function T4(t){return vn(t.integerValue||t.doubleValue)}function pD(t){return ow(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function aU(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Sd&&i instanceof Sd||r instanceof Td&&i instanceof Td?Jc(r.elements,i.elements,ro):r instanceof X1&&i instanceof X1?ro(r.Ae,i.Ae):r instanceof W1&&i instanceof W1})(t.transform,e.transform)}class oU{constructor(e,n){this.version=e,this.transformResults=n}}class wa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wa}static exists(e){return new wa(void 0,e)}static updateTime(e){return new wa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function C1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sv{}function gD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fw(t.key,wa.none()):new $d(t.key,t.data,wa.none());{const n=t.data,r=ni.empty();let i=new Kn(wr.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new _l(t.key,r,new Ei(i.toArray()),wa.none())}}function sU(t,e,n){t instanceof $d?(function(i,a,o){const l=i.value.clone(),c=I4(i.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):t instanceof _l?(function(i,a,o){if(!C1(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=I4(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(vD(i)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function pd(t,e,n,r){return t instanceof $d?(function(a,o,l,c){if(!C1(a.precondition,o))return l;const f=a.value.clone(),d=O4(a.fieldTransforms,c,o);return f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof _l?(function(a,o,l,c){if(!C1(a.precondition,o))return l;const f=O4(a.fieldTransforms,c,o),d=o.data;return d.setAll(vD(a)),d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,o,l){return C1(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,n)}function lU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=fD(r.transform,i||null);a!=null&&(n===null&&(n=ni.empty()),n.set(r.field,a))}return n||null}function C4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Jc(r,i,((a,o)=>aU(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $d extends sv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _l extends sv{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function vD(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function I4(t,e,n){const r=new Map;wt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);r.set(a.field,iU(o,l,n[i]))}return r}function O4(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,rU(a,o,e))}return r}class fw extends sv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uU extends sv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&sU(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uD();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=n.has(i.key)?null:l;const c=gD(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Ve.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),at())}isEqual(e){return this.batchId===e.batchId&&Jc(this.mutations,e.mutations,((n,r)=>C4(n,r)))&&Jc(this.baseMutations,e.baseMutations,((n,r)=>C4(n,r)))}}class hw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){wt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return ZF})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new hw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,st;function dU(t){switch(t){case ce.OK:return je(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return je(15467,{code:t})}}function mD(t){if(t===void 0)return Uo("GRPC error has no .code"),ce.UNKNOWN;switch(t){case In.OK:return ce.OK;case In.CANCELLED:return ce.CANCELLED;case In.UNKNOWN:return ce.UNKNOWN;case In.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case In.INTERNAL:return ce.INTERNAL;case In.UNAVAILABLE:return ce.UNAVAILABLE;case In.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case In.NOT_FOUND:return ce.NOT_FOUND;case In.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case In.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case In.ABORTED:return ce.ABORTED;case In.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case In.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case In.DATA_LOSS:return ce.DATA_LOSS;default:return je(39323,{code:t})}}(st=In||(In={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=new el([4294967295,4294967295],0);function R4(t){const e=pU().encode(t),n=new DP;return n.update(e),new Uint8Array(n.digest())}function P4(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new el([n,r],0),new el([i,a],0)]}class dw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new nd(`Invalid padding: ${n}`);if(r<0)throw new nd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new nd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=el.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(el.fromNumber(r)));return i.compare(gU)===1&&(i=new el([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=R4(e),[r,i]=P4(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new dw(a,i,n);return r.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const n=R4(e),[r,i]=P4(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class nd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,qd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new lv(Ve.min(),i,new tn(it),zo(),at())}}class qd{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qd(r,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class yD{constructor(e,n){this.targetId=e,this.Ce=n}}class xD{constructor(e,n,r=Ar.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class D4{constructor(){this.ve=0,this.Fe=N4(),this.Me=Ar.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),n=at(),r=at();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:je(38017,{changeType:a})}})),new qd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=N4()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vU{constructor(e){this.Ge=e,this.ze=new Map,this.je=zo(),this.Je=Qp(),this.He=Qp(),this.Ye=new tn(it)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:je(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(S_(a))if(r===0){const o=new De(a.path);this.et(n,o,Dr.newNoDocument(o,Ve.min()))}else wt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,l;try{o=ll(r).toUint8Array()}catch(c){if(c instanceof $P)return Zc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new dw(o,i,a)}catch(c){return Zc(c instanceof nd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,o)=>{const l=this.ot(o);if(l){if(a.current&&S_(l.target)){const c=new De(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Dr.newNoDocument(c,e))}a.Be&&(n.set(o,a.ke()),a.qe())}}));let r=at();this.He.forEach(((a,o)=>{let l=!0;o.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new lv(e,n,this.Ye,this.je,r);return this.je=zo(),this.Je=Qp(),this.He=Qp(),this.Ye=new tn(it),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new D4,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Kn(it),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Kn(it),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new D4),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qp(){return new tn(De.comparator)}function N4(){return new tn(De.comparator)}const mU={asc:"ASCENDING",desc:"DESCENDING"},yU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xU={and:"AND",or:"OR"};class _U{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function I_(t,e){return t.useProto3Json||nv(e)?e:{value:e}}function Y1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _D(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bU(t,e){return Y1(t,e.toTimestamp())}function Za(t){return wt(!!t,49232),Ve.fromTimestamp((function(n){const r=sl(n);return new Gt(r.seconds,r.nanos)})(t))}function pw(t,e){return O_(t,e).canonicalString()}function O_(t,e){const n=(function(i){return new Bt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function bD(t){const e=Bt.fromString(t);return wt(TD(e),10190,{key:e.toString()}),e}function R_(t,e){return pw(t.databaseId,e.path)}function _2(t,e){const n=bD(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(ED(n))}function wD(t,e){return pw(t.databaseId,e)}function wU(t){const e=bD(t);return e.length===4?Bt.emptyPath():ED(e)}function P_(t){return new Bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ED(t){return wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function M4(t,e,n){return{name:R_(t,e),fields:n.value.mapValue.fields}}function EU(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:je(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,d){return f.useProto3Json?(wt(d===void 0||typeof d=="string",58123),Ar.fromBase64String(d||"")):(wt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ar.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(f){const d=f.code===void 0?ce.UNKNOWN:mD(f.code);return new _e(d,f.message||"")})(o);n=new xD(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_2(t,r.document.name),a=Za(r.document.updateTime),o=r.document.createTime?Za(r.document.createTime):Ve.min(),l=new ni({mapValue:{fields:r.document.fields}}),c=Dr.newFoundDocument(i,a,o,l),f=r.targetIds||[],d=r.removedTargetIds||[];n=new I1(f,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_2(t,r.document),a=r.readTime?Za(r.readTime):Ve.min(),o=Dr.newNoDocument(i,a),l=r.removedTargetIds||[];n=new I1([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_2(t,r.document),a=r.removedTargetIds||[];n=new I1([],a,i,null)}else{if(!("filter"in e))return je(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new hU(i,a),l=r.targetId;n=new yD(l,o)}}return n}function AU(t,e){let n;if(e instanceof $d)n={update:M4(t,e.key,e.value)};else if(e instanceof fw)n={delete:R_(t,e.key)};else if(e instanceof _l)n={update:M4(t,e.key,e.data),updateMask:NU(e.fieldMask)};else{if(!(e instanceof uU))return je(16599,{Vt:e.type});n={verify:R_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,o){const l=o.transform;if(l instanceof W1)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Sd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Td)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof X1)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw je(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:bU(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:je(27497)})(t,e.precondition)),n}function SU(t,e){return t&&t.length>0?(wt(e!==void 0,14353),t.map((n=>(function(i,a){let o=i.updateTime?Za(i.updateTime):Za(a);return o.isEqual(Ve.min())&&(o=Za(a)),new oU(o,i.transformResults||[])})(n,e)))):[]}function TU(t,e){return{documents:[wD(t,e.path)]}}function CU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wD(t,i);const a=(function(f){if(f.length!==0)return SD(Aa.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const o=(function(f){if(f.length!==0)return f.map((d=>(function(v){return{field:Vc(v.field),direction:RU(v.dir)}})(d)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=I_(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function IU(t){let e=wU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){wt(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];n.where&&(a=(function(p){const v=AD(p);return v instanceof Aa&&eD(v)?v.getFilters():[v]})(n.where));let o=[];n.orderBy&&(o=(function(p){return p.map((v=>(function(_){return new Ad(Fc(_.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(v)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let v;return v=typeof p=="object"?p.value:p,nv(v)?null:v})(n.limit));let c=null;n.startAt&&(c=(function(p){const v=!!p.before,m=p.values||[];return new K1(m,v)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const v=!p.before,m=p.values||[];return new K1(m,v)})(n.endAt)),KF(e,i,o,a,l,"F",c,f)}function OU(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AD(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fc(n.unaryFilter.field);return On.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Fc(n.unaryFilter.field);return On.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Fc(n.unaryFilter.field);return On.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Fc(n.unaryFilter.field);return On.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}})(t):t.fieldFilter!==void 0?(function(n){return On.create(Fc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Aa.create(n.compositeFilter.filters.map((r=>AD(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return je(1026)}})(n.compositeFilter.op))})(t):je(30097,{filter:t})}function RU(t){return mU[t]}function PU(t){return yU[t]}function DU(t){return xU[t]}function Vc(t){return{fieldPath:t.canonicalString()}}function Fc(t){return wr.fromServerFormat(t.fieldPath)}function SD(t){return t instanceof On?(function(n){if(n.op==="=="){if(b4(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NAN"}};if(_4(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(b4(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NOT_NAN"}};if(_4(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vc(n.field),op:PU(n.op),value:n.value}}})(t):t instanceof Aa?(function(n){const r=n.getFilters().map((i=>SD(i)));return r.length===1?r[0]:{compositeFilter:{op:DU(n.op),filters:r}}})(t):je(54877,{filter:t})}function NU(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function TD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,r,i,a=Ve.min(),o=Ve.min(),l=Ar.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e){this.yt=e}}function kU(t){const e=IU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?C_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(){this.Cn=new jU}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(ol.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(ol.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class jU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Kn(Bt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kn(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CD=41943040;class ti{static withCacheSize(e){return new ti(e,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti.DEFAULT_COLLECTION_PERCENTILE=10,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ti.DEFAULT=new ti(CD,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ti.DISABLED=new ti(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new nf(0)}static cr(){return new nf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="LruGarbageCollector",BU=1048576;function j4([t,e],[n,r]){const i=it(t,n);return i===0?it(e,r):i}class VU{constructor(e){this.Ir=e,this.buffer=new Kn(j4),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();j4(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){we(L4,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bf(n)?we(L4,"Ignoring IndexedDB error during garbage collection: ",n):await _f(n)}await this.Vr(3e5)}))}}class UU{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(tv.ce);const r=new VU(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(k4)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k4):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,l,c,f;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,l=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),jc()<=rt.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-d}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function zU(t,e){return new UU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(){this.changes=new Uu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&pd(r.mutation,i,Ei.empty(),Gt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,at()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=at()){const i=du();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let o=td();return a.forEach(((l,c)=>{o=o.insert(l,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=du();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,at())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(e,n,r,i){let a=zo();const o=dd(),l=(function(){return dd()})();return n.forEach(((c,f)=>{const d=r.get(f.key);i.has(f.key)&&(d===void 0||d.mutation instanceof _l)?a=a.insert(f.key,f):d!==void 0?(o.set(f.key,d.mutation.getFieldMask()),pd(d.mutation,f,d.mutation.getFieldMask(),Gt.now())):o.set(f.key,Ei.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((f,d)=>o.set(f,d))),n.forEach(((f,d)=>l.set(f,new $U(d,o.get(f)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=dd();let i=new tn(((o,l)=>o-l)),a=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const l of o)l.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let d=r.get(c)||Ei.empty();d=l.applyToLocalView(f,d),r.set(c,d);const p=(i.get(l.batchId)||at()).add(c);i=i.insert(l.batchId,p)}))})).next((()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,d=c.value,p=uD();d.forEach((v=>{if(!a.has(v)){const m=gD(n.get(v),r.get(v));m!==null&&p.set(v,m),a=a.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,f,p))}return fe.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return De.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):fe.resolve(du());let l=_d,c=a;return o.next((f=>fe.forEach(f,((d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),a.get(d)?fe.resolve():this.remoteDocumentCache.getEntry(e,d).next((v=>{c=c.insert(d,v)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,c,f,at()))).next((d=>({batchId:l,changes:lD(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next((r=>{let i=td();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=td();return this.indexManager.getCollectionParents(e,a).next((l=>fe.forEach(l,(c=>{const f=(function(p,v){return new wf(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((d=>{d.forEach(((p,v)=>{o=o.insert(p,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((o=>{a.forEach(((c,f)=>{const d=f.getKey();o.get(d)===null&&(o=o.insert(d,Dr.newInvalidDocument(d)))}));let l=td();return o.forEach(((c,f)=>{const d=a.get(c);d!==void 0&&pd(d.mutation,f,Ei.empty(),Gt.now()),av(n,f)&&(l=l.insert(c,f))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Za(i.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:kU(i.bundledQuery),readTime:Za(i.readTime)}})(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(){this.overlays=new tn(De.comparator),this.qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=du();return fe.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const i=du(),a=n.length+1,o=new De(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new tn(((f,d)=>f-d));const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let d=a.get(f.largestBatchId);d===null&&(d=du(),a=a.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const l=du(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,d)=>l.set(f,d))),!(l.size()>=i)););return fe.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fU(n,r));let a=this.qr.get(n);a===void 0&&(a=at(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(){this.sessionToken=Ar.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this.Qr=new Kn(rr.$r),this.Ur=new Kn(rr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new rr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new rr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new De(new Bt([])),r=new rr(n,e),i=new rr(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new De(new Bt([])),r=new rr(n,e),i=new rr(n,e+1);let a=at();return this.Ur.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const n=new rr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return De.comparator(e.key,n.key)||it(e.Yr,n.Yr)}static Kr(e,n){return it(e.Yr,n.Yr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Kn(rr.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new cU(a,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new rr(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return fe.resolve(o)}lookupMutationBatch(e,n){return fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return fe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?iw:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rr(n,0),i=new rr(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(o=>{const l=this.Xr(o.Yr);a.push(l)})),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kn(it);return n.forEach((i=>{const a=new rr(i,0),o=new rr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(l=>{r=r.add(l.Yr)}))})),fe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;De.isDocumentKey(a)||(a=a.child(""));const o=new rr(new De(a),0);let l=new Kn(it);return this.Zr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.Yr)),!0)}),o),fe.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){wt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return fe.forEach(n.mutations,(i=>{const a=new rr(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new rr(n,0),i=this.Zr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.ri=e,this.docs=(function(){return new tn(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():Dr.newInvalidDocument(n))}getEntries(e,n){let r=zo();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Dr.newInvalidDocument(i))})),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=zo();const o=n.path,l=new De(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:d}}=c.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||SF(AF(d),r)<=0||(i.has(d.key)||av(n,d))&&(a=a.insert(d.key,d.mutableCopy()))}return fe.resolve(a)}getAllFromCollectionGroup(e,n,r,i){je(9500)}ii(e,n){return fe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new QU(this)}getSize(e){return fe.resolve(this.size)}}class QU extends HU{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.persistence=e,this.si=new Uu((n=>sw(n)),lw),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new gw,this.targetCount=0,this.ai=nf.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new nf(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Pr(n),fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),fe.waitFor(a).next((()=>i))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),fe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n){this.ui={},this.overlays={},this.ci=new tv(0),this.li=!1,this.li=!0,this.hi=new WU,this.referenceDelegate=e(this),this.Pi=new ZU(this),this.indexManager=new LU,this.remoteDocumentCache=(function(i){return new YU(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new MU(n),this.Ii=new GU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new XU(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new JU(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return fe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class JU extends CF{constructor(e){super(),this.currentSequenceNumber=e}}class vw{constructor(e){this.persistence=e,this.Ri=new gw,this.Vi=null}static mi(e){return new vw(e)}get fi(){if(this.Vi)return this.Vi;throw je(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(r=>{const i=De.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Q1{constructor(e,n){this.persistence=e,this.pi=new Uu((r=>RF(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=zU(this,n)}static mi(e,n){return new Q1(e,n)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return fe.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?fe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((l=>{l||(r++,a.removeEntry(o,Ve.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=S1(e.data.value)),n}br(e,n,r){return fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=at(),i=at();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new mw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return WB()?8:IF(Lr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new ez;return this.Ss(e,n,o).next((l=>{if(a.result=l,this.Vs)return this.bs(e,n,o,l.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(jc()<=rt.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Bc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(jc()<=rt.DEBUG&&we("QueryEngine","Query:",Bc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(jc()<=rt.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Bc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qa(n))):fe.resolve())}ys(e,n){if(S4(n))return fe.resolve(null);let r=Qa(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=C_(n,null,"F"),r=Qa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=at(...a);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.Ds(n,l);return this.Cs(n,f,o,c.readTime)?this.ys(e,C_(n,null,"F")):this.vs(e,f,n,c)}))))})))))}ws(e,n,r,i){return S4(n)||i.isEqual(Ve.min())?fe.resolve(null):this.ps.getDocuments(e,r).next((a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?fe.resolve(null):(jc()<=rt.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bc(n)),this.vs(e,o,n,EF(i,_d)).next((l=>l)))}))}Ds(e,n){let r=new Kn(oD(e));return n.forEach(((i,a)=>{av(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return jc()<=rt.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Bc(n)),this.ps.getDocumentsMatchingQuery(e,n,ol.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="LocalStore",nz=3e8;class rz{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new tn(it),this.xs=new Uu((a=>sw(a)),lw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function iz(t,e,n,r){return new rz(t,e,n,r)}async function OD(t,e){const n=ze(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],l=[];let c=at();for(const f of i){o.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}for(const f of a){l.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ls:f,removedBatchIds:o,addedBatchIds:l})))}))}))}function az(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,f,d){const p=f.batch,v=p.keys();let m=fe.resolve();return v.forEach((_=>{m=m.next((()=>d.getEntry(c,_))).next((w=>{const E=f.docVersions.get(_);wt(E!==null,48541),w.version.compareTo(E)<0&&(p.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),d.addEntry(w)))}))})),m.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=at();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function RD(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function oz(t,e){const n=ze(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((d,p)=>{const v=i.get(p);if(!v)return;l.push(n.Pi.removeMatchingKeys(a,d.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(a,d.addedDocuments,p))));let m=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(Ar.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(p,m),(function(w,E,S){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=nz?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(v,m,d)&&l.push(n.Pi.updateTargetData(a,m))}));let c=zo(),f=at();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,d))})),l.push(sz(a,o,e.documentUpdates).next((d=>{c=d.ks,f=d.qs}))),!r.isEqual(Ve.min())){const d=n.Pi.getLastRemoteSnapshotVersion(a).next((p=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));l.push(d)}return fe.waitFor(l).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,c,f))).next((()=>c))})).then((a=>(n.Ms=i,a)))}function sz(t,e,n){let r=at(),i=at();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let o=zo();return n.forEach(((l,c)=>{const f=a.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Ve.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):we(yw,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)})),{ks:o,qs:i}}))}function lz(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=iw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function uz(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,fe.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new Xs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function D_(t,e,n){const r=ze(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!bf(o))throw o;we(yw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function B4(t,e,n){const r=ze(t);let i=Ve.min(),a=at();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,f,d){const p=ze(c),v=p.xs.get(d);return v!==void 0?fe.resolve(p.Ms.get(v)):p.Pi.getTargetData(f,d)})(r,o,Qa(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next((c=>{a=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Ve.min(),n?a:at()))).next((l=>(cz(r,XF(e),l),{documents:l,Qs:a})))))}function cz(t,e,n){let r=t.Os.get(e)||Ve.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class V4{constructor(){this.activeTargetIds=tU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fz{constructor(){this.Mo=new V4,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new V4,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4="ConnectivityMonitor";class U4{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){we(F4,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){we(F4,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zp=null;function N_(){return Zp===null?Zp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zp++,"0x"+Zp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="RestConnection",dz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pz{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===q1?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=N_(),l=this.zo(e,n.toUriEncodedString());we(b2,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:f}=new URL(l),d=mf(f);return this.Jo(e,l,c,r,d).then((p=>(we(b2,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw Zc(b2,`RPC '${e}' ${o} failed with error: `,p,"url: ",l,"request:",r),p}))}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=dz[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="WebChannelConnection";class vz extends pz{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=N_();return new Promise(((l,c)=>{const f=new NP;f.setWithCredentials(!0),f.listenOnce(MP.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case A1.NO_ERROR:const p=f.getResponseJson();we(Ir,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case A1.TIMEOUT:we(Ir,`RPC '${e}' ${o} timed out`),c(new _e(ce.DEADLINE_EXCEEDED,"Request time out"));break;case A1.HTTP_ERROR:const v=f.getStatus();if(we(Ir,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let m=f.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m?.error;if(_&&_.status&&_.message){const w=(function(S){const I=S.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(I)>=0?I:ce.UNKNOWN})(_.status);c(new _e(w,_.message))}else c(new _e(ce.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new _e(ce.UNAVAILABLE,"Connection failed."));break;default:je(9055,{l_:e,streamId:o,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{we(Ir,`RPC '${e}' ${o} completed.`)}}));const d=JSON.stringify(i);we(Ir,`RPC '${e}' ${o} sending request:`,i),f.send(n,"POST",d,r,15)}))}T_(e,n,r){const i=N_(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jP(),l=LP(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=a.join("");we(Ir,`Creating RPC '${e}' stream ${i}: ${d}`,c);const p=o.createWebChannel(d,c);this.I_(p);let v=!1,m=!1;const _=new gz({Yo:E=>{m?we(Ir,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(v||(we(Ir,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),we(Ir,`RPC '${e}' stream ${i} sending:`,E),p.send(E))},Zo:()=>p.close()}),w=(E,S,I)=>{E.listen(S,(R=>{try{I(R)}catch(M){setTimeout((()=>{throw M}),0)}}))};return w(p,ed.EventType.OPEN,(()=>{m||(we(Ir,`RPC '${e}' stream ${i} transport opened.`),_.o_())})),w(p,ed.EventType.CLOSE,(()=>{m||(m=!0,we(Ir,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(p))})),w(p,ed.EventType.ERROR,(E=>{m||(m=!0,Zc(Ir,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),_.a_(new _e(ce.UNAVAILABLE,"The operation could not be completed")))})),w(p,ed.EventType.MESSAGE,(E=>{if(!m){const S=E.data[0];wt(!!S,16349);const I=S,R=I?.error||I[0]?.error;if(R){we(Ir,`RPC '${e}' stream ${i} received error:`,R);const M=R.status;let k=(function(N){const L=In[N];if(L!==void 0)return mD(L)})(M),B=R.message;k===void 0&&(k=ce.INTERNAL,B="Unknown error status: "+M+" with message "+R.message),m=!0,_.a_(new _e(k,B)),p.close()}else we(Ir,`RPC '${e}' stream ${i} received:`,S),_.u_(S)}})),w(l,kP.STAT_EVENT,(E=>{E.stat===__.PROXY?we(Ir,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===__.NOPROXY&&we(Ir,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function w2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t){return new _U(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4="PersistentStream";class DD{constructor(e,n,r,i,a,o,l,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(Uo(n.toString()),Uo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new _e(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(z4,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(we(z4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mz extends DD{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=EU(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ve.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Ve.min():o.readTime?Za(o.readTime):Ve.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=P_(this.serializer),n.addTarget=(function(a,o){let l;const c=o.target;if(l=S_(c)?{documents:TU(a,c)}:{query:CU(a,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=_D(a,o.resumeToken);const f=I_(a,o.expectedCount);f!==null&&(l.expectedCount=f)}else if(o.snapshotVersion.compareTo(Ve.min())>0){l.readTime=Y1(a,o.snapshotVersion.toTimestamp());const f=I_(a,o.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,e);const r=OU(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=P_(this.serializer),n.removeTarget=e,this.q_(n)}}class yz extends DD{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=SU(e.writeResults,e.commitTime),r=Za(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=P_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>AU(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{}class _z extends xz{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new _e(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,O_(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(ce.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,O_(n,r),i,o,l,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(ce.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Uo(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu="RemoteStore";class wz{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{zu(this)&&(we(Pu,"Restarting streams for network reachability change."),await(async function(c){const f=ze(c);f.Ea.add(4),await Gd(f),f.Ra.set("Unknown"),f.Ea.delete(4),await cv(f)})(this))}))})),this.Ra=new bz(r,i)}}async function cv(t){if(zu(t))for(const e of t.da)await e(!0)}async function Gd(t){for(const e of t.da)await e(!1)}function ND(t,e){const n=ze(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ww(n)?bw(n):Ef(n).O_()&&_w(n,e))}function xw(t,e){const n=ze(t),r=Ef(n);n.Ia.delete(e),r.O_()&&MD(n,e),n.Ia.size===0&&(r.O_()?r.L_():zu(n)&&n.Ra.set("Unknown"))}function _w(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ef(t).Y_(e)}function MD(t,e){t.Va.Ue(e),Ef(t).Z_(e)}function bw(t){t.Va=new vU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ef(t).start(),t.Ra.ua()}function ww(t){return zu(t)&&!Ef(t).x_()&&t.Ia.size>0}function zu(t){return ze(t).Ea.size===0}function kD(t){t.Va=void 0}async function Ez(t){t.Ra.set("Online")}async function Az(t){t.Ia.forEach(((e,n)=>{_w(t,e)}))}async function Sz(t,e){kD(t),ww(t)?(t.Ra.ha(e),bw(t)):t.Ra.set("Unknown")}async function Tz(t,e,n){if(t.Ra.set("Online"),e instanceof xD&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){we(Pu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Z1(t,r)}else if(e instanceof I1?t.Va.Ze(e):e instanceof yD?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ve.min()))try{const r=await RD(t.localStore);n.compareTo(r)>=0&&await(function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ia.get(f);d&&a.Ia.set(f,d.withResumeToken(c.resumeToken,o))}})),l.targetMismatches.forEach(((c,f)=>{const d=a.Ia.get(c);if(!d)return;a.Ia.set(c,d.withResumeToken(Ar.EMPTY_BYTE_STRING,d.snapshotVersion)),MD(a,c);const p=new Xs(d.target,c,f,d.sequenceNumber);_w(a,p)})),a.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){we(Pu,"Failed to raise snapshot:",r),await Z1(t,r)}}async function Z1(t,e,n){if(!bf(e))throw e;t.Ea.add(1),await Gd(t),t.Ra.set("Offline"),n||(n=()=>RD(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(Pu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await cv(t)}))}function LD(t,e){return e().catch((n=>Z1(t,n,e)))}async function fv(t){const e=ze(t),n=cl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:iw;for(;Cz(e);)try{const i=await lz(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Iz(e,i)}catch(i){await Z1(e,i)}jD(e)&&BD(e)}function Cz(t){return zu(t)&&t.Ta.length<10}function Iz(t,e){t.Ta.push(e);const n=cl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function jD(t){return zu(t)&&!cl(t).x_()&&t.Ta.length>0}function BD(t){cl(t).start()}async function Oz(t){cl(t).ra()}async function Rz(t){const e=cl(t);for(const n of t.Ta)e.ea(n.mutations)}async function Pz(t,e,n){const r=t.Ta.shift(),i=hw.from(r,e,n);await LD(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await fv(t)}async function Dz(t,e){e&&cl(t).X_&&await(async function(r,i){if((function(o){return dU(o)&&o!==ce.ABORTED})(i.code)){const a=r.Ta.shift();cl(r).B_(),await LD(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await fv(r)}})(t,e),jD(t)&&BD(t)}async function H4(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),we(Pu,"RemoteStore received new credentials");const r=zu(n);n.Ea.add(3),await Gd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await cv(n)}async function Nz(t,e){const n=ze(t);e?(n.Ea.delete(2),await cv(n)):e||(n.Ea.add(2),await Gd(n),n.Ra.set("Unknown"))}function Ef(t){return t.ma||(t.ma=(function(n,r,i){const a=ze(n);return a.sa(),new mz(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Ez.bind(null,t),t_:Az.bind(null,t),r_:Sz.bind(null,t),H_:Tz.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),ww(t)?bw(t):t.Ra.set("Unknown")):(await t.ma.stop(),kD(t))}))),t.ma}function cl(t){return t.fa||(t.fa=(function(n,r,i){const a=ze(n);return a.sa(),new yz(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Oz.bind(null,t),r_:Dz.bind(null,t),ta:Rz.bind(null,t),na:Pz.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await fv(t)):(await t.fa.stop(),t.Ta.length>0&&(we(Pu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new tl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,l=new Ew(e,n,o,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Aw(t,e){if(Uo("AsyncQueue",`${e}: ${t}`),bf(t))return new _e(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{static emptySet(e){return new $c(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=td(),this.sortedSet=new tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $c)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $c;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(){this.ga=new tn(De.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):je(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class rf{constructor(e,n,r,i,a,o,l,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new rf(e,n,$c.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&iv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class kz{constructor(){this.queries=q4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ze(n),a=i.queries;i.queries=q4(),a.forEach(((o,l)=>{for(const c of l.Sa)c.onError(r)}))})(this,new _e(ce.ABORTED,"Firestore shutting down"))}}function q4(){return new Uu((t=>aD(t)),iv)}async function VD(t,e){const n=ze(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new Mz,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Aw(o,`Initialization of query '${Bc(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Sw(n)}async function FD(t,e){const n=ze(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Lz(t,e){const n=ze(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&Sw(n)}function jz(t,e,n){const r=ze(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function Sw(t){t.Ca.forEach((e=>{e.next()}))}var M_,G4;(G4=M_||(M_={})).Ma="default",G4.Cache="cache";class UD{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new rf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=rf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==M_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.key=e}}class HD{constructor(e){this.key=e}}class Bz{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=at(),this.mutatedKeys=at(),this.eu=oD(e),this.tu=new $c(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new $4,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,p)=>{const v=i.get(d),m=av(this.query,p)?p:null,_=!!v&&this.mutatedKeys.has(v.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;v&&m?v.data.isEqual(m.data)?_!==w&&(r.track({type:3,doc:m}),E=!0):this.su(v,m)||(r.track({type:2,doc:m}),E=!0,(c&&this.eu(m,c)>0||f&&this.eu(m,f)<0)&&(l=!0)):!v&&m?(r.track({type:0,doc:m}),E=!0):v&&!m&&(r.track({type:1,doc:v}),E=!0,(c||f)&&(l=!0)),E&&(m?(o=o.add(m),a=w?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:l,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((d,p)=>(function(m,_){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Rt:E})}};return w(m)-w(_)})(d.type,p.type)||this.eu(d.doc,p.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,f=c!==this.Za;return this.Za=c,o.length!==0||f?{snapshot:new rf(this.query,e.tu,a,o,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $4,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=at(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new HD(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new zD(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=at();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return rf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tw="SyncEngine";class Vz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Fz{constructor(e){this.key=e,this.hu=!1}}class Uz{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Uu((l=>aD(l)),iv),this.Iu=new Map,this.Eu=new Set,this.du=new tn(De.comparator),this.Au=new Map,this.Ru=new gw,this.Vu={},this.mu=new Map,this.fu=nf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zz(t,e,n=!0){const r=XD(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await $D(r,e,n,!0),i}async function Hz(t,e){const n=XD(t);await $D(n,e,!0,!1)}async function $D(t,e,n,r){const i=await uz(t.localStore,Qa(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await $z(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&ND(t.remoteStore,i),l}async function $z(t,e,n,r,i){t.pu=(p,v,m)=>(async function(w,E,S,I){let R=E.view.ru(S);R.Cs&&(R=await B4(w.localStore,E.query,!1).then((({documents:D})=>E.view.ru(D,R))));const M=I&&I.targetChanges.get(E.targetId),k=I&&I.targetMismatches.get(E.targetId)!=null,B=E.view.applyChanges(R,w.isPrimaryClient,M,k);return W4(w,E.targetId,B.au),B.snapshot})(t,p,v,m);const a=await B4(t.localStore,e,!0),o=new Bz(e,a.Qs),l=o.ru(a.documents),c=qd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=o.applyChanges(l,t.isPrimaryClient,c);W4(t,n,f.au);const d=new Vz(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function qz(t,e,n){const r=ze(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!iv(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await D_(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&xw(r.remoteStore,i.targetId),k_(r,i.targetId)})).catch(_f)):(k_(r,i.targetId),await D_(r.localStore,i.targetId,!0))}async function Gz(t,e){const n=ze(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xw(n.remoteStore,r.targetId))}async function Kz(t,e,n){const r=eH(t);try{const i=await(function(o,l){const c=ze(o),f=Gt.now(),d=l.reduce(((m,_)=>m.add(_.key)),at());let p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",(m=>{let _=zo(),w=at();return c.Ns.getEntries(m,d).next((E=>{_=E,_.forEach(((S,I)=>{I.isValidDocument()||(w=w.add(S))}))})).next((()=>c.localDocuments.getOverlayedDocuments(m,_))).next((E=>{p=E;const S=[];for(const I of l){const R=lU(I,p.get(I.key).overlayedDocument);R!=null&&S.push(new _l(I.key,R,QP(R.value.mapValue),wa.exists(!0)))}return c.mutationQueue.addMutationBatch(m,f,S,l)})).next((E=>{v=E;const S=E.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(m,E.batchId,S)}))})).then((()=>({batchId:v.batchId,changes:lD(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,l,c){let f=o.Vu[o.currentUser.toKey()];f||(f=new tn(it)),f=f.insert(l,c),o.Vu[o.currentUser.toKey()]=f})(r,i.batchId,n),await Kd(r,i.changes),await fv(r.remoteStore)}catch(i){const a=Aw(i,"Failed to persist write");n.reject(a)}}async function qD(t,e){const n=ze(t);try{const r=await oz(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=n.Au.get(a);o&&(wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?wt(o.hu,14607):i.removedDocuments.size>0&&(wt(o.hu,42227),o.hu=!1))})),await Kd(n,r,e)}catch(r){await _f(r)}}function K4(t,e,n){const r=ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(o,l){const c=ze(o);c.onlineState=l;let f=!1;c.queries.forEach(((d,p)=>{for(const v of p.Sa)v.va(l)&&(f=!0)})),f&&Sw(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Wz(t,e,n){const r=ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new tn(De.comparator);o=o.insert(a,Dr.newNoDocument(a,Ve.min()));const l=at().add(a),c=new lv(Ve.min(),new Map,new tn(it),o,l);await qD(r,c),r.du=r.du.remove(a),r.Au.delete(e),Cw(r)}else await D_(r.localStore,e,!1).then((()=>k_(r,e,n))).catch(_f)}async function Xz(t,e){const n=ze(t),r=e.batch.batchId;try{const i=await az(n.localStore,e);KD(n,r,null),GD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kd(n,i)}catch(i){await _f(i)}}async function Yz(t,e,n){const r=ze(t);try{const i=await(function(o,l){const c=ze(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let d;return c.mutationQueue.lookupMutationBatch(f,l).next((p=>(wt(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,d,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d))).next((()=>c.localDocuments.getDocuments(f,d)))}))})(r.localStore,e);KD(r,e,n),GD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Kd(r,i)}catch(i){await _f(i)}}function GD(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function KD(t,e,n){const r=ze(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function k_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||WD(t,r)}))}function WD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(xw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Cw(t))}function W4(t,e,n){for(const r of n)r instanceof zD?(t.Ru.addReference(r.key,e),Qz(t,r)):r instanceof HD?(we(Tw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||WD(t,r.key)):je(19791,{wu:r})}function Qz(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(we(Tw,"New document in limbo: "+n),t.Eu.add(r),Cw(t))}function Cw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new De(Bt.fromString(e)),r=t.fu.next();t.Au.set(r,new Fz(n)),t.du=t.du.insert(n,r),ND(t.remoteStore,new Xs(Qa(uw(n.path)),r,"TargetPurposeLimboResolution",tv.ce))}}async function Kd(t,e,n){const r=ze(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{o.push(r.pu(c,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const d=f?!f.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(f){i.push(f);const d=mw.As(c.targetId,f);a.push(d)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(c,f){const d=ze(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>fe.forEach(f,(v=>fe.forEach(v.Es,(m=>d.persistence.referenceDelegate.addReference(p,v.targetId,m))).next((()=>fe.forEach(v.ds,(m=>d.persistence.referenceDelegate.removeReference(p,v.targetId,m)))))))))}catch(p){if(!bf(p))throw p;we(yw,"Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const m=d.Ms.get(v),_=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(_);d.Ms=d.Ms.insert(v,w)}}})(r.localStore,a))}async function Zz(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){we(Tw,"User change. New user:",e.toKey());const r=await OD(n.localStore,e);n.currentUser=e,(function(a,o){a.mu.forEach((l=>{l.forEach((c=>{c.reject(new _e(ce.CANCELLED,o))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kd(n,r.Ls)}}function Jz(t,e){const n=ze(t),r=n.Au.get(e);if(r&&r.hu)return at().add(r.key);{let i=at();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const l=n.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function XD(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wz.bind(null,e),e.Pu.H_=Lz.bind(null,e.eventManager),e.Pu.yu=jz.bind(null,e.eventManager),e}function eH(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yz.bind(null,e),e}class J1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return iz(this.persistence,new tz,e.initialUser,this.serializer)}Cu(e){return new ID(vw.mi,this.serializer)}Du(e){return new fz}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}J1.provider={build:()=>new J1};class tH extends J1{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){wt(this.persistence.referenceDelegate instanceof Q1,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FU(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ti.withCacheSize(this.cacheSizeBytes):ti.DEFAULT;return new ID((r=>Q1.mi(r,n)),this.serializer)}}class L_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>K4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zz.bind(null,this.syncEngine),await Nz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kz})()}createDatastore(e){const n=uv(e.databaseInfo.databaseId),r=(function(a){return new vz(a)})(e.databaseInfo);return(function(a,o,l,c){return new _z(a,o,l,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,o,l){return new wz(r,i,a,o,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>K4(this.syncEngine,n,0)),(function(){return U4.v()?new U4:new hz})())}createSyncEngine(e,n){return(function(i,a,o,l,c,f,d){const p=new Uz(i,a,o,l,c,f);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ze(n);we(Pu,"RemoteStore shutting down."),r.Ea.add(5),await Gd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}L_.provider={build:()=>new L_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Uo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl="FirestoreClient";class nH{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pr.UNAUTHENTICATED,this.clientId=rw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{we(fl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(we(fl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Aw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function E2(t,e){t.asyncQueue.verifyOperationInProgress(),we(fl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await OD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function X4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rH(t);we(fl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>H4(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>H4(e.remoteStore,i))),t._onlineComponents=e}async function rH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(fl,"Using user provided OfflineComponentProvider");try{await E2(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Zc("Error using user provided cache. Falling back to memory cache: "+n),await E2(t,new J1)}}else we(fl,"Using default OfflineComponentProvider"),await E2(t,new tH(void 0));return t._offlineComponents}async function QD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(fl,"Using user provided OnlineComponentProvider"),await X4(t,t._uninitializedComponentsProvider._online)):(we(fl,"Using default OnlineComponentProvider"),await X4(t,new L_))),t._onlineComponents}function iH(t){return QD(t).then((e=>e.syncEngine))}async function j_(t){const e=await QD(t),n=e.eventManager;return n.onListen=zz.bind(null,e.syncEngine),n.onUnlisten=qz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Hz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Gz.bind(null,e.syncEngine),n}function aH(t,e,n={}){const r=new tl;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,c,f){const d=new YD({next:v=>{d.Nu(),o.enqueueAndForget((()=>FD(a,p))),v.fromCache&&c.source==="server"?f.reject(new _e(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new UD(l,d,{includeMetadataChanges:!0,qa:!0});return VD(a,p)})(await j_(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="firestore.googleapis.com",Q4=!0;class Z4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JD,this.ssl=Q4}else this.host=e.host,this.ssl=e.ssl??Q4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BU)throw new _e(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZD(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new _e(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new _e(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new _e(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new hF;switch(r.type){case"firstParty":return new vF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Y4.get(n);r&&(we("ComponentProvider","Removing Datastore"),Y4.delete(n),r.terminate())})(this),Promise.resolve()}}function oH(t,e,n,r={}){t=Ya(t,hv);const i=mf(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(AP(`https://${l}`),SP("Firestore",!0)),a.host!==JD&&a.host!==l&&Zc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:r};if(!Iu(c,o)&&(t._setSettings(c),r.mockUserToken)){let f,d;if(typeof r.mockUserToken=="string")f=r.mockUserToken,d=Pr.MOCK_USER;else{f=VB(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new _e(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Pr(p)}t._authCredentials=new dF(new VP(f,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bl(this.firestore,e,this._query)}}class Mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}toJSON(){return{type:Mn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Hd(n,Mn._jsonSchema))return new Mn(e,r||null,new De(Bt.fromString(n.referencePath)))}}Mn._jsonSchemaVersion="firestore/documentReference/1.0",Mn._jsonSchema={type:Nn("string",Mn._jsonSchemaVersion),referencePath:Nn("string")};class nl extends bl{constructor(e,n,r){super(e,n,uw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new De(e))}withConverter(e){return new nl(this.firestore,e,this._path)}}function Qi(t,e,...n){if(t=Wn(t),FP("collection","path",e),t instanceof hv){const r=Bt.fromString(e,...n);return f4(r),new nl(t,null,r)}{if(!(t instanceof Mn||t instanceof nl))throw new _e(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return f4(r),new nl(t.firestore,null,r)}}function Ho(t,e,...n){if(t=Wn(t),arguments.length===1&&(e=rw.newId()),FP("doc","path",e),t instanceof hv){const r=Bt.fromString(e,...n);return c4(r),new Mn(t,null,new De(r))}{if(!(t instanceof Mn||t instanceof nl))throw new _e(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return c4(r),new Mn(t.firestore,t instanceof nl?t.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="AsyncQueue";class eI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PD(this,"async_queue_retry"),this._c=()=>{const r=w2();r&&we(J4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=w2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=w2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new tl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bf(e))throw e;we(J4,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Uo("INTERNAL UNHANDLED ERROR: ",tI(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Ew.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&je(47125,{Pc:tI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function tI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Du extends hv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new eI,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eI(e),this._firestoreClient=void 0,await e}}}function sH(t,e){const n=typeof t=="object"?t:OP(),r=typeof t=="string"?t:q1,i=tw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=jB("firestore");a&&oH(i,...a)}return i}function Iw(t){if(t._terminated)throw new _e(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lH(t),t._firestoreClient}function lH(t){const e=t._freezeSettings(),n=(function(i,a,o,l){return new NF(i,a,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,ZD(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new nH(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wi(Ar.fromBase64String(e))}catch(n){throw new _e(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wi(Ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hd(e,Wi._jsonSchema))return Wi.fromBase64String(e.bytes)}}Wi._jsonSchemaVersion="firestore/bytes/1.0",Wi._jsonSchema={type:Nn("string",Wi._jsonSchemaVersion),bytes:Nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ja._jsonSchemaVersion}}static fromJSON(e){if(Hd(e,Ja._jsonSchema))return new Ja(e.latitude,e.longitude)}}Ja._jsonSchemaVersion="firestore/geoPoint/1.0",Ja._jsonSchema={type:Nn("string",Ja._jsonSchemaVersion),latitude:Nn("number"),longitude:Nn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:eo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hd(e,eo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new eo(e.vectorValues);throw new _e(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}eo._jsonSchemaVersion="firestore/vectorValue/1.0",eo._jsonSchema={type:Nn("string",eo._jsonSchemaVersion),vectorValues:Nn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uH=/^__.*__$/;class cH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _l(e,this.data,this.fieldMask,n,this.fieldTransforms):new $d(e,this.data,n,this.fieldTransforms)}}class e5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _l(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function t5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{Ac:t})}}class Rw{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Rw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return eg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(t5(this.Ac)&&uH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class fH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||uv(e)}Cc(e,n,r,i=!1){return new Rw({Ac:e,methodName:n,Dc:r,path:wr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pw(t){const e=t._freezeSettings(),n=uv(t._databaseId);return new fH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hH(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);Dw("Data must be an object, but it was:",o,r);const l=n5(r,o);let c,f;if(a.merge)c=new Ei(o.fieldMask),f=o.fieldTransforms;else if(a.mergeFields){const d=[];for(const p of a.mergeFields){const v=B_(e,p,n);if(!o.contains(v))throw new _e(ce.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);i5(d,v)||d.push(v)}c=new Ei(d),f=o.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,f=o.fieldTransforms;return new cH(new ni(l),c,f)}class pv extends Ow{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pv}}function dH(t,e,n,r){const i=t.Cc(1,e,n);Dw("Data must be an object, but it was:",i,r);const a=[],o=ni.empty();xl(r,((c,f)=>{const d=Nw(e,c,n);f=Wn(f);const p=i.yc(d);if(f instanceof pv)a.push(d);else{const v=Wd(f,p);v!=null&&(a.push(d),o.set(d,v))}}));const l=new Ei(a);return new e5(o,l,i.fieldTransforms)}function pH(t,e,n,r,i,a){const o=t.Cc(1,e,n),l=[B_(e,r,n)],c=[i];if(a.length%2!=0)throw new _e(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)l.push(B_(e,a[v])),c.push(a[v+1]);const f=[],d=ni.empty();for(let v=l.length-1;v>=0;--v)if(!i5(f,l[v])){const m=l[v];let _=c[v];_=Wn(_);const w=o.yc(m);if(_ instanceof pv)f.push(m);else{const E=Wd(_,w);E!=null&&(f.push(m),d.set(m,E))}}const p=new Ei(f);return new e5(d,p,o.fieldTransforms)}function gH(t,e,n,r=!1){return Wd(n,t.Cc(r?4:3,e))}function Wd(t,e){if(r5(t=Wn(t)))return Dw("Unsupported field value:",e,t),n5(t,e);if(t instanceof Ow)return(function(r,i){if(!t5(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const l of r){let c=Wd(l,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Wn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Gt.fromDate(r);return{timestampValue:Y1(i.serializer,a)}}if(r instanceof Gt){const a=new Gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Y1(i.serializer,a)}}if(r instanceof Ja)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wi)return{bytesValue:_D(i.serializer,r._byteString)};if(r instanceof Mn){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:pw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof eo)return(function(o,l){return{mapValue:{fields:{[XP]:{stringValue:YP},[G1]:{arrayValue:{values:o.toArray().map((f=>{if(typeof f!="number")throw l.Sc("VectorValues must only contain numeric values.");return cw(l.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${ev(r)}`)})(t,e)}function n5(t,e){const n={};return HP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xl(t,((r,i)=>{const a=Wd(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function r5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Gt||t instanceof Ja||t instanceof Wi||t instanceof Mn||t instanceof Ow||t instanceof eo)}function Dw(t,e,n){if(!r5(n)||!UP(n)){const r=ev(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function B_(t,e,n){if((e=Wn(e))instanceof dv)return e._internalPath;if(typeof e=="string")return Nw(t,e);throw eg("Field path arguments must be of type string or ",t,!1,void 0,n)}const vH=new RegExp("[~\\*/\\[\\]]");function Nw(t,e,n){if(e.search(vH)>=0)throw eg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dv(...e.split("."))._internalPath}catch{throw eg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function eg(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new _e(ce.INVALID_ARGUMENT,l+t+c)}function i5(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mH extends a5{data(){return super.data()}}function Mw(t,e){return typeof e=="string"?Nw(t,e):e instanceof dv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kw{}class s5 extends kw{}function hl(t,e,...n){let r=[];e instanceof kw&&r.push(e),r=r.concat(n),(function(a){const o=a.filter((c=>c instanceof jw)).length,l=a.filter((c=>c instanceof Lw)).length;if(o>1||o>0&&l>0)throw new _e(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Lw extends s5{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Lw(e,n,r)}_apply(e){const n=this._parse(e);return l5(e._query,n),new bl(e.firestore,e.converter,T_(e._query,n))}_parse(e){const n=Pw(e.firestore);return(function(a,o,l,c,f,d,p){let v;if(f.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new _e(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){iI(p,d);const _=[];for(const w of p)_.push(rI(c,a,w));v={arrayValue:{values:_}}}else v=rI(c,a,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||iI(p,d),v=gH(l,o,p,d==="in"||d==="not-in");return On.create(f,d,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class jw extends kw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jw(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Aa.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let o=i;const l=a.getFlattenedFilters();for(const c of l)l5(o,c),o=T_(o,c)})(e._query,n),new bl(e.firestore,e.converter,T_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bw extends s5{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bw(e,n)}_apply(e){const n=(function(i,a,o){if(i.startAt!==null)throw new _e(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new _e(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ad(a,o)})(e._query,this._field,this._direction);return new bl(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new wf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function dl(t,e="asc"){const n=e,r=Mw("orderBy",t);return Bw._create(r,n)}function rI(t,e,n){if(typeof(n=Wn(n))=="string"){if(n==="")throw new _e(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iD(e)&&n.indexOf("/")!==-1)throw new _e(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Bt.fromString(n));if(!De.isDocumentKey(r))throw new _e(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return x4(t,new De(r))}if(n instanceof Mn)return x4(t,n._key);throw new _e(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ev(n)}.`)}function iI(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function l5(t,e){const n=(function(i,a){for(const o of i)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class yH{convertValue(e,n="none"){switch(ul(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ll(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xl(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[G1].arrayValue?.values?.map((r=>vn(r.doubleValue)));return new eo(n)}convertGeoPoint(e){return new Ja(vn(e.latitude),vn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bd(e));default:return null}}convertTimestamp(e){const n=sl(e);return new Gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Bt.fromString(e);wt(TD(r),9688,{name:e});const i=new wd(r.get(1),r.get(3)),a=new De(r.popFirst(5));return i.isEqual(n)||Uo(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xH(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class rd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _u extends a5{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new O1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Mw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=_u._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_u._jsonSchemaVersion="firestore/documentSnapshot/1.0",_u._jsonSchema={type:Nn("string",_u._jsonSchemaVersion),bundleSource:Nn("string","DocumentSnapshot"),bundleName:Nn("string"),bundle:Nn("string")};class O1 extends _u{data(e={}){return super.data(e)}}class bu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new rd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new O1(this._firestore,this._userDataWriter,r.key,r,new rd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((l=>{const c=new O1(i._firestore,i._userDataWriter,l.doc.key,l.doc,new rd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const c=new O1(i._firestore,i._userDataWriter,l.doc.key,l.doc,new rd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,d=-1;return l.type!==0&&(f=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:_H(l.type),doc:c,oldIndex:f,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _H(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:t})}}bu._jsonSchemaVersion="firestore/querySnapshot/1.0",bu._jsonSchema={type:Nn("string",bu._jsonSchemaVersion),bundleSource:Nn("string","QuerySnapshot"),bundleName:Nn("string"),bundle:Nn("string")};class Vw extends yH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,n)}}function gv(t){t=Ya(t,bl);const e=Ya(t.firestore,Du),n=Iw(e),r=new Vw(e);return o5(t._query),aH(n,t._query).then((i=>new bu(e,r,t,i)))}function vv(t,e,n,...r){t=Ya(t,Mn);const i=Ya(t.firestore,Du),a=Pw(i);let o;return o=typeof(e=Wn(e))=="string"||e instanceof dv?pH(a,"updateDoc",t._key,e,n,r):dH(a,"updateDoc",t._key,e),Fw(i,[o.toMutation(t._key,wa.exists(!0))])}function mv(t){return Fw(Ya(t.firestore,Du),[new fw(t._key,wa.none())])}function yv(t,e){const n=Ya(t.firestore,Du),r=Ho(t),i=xH(t.converter,e);return Fw(n,[hH(Pw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,wa.exists(!1))]).then((()=>r))}function xv(t,...e){t=Wn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||nI(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(nI(e[r])){const c=e[r];e[r]=c.next?.bind(c),e[r+1]=c.error?.bind(c),e[r+2]=c.complete?.bind(c)}let a,o,l;if(t instanceof Mn)o=Ya(t.firestore,Du),l=uw(t._key.path),a={next:c=>{e[r]&&e[r](bH(o,t,c))},error:e[r+1],complete:e[r+2]};else{const c=Ya(t,bl);o=Ya(c.firestore,Du),l=c._query;const f=new Vw(o);a={next:d=>{e[r]&&e[r](new bu(o,f,c,d))},error:e[r+1],complete:e[r+2]},o5(t._query)}return(function(f,d,p,v){const m=new YD(v),_=new UD(d,m,p);return f.asyncQueue.enqueueAndForget((async()=>VD(await j_(f),_))),()=>{m.Nu(),f.asyncQueue.enqueueAndForget((async()=>FD(await j_(f),_)))}})(Iw(o),l,i,a)}function Fw(t,e){return(function(r,i){const a=new tl;return r.asyncQueue.enqueueAndForget((async()=>Kz(await iH(r),i,a))),a.promise})(Iw(t),e)}function bH(t,e,n){const r=n.docs.get(e._key),i=new Vw(t);return new _u(t,i,e._key,r,new rd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){xf=i})(yf),Qc(new Ou("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),l=new Du(new pF(r.getProvider("auth-internal")),new mF(o,r.getProvider("app-check-internal")),(function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new _e(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wd(f.options.projectId,d)})(o,i),o);return a={useFetchStreams:n,...a},l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),Js(o4,s4,e),Js(o4,s4,"esm2020")})();var wH="firebase",EH="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js(wH,EH,"app");function u5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AH=u5,c5=new Ud("auth","Firebase",u5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=new Jb("@firebase/auth");function SH(t,...e){tg.logLevel<=rt.WARN&&tg.warn(`Auth (${yf}): ${t}`,...e)}function R1(t,...e){tg.logLevel<=rt.ERROR&&tg.error(`Auth (${yf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t,...e){throw zw(t,...e)}function Ea(t,...e){return zw(t,...e)}function Uw(t,e,n){const r={...AH(),[e]:n};return new Ud("auth","Firebase",r).create(e,{appName:t.name})}function jo(t){return Uw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TH(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ji(t,"argument-error"),Uw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return c5.create(t,...e)}function Le(t,e,...n){if(!t)throw zw(e,...n)}function No(t){const e="INTERNAL ASSERTION FAILED: "+t;throw R1(e),new Error(e)}function $o(t,e){t||No(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(){return typeof self<"u"&&self.location?.href||""}function CH(){return aI()==="http:"||aI()==="https:"}function aI(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CH()||qB()||"connection"in navigator)?navigator.onLine:!0}function OH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n){this.shortDelay=e,this.longDelay=n,$o(n>e,"Short delay should be less than long delay!"),this.isMobile=zB()||GB()}get(){return IH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(t,e){$o(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;No("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;No("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;No("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DH=new Xd(3e4,6e4);function wl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function El(t,e,n,r,i={}){return h5(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const l=zd({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...a};return $B()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&mf(t.emulatorConfig.host)&&(f.credentials="include"),f5.fetch()(await d5(t,t.config.apiHost,n,l),f)})}async function h5(t,e,n){t._canInitEmulator=!1;const r={...RH,...e};try{const i=new MH(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Jp(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jp(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Jp(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Jp(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Uw(t,d,f);Ji(t,d)}}catch(i){if(i instanceof Xo)throw i;Ji(t,"network-request-failed",{message:String(i)})}}async function Yd(t,e,n,r,i={}){const a=await El(t,e,n,r,i);return"mfaPendingCredential"in a&&Ji(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function d5(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?Hw(t.config,i):`${t.config.apiScheme}://${i}`;return PH.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function NH(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MH{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ea(this.auth,"network-request-failed")),DH.get())})}}function Jp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ea(t,e,r);return i.customData._tokenResponse=n,i}function oI(t){return t!==void 0&&t.enterprise!==void 0}class kH{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return NH(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LH(t,e){return El(t,"GET","/v2/recaptchaConfig",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jH(t,e){return El(t,"POST","/v1/accounts:delete",e)}async function ng(t,e){return El(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BH(t,e=!1){const n=Wn(t),r=await n.getIdToken(e),i=$w(r);Le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:gd(A2(i.auth_time)),issuedAtTime:gd(A2(i.iat)),expirationTime:gd(A2(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function A2(t){return Number(t)*1e3}function $w(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return R1("JWT malformed, contained fewer than 3 sections"),null;try{const i=_P(n);return i?JSON.parse(i):(R1("Failed to decode base64 JWT payload"),null)}catch(i){return R1("Caught error parsing JWT payload as JSON",i?.toString()),null}}function sI(t){const e=$w(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xo&&VH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function VH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gd(this.lastLoginAt),this.creationTime=gd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rg(t){const e=t.auth,n=await t.getIdToken(),r=await Cd(t,ng(e,{idToken:n}));Le(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?p5(i.providerUserInfo):[],o=zH(t.providerData,a),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!o?.length,f=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new F_(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,d)}async function UH(t){const e=Wn(t);await rg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zH(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function p5(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HH(t,e){const n=await h5(t,{},async()=>{const r=zd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await d5(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&mf(t.emulatorConfig.host)&&(c.credentials="include"),f5.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $H(t,e){return El(t,"POST","/v2/accounts:revokeToken",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=sI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await HH(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new qc;return r&&(Le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Le(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Le(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qc,this.toJSON())}_performRefresh(){return No("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ba{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new FH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new F_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Cd(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BH(this,e)}reload(){return UH(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ba({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await rg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bi(this.auth.app))return Promise.reject(jo(this.auth));const e=await this.getIdToken();return await Cd(this,jH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,f=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:m,providerData:_,stsTokenManager:w}=n;Le(p&&w,e,"internal-error");const E=qc.fromJSON(this.name,w);Le(typeof p=="string",e,"internal-error"),Bs(r,e.name),Bs(i,e.name),Le(typeof v=="boolean",e,"internal-error"),Le(typeof m=="boolean",e,"internal-error"),Bs(a,e.name),Bs(o,e.name),Bs(l,e.name),Bs(c,e.name),Bs(f,e.name),Bs(d,e.name);const S=new ba({uid:p,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:E,createdAt:f,lastLoginAt:d});return _&&Array.isArray(_)&&(S.providerData=_.map(I=>({...I}))),c&&(S._redirectEventId=c),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new qc;i.updateFromServerResponse(n);const a=new ba({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await rg(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Le(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?p5(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!a?.length,l=new qc;l.updateFromIdToken(r);const c=new ba({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new F_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=new Map;function Mo(t){$o(t instanceof Function,"Expected a class definition");let e=lI.get(t);return e?($o(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}g5.type="NONE";const uI=g5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t,e,n){return`firebase:${t}:${e}:${n}`}class Gc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=P1(this.userKey,i.apiKey,a),this.fullPersistenceKey=P1("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ng(this.auth,{idToken:e}).catch(()=>{});return n?ba._fromGetAccountInfoResponse(this.auth,n,e):null}return ba._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Gc(Mo(uI),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Mo(uI);const o=P1(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const d=await f._get(o);if(d){let p;if(typeof d=="string"){const v=await ng(e,{idToken:d}).catch(()=>{});if(!v)break;p=await ba._fromGetAccountInfoResponse(e,v,d)}else p=ba._fromJSON(e,d);f!==a&&(l=p),a=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Gc(a,e,r):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(o)}catch{}})),new Gc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(x5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(v5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(b5(e))return"Blackberry";if(w5(e))return"Webos";if(m5(e))return"Safari";if((e.includes("chrome/")||y5(e))&&!e.includes("edge/"))return"Chrome";if(_5(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function v5(t=Lr()){return/firefox\//i.test(t)}function m5(t=Lr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function y5(t=Lr()){return/crios\//i.test(t)}function x5(t=Lr()){return/iemobile/i.test(t)}function _5(t=Lr()){return/android/i.test(t)}function b5(t=Lr()){return/blackberry/i.test(t)}function w5(t=Lr()){return/webos/i.test(t)}function qw(t=Lr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qH(t=Lr()){return qw(t)&&!!window.navigator?.standalone}function GH(){return KB()&&document.documentMode===10}function E5(t=Lr()){return qw(t)||_5(t)||w5(t)||b5(t)||/windows phone/i.test(t)||x5(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(t,e=[]){let n;switch(t){case"Browser":n=cI(Lr());break;case"Worker":n=`${cI(Lr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yf}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WH(t,e={}){return El(t,"GET","/v2/passwordPolicy",wl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH=6;class YH{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??XH,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fI(this),this.idTokenSubscription=new fI(this),this.beforeStateQueue=new KH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mo(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Gc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ng(this,{idToken:e}),r=await ba._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(bi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,o=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&l?.user&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bi(this.app))return Promise.reject(jo(this));const n=e?Wn(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bi(this.app)?Promise.reject(jo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bi(this.app)?Promise.reject(jo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WH(this),n=new YH(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ud("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $H(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mo(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await Gc.create(this,[Mo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(bi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&SH(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Al(t){return Wn(t)}class fI{constructor(e){this.auth=e,this.observer=null,this.addObserver=tV(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _v={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZH(t){_v=t}function S5(t){return _v.loadJS(t)}function JH(){return _v.recaptchaEnterpriseScript}function e$(){return _v.gapiScript}function t$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class n${constructor(){this.enterprise=new r$}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class r${ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const i$="recaptcha-enterprise",T5="NO_RECAPTCHA";class a${constructor(e){this.type=i$,this.auth=Al(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{LH(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new kH(c);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,o(f.siteKey)}}).catch(c=>{l(c)})})}function i(a,o,l){const c=window.grecaptcha;oI(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(f=>{o(f)}).catch(()=>{o(T5)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new n$().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(l=>{if(!n&&oI(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=JH();c.length!==0&&(c+=l),S5(c).then(()=>{i(l,a,o)}).catch(f=>{o(f)})}}).catch(l=>{o(l)})})}}async function hI(t,e,n,r=!1,i=!1){const a=new a$(t);let o;if(i)o=T5;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function U_(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await hI(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await hI(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t,e){const n=tw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Iu(a,e??{}))return i;Ji(i,"already-initialized")}return n.initialize({options:e})}function s$(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Mo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function l$(t,e,n){const r=Al(t);Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=C5(e),{host:o,port:l}=u$(e),c=l===null?"":`:${l}`,f={url:`${a}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Le(Iu(f,r.config.emulator)&&Iu(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,mf(o)?(AP(`${a}//${o}${c}`),SP("Auth",!0)):c$()}function C5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function u$(t){const e=C5(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:dI(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:dI(o)}}}function dI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function c$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return No("not implemented")}_getIdTokenResponse(e){return No("not implemented")}_linkToIdToken(e,n){return No("not implemented")}_getReauthenticationResolver(e){return No("not implemented")}}async function f$(t,e){return El(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h$(t,e){return Yd(t,"POST","/v1/accounts:signInWithPassword",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d$(t,e){return Yd(t,"POST","/v1/accounts:signInWithEmailLink",wl(t,e))}async function p$(t,e){return Yd(t,"POST","/v1/accounts:signInWithEmailLink",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends Gw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Id(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Id(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return U_(e,n,"signInWithPassword",h$);case"emailLink":return d$(e,{email:this._email,oobCode:this._password});default:Ji(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return U_(e,r,"signUpPassword",f$);case"emailLink":return p$(e,{idToken:n,email:this._email,oobCode:this._password});default:Ji(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(t,e){return Yd(t,"POST","/v1/accounts:signInWithIdp",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$="http://localhost";class Nu extends Gw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Nu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ji("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new Nu(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Kc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Kc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Kc(e,n)}buildRequest(){const e={requestUri:g$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function m$(t){const e=Zh(Jh(t)).link,n=e?Zh(Jh(e)).deep_link_id:null,r=Zh(Jh(t)).deep_link_id;return(r?Zh(Jh(r)).link:null)||r||n||e||t}class Kw{constructor(e){const n=Zh(Jh(e)),r=n.apiKey??null,i=n.oobCode??null,a=v$(n.mode??null);Le(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=m$(e);try{return new Kw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(){this.providerId=Af.PROVIDER_ID}static credential(e,n){return Id._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Kw.parseLink(n);return Le(r,"argument-error"),Id._fromEmailAndCode(e,r.code,r.tenantId)}}Af.PROVIDER_ID="password";Af.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Af.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends Ww{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Qd{constructor(){super("facebook.com")}static credential(e){return Nu._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends Qd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Nu._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ro.credential(n,r)}catch{return null}}}Ro.GOOGLE_SIGN_IN_METHOD="google.com";Ro.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Qd{constructor(){super("github.com")}static credential(e){return Nu._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Qd{constructor(){super("twitter.com")}static credential(e,n){return Nu._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ks.credential(n,r)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y$(t,e){return Yd(t,"POST","/v1/accounts:signUp",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await ba._fromIdTokenResponse(e,r,i),o=pI(r);return new Mu({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=pI(r);return new Mu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function pI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig extends Xo{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ig.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ig(e,n,r,i)}}function I5(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ig._fromErrorAndOperation(t,a,e,r):a})}async function x$(t,e,n=!1){const r=await Cd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Mu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _$(t,e,n=!1){const{auth:r}=t;if(bi(r.app))return Promise.reject(jo(r));const i="reauthenticate";try{const a=await Cd(t,I5(r,i,e,t),n);Le(a.idToken,r,"internal-error");const o=$w(a.idToken);Le(o,r,"internal-error");const{sub:l}=o;return Le(t.uid===l,r,"user-mismatch"),Mu._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Ji(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O5(t,e,n=!1){if(bi(t.app))return Promise.reject(jo(t));const r="signIn",i=await I5(t,r,e),a=await Mu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function b$(t,e){return O5(Al(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R5(t){const e=Al(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function w$(t,e,n){if(bi(t.app))return Promise.reject(jo(t));const r=Al(t),o=await U_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",y$).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&R5(t),c}),l=await Mu._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function E$(t,e,n){return bi(t.app)?Promise.reject(jo(t)):b$(Wn(t),Af.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&R5(t),r})}function A$(t,e,n,r){return Wn(t).onIdTokenChanged(e,n,r)}function S$(t,e,n){return Wn(t).beforeAuthStateChanged(e,n)}function T$(t,e,n,r){return Wn(t).onAuthStateChanged(e,n,r)}function C$(t){return Wn(t).signOut()}const ag="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ag,"1"),this.storage.removeItem(ag),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$=1e3,O$=10;class D5 extends P5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);GH()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,O$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},I$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}D5.type="LOCAL";const R$=D5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5 extends P5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}N5.type="SESSION";const M5=N5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new bv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async f=>f(n.origin,a)),c=await P$(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const f=Xw("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(v.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(){return window}function N$(t){to().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(){return typeof to().WorkerGlobalScope<"u"&&typeof to().importScripts=="function"}async function M$(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k$(){return navigator?.serviceWorker?.controller||null}function L$(){return k5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5="firebaseLocalStorageDb",j$=1,og="firebaseLocalStorage",j5="fbase_key";class Zd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wv(t,e){return t.transaction([og],e?"readwrite":"readonly").objectStore(og)}function B$(){const t=indexedDB.deleteDatabase(L5);return new Zd(t).toPromise()}function z_(){const t=indexedDB.open(L5,j$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(og,{keyPath:j5})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(og)?e(r):(r.close(),await B$(),e(await z_()))})})}async function gI(t,e,n){const r=wv(t,!0).put({[j5]:e,value:n});return new Zd(r).toPromise()}async function V$(t,e){const n=wv(t,!1).get(e),r=await new Zd(n).toPromise();return r===void 0?null:r.value}function vI(t,e){const n=wv(t,!0).delete(e);return new Zd(n).toPromise()}const F$=800,U$=3;class B5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await z_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>U$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return k5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bv._getInstance(L$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await M$(),!this.activeServiceWorker)return;this.sender=new D$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await z_();return await gI(e,ag,"1"),await vI(e,ag),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>V$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=wv(i,!1).getAll();return new Zd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),F$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B5.type="LOCAL";const z$=B5;new Xd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(t,e){return e?Mo(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw extends Gw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Kc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Kc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function H$(t){return O5(t.auth,new Yw(t),t.bypassAuthState)}function $$(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),_$(n,new Yw(t),t.bypassAuthState)}async function q$(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),x$(n,new Yw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H$;case"linkViaPopup":case"linkViaRedirect":return q$;case"reauthViaPopup":case"reauthViaRedirect":return $$;default:Ji(this.auth,"internal-error")}}resolve(e){$o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$=new Xd(2e3,1e4);async function K$(t,e,n){if(bi(t.app))return Promise.reject(Ea(t,"operation-not-supported-in-this-environment"));const r=Al(t);TH(t,e,Ww);const i=V5(r,n);return new pu(r,"signInViaPopup",e,i).executeNotNull()}class pu extends F5{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,pu.currentPopupAction&&pu.currentPopupAction.cancel(),pu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){$o(this.filter.length===1,"Popup operations only handle one event");const e=Xw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ea(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ea(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ea(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G$.get())};e()}}pu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$="pendingRedirect",D1=new Map;class X$ extends F5{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=D1.get(this.auth._key());if(!e){try{const r=await Y$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}D1.set(this.auth._key(),e)}return this.bypassAuthState||D1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y$(t,e){const n=J$(e),r=Z$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Q$(t,e){D1.set(t._key(),e)}function Z$(t){return Mo(t._redirectPersistence)}function J$(t){return P1(W$,t.config.apiKey,t.name)}async function eq(t,e,n=!1){if(bi(t.app))return Promise.reject(jo(t));const r=Al(t),i=V5(r,e),o=await new X$(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq=600*1e3;class nq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!U5(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ea(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tq&&this.cachedEventUids.clear(),this.cachedEventUids.has(mI(e))}saveEventToCache(e){this.cachedEventUids.add(mI(e)),this.lastProcessedEventTime=Date.now()}}function mI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function U5({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function rq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U5(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iq(t,e={}){return El(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oq=/^https?/;async function sq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iq(t);for(const n of e)try{if(lq(n))return}catch{}Ji(t,"unauthorized-domain")}function lq(t){const e=V_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!oq.test(n))return!1;if(aq.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq=new Xd(3e4,6e4);function yI(){const t=to().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cq(t){return new Promise((e,n)=>{function r(){yI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yI(),n(Ea(t,"network-request-failed"))},timeout:uq.get()})}if(to().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(to().gapi?.load)r();else{const i=t$("iframefcb");return to()[i]=()=>{gapi.load?r():n(Ea(t,"network-request-failed"))},S5(`${e$()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw N1=null,e})}let N1=null;function fq(t){return N1=N1||cq(t),N1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq=new Xd(5e3,15e3),dq="__/auth/iframe",pq="emulator/auth/iframe",gq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mq(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hw(e,pq):`https://${t.config.authDomain}/${dq}`,r={apiKey:e.apiKey,appName:t.name,v:yf},i=vq.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${zd(r).slice(1)}`}async function yq(t){const e=await fq(t),n=to().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:mq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gq,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Ea(t,"network-request-failed"),l=to().setTimeout(()=>{a(o)},hq.get());function c(){to().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_q=500,bq=600,wq="_blank",Eq="http://localhost";class xI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Aq(t,e,n,r=_q,i=bq){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...xq,width:r.toString(),height:i.toString(),top:a,left:o},f=Lr().toLowerCase();n&&(l=y5(f)?wq:n),v5(f)&&(e=e||Eq,c.scrollbars="yes");const d=Object.entries(c).reduce((v,[m,_])=>`${v}${m}=${_},`,"");if(qH(f)&&l!=="_self")return Sq(e||"",l),new xI(null);const p=window.open(e||"",l,d);Le(p,t,"popup-blocked");try{p.focus()}catch{}return new xI(p)}function Sq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq="__/auth/handler",Cq="emulator/auth/handler",Iq=encodeURIComponent("fac");async function _I(t,e,n,r,i,a){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yf,eventId:i};if(e instanceof Ww){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",eV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof Qd){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),f=c?`#${Iq}=${encodeURIComponent(c)}`:"";return`${Oq(t)}?${zd(l).slice(1)}${f}`}function Oq({config:t}){return t.emulator?Hw(t,Cq):`https://${t.authDomain}/${Tq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="webStorageSupport";class Rq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M5,this._completeRedirectFn=eq,this._overrideRedirectResult=Q$}async _openPopup(e,n,r,i){$o(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await _I(e,n,r,V_(),i);return Aq(e,a,Xw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await _I(e,n,r,V_(),i);return N$(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):($o(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yq(e),r=new nq(e);return n.register("authEvent",i=>(Le(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(S2,{type:S2},i=>{const a=i?.[0]?.[S2];a!==void 0&&n(!!a),Ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return E5()||m5()||qw()}}const Pq=Rq;var bI="@firebase/auth",wI="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Mq(t){Qc(new Ou("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A5(t)},f=new QH(r,i,a,c);return s$(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qc(new Ou("auth-internal",e=>{const n=Al(e.getProvider("auth").getImmediate());return(r=>new Dq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(bI,wI,Nq(t)),Js(bI,wI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kq=300,Lq=EP("authIdTokenMaxAge")||kq;let EI=null;const jq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Lq)return;const i=n?.token;EI!==i&&(EI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Bq(t=OP()){const e=tw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=o$(t,{popupRedirectResolver:Pq,persistence:[z$,R$,M5]}),r=EP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=jq(a.toString());S$(n,o,()=>o(n.currentUser)),A$(n,l=>o(l))}}const i=bP("auth");return i&&l$(n,`http://${i}`),n}function Vq(){return document.getElementsByTagName("head")?.[0]??document}ZH({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Ea("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",Vq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Mq("Browser");const Fq={apiKey:"AIzaSyDD5WN0iA3VjU0z8QDPYA_2008D0IHYv3E",authDomain:"osikko-paradice.firebaseapp.com",projectId:"osikko-paradice",storageBucket:"osikko-paradice.firebasestorage.app",messagingSenderId:"721996967143",appId:"1:721996967143:web:2add41591fe236c7c28642"},z5=IP(Fq),mn=Bq(z5),Rn=sH(z5),Pn={INTAKES:"intakes",EXPENSES:"expenses",STOCKS:"stocks",SHOPPING:"shopping"},Dn=(t,e)=>`users/${t}/${e}`,e1={getAll:async t=>{const e=hl(Qi(Rn,Dn(t,Pn.INTAKES)),dl("createdAt","desc"));return(await gv(e)).docs.map(r=>({id:r.id,...r.data()}))},add:async(t,e)=>(await yv(Qi(Rn,Dn(t,Pn.INTAKES)),e)).id,update:async(t,e,n)=>{const r=Ho(Rn,Dn(t,Pn.INTAKES),e);await vv(r,n)},delete:async(t,e)=>{const n=Ho(Rn,Dn(t,Pn.INTAKES),e);await mv(n)},subscribe:(t,e)=>{const n=hl(Qi(Rn,Dn(t,Pn.INTAKES)),dl("createdAt","desc"));return xv(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},T2={getAll:async t=>{const e=hl(Qi(Rn,Dn(t,Pn.EXPENSES)),dl("createdAt","desc"));return(await gv(e)).docs.map(r=>({id:r.id,...r.data()}))},add:async(t,e)=>(await yv(Qi(Rn,Dn(t,Pn.EXPENSES)),e)).id,update:async(t,e,n)=>{const r=Ho(Rn,Dn(t,Pn.EXPENSES),e);await vv(r,n)},delete:async(t,e)=>{const n=Ho(Rn,Dn(t,Pn.EXPENSES),e);await mv(n)},subscribe:(t,e)=>{const n=hl(Qi(Rn,Dn(t,Pn.EXPENSES)),dl("createdAt","desc"));return xv(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},t1={getAll:async t=>{const e=hl(Qi(Rn,Dn(t,Pn.STOCKS)),dl("createdAt","desc"));return(await gv(e)).docs.map(r=>({id:r.id,...r.data()}))},add:async(t,e)=>(await yv(Qi(Rn,Dn(t,Pn.STOCKS)),e)).id,update:async(t,e,n)=>{const r=Ho(Rn,Dn(t,Pn.STOCKS),e);await vv(r,n)},delete:async(t,e)=>{const n=Ho(Rn,Dn(t,Pn.STOCKS),e);await mv(n)},subscribe:(t,e)=>{const n=hl(Qi(Rn,Dn(t,Pn.STOCKS)),dl("createdAt","desc"));return xv(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},Fh={getAll:async t=>{const e=hl(Qi(Rn,Dn(t,Pn.SHOPPING)),dl("createdAt","desc"));return(await gv(e)).docs.map(r=>({id:r.id,...r.data()}))},add:async(t,e)=>(await yv(Qi(Rn,Dn(t,Pn.SHOPPING)),e)).id,update:async(t,e,n)=>{const r=Ho(Rn,Dn(t,Pn.SHOPPING),e);await vv(r,n)},delete:async(t,e)=>{const n=Ho(Rn,Dn(t,Pn.SHOPPING),e);await mv(n)},subscribe:(t,e)=>{const n=hl(Qi(Rn,Dn(t,Pn.SHOPPING)),dl("createdAt","desc"));return xv(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},Yo=vf((t,e)=>({intakes:Cu(_t.INTAKES,[]),loading:!1,initialized:!1,setIntakes:n=>t({intakes:n}),setLoading:n=>t({loading:n}),setInitialized:n=>t({initialized:n}),addIntake:async n=>{const r=mn.currentUser,i={id:Ys(),...n,date:new Date().toISOString(),createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.intakes,i];return Yt(_t.INTAKES,o),{intakes:o}}),r)try{await e1.add(r.uid,i)}catch(a){console.error("Failed to add intake to Firestore:",a)}},updateIntake:async(n,r)=>{const i=mn.currentUser,a={...r,updatedAt:new Date().toISOString()};if(t(o=>{const l=o.intakes.map(c=>c.id===n?{...c,...a}:c);return Yt(_t.INTAKES,l),{intakes:l}}),i)try{await e1.update(i.uid,n,a)}catch(o){console.error("Failed to update intake in Firestore:",o)}},deleteIntake:async n=>{const r=mn.currentUser;if(t(i=>{const a=i.intakes.filter(o=>o.id!==n);return Yt(_t.INTAKES,a),{intakes:a}}),r)try{await e1.delete(r.uid,n)}catch(i){console.error("Failed to delete intake from Firestore:",i)}},getIntakesByDate:n=>e().intakes.filter(i=>i.date.startsWith(n)),getTotalCaloriesByDate:n=>e().getIntakesByDate(n).reduce((i,a)=>i+a.calories,0),getTotalPriceByDate:n=>e().getIntakesByDate(n).reduce((i,a)=>i+a.price,0),syncWithFirestore:async()=>{const n=mn.currentUser;if(n)try{t({loading:!0}),console.log(`[IntakeStore] Syncing data for user: ${n.uid}`);const r=await e1.getAll(n.uid);console.log(`[IntakeStore] Loaded ${r.length} intakes from Firestore`),t({intakes:r,loading:!1,initialized:!0}),Yt(_t.INTAKES,r)}catch(r){console.error("Failed to sync intakes with Firestore:",r),t({loading:!1})}}})),Qo=vf((t,e)=>({expenses:Cu(_t.EXPENSES,[]),loading:!1,initialized:!1,setExpenses:n=>t({expenses:n}),addExpense:async n=>{const r=mn.currentUser,i={id:Ys(),...n,date:n.date||new Date().toISOString(),createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.expenses,i];return Yt(_t.EXPENSES,o),{expenses:o}}),r)try{await T2.add(r.uid,i)}catch(a){console.error("Failed to add expense to Firestore:",a)}},deleteExpense:async n=>{const r=mn.currentUser;if(t(i=>{const a=i.expenses.filter(o=>o.id!==n);return Yt(_t.EXPENSES,a),{expenses:a}}),r)try{await T2.delete(r.uid,n)}catch(i){console.error("Failed to delete expense from Firestore:",i)}},getExpensesByMonth:(n,r)=>e().expenses.filter(a=>{const o=new Date(a.date);return o.getFullYear()===n&&o.getMonth()+1===r}),getTotalByMonth:(n,r)=>e().getExpensesByMonth(n,r).reduce((a,o)=>a+o.amount,0),getTotalByCategory:(n,r,i)=>e().getExpensesByMonth(r,i).filter(o=>o.category===n).reduce((o,l)=>o+l.amount,0),syncWithFirestore:async()=>{const n=mn.currentUser;if(n)try{t({loading:!0});const r=await T2.getAll(n.uid);t({expenses:r,loading:!1,initialized:!0}),Yt(_t.EXPENSES,r)}catch(r){console.error("Failed to sync expenses with Firestore:",r),t({loading:!1})}}})),lo=vf((t,e)=>({stocks:Cu(_t.STOCKS,[]),loading:!1,initialized:!1,setStocks:n=>t({stocks:n}),addStock:async n=>{const r=mn.currentUser,i={id:Ys(),...n,createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.stocks,i];return Yt(_t.STOCKS,o),{stocks:o}}),r)try{await t1.add(r.uid,i)}catch(a){console.error("Failed to add stock to Firestore:",a)}},updateStock:async(n,r)=>{const i=mn.currentUser,a={...r,updatedAt:new Date().toISOString()};if(t(o=>{const l=o.stocks.map(c=>c.id===n?{...c,...a}:c);return Yt(_t.STOCKS,l),{stocks:l}}),i)try{await t1.update(i.uid,n,a)}catch(o){console.error("Failed to update stock in Firestore:",o)}},deleteStock:async n=>{const r=mn.currentUser;if(t(i=>{const a=i.stocks.filter(o=>o.id!==n);return Yt(_t.STOCKS,a),{stocks:a}}),r)try{await t1.delete(r.uid,n)}catch(i){console.error("Failed to delete stock from Firestore:",i)}},getExpiringStocks:n=>e().stocks.filter(i=>i.daysRemaining<=n),getStockIngredients:()=>e().stocks.map(r=>r.name),syncWithFirestore:async()=>{const n=mn.currentUser;if(n)try{t({loading:!0});const r=await t1.getAll(n.uid);t({stocks:r,loading:!1,initialized:!0}),Yt(_t.STOCKS,r)}catch(r){console.error("Failed to sync stocks with Firestore:",r),t({loading:!1})}}})),Uq=[{name:"米",quantity:1,category:"staple"},{name:"卵",quantity:10,category:"protein"},{name:"牛乳",quantity:1,category:"dairy"},{name:"パン",quantity:1,category:"staple"},{name:"鶏肉",quantity:1,category:"protein"},{name:"豚肉",quantity:1,category:"protein"},{name:"玉ねぎ",quantity:3,category:"vegetable"},{name:"にんじん",quantity:3,category:"vegetable"},{name:"じゃがいも",quantity:3,category:"vegetable"},{name:"トマト",quantity:3,category:"vegetable"},{name:"バナナ",quantity:1,category:"fruit"},{name:"ヨーグルト",quantity:1,category:"dairy"},{name:"醤油",quantity:1,category:"seasoning"},{name:"塩",quantity:1,category:"seasoning"}],Hu=vf((t,e)=>({items:Cu(_t.SHOPPING,[]),loading:!1,initialized:!1,setItems:n=>t({items:n}),addItem:async n=>{const r=mn.currentUser;if(e().items.find(o=>o.name===n.name&&!o.checked))return;const a={id:Ys(),...n,checked:!1,createdAt:new Date().toISOString()};if(t(o=>{const l=[...o.items,a];return Yt(_t.SHOPPING,l),{items:l}}),r)try{await Fh.add(r.uid,a)}catch(o){console.error("Failed to add shopping item to Firestore:",o)}},toggleItem:async n=>{const r=mn.currentUser;if(t(i=>{const a=i.items.map(o=>o.id===n?{...o,checked:!o.checked,updatedAt:new Date().toISOString()}:o);return Yt(_t.SHOPPING,a),{items:a}}),r)try{const i=e().items.find(a=>a.id===n);i&&await Fh.update(r.uid,n,{checked:i.checked,updatedAt:new Date().toISOString()})}catch(i){console.error("Failed to toggle shopping item in Firestore:",i)}},deleteItem:async n=>{const r=mn.currentUser;if(t(i=>{const a=i.items.filter(o=>o.id!==n);return Yt(_t.SHOPPING,a),{items:a}}),r)try{await Fh.delete(r.uid,n)}catch(i){console.error("Failed to delete shopping item from Firestore:",i)}},clearCompleted:async()=>{const n=mn.currentUser,r=e().items.filter(i=>i.checked).map(i=>i.id);if(t(i=>{const a=i.items.filter(o=>!o.checked);return Yt(_t.SHOPPING,a),{items:a}}),n)try{await Promise.all(r.map(i=>Fh.delete(n.uid,i)))}catch(i){console.error("Failed to clear completed items from Firestore:",i)}},addWeeklyEssentials:()=>{t(n=>{const r=n.items,i=[...r];return Uq.forEach(a=>{r.find(l=>l.name===a.name&&!l.checked)||i.push({id:Ys(),name:a.name,quantity:a.quantity,category:a.category,checked:!1,createdAt:new Date().toISOString()})}),Yt(_t.SHOPPING,i),{items:i}})},addLowStockItems:n=>{t(r=>{const i=r.items,a=[...i];return n.forEach(o=>{i.find(c=>c.name===o.name&&!c.checked)||a.push({id:Ys(),name:o.name,quantity:1,category:o.category,checked:!1,createdAt:new Date().toISOString()})}),Yt(_t.SHOPPING,a),{items:a}})},syncWithFirestore:async()=>{const n=mn.currentUser;if(n)try{t({loading:!0});const r=await Fh.getAll(n.uid);t({items:r,loading:!1,initialized:!0}),Yt(_t.SHOPPING,r)}catch(r){console.error("Failed to sync shopping items with Firestore:",r),t({loading:!1})}}})),zq=10,Ev=vf((t,e)=>({recipeHistory:Cu(_t.RECIPE_HISTORY,[]),favoriteRecipes:Cu(_t.FAVORITE_RECIPES,[]),addToHistory:n=>t(r=>{const a=[{id:Ys(),recipe:n,generatedAt:new Date().toISOString()},...r.recipeHistory].slice(0,zq);return Yt(_t.RECIPE_HISTORY,a),{recipeHistory:a}}),addToFavorites:n=>t(r=>{if(r.favoriteRecipes.find(l=>l.id===n.id))return r;const o=[{...n,isFavorite:!0},...r.favoriteRecipes];return Yt(_t.FAVORITE_RECIPES,o),{favoriteRecipes:o}}),removeFromFavorites:n=>t(r=>{const i=r.favoriteRecipes.filter(a=>a.id!==n);return Yt(_t.FAVORITE_RECIPES,i),{favoriteRecipes:i}}),isFavorite:n=>e().favoriteRecipes.some(i=>i.id===n)})),AI={monthlyBudget:3e4,darkMode:!1,notifications:!0,firstTime:!0},Qw=vf(t=>({settings:{...AI,...Cu(_t.SETTINGS,AI)},updateSettings:e=>t(n=>{const r={...n.settings,...e};return Yt(_t.SETTINGS,r),"darkMode"in e&&document.body.classList.toggle("dark-mode",e.darkMode),{settings:r}}),toggleDarkMode:()=>t(e=>{const n=!e.settings.darkMode,r={...e.settings,darkMode:n};return Yt(_t.SETTINGS,r),document.body.classList.toggle("dark-mode",n),{settings:r}}),setFirstTime:e=>t(n=>{const r={...n.settings,firstTime:e};return Yt(_t.SETTINGS,r),{settings:r}})})),Hq=()=>{const{getTotalCaloriesByDate:t}=Yo(),{getTotalByMonth:e}=Qo(),n=C.useMemo(()=>{const i=new Date().toISOString().split("T")[0];return t(i)},[t]),r=C.useMemo(()=>{const i=new Date;return e(i.getFullYear(),i.getMonth()+1)},[e]);return A.jsxs("div",{className:"summary-box",children:[A.jsxs("div",{className:"summary-row",children:[A.jsx("span",{className:"summary-label",children:"今日のカロリー"}),A.jsxs("span",{className:"summary-value",children:[n," kcal"]})]}),A.jsxs("div",{className:"summary-row",children:[A.jsx("span",{className:"summary-label",children:"今月の支出"}),A.jsxs("span",{className:"summary-value positive",children:["¥",r.toLocaleString()]})]})]})},$q=({onNavigate:t})=>{const e=[{screen:"meals",icon:A.jsx(Zb,{size:32}),label:"食事記録",color:"#3b82f6"},{screen:"barcode",icon:A.jsx(Qb,{size:32}),label:"スキャン",color:"#8b5cf6"},{screen:"expense",icon:A.jsx(uB,{size:32}),label:"家計簿",color:"#10b981"},{screen:"stock",icon:A.jsx(Yc,{size:32}),label:"在庫管理",color:"#f59e0b"},{screen:"recipe",icon:A.jsx(U1,{size:32}),label:"AIレシピ",color:"#ef4444"},{screen:"shopping",icon:A.jsx(Qg,{size:32}),label:"買い物",color:"#06b6d4"},{screen:"report",icon:A.jsx(cB,{size:32}),label:"レポート",color:"#6366f1"},{screen:"settings",icon:A.jsx(rB,{size:32}),label:"設定",color:"#64748b"},{icon:A.jsx(Qj,{size:32}),label:"ヘルプ",color:"#ec4899",onClick:()=>window.open("https://github.com/Haradakouta/life-pwa","_blank")}],n=r=>{r.onClick?r.onClick():r.screen&&t(r.screen)};return A.jsx("div",{className:"function-grid",children:e.map((r,i)=>A.jsxs("button",{className:"function-card",style:{"--card-color":r.color},onClick:()=>n(r),children:[A.jsx("div",{className:"function-icon",style:{color:r.color},children:r.icon}),A.jsx("div",{className:"function-label",children:r.label})]},i))})},SI=({onNavigate:t})=>A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:"ホーム"}),A.jsx(Hq,{}),A.jsx($q,{onNavigate:t})]}),qq=()=>{const{addIntake:t}=Yo(),[e,n]=C.useState(""),[r,i]=C.useState(""),[a,o]=C.useState(""),l=()=>{if(!e||!r||!a){alert("すべての項目を入力してください");return}t({name:e,calories:Number(r),price:Number(a)}),n(""),i(""),o(""),alert("食事を記録しました！")};return A.jsxs("div",{className:"card",children:[A.jsx("label",{children:"食品名"}),A.jsx("input",{value:e,onChange:c=>n(c.target.value),placeholder:"例: 牛乳"}),A.jsx("label",{children:"カロリー(kcal)"}),A.jsx("input",{type:"number",value:r,onChange:c=>i(c.target.value),placeholder:"200"}),A.jsx("label",{children:"金額(円)"}),A.jsx("input",{type:"number",value:a,onChange:c=>o(c.target.value),placeholder:"150"}),A.jsx("button",{className:"submit",onClick:l,children:"記録する"})]})},Gq=()=>{const{intakes:t,deleteIntake:e,getTotalCaloriesByDate:n,getTotalPriceByDate:r}=Yo(),i=C.useMemo(()=>{const f=new Date().toISOString().split("T")[0];return t.filter(d=>d.date.startsWith(f))},[t]),a=new Date().toISOString().split("T")[0],o=n(a),l=r(a),c=f=>{confirm("この記録を削除しますか？")&&e(f)};return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"今日の記録"}),i.length===0?A.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"まだ記録がありません"}):A.jsxs(A.Fragment,{children:[A.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:i.map(f=>A.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{style:{fontWeight:500,marginBottom:"4px"},children:f.name}),A.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:[f.calories," kcal · ¥",f.price]})]}),A.jsx("button",{onClick:()=>c(f.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},children:A.jsx(Fd,{size:20})})]},f.id))}),A.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"var(--card)",borderRadius:"8px",display:"flex",justifyContent:"space-between"},children:[A.jsxs("span",{children:[A.jsx("strong",{children:"合計カロリー:"})," ",o," kcal"]}),A.jsxs("span",{children:[A.jsx("strong",{children:"合計金額:"})," ¥",l]})]})]})]})},Kq=()=>A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:"食事記録"}),A.jsx(qq,{}),A.jsx(Gq,{})]}),Wq=async(t,e)=>{try{return{user:(await E$(mn,t,e)).user,error:null}}catch(n){return{user:null,error:n.message}}},Xq=async(t,e)=>{try{return{user:(await w$(mn,t,e)).user,error:null}}catch(n){return{user:null,error:n.message}}},Yq=async()=>{const t=new Ro;try{return{user:(await K$(mn,t)).user,error:null}}catch(e){return{user:null,error:e.message}}},Qq=async()=>{try{return await C$(mn),localStorage.clear(),{error:null}}catch(t){return{error:t.message}}},Zq=t=>T$(mn,t),H5=()=>{const[t,e]=C.useState(null),[n,r]=C.useState(!0);return C.useEffect(()=>{const i=Zq(a=>{e(a),r(!1)});return()=>i()},[]),{user:t,loading:n}},Jq=()=>{const{settings:t,updateSettings:e,toggleDarkMode:n}=Qw(),{intakes:r}=Yo(),{expenses:i}=Qo(),{stocks:a}=lo(),{user:o}=H5(),[l,c]=C.useState((t.monthlyBudget??3e4).toString()),f=()=>{e({monthlyBudget:Number(l)}),alert("設定を保存しました！")},d=()=>{const m=["種類,名前,カロリー,金額,日付",...r.map(E=>`食事記録,${E.name},${E.calories},${E.price},${E.date}`)].join(`
`),_=new Blob([m],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a");w.href=URL.createObjectURL(_),w.download=`健康家計アプリ_${new Date().toISOString().split("T")[0]}.csv`,w.click()},p=()=>{const m={intakes:r,expenses:i,stocks:a,settings:t,exportedAt:new Date().toISOString()},_=new Blob([JSON.stringify(m,null,2)],{type:"application/json"}),w=document.createElement("a");w.href=URL.createObjectURL(_),w.download=`健康家計アプリ_${new Date().toISOString().split("T")[0]}.json`,w.click()},v=async()=>{if(window.confirm("ログアウトしますか？")){const m=await Qq();m.error&&alert("ログアウトに失敗しました: "+m.error)}};return A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:"設定"}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"月間予算"}),A.jsx("input",{type:"number",value:l,onChange:m=>c(m.target.value),placeholder:"30000"}),A.jsxs("button",{className:"submit",onClick:f,children:[A.jsx(mP,{size:18,style:{marginRight:"8px"}}),"保存"]})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"外観"}),A.jsxs("div",{className:"setting-item",children:[A.jsxs("div",{className:"setting-item-left",children:[A.jsx("div",{className:"setting-icon",children:A.jsx(lB,{size:24})}),A.jsx("span",{className:"setting-label",children:"ダークモード"})]}),A.jsxs("label",{className:"toggle-switch",children:[A.jsx("input",{type:"checkbox",checked:t.darkMode,onChange:n}),A.jsx("span",{className:"toggle-slider"})]})]})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"通知設定"}),A.jsxs("div",{className:"setting-item",children:[A.jsxs("div",{className:"setting-item-left",children:[A.jsx("div",{className:"setting-icon",children:A.jsx(vB,{size:24})}),A.jsx("span",{className:"setting-label",children:"在庫アラート通知"})]}),A.jsxs("label",{className:"toggle-switch",children:[A.jsx("input",{type:"checkbox",checked:t.notifications,onChange:m=>e({notifications:m.target.checked})}),A.jsx("span",{className:"toggle-slider"})]})]})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"データエクスポート"}),A.jsxs("div",{style:{display:"flex",gap:"8px"},children:[A.jsxs("button",{className:"submit",onClick:d,style:{flex:1},children:[A.jsx(Yj,{size:18,style:{marginRight:"8px"}}),"CSV"]}),A.jsxs("button",{className:"submit",onClick:p,style:{flex:1},children:[A.jsx(Xj,{size:18,style:{marginRight:"8px"}}),"JSON"]})]})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"データ統計"}),A.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)"},children:[A.jsxs("p",{children:["食事記録: ",r.length,"件"]}),A.jsxs("p",{children:["支出記録: ",i.length,"件"]}),A.jsxs("p",{children:["在庫アイテム: ",a.length,"件"]})]})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"アカウント"}),A.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)",marginBottom:"12px"},children:A.jsxs("p",{children:["ログイン: ",o?.email]})}),A.jsxs("button",{className:"submit",onClick:v,style:{background:"linear-gradient(135deg, #f44336 0%, #d32f2f 100%)",width:"100%"},children:[A.jsx(nB,{size:18,style:{marginRight:"8px"}}),"ログアウト"]})]})]})},eG=()=>{const{addStock:t}=lo(),[e,n]=C.useState(""),[r,i]=C.useState(""),[a,o]=C.useState("1"),l=()=>{if(!e||!r){alert("品目名と残り日数を入力してください");return}t({name:e,daysRemaining:Number(r),quantity:Number(a)}),n(""),i(""),o("1"),alert("在庫を追加しました！")};return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"手動で追加"}),A.jsx("label",{children:"品目"}),A.jsx("input",{value:e,onChange:c=>n(c.target.value),placeholder:"例: 牛乳"}),A.jsx("label",{children:"残り日数"}),A.jsx("input",{type:"number",value:r,onChange:c=>i(c.target.value),placeholder:"例: 3"}),A.jsx("label",{children:"数量"}),A.jsx("input",{type:"number",value:a,onChange:c=>o(c.target.value),placeholder:"1"}),A.jsx("button",{className:"submit",onClick:l,children:"在庫に登録"})]})},tG=()=>{const{stocks:t,deleteStock:e}=lo(),{addItem:n}=Hu(),r=l=>{confirm("この在庫を削除しますか？")&&e(l)},i=(l,c)=>{n({name:l,quantity:c}),alert(`「${l}」を買い物リストに追加しました！`)},a=l=>l<=0?"#ef4444":l<=1?"#f59e0b":l<=3?"#eab308":"#10b981",o=l=>l<=0?"期限切れ！":l===1?"明日期限":`残り${l}日`;return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"在庫一覧"}),t.length===0?A.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"在庫がありません"}):A.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:t.map(l=>A.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[A.jsxs("div",{style:{flex:1},children:[A.jsxs("div",{style:{fontWeight:500,marginBottom:"4px"},children:[l.name,l.quantity>1&&A.jsxs("span",{style:{fontSize:"0.85rem",color:"#666",marginLeft:"8px"},children:["x",l.quantity]})]}),A.jsx("div",{style:{fontSize:"0.85rem",color:a(l.daysRemaining),fontWeight:600},children:o(l.daysRemaining)})]}),A.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[A.jsx("button",{onClick:()=>i(l.name,l.quantity),className:"delete-btn",style:{background:"transparent",border:"none",color:"#3b82f6",cursor:"pointer",fontSize:"18px"},title:"買い物リストに追加",children:A.jsx(Qg,{size:20})}),A.jsx("button",{onClick:()=>r(l.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},title:"削除",children:A.jsx(Fd,{size:20})})]})]},l.id))})]})},nG=()=>{const{getExpiringStocks:t}=lo(),{addItem:e}=Hu(),n=C.useMemo(()=>t(0),[t]),r=C.useMemo(()=>t(1),[t]),i=()=>{const a=[...n,...r];a.length!==0&&confirm(`期限切れ間近の商品 ${a.length}個を買い物リストに追加しますか？`)&&(a.forEach(o=>{e({name:o.name,quantity:o.quantity})}),alert(`${a.length}個の商品を買い物リストに追加しました！`))};return n.length===0&&r.length===0?null:A.jsxs(A.Fragment,{children:[n.length>0&&A.jsxs("div",{className:"card",style:{background:"#fee2e2",borderLeft:"4px solid #ef4444",color:"#991b1b"},children:[A.jsx("h3",{style:{margin:"0 0 8px 0",color:"#ef4444"},children:"🚨 今日使うべき食材"}),A.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:n.map(a=>A.jsx("li",{children:a.name},a.id))})]}),r.length>0&&A.jsxs("div",{className:"card",style:{background:"#fef3c7",borderLeft:"4px solid #f59e0b",color:"#92400e"},children:[A.jsx("h3",{style:{margin:"0 0 8px 0",color:"#f59e0b"},children:"⏰ 明日期限切れ"}),A.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:r.map(a=>A.jsx("li",{children:a.name},a.id))})]}),A.jsx("div",{className:"card",style:{padding:"12px"},children:A.jsxs("button",{onClick:i,className:"submit",style:{background:"#3b82f6",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"12px"},children:[A.jsx(Qg,{size:20}),"期限切れ間近の商品を買い物リストに追加"]})})]})},rG=()=>A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:"在庫管理"}),A.jsx(nG,{}),A.jsx(eG,{}),A.jsx(tG,{})]}),iG=()=>{const{addWeeklyEssentials:t,addLowStockItems:e}=Hu(),{getExpiringStocks:n}=lo(),r=()=>{t(),alert("1週間分の買い物リストを追加しました！")},i=()=>{const a=n(2);if(a.length===0){alert("在庫が少ない商品はありません");return}e(a.map(o=>({name:o.name,category:o.category}))),alert(`${a.length}件の商品を追加しました！`)};return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"🔰 初心者向けサポート"}),A.jsx("button",{className:"submit",onClick:r,style:{background:"linear-gradient(135deg, #3b82f6, #2563eb)",marginBottom:"8px"},children:"📅 1週間分の買い物リストを生成"}),A.jsx("button",{className:"submit",onClick:i,style:{background:"linear-gradient(135deg, #f59e0b, #d97706)"},children:"⚠️ 在庫が少ない商品を追加"})]})},aG=[{keywords:["ポテトチップス","チップス","スナック菓子","かっぱえびせん","ドリトス"],category:"スナック菓子",reason:"高カロリー・高脂質で、塩分も多く含まれています。",alternatives:["素焼きアーモンド","無塩ミックスナッツ","焼き野菜チップス","ドライフルーツ"]},{keywords:["コーラ","サイダー","炭酸飲料","ファンタ","ペプシ","ソーダ"],category:"清涼飲料水",reason:"糖分が非常に多く、虫歯や肥満の原因になります。",alternatives:["炭酸水","無糖の紅茶","麦茶","フレーバーウォーター（無糖）"]},{keywords:["カップラーメン","カップ麺","インスタントラーメン","カップ焼きそば"],category:"インスタント食品",reason:"塩分・脂質が多く、栄養バランスが偏りがちです。",alternatives:["生麺","冷凍うどん","乾麺（そば・パスタ）","低塩分インスタント麺"]},{keywords:["チョコレート","チョコ","ポッキー","きのこの山","たけのこの里"],category:"チョコレート菓子",reason:"糖分・脂質が多く、カロリーが高めです。",alternatives:["高カカオチョコレート（カカオ70%以上）","ドライフルーツ","ナッツ"]},{keywords:["唐揚げ","フライドチキン","とんかつ","天ぷら","フライドポテト","コロッケ"],category:"揚げ物",reason:"高カロリー・高脂質で、酸化した油が健康に悪影響を及ぼす可能性があります。",alternatives:["グリルチキン","蒸し鶏","焼き魚","ノンフライ調理品"]},{keywords:["ハンバーガー","ピザ","フライドポテト","ドーナツ"],category:"ファストフード",reason:"高カロリー・高脂質・高塩分で、栄養バランスが偏ります。",alternatives:["サンドイッチ（全粒粉パン）","サラダラップ","手作りピザ（薄皮）"]},{keywords:["アイスクリーム","アイス","ジェラート","ソフトクリーム"],category:"アイスクリーム",reason:"糖分・脂質が多く、食べ過ぎは肥満の原因になります。",alternatives:["フローズンヨーグルト","シャーベット","果物（冷凍）","低脂肪アイス"]},{keywords:["ケーキ","シュークリーム","ドーナツ","タルト","パウンドケーキ"],category:"洋菓子",reason:"糖分・脂質が非常に多く、カロリーが高いです。",alternatives:["和菓子（どら焼き、大福）","フルーツ","ヨーグルト","低糖質スイーツ"]},{keywords:["ベーコン","ソーセージ","ハム","サラミ","ウインナー"],category:"加工肉",reason:"塩分・添加物が多く、WHO（世界保健機関）が発がん性を指摘しています。",alternatives:["生肉（鶏むね肉、豚ヒレ肉）","魚","豆腐","納豆"]},{keywords:["エナジードリンク","レッドブル","モンスター","リアルゴールド"],category:"エナジードリンク",reason:"カフェイン・糖分が多く、心臓への負担や不眠の原因になります。",alternatives:["ブラックコーヒー","緑茶","麦茶","スポーツドリンク（無糖）"]},{keywords:["缶詰","缶コーン","缶ピーチ","フルーツ缶"],category:"缶詰（シロップ漬け）",reason:"シロップに糖分が多く含まれています。",alternatives:["生のフルーツ","冷凍フルーツ","水煮缶","ドライフルーツ"]},{keywords:["マヨネーズ","マーガリン","バター","ラード"],category:"高脂質調味料",reason:"脂質・カロリーが非常に高く、使いすぎは肥満の原因になります。",alternatives:["オリーブオイル","ごま油（少量）","低脂肪マヨネーズ","酢","レモン汁"]}];function oG(t){const e=t.toLowerCase();for(const n of aG)for(const r of n.keywords)if(e.includes(r.toLowerCase()))return{type:"warning",category:n.category,reason:n.reason,alternatives:n.alternatives};return null}async function sG(t,e){try{const n=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`「${t}」という商品の健康面での懸念点を分析し、より健康的な代替案を3つ提案してください。

以下のJSON形式で回答してください：
{
  "category": "商品カテゴリ",
  "reason": "健康面での懸念点（簡潔に）",
  "alternatives": ["代替案1", "代替案2", "代替案3"]
}

懸念点がない場合は null を返してください。`}]}]})});if(!n.ok)throw new Error("AI分析に失敗しました");const i=(await n.json()).candidates?.[0]?.content?.parts?.[0]?.text;if(!i)return null;const a=i.match(/\{[\s\S]*\}/);if(!a)return null;const o=JSON.parse(a[0]);return!o||o===null?null:{type:"warning",category:o.category||"不明",reason:o.reason||"",alternatives:o.alternatives||[]}}catch(n){return console.error("AI健康分析エラー:",n),null}}const lG=({productName:t,warning:e,onClose:n,onAddAlternative:r,onContinueAnyway:i})=>{const[a,o]=C.useState(!1),[l,c]=C.useState(null),[f,d]=C.useState(!1),p=async()=>{d(!0);const _=await sG(t,"AIzaSyBSqmtDaNAqF09NTYYKQsTKm-3fLl1LMr0");c(_),o(!0),d(!1)},v=a&&l?l:e;return A.jsx("div",{className:"modal",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:n,children:A.jsxs("div",{className:"modal-content",style:{background:"var(--card)",borderRadius:"16px",padding:"24px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflowY:"auto",position:"relative",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)"},onClick:m=>m.stopPropagation(),children:[A.jsx("button",{onClick:n,style:{position:"absolute",top:"16px",right:"16px",background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--text-secondary)"},children:A.jsx(Zg,{size:24})}),A.jsxs("div",{style:{marginBottom:"20px"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[A.jsx(gP,{size:32,color:"#f59e0b"}),A.jsx("h3",{style:{margin:0,fontSize:"1.25rem"},children:"健康アドバイス"})]}),A.jsxs("p",{style:{margin:0,fontSize:"0.9rem",color:"var(--text-secondary)"},children:["「",A.jsx("strong",{children:t}),"」について"]})]}),A.jsxs("div",{style:{background:"#fef3c7",padding:"16px",borderRadius:"12px",marginBottom:"20px",borderLeft:"4px solid #f59e0b"},children:[A.jsxs("h4",{style:{margin:"0 0 8px 0",fontSize:"1rem",color:"#92400e"},children:["📊 カテゴリ: ",v.category]}),A.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#78350f",lineHeight:"1.6"},children:v.reason})]}),A.jsxs("div",{style:{marginBottom:"20px"},children:[A.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:"1rem",display:"flex",alignItems:"center",gap:"8px"},children:[A.jsx(Jj,{size:20,color:"#10b981"}),"より健康的な代替案"]}),A.jsx("div",{style:{display:"grid",gap:"8px"},children:v.alternatives.map((m,_)=>A.jsxs("button",{onClick:()=>r(m),style:{background:"#f0fdf4",border:"2px solid #10b981",borderRadius:"8px",padding:"12px",cursor:"pointer",textAlign:"left",fontSize:"0.9rem",color:"#15803d",fontWeight:500,transition:"all 0.2s"},onMouseEnter:w=>{w.currentTarget.style.background="#dcfce7",w.currentTarget.style.transform="translateX(4px)"},onMouseLeave:w=>{w.currentTarget.style.background="#f0fdf4",w.currentTarget.style.transform="translateX(0)"},children:["✓ ",m]},_))})]}),!a&&A.jsxs("button",{onClick:p,disabled:f,style:{width:"100%",padding:"12px",background:"linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)",color:"white",border:"none",borderRadius:"8px",cursor:f?"not-allowed":"pointer",fontSize:"0.9rem",fontWeight:600,marginBottom:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",opacity:f?.6:1},children:[A.jsx(d_,{size:20}),f?"AI分析中...":"AIで詳しく分析する"]}),A.jsxs("div",{style:{display:"grid",gap:"8px"},children:[A.jsx("button",{onClick:i,style:{padding:"12px",background:"var(--primary)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:600},children:"このまま追加する"}),A.jsx("button",{onClick:n,style:{padding:"12px",background:"transparent",color:"var(--text-secondary)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem"},children:"キャンセル"})]})]})})},uG=()=>{const{addItem:t}=Hu(),[e,n]=C.useState(""),[r,i]=C.useState("1"),[a,o]=C.useState(null),[l,c]=C.useState(null),f=()=>{if(!e){alert("商品名を入力してください");return}const _=oG(e);if(_){o(_),c({name:e,quantity:Number(r)});return}d(e,Number(r))},d=(_,w)=>{t({name:_,quantity:w}),n(""),i("1")},p=()=>{o(null),c(null)},v=_=>{l&&d(_,l.quantity),p()},m=()=>{l&&d(l.name,l.quantity),p()};return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"手動で追加"}),A.jsx("label",{children:"商品名"}),A.jsx("input",{value:e,onChange:_=>n(_.target.value),placeholder:"例: 牛乳",onKeyDown:_=>_.key==="Enter"&&f()}),A.jsx("label",{children:"数量"}),A.jsx("input",{type:"number",value:r,onChange:_=>i(_.target.value),placeholder:"1"}),A.jsx("button",{className:"submit",onClick:f,children:"リストに追加"})]}),a&&l&&A.jsx(lG,{productName:l.name,warning:a,onClose:p,onAddAlternative:v,onContinueAnyway:m})]})},cG=()=>{const{items:t,toggleItem:e,deleteItem:n,clearCompleted:r}=Hu(),{addStock:i}=lo(),[a,o]=C.useState(!1),l=()=>{confirm("チェック済みのアイテムをすべて削除しますか？")&&r()},c=()=>{const f=t.filter(d=>d.checked);if(f.length===0){alert("チェック済みのアイテムがありません");return}confirm(`チェック済みのアイテム ${f.length}個を在庫に追加しますか？
（賞味期限は7日後に設定されます）`)&&(f.forEach(d=>{i({name:d.name,quantity:d.quantity,daysRemaining:7})}),r(),o(!0),setTimeout(()=>{o(!1)},3e3))};return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"買い物リスト"}),t.length===0?A.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"リストが空です"}):A.jsxs(A.Fragment,{children:[A.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:t.map(f=>A.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[A.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},children:[A.jsx("input",{type:"checkbox",checked:f.checked,onChange:()=>e(f.id),style:{width:"18px",height:"18px"}}),A.jsx("div",{style:{flex:1},children:A.jsxs("div",{style:{fontWeight:500,textDecoration:f.checked?"line-through":"none",color:f.checked?"#999":"inherit"},children:[f.name,f.quantity>1&&A.jsxs("span",{style:{fontSize:"0.85rem",color:"#666",marginLeft:"8px"},children:["x",f.quantity]})]})})]}),A.jsx("button",{onClick:()=>n(f.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},children:A.jsx(Fd,{size:20})})]},f.id))}),t.some(f=>f.checked)&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{style:{marginTop:"16px",padding:"16px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",color:"white",fontSize:"0.9rem",fontWeight:500},children:[A.jsx(Yc,{size:20}),A.jsx("span",{children:"買い物完了後はこちら！"})]}),A.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"0.85rem",margin:"0 0 12px 0",lineHeight:"1.5"},children:["チェックした商品を在庫に一括追加できます。",A.jsx("br",{}),"賞味期限は自動で7日後に設定されます。"]}),A.jsxs("button",{className:"submit",onClick:c,style:{background:"white",color:"#10b981",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"1rem",fontWeight:600,padding:"14px",border:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[A.jsx(Yc,{size:22}),"在庫に追加（",t.filter(f=>f.checked).length,"個）"]})]}),A.jsx("button",{className:"submit",onClick:l,style:{background:"transparent",color:"#ef4444",border:"2px solid #ef4444",marginTop:"8px",width:"100%"},children:"チェック済みをクリア"})]}),a&&A.jsxs("div",{style:{position:"fixed",top:"80px",left:"50%",transform:"translateX(-50%)",background:"#10b981",color:"white",padding:"16px 24px",borderRadius:"12px",boxShadow:"0 4px 16px rgba(16, 185, 129, 0.4)",display:"flex",alignItems:"center",gap:"12px",zIndex:1e3,animation:"slideDown 0.3s ease-out",fontSize:"1rem",fontWeight:600},children:[A.jsx(Yb,{size:28}),A.jsx("span",{children:"在庫に追加しました！"})]})]})]})},fG=()=>A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:"買い物リスト"}),A.jsx(iG,{}),A.jsx(uG,{}),A.jsx(cG,{})]}),vd="AIzaSyBSqmtDaNAqF09NTYYKQsTKm-3fLl1LMr0",$5=vd!=="YOUR_GEMINI_API_KEY_HERE";let Mc=[];function q5(t){const e=Date.now();Mc.push({type:t,timestamp:e}),Mc=Mc.filter(a=>e-a.timestamp<6e4);const n=Mc.filter(a=>a.type==="recipe").length,r=Mc.filter(a=>a.type==="receipt").length,i=Mc.length;console.log(`[API Usage] 直近1分間の合計リクエスト数: ${i}回`),console.log(`  - レシピ生成: ${n}回`),console.log(`  - レシートOCR: ${r}回`),console.log(`  - 残り制限枠: ${15-i}回 (Free Tier: 15回/分)`)}async function hG(t,e="none",n="none",r=""){if(console.log("[Gemini] API呼び出し開始",{ingredients:t,dietaryRestriction:e,difficulty:n,customRequest:r,API_ENABLED:$5,apiKeyPrefix:vd.substring(0,10)+"..."}),!t||t.length===0)throw new Error("材料を指定してください。");try{const i=e==="vegetarian"?"ベジタリアン":e==="vegan"?"ヴィーガン":"";let a="";n==="super_easy"?a=`

**重要**: 料理初心者でも絶対に失敗しない超簡単なレシピにしてください。調理工程は3ステップ以内、特別な道具や技術は不要にしてください。`:n==="under_5min"?a=`

**重要**: 調理時間5分以内で完成するレシピにしてください。`:n==="under_10min"?a=`

**重要**: 調理時間10分以内で完成するレシピにしてください。`:n==="no_fire"&&(a=`

**重要**: 火を使わずに作れるレシピにしてください（電子レンジやトースターは可）。`);const o=r?`

**追加のリクエスト**: ${r}`:"",l=`
あなたは日本語で答えるプロの料理アドバイザーです。
必ず日本語で回答してください。英語は使わないでください。

次の食材を使った${i}向けの家庭向けレシピを1つ提案してください。
料理名・材料・手順・ポイントを含めて出力してください。${a}${o}

食材: ${t.join("、")}

出力フォーマットは以下の形式でお願いします：

---
【料理名】
（料理名）

【材料】
（材料一覧）

【作り方】
1.
2.
3.

【ポイント】
（料理のコツやアドバイス）
---
`.trim(),c=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${vd}`;q5("recipe"),console.log("[Gemini] APIリクエスト送信",{url:c.replace(vd,"HIDDEN")});const f=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:l}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}})});if(console.log("[Gemini] APIレスポンス受信",{status:f.status,ok:f.ok}),console.log("[Gemini] Rate Limit Info:",{limit:f.headers.get("x-ratelimit-limit"),remaining:f.headers.get("x-ratelimit-remaining"),reset:f.headers.get("x-ratelimit-reset"),retryAfter:f.headers.get("retry-after")}),!f.ok){const p=await f.text();let v;try{v=JSON.parse(p)}catch{v={rawError:p}}console.error("[Gemini] APIエラー詳細",{status:f.status,statusText:f.statusText,errorData:v});let m=`Gemini API エラー (${f.status})`;throw v.error?.message&&(m+=`: ${v.error.message}`),new Error(m)}const d=await f.json();if(console.log("[Gemini] レスポンスデータ",d),d.candidates&&d.candidates.length>0){const p=d.candidates[0];if(p.content?.parts&&p.content.parts.length>0){const v=p.content.parts[0].text;return console.log("[Gemini] レシピ生成成功"),v.trim()}}throw console.error("[Gemini] レスポンス形式が不正",d),new Error("Gemini APIからレシピを取得できませんでした。")}catch(i){return console.error("[Gemini] エラー発生:",i),console.warn("[Gemini] モックデータを使用します。"),console.info("[Gemini] 新しいAPIキーが必要な場合: https://aistudio.google.com/app/apikey"),i instanceof Error&&i.message.includes("403")&&console.error("[Gemini] 403エラー: APIキーが無効または期限切れです。新しいキーを取得してください。"),pG(t,e,n)}}const dG=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const a=r.result.split(",")[1];e(a)},r.onerror=n,r.readAsDataURL(t)});let TI=0;const CI=5e3;async function II(t){console.log("[Gemini Receipt] OCR処理開始",{fileName:t.name,fileSize:t.size,API_ENABLED:$5});const e=Date.now(),n=e-TI;if(n<CI){const r=Math.ceil((CI-n)/1e3);throw new Error(`レート制限: ${r}秒後に再試行してください`)}try{TI=e;const r=await dG(t),i=`
あなたは日本語のレシート解析の専門家です。
このレシート画像から商品名と価格を正確に抽出してください。

以下のJSON形式で出力してください：
{
  "storeName": "店舗名（わかれば）",
  "date": "日付（YYYY-MM-DD形式、わかれば）",
  "total": 合計金額（数値、わかれば）,
  "items": [
    {
      "name": "商品名",
      "price": 価格（数値）,
      "quantity": 数量（数値、デフォルトは1）
    }
  ]
}

**重要な指示:**
1. 商品名と価格は必ず正確に抽出してください
2. 価格は数値のみ（円記号やカンマは除く）
3. 同じ商品が複数ある場合はquantityで表現
4. 合計金額や税金などの行は除外
5. 不明な項目は省略してOK
6. 必ずJSONのみを返してください（説明文は不要）
`.trim(),a=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-lite:generateContent?key=${vd}`;q5("receipt"),console.log("[Gemini Receipt] APIリクエスト送信");const o=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:i},{inlineData:{mimeType:t.type||"image/jpeg",data:r}}]}],generationConfig:{temperature:.1,topK:32,topP:1,maxOutputTokens:2048}})});if(console.log("[Gemini Receipt] APIレスポンス受信",{status:o.status}),console.log("[Gemini Receipt] Rate Limit Info:",{limit:o.headers.get("x-ratelimit-limit"),remaining:o.headers.get("x-ratelimit-remaining"),reset:o.headers.get("x-ratelimit-reset"),retryAfter:o.headers.get("retry-after")}),!o.ok){const c=await o.text();throw console.error("[Gemini Receipt] APIエラー",c),o.status===429?new Error("レート制限に達しました。数秒後に再試行してください。"):new Error(`Gemini API エラー: ${o.status}`)}const l=await o.json();if(console.log("[Gemini Receipt] レスポンスデータ",l),l.candidates&&l.candidates.length>0){const c=l.candidates[0];if(c.content?.parts&&c.content.parts.length>0){const f=c.content.parts[0].text.trim();console.log("[Gemini Receipt] 抽出テキスト:",f);let d=f;const p=f.match(/```json\s*([\s\S]*?)\s*```/);if(p)d=p[1];else if(f.includes("```")){const _=f.match(/```\s*([\s\S]*?)\s*```/);_&&(d=_[1])}const v=JSON.parse(d),m={items:v.items||[],total:v.total,storeName:v.storeName,date:v.date,rawText:f};return console.log("[Gemini Receipt] OCR成功",m),m}}throw new Error("レシートからテキストを抽出できませんでした")}catch(r){throw console.error("[Gemini Receipt] エラー:",r),r}}function pG(t,e,n="none"){const r=e==="vegetarian"?"ベジタリアン":e==="vegan"?"ヴィーガン":"",i=n==="super_easy"?"（超簡単）":n==="under_5min"?"（5分）":n==="under_10min"?"（10分）":n==="no_fire"?"（火を使わない）":"";return`
【料理名】
${t.join("と")}の${r}炒め${i}

【材料】
${t.map(a=>`・${a} 適量`).join(`
`)}
・塩、こしょう 少々
・サラダ油 大さじ1

【作り方】
1. ${t[0]||"材料"}を食べやすい大きさに切ります。
2. フライパンに油を熱し、材料を炒めます。
3. 塩、こしょうで味を調えて完成です。

【ポイント】
シンプルな炒め物なので、お好みで醤油やにんにくを加えても美味しいです。
野菜の食感を残すため、強火でサッと炒めるのがコツです。

※ このレシピはデモ用のモックデータです。実際のGemini APIキーを設定すると、AIが本格的なレシピを生成します。
※ 403エラーが発生しています。新しいAPIキーを https://aistudio.google.com/app/apikey で取得してください。
`.trim()}function Av(t){return Be({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16a.5.5 0 0 1-.5-.5v-1.293l-.646.647a.5.5 0 0 1-.707-.708L7.5 12.793V8.866l-3.4 1.963-.496 1.85a.5.5 0 1 1-.966-.26l.237-.882-1.12.646a.5.5 0 0 1-.5-.866l1.12-.646-.884-.237a.5.5 0 1 1 .26-.966l1.848.495L7 8 3.6 6.037l-1.85.495a.5.5 0 0 1-.258-.966l.883-.237-1.12-.646a.5.5 0 1 1 .5-.866l1.12.646-.237-.883a.5.5 0 1 1 .966-.258l.495 1.849L7.5 7.134V3.207L6.147 1.854a.5.5 0 1 1 .707-.708l.646.647V.5a.5.5 0 1 1 1 0v1.293l.647-.647a.5.5 0 1 1 .707.708L8.5 3.207v3.927l3.4-1.963.496-1.85a.5.5 0 1 1 .966.26l-.236.882 1.12-.646a.5.5 0 0 1 .5.866l-1.12.646.883.237a.5.5 0 1 1-.26.966l-1.848-.495L9 8l3.4 1.963 1.849-.495a.5.5 0 0 1 .259.966l-.883.237 1.12.646a.5.5 0 0 1-.5.866l-1.12-.646.236.883a.5.5 0 1 1-.966.258l-.495-1.849-3.4-1.963v3.927l1.353 1.353a.5.5 0 0 1-.707.708l-.647-.647V15.5a.5.5 0 0 1-.5.5z"},child:[]}]})(t)}const gG=({onRecipeGenerated:t,isLoading:e,setIsLoading:n})=>{const{stocks:r}=lo(),{addToHistory:i}=Ev(),[a,o]=C.useState(""),[l,c]=C.useState("none"),[f,d]=C.useState("none"),[p,v]=C.useState(""),m=[{value:"none",label:"指定なし",icon:A.jsx(d_,{size:16})},{value:"super_easy",label:"超簡単",icon:A.jsx(Wg,{size:16})},{value:"under_5min",label:"5分以内",icon:A.jsx(Xg,{size:16})},{value:"under_10min",label:"10分以内",icon:A.jsx(Kg,{size:16})},{value:"no_fire",label:"火を使わない",icon:A.jsx(Av,{size:16})}],_=[{value:"none",label:"指定なし",icon:A.jsx(U1,{size:16})},{value:"vegetarian",label:"ベジタリアン",icon:A.jsx("span",{children:"🥗"})},{value:"vegan",label:"ヴィーガン",icon:A.jsx("span",{children:"🌱"})}],w=()=>{const S=r.filter(I=>I.quantity>0).map(I=>I.name).slice(0,10).join(", ");o(S)},E=async()=>{if(!a.trim()){alert("材料を入力してください");return}n(!0);try{const S=a.split(/[,、]/).map(M=>M.trim()).filter(M=>M.length>0),I=await hG(S,f,l,p),R={id:Ys(),title:`${S.slice(0,3).join("、")}を使ったレシピ`,content:I,ingredients:S,difficulty:l,dietaryRestriction:f,customRequest:p,isFavorite:!1,createdAt:new Date().toISOString()};i(R),t(R)}catch(S){console.error("レシピ生成エラー:",S),alert("レシピの生成に失敗しました。もう一度お試しください。")}finally{n(!1)}};return A.jsxs("div",{className:"card",children:[A.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[A.jsx(U1,{size:20}),"レシピを生成"]}),A.jsx("label",{children:"材料（カンマ区切り）"}),A.jsx("input",{value:a,onChange:S=>o(S.target.value),placeholder:"例: 鶏肉, じゃがいも, 玉ねぎ",disabled:e}),A.jsxs("button",{onClick:w,style:{background:"#10b981",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",marginBottom:"16px"},disabled:e,children:[A.jsx(Yc,{size:18,style:{marginRight:"6px"}}),"在庫の材料を使う"]}),A.jsx("label",{children:"難易度"}),A.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},children:m.map(S=>A.jsx("button",{onClick:()=>c(S.value),style:{padding:"8px 16px",borderRadius:"20px",border:`2px solid ${l===S.value?"var(--primary)":"var(--border)"}`,background:l===S.value?"var(--primary)":"var(--card)",color:l===S.value?"white":"var(--text)",cursor:"pointer",fontSize:"0.85rem",fontWeight:l===S.value?600:400},disabled:e,children:A.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[S.icon," ",S.label]})},S.value))}),A.jsx("label",{children:"食事制限"}),A.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},children:_.map(S=>A.jsx("button",{onClick:()=>d(S.value),style:{padding:"8px 16px",borderRadius:"20px",border:`2px solid ${f===S.value?"var(--primary)":"var(--border)"}`,background:f===S.value?"var(--primary)":"var(--card)",color:f===S.value?"white":"var(--text)",cursor:"pointer",fontSize:"0.85rem",fontWeight:f===S.value?600:400},disabled:e,children:A.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[S.icon," ",S.label]})},S.value))}),A.jsx("label",{children:"カスタムリクエスト（任意）"}),A.jsx("textarea",{value:p,onChange:S=>v(S.target.value),placeholder:"例: 辛めに作りたい、子供向けに優しい味で",rows:3,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--card)",color:"var(--text)",fontSize:"1rem",fontFamily:"inherit",resize:"vertical"},disabled:e}),A.jsxs("button",{className:"submit",onClick:E,disabled:e,children:[A.jsx(d_,{size:18,style:{marginRight:"8px"}}),"レシピを生成する"]})]})},vG=({recipe:t})=>{const{addToHistory:e,addToFavorites:n,removeFromFavorites:r,favoriteRecipes:i}=Ev(),{addStock:a}=lo(),{addItem:o}=Hu(),l=i.some(p=>p.id===t.id),c=()=>{l?r(t.id):(n(t),e(t))},f=()=>{confirm(`材料 ${t.ingredients.length} 個を在庫に追加しますか？
（賞味期限は7日後に設定されます）`)&&(t.ingredients.forEach(p=>{a({name:p,quantity:1,daysRemaining:7})}),alert(`${t.ingredients.length}個の材料を在庫に追加しました！`))},d=()=>{confirm(`材料 ${t.ingredients.length} 個を買い物リストに追加しますか？`)&&(t.ingredients.forEach(p=>{o({name:p,quantity:1})}),alert(`${t.ingredients.length}個の材料を買い物リストに追加しました！`))};return A.jsxs("div",{className:"card",children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[A.jsx("h3",{children:t.title}),A.jsx("button",{onClick:c,style:{background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",padding:"4px",color:l?"#fbbf24":"var(--text-secondary)"},title:l?"お気に入りから削除":"お気に入りに追加",children:l?A.jsx(p_,{size:28}):A.jsx(yB,{size:28})})]}),A.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"12px"},children:[t.difficulty&&t.difficulty!=="none"&&A.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",background:"#f0fdf4",color:"#15803d",fontSize:"0.85rem",fontWeight:500},children:A.jsx("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:{super_easy:A.jsxs(A.Fragment,{children:[A.jsx(Wg,{size:14})," 超簡単"]}),under_5min:A.jsxs(A.Fragment,{children:[A.jsx(Xg,{size:14})," 5分以内"]}),under_10min:A.jsxs(A.Fragment,{children:[A.jsx(Kg,{size:14})," 10分以内"]}),no_fire:A.jsxs(A.Fragment,{children:[A.jsx(Av,{size:14})," 火を使わない"]}),none:""}[t.difficulty]})}),t.dietaryRestriction&&t.dietaryRestriction!=="none"&&A.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",background:"#fef3c7",color:"#92400e",fontSize:"0.85rem",fontWeight:500},children:{vegetarian:"🥗 ベジタリアン",vegan:"🌱 ヴィーガン",none:""}[t.dietaryRestriction]})]}),A.jsx("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"12px",marginBottom:"16px",whiteSpace:"pre-wrap",fontSize:"0.95rem",lineHeight:"1.6"},children:t.content}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[A.jsxs("button",{onClick:f,style:{background:"#10b981",color:"white",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[A.jsx(Yc,{size:18})," 在庫に追加"]}),A.jsxs("button",{onClick:d,style:{background:"#3b82f6",color:"white",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[A.jsx(Qg,{size:18})," 買い物リストへ"]})]})]})},mG=({onRecipeSelect:t})=>{const{recipeHistory:e}=Ev();if(e.length===0)return null;const n=r=>{const i=new Date(r),o=new Date().getTime()-i.getTime(),l=Math.floor(o/6e4),c=Math.floor(o/36e5),f=Math.floor(o/864e5);return l<1?"たった今":l<60?`${l}分前`:c<24?`${c}時間前`:f<7?`${f}日前`:i.toLocaleDateString("ja-JP",{month:"short",day:"numeric"})};return A.jsxs("div",{className:"card",children:[A.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[A.jsx(Zj,{size:20}),"レシピ履歴"]}),A.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.map(r=>A.jsxs("div",{onClick:()=>t(r.recipe),style:{padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",cursor:"pointer",transition:"all 0.2s ease",background:"var(--card)"},onMouseEnter:i=>{i.currentTarget.style.background="var(--background)",i.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:i=>{i.currentTarget.style.background="var(--card)",i.currentTarget.style.transform="translateY(0)"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"6px"},children:[A.jsx("div",{style:{fontWeight:500,fontSize:"0.95rem",flex:1},children:r.recipe.title}),A.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary, #999)",whiteSpace:"nowrap",marginLeft:"8px"},children:n(r.generatedAt)})]}),A.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary, #666)",display:"flex",gap:"4px",flexWrap:"wrap"},children:[r.recipe.ingredients&&r.recipe.ingredients.slice(0,3).map((i,a)=>A.jsxs("span",{children:[i,a<Math.min((r.recipe.ingredients?.length||0)-1,2)?"、":""]},a)),r.recipe.ingredients&&r.recipe.ingredients.length>3&&A.jsxs("span",{style:{color:"var(--text-secondary, #999)"},children:["他",r.recipe.ingredients.length-3,"個"]})]}),(r.recipe.difficulty!=="none"||r.recipe.dietaryRestriction!=="none")&&A.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"6px",flexWrap:"wrap"},children:[r.recipe.difficulty&&r.recipe.difficulty!=="none"&&A.jsx("span",{style:{padding:"2px 8px",borderRadius:"8px",background:"#f0fdf4",color:"#15803d",fontSize:"0.75rem"},children:{super_easy:A.jsx(Wg,{size:12}),under_5min:A.jsx(Xg,{size:12}),under_10min:A.jsx(Kg,{size:12}),no_fire:A.jsx(Av,{size:12}),none:""}[r.recipe.difficulty]}),r.recipe.dietaryRestriction&&r.recipe.dietaryRestriction!=="none"&&A.jsx("span",{style:{padding:"2px 8px",borderRadius:"8px",background:"#fef3c7",color:"#92400e",fontSize:"0.75rem"},children:{vegetarian:"🥗",vegan:"🌱",none:""}[r.recipe.dietaryRestriction]})]})]},r.id))})]})},yG=({onRecipeSelect:t})=>{const{favoriteRecipes:e,removeFromFavorites:n}=Ev();if(e.length===0)return null;const r=(i,a)=>{i.stopPropagation(),confirm("お気に入りから削除しますか？")&&n(a)};return A.jsxs("div",{className:"card",children:[A.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[A.jsx(p_,{size:20,color:"#fbbf24"}),"お気に入りレシピ"]}),A.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"12px"},children:e.map(i=>A.jsxs("div",{onClick:()=>t(i),style:{padding:"16px",borderRadius:"12px",border:"2px solid var(--border)",cursor:"pointer",transition:"all 0.2s ease",background:"var(--card)",position:"relative"},onMouseEnter:a=>{a.currentTarget.style.background="var(--background)",a.currentTarget.style.borderColor="var(--primary)",a.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:a=>{a.currentTarget.style.background="var(--card)",a.currentTarget.style.borderColor="var(--border)",a.currentTarget.style.transform="translateY(0)"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[A.jsx("div",{style:{fontWeight:600,fontSize:"1rem",flex:1},children:i.title}),A.jsx("button",{onClick:a=>r(a,i.id),style:{background:"transparent",border:"none",fontSize:"20px",cursor:"pointer",padding:"0 4px",color:"#fbbf24"},title:"お気に入りから削除",children:A.jsx(p_,{size:24})})]}),A.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)",marginBottom:"8px",display:"flex",gap:"6px",flexWrap:"wrap"},children:[A.jsx("span",{style:{fontWeight:500},children:"材料:"}),i.ingredients&&i.ingredients.slice(0,4).map((a,o)=>A.jsxs("span",{children:[a,o<Math.min((i.ingredients?.length||0)-1,3)?"、":""]},o)),i.ingredients&&i.ingredients.length>4&&A.jsxs("span",{style:{color:"var(--text-secondary, #999)"},children:["他",i.ingredients.length-4,"個"]})]}),(i.difficulty&&i.difficulty!=="none"||i.dietaryRestriction&&i.dietaryRestriction!=="none")&&A.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px",flexWrap:"wrap"},children:[i.difficulty&&i.difficulty!=="none"&&A.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",background:"#f0fdf4",color:"#15803d",fontSize:"0.8rem",fontWeight:500},children:A.jsx("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:{super_easy:A.jsxs(A.Fragment,{children:[A.jsx(Wg,{size:14})," 超簡単"]}),under_5min:A.jsxs(A.Fragment,{children:[A.jsx(Xg,{size:14})," 5分以内"]}),under_10min:A.jsxs(A.Fragment,{children:[A.jsx(Kg,{size:14})," 10分以内"]}),no_fire:A.jsxs(A.Fragment,{children:[A.jsx(Av,{size:14})," 火を使わない"]}),none:""}[i.difficulty]})}),i.dietaryRestriction&&i.dietaryRestriction!=="none"&&A.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",background:"#fef3c7",color:"#92400e",fontSize:"0.8rem",fontWeight:500},children:{vegetarian:"🥗 ベジタリアン",vegan:"🌱 ヴィーガン",none:""}[i.dietaryRestriction]})]}),i.customRequest&&A.jsxs("div",{style:{marginTop:"8px",fontSize:"0.85rem",color:"var(--text-secondary, #666)",fontStyle:"italic",padding:"6px 10px",background:"var(--background)",borderRadius:"6px",display:"flex",alignItems:"flex-start",gap:"6px"},children:[A.jsx(aB,{size:14,style:{marginTop:"2px",flexShrink:0}}),i.customRequest]})]},i.id))})]})},xG=()=>{const[t,e]=C.useState(null),[n,r]=C.useState(!1);return A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:"AIレシピ生成"}),A.jsx(gG,{onRecipeGenerated:e,isLoading:n,setIsLoading:r}),n&&A.jsxs("div",{className:"card",style:{textAlign:"center",padding:"32px"},children:[A.jsx("div",{style:{fontSize:"48px",marginBottom:"12px",color:"var(--primary)"},children:A.jsx(U1,{size:48})}),A.jsx("div",{style:{fontWeight:600,marginBottom:"8px"},children:"レシピを生成中..."}),A.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)"},children:"AIがレシピを考えています"})]}),t&&!n&&A.jsx(vG,{recipe:t}),A.jsx(mG,{onRecipeSelect:e}),A.jsx(yG,{onRecipeSelect:e})]})};function _G(t,e){var n=Object.setPrototypeOf;n?n(t,e):t.__proto__=e}function bG(t,e){e===void 0&&(e=t.constructor);var n=Error.captureStackTrace;n&&n(t,e)}var wG=(function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},t(n,r)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),EG=(function(t){wG(e,t);function e(n,r){var i=this.constructor,a=t.call(this,n,r)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),_G(a,i.prototype),bG(a),a}return e})(Error),AG=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ai=(function(t){AG(e,t);function e(n){n===void 0&&(n=void 0);var r=t.call(this,n)||this;return r.message=n,r}return e.prototype.getKind=function(){var n=this.constructor;return n.kind},e.kind="Exception",e})(EG),SG=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),va=(function(t){SG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e})(ai),TG=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Me=(function(t){TG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(ai),CG=(function(){function t(e){if(this.binarizer=e,e===null)throw new Me("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,n){return this.binarizer.getBlackRow(e,n)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,n,r,i){var a=this.binarizer.getLuminanceSource().crop(e,n,r,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t})(),IG=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ar=(function(t){IG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(ai),OG=(function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t})(),Vt=(function(){function t(){}return t.arraycopy=function(e,n,r,i,a){for(;a--;)r[i++]=e[n++]},t.currentTimeMillis=function(){return Date.now()},t})(),RG=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Zw=(function(t){RG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(ai),PG=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),OI=(function(t){PG(e,t);function e(n,r){n===void 0&&(n=void 0),r===void 0&&(r=void 0);var i=t.call(this,r)||this;return i.index=n,i.message=r,i}return e.kind="ArrayIndexOutOfBoundsException",e})(Zw),DG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qn=(function(){function t(){}return t.fill=function(e,n){for(var r=0,i=e.length;r<i;r++)e[r]=n},t.fillWithin=function(e,n,r,i){t.rangeCheck(e.length,n,r);for(var a=n;a<r;a++)e[a]=i},t.rangeCheck=function(e,n,r){if(n>r)throw new Me("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new OI(n);if(r>e)throw new OI(r)},t.asList=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e},t.create=function(e,n,r){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:n}).fill(r)})},t.createInt32Array=function(e,n,r){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:n}).fill(r)})},t.equals=function(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]!==n[r])return!1;return!0},t.hashCode=function(e){var n,r;if(e===null)return 0;var i=1;try{for(var a=DG(e),o=a.next();!o.done;o=a.next()){var l=o.value;i=31*i+l}}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},t.fillUint8Array=function(e,n){for(var r=0;r!==e.length;r++)e[r]=n},t.copyOf=function(e,n){return e.slice(0,n)},t.copyOfUint8Array=function(e,n){if(e.length<=n){var r=new Uint8Array(n);return r.set(e),r}return e.slice(0,n)},t.copyOfRange=function(e,n,r){var i=r-n,a=new Int32Array(i);return Vt.arraycopy(e,n,a,0,i),a},t.binarySearch=function(e,n,r){r===void 0&&(r=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,l=r(n,e[o]);if(l>0)i=o+1;else if(l<0)a=o-1;else return o}return-i-1},t.numberComparator=function(e,n){return e-n},t})(),Ye=(function(){function t(){}return t.numberOfTrailingZeros=function(e){var n;if(e===0)return 32;var r=31;return n=e<<16,n!==0&&(r-=16,e=n),n=e<<8,n!==0&&(r-=8,e=n),n=e<<4,n!==0&&(r-=4,e=n),n=e<<2,n!==0&&(r-=2,e=n),r-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,n){return Math.trunc(e/n)},t.parseInt=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),or=(function(){function t(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=t.makeArray(e):this.bits=n)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var n=t.makeArray(e);Vt.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var n=this.size;if(e>=n)return n;var r=this.bits,i=Math.floor(e/32),a=r[i];a&=~((1<<(e&31))-1);for(var o=r.length;a===0;){if(++i===o)return n;a=r[i]}var l=i*32+Ye.numberOfTrailingZeros(a);return l>n?n:l},t.prototype.getNextUnset=function(e){var n=this.size;if(e>=n)return n;var r=this.bits,i=Math.floor(e/32),a=~r[i];a&=~((1<<(e&31))-1);for(var o=r.length;a===0;){if(++i===o)return n;a=~r[i]}var l=i*32+Ye.numberOfTrailingZeros(a);return l>n?n:l},t.prototype.setBulk=function(e,n){this.bits[Math.floor(e/32)]=n},t.prototype.setRange=function(e,n){if(n<e||e<0||n>this.size)throw new Me;if(n!==e){n--;for(var r=Math.floor(e/32),i=Math.floor(n/32),a=this.bits,o=r;o<=i;o++){var l=o>r?0:e&31,c=o<i?31:n&31,f=(2<<c)-(1<<l);a[o]|=f}}},t.prototype.clear=function(){for(var e=this.bits.length,n=this.bits,r=0;r<e;r++)n[r]=0},t.prototype.isRange=function(e,n,r){if(n<e||e<0||n>this.size)throw new Me;if(n===e)return!0;n--;for(var i=Math.floor(e/32),a=Math.floor(n/32),o=this.bits,l=i;l<=a;l++){var c=l>i?0:e&31,f=l<a?31:n&31,d=(2<<f)-(1<<c)&4294967295;if((o[l]&d)!==(r?d:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,n){if(n<0||n>32)throw new Me("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(var r=n;r>0;r--)this.appendBit((e>>r-1&1)===1)},t.prototype.appendBitArray=function(e){var n=e.size;this.ensureCapacity(this.size+n);for(var r=0;r<n;r++)this.appendBit(e.get(r))},t.prototype.xor=function(e){if(this.size!==e.size)throw new Me("Sizes don't match");for(var n=this.bits,r=0,i=n.length;r<i;r++)n[r]^=e.bits[r]},t.prototype.toBytes=function(e,n,r,i){for(var a=0;a<i;a++){for(var o=0,l=0;l<8;l++)this.get(e)&&(o|=1<<7-l),e++;n[r+a]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,i=this.bits,a=0;a<r;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[n-a]=o}if(this.size!==r*32){for(var l=r*32-this.size,c=e[0]>>>l,a=1;a<r;a++){var f=e[a];c|=f<<32-l,e[a-1]=c,c=f>>>l}e[r-1]=c}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.size===n.size&&qn.equals(this.bits,n.bits)},t.prototype.hashCode=function(){return 31*this.size+qn.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",n=0,r=this.size;n<r;n++)(n&7)===0&&(e+=" "),e+=this.get(n)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],n=0,r=this.size;n<r;n++)e.push(this.get(n));return e},t})(),H_;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(H_||(H_={}));const Qt=H_;var NG=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ve=(function(t){NG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(ai),MG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tt;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(Tt||(Tt={}));var $n=(function(){function t(e,n,r){for(var i,a,o=[],l=3;l<arguments.length;l++)o[l-3]=arguments[l];this.valueIdentifier=e,this.name=r,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(r,this);for(var c=this.values,f=0,d=c.length;f!==d;f++){var p=c[f];t.VALUES_TO_ECI.set(p,this)}try{for(var v=MG(o),m=v.next();!m.done;m=v.next()){var _=m.value;t.NAME_TO_ECI.set(_,this)}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new ve("incorect value");var n=t.VALUES_TO_ECI.get(e);if(n===void 0)throw new ve("incorect value");return n},t.getCharacterSetECIByName=function(e){var n=t.NAME_TO_ECI.get(e);if(n===void 0)throw new ve("incorect value");return n},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.getName()===n.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(Tt.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(Tt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(Tt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(Tt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(Tt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(Tt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(Tt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(Tt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(Tt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(Tt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(Tt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(Tt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(Tt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(Tt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(Tt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(Tt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(Tt.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(Tt.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(Tt.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(Tt.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(Tt.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(Tt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(Tt.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(Tt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(Tt.Big5,28,"Big5"),t.GB18030=new t(Tt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(Tt.EUC_KR,30,"EUC_KR","EUC-KR"),t})(),kG=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),M1=(function(t){kG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(ai),Zi=(function(){function t(){}return t.decode=function(e,n){var r=this.encodingName(n);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,n){var r=this.encodingName(n);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof $n?e:$n.getCharacterSetECIByName(e)},t.decodeFallback=function(e,n){var r=this.encodingCharacterSet(n);if(t.isDecodeFallbackSupported(r)){for(var i="",a=0,o=e.length;a<o;a++){var l=e[a].toString(16);l.length<2&&(l="0"+l),i+="%"+l}return decodeURIComponent(i)}if(r.equals($n.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new M1("Encoding "+this.encodingName(n)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals($n.UTF8)||e.equals($n.ISO8859_1)||e.equals($n.ASCII)},t.encodeFallback=function(e){for(var n=btoa(unescape(encodeURIComponent(e))),r=n.split(""),i=[],a=0;a<r.length;a++)i.push(r[a].charCodeAt(0));return new Uint8Array(i)},t})(),lt=(function(){function t(){}return t.castAsNonUtf8Char=function(e,n){n===void 0&&(n=null);var r=n?n.getName():this.ISO88591;return Zi.decode(new Uint8Array([e]),r)},t.guessEncoding=function(e,n){if(n!=null&&n.get(Qt.CHARACTER_SET)!==void 0)return n.get(Qt.CHARACTER_SET).toString();for(var r=e.length,i=!0,a=!0,o=!0,l=0,c=0,f=0,d=0,p=0,v=0,m=0,_=0,w=0,E=0,S=0,I=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,R=0;R<r&&(i||a||o);R++){var M=e[R]&255;o&&(l>0?(M&128)===0?o=!1:l--:(M&128)!==0&&((M&64)===0?o=!1:(l++,(M&32)===0?c++:(l++,(M&16)===0?f++:(l++,(M&8)===0?d++:o=!1))))),i&&(M>127&&M<160?i=!1:M>159&&(M<192||M===215||M===247)&&S++),a&&(p>0?M<64||M===127||M>252?a=!1:p--:M===128||M===160||M>239?a=!1:M>160&&M<224?(v++,_=0,m++,m>w&&(w=m)):M>127?(p++,m=0,_++,_>E&&(E=_)):(m=0,_=0))}return o&&l>0&&(o=!1),a&&p>0&&(a=!1),o&&(I||c+f+d>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||w>=3||E>=3)?t.SHIFT_JIS:i&&a?w===2&&v===2||S*10>=r?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=-1;function a(l,c,f,d,p,v){if(l==="%%")return"%";if(n[++i]!==void 0){l=d?parseInt(d.substr(1)):void 0;var m=p?parseInt(p.substr(1)):void 0,_;switch(v){case"s":_=n[i];break;case"c":_=n[i][0];break;case"f":_=parseFloat(n[i]).toFixed(l);break;case"p":_=parseFloat(n[i]).toPrecision(l);break;case"e":_=parseFloat(n[i]).toExponential(l);break;case"x":_=parseInt(n[i]).toString(m||16);break;case"d":_=parseFloat(parseInt(n[i],m||10).toPrecision(l)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(m);for(var w=parseInt(f),E=f&&f[0]+""=="0"?"0":" ";_.length<w;)_=c!==void 0?_+E:E+_;return _}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.getBytes=function(e,n){return Zi.encode(e,n)},t.getCharCode=function(e,n){return n===void 0&&(n=0),e.charCodeAt(n)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=$n.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=$n.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=$n.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t})(),Xe=(function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=lt.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,n,r){for(var i=n;n<n+r;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)},t.prototype.substring=function(e,n){return this.value.substring(e,n)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,n){this.value=this.value.substring(0,e)+n+this.value.substring(e)},t})(),io=(function(){function t(e,n,r,i){if(this.width=e,this.height=n,this.rowSize=r,this.bits=i,n==null&&(n=e),this.height=n,e<1||n<1)throw new Me("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var n=e.length,r=e[0].length,i=new t(r,n),a=0;a<n;a++)for(var o=e[a],l=0;l<r;l++)o[l]&&i.set(l,a);return i},t.parseFromString=function(e,n,r){if(e===null)throw new Me("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,l=-1,c=0,f=0;f<e.length;)if(e.charAt(f)===`
`||e.charAt(f)==="\r"){if(a>o){if(l===-1)l=a-o;else if(a-o!==l)throw new Me("row lengths do not match");o=a,c++}f++}else if(e.substring(f,f+n.length)===n)f+=n.length,i[a]=!0,a++;else if(e.substring(f,f+r.length)===r)f+=r.length,i[a]=!1,a++;else throw new Me("illegal character encountered: "+e.substring(f));if(a>o){if(l===-1)l=a-o;else if(a-o!==l)throw new Me("row lengths do not match");c++}for(var d=new t(l,c),p=0;p<a;p++)i[p]&&d.set(Math.floor(p%l),Math.floor(p/l));return d},t.prototype.get=function(e,n){var r=n*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0},t.prototype.set=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Me("input matrix dimensions do not match");for(var n=new or(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var l=a*r,c=e.getRow(a,n).getBitArray(),f=0;f<r;f++)i[l+f]^=c[f]},t.prototype.clear=function(){for(var e=this.bits,n=e.length,r=0;r<n;r++)e[r]=0},t.prototype.setRegion=function(e,n,r,i){if(n<0||e<0)throw new Me("Left and top must be nonnegative");if(i<1||r<1)throw new Me("Height and width must be at least 1");var a=e+r,o=n+i;if(o>this.height||a>this.width)throw new Me("The region must fit inside the matrix");for(var l=this.rowSize,c=this.bits,f=n;f<o;f++)for(var d=f*l,p=e;p<a;p++)c[d+Math.floor(p/32)]|=1<<(p&31)&4294967295},t.prototype.getRow=function(e,n){n==null||n.getSize()<this.width?n=new or(this.width):n.clear();for(var r=this.rowSize,i=this.bits,a=e*r,o=0;o<r;o++)n.setBulk(o*32,i[a+o]);return n},t.prototype.setRow=function(e,n){Vt.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),n=this.getHeight(),r=new or(e),i=new or(e),a=0,o=Math.floor((n+1)/2);a<o;a++)r=this.getRow(a,r),i=this.getRow(n-1-a,i),r.reverse(),i.reverse(),this.setRow(a,i),this.setRow(n-1-a,r)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,n=this.height,r=this.rowSize,i=this.bits,a=e,o=n,l=-1,c=-1,f=0;f<n;f++)for(var d=0;d<r;d++){var p=i[f*r+d];if(p!==0){if(f<o&&(o=f),f>c&&(c=f),d*32<a){for(var v=0;(p<<31-v&4294967295)===0;)v++;d*32+v<a&&(a=d*32+v)}if(d*32+31>l){for(var v=31;!(p>>>v);)v--;d*32+v>l&&(l=d*32+v)}}}return l<a||c<o?null:Int32Array.from([a,o,l-a+1,c-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,n=this.bits,r=0;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;for(var i=r/e,a=r%e*32,o=n[r],l=0;(o<<31-l&4294967295)===0;)l++;return a+=l,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,n=this.bits,r=n.length-1;r>=0&&n[r]===0;)r--;if(r<0)return null;for(var i=Math.floor(r/e),a=Math.floor(r%e)*32,o=n[r],l=31;!(o>>>l);)l--;return a+=l,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&qn.equals(this.bits,n.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+qn.hashCode(this.bits),e},t.prototype.toString=function(e,n,r){return e===void 0&&(e="X "),n===void 0&&(n="  "),r===void 0&&(r=`
`),this.buildToString(e,n,r)},t.prototype.buildToString=function(e,n,r){for(var i=new Xe,a=0,o=this.height;a<o;a++){for(var l=0,c=this.width;l<c;l++)i.append(this.get(l,a)?e:n);i.append(r)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t})(),LG=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ae=(function(t){LG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(ai),jG=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),BG=(function(t){jG(e,t);function e(n){var r=t.call(this,n)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return e.prototype.getBlackRow=function(n,r){var i=this.getLuminanceSource(),a=i.getWidth();r==null||r.getSize()<a?r=new or(a):r.clear(),this.initArrays(a);for(var o=i.getRow(n,this.luminances),l=this.buckets,c=0;c<a;c++)l[(o[c]&255)>>e.LUMINANCE_SHIFT]++;var f=e.estimateBlackPoint(l);if(a<3)for(var c=0;c<a;c++)(o[c]&255)<f&&r.set(c);else for(var d=o[0]&255,p=o[1]&255,c=1;c<a-1;c++){var v=o[c+1]&255;(p*4-d-v)/2<f&&r.set(c),d=p,p=v}return r},e.prototype.getBlackMatrix=function(){var n=this.getLuminanceSource(),r=n.getWidth(),i=n.getHeight(),a=new io(r,i);this.initArrays(r);for(var o=this.buckets,l=1;l<5;l++)for(var c=Math.floor(i*l/5),f=n.getRow(c,this.luminances),d=Math.floor(r*4/5),p=Math.floor(r/5);p<d;p++){var v=f[p]&255;o[v>>e.LUMINANCE_SHIFT]++}for(var m=e.estimateBlackPoint(o),_=n.getMatrix(),l=0;l<i;l++)for(var w=l*r,p=0;p<r;p++){var v=_[w+p]&255;v<m&&a.set(p,l)}return a},e.prototype.createBinarizer=function(n){return new e(n)},e.prototype.initArrays=function(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));for(var r=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)r[i]=0},e.estimateBlackPoint=function(n){for(var r=n.length,i=0,a=0,o=0,l=0;l<r;l++)n[l]>o&&(a=l,o=n[l]),n[l]>i&&(i=n[l]);for(var c=0,f=0,l=0;l<r;l++){var d=l-a,p=n[l]*d*d;p>f&&(c=l,f=p)}if(a>c){var v=a;a=c,c=v}if(c-a<=r/16)throw new ae;for(var m=c-1,_=-1,l=c-1;l>a;l--){var w=l-a,p=w*w*(c-l)*(i-n[l]);p>_&&(m=l,_=p)}return m<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(OG),VG=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),FG=(function(t){VG(e,t);function e(n){var r=t.call(this,n)||this;return r.matrix=null,r}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var n=this.getLuminanceSource(),r=n.getWidth(),i=n.getHeight();if(r>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=n.getMatrix(),o=r>>e.BLOCK_SIZE_POWER;(r&e.BLOCK_SIZE_MASK)!==0&&o++;var l=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&l++;var c=e.calculateBlackPoints(a,o,l,r,i),f=new io(r,i);e.calculateThresholdForBlock(a,o,l,r,i,c,f),this.matrix=f}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(n){return new e(n)},e.calculateThresholdForBlock=function(n,r,i,a,o,l,c){for(var f=o-e.BLOCK_SIZE,d=a-e.BLOCK_SIZE,p=0;p<i;p++){var v=p<<e.BLOCK_SIZE_POWER;v>f&&(v=f);for(var m=e.cap(p,2,i-3),_=0;_<r;_++){var w=_<<e.BLOCK_SIZE_POWER;w>d&&(w=d);for(var E=e.cap(_,2,r-3),S=0,I=-2;I<=2;I++){var R=l[m+I];S+=R[E-2]+R[E-1]+R[E]+R[E+1]+R[E+2]}var M=S/25;e.thresholdBlock(n,w,v,M,a,c)}}},e.cap=function(n,r,i){return n<r?r:n>i?i:n},e.thresholdBlock=function(n,r,i,a,o,l){for(var c=0,f=i*o+r;c<e.BLOCK_SIZE;c++,f+=o)for(var d=0;d<e.BLOCK_SIZE;d++)(n[f+d]&255)<=a&&l.set(r+d,i+c)},e.calculateBlackPoints=function(n,r,i,a,o){for(var l=o-e.BLOCK_SIZE,c=a-e.BLOCK_SIZE,f=new Array(i),d=0;d<i;d++){f[d]=new Int32Array(r);var p=d<<e.BLOCK_SIZE_POWER;p>l&&(p=l);for(var v=0;v<r;v++){var m=v<<e.BLOCK_SIZE_POWER;m>c&&(m=c);for(var _=0,w=255,E=0,S=0,I=p*a+m;S<e.BLOCK_SIZE;S++,I+=a){for(var R=0;R<e.BLOCK_SIZE;R++){var M=n[I+R]&255;_+=M,M<w&&(w=M),M>E&&(E=M)}if(E-w>e.MIN_DYNAMIC_RANGE)for(S++,I+=a;S<e.BLOCK_SIZE;S++,I+=a)for(var R=0;R<e.BLOCK_SIZE;R++)_+=n[I+R]&255}var k=_>>e.BLOCK_SIZE_POWER*2;if(E-w<=e.MIN_DYNAMIC_RANGE&&(k=w/2,d>0&&v>0)){var B=(f[d-1][v]+2*f[d][v-1]+f[d-1][v-1])/4;w<B&&(k=B)}f[d][v]=k}}return f},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(BG),Sv=(function(){function t(e,n){this.width=e,this.height=n}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,n,r,i){throw new M1("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new M1("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new M1("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),n=new Xe,r=0;r<this.height;r++){for(var i=this.getRow(r,e),a=0;a<this.width;a++){var o=i[a]&255,l=void 0;o<64?l="#":o<128?l="+":o<192?l=".":l=" ",n.append(l)}n.append(`
`)}return n.toString()},t})(),UG=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Jw=(function(t){UG(e,t);function e(n){var r=t.call(this,n.getWidth(),n.getHeight())||this;return r.delegate=n,r}return e.prototype.getRow=function(n,r){for(var i=this.delegate.getRow(n,r),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var n=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r),a=0;a<r;a++)i[a]=255-(n[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(n,r,i,a){return new e(this.delegate.crop(n,r,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(Sv),zG=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),HG=(function(t){zG(e,t);function e(n,r){r===void 0&&(r=!1);var i=t.call(this,n.width,n.height)||this;return i.canvas=n,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(n,r),i}return e.makeBufferFromCanvasImageData=function(n,r){r===void 0&&(r=!1);var i=n.getContext("2d").getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(i.data,n.width,n.height,r)},e.toGrayscaleBuffer=function(n,r,i,a){a===void 0&&(a=!1);var o=new Uint8ClampedArray(r*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var l=0,c=0,f=n.length;l<f;l+=4,c++){var d=void 0,p=n[l+3];if(p===0)d=255;else{var v=n[l],m=n[l+1],_=n[l+2];d=306*v+601*m+117*_+512>>10}o[c]=d}else for(var l=0,c=0,w=n.length;l<w;l+=4,c++){var d=void 0,p=n[l+3];if(p===0)d=255;else{var v=n[l],m=n[l+1],_=n[l+2];d=306*v+601*m+117*_+512>>10}o[c]=255-d}return o},e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new Me("Requested row is outside the image: "+n);var i=this.getWidth(),a=n*i;return r===null?r=this.buffer.slice(a,a+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(a,a+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,a){return t.prototype.crop.call(this,n,r,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var r=this.getTempCanvasElement(),i=r.getContext("2d"),a=n*e.DEGREE_TO_RADIANS,o=this.canvas.width,l=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*l),f=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*l);return r.width=c,r.height=f,i.translate(c/2,f/2),i.rotate(a),i.drawImage(this.canvas,o/-2,l/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new Jw(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(Sv),$G=(function(){function t(e,n,r){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t})(),Ur=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{f(r.next(d))}catch(p){o(p)}}function c(d){try{f(r.throw(d))}catch(p){o(p)}}function f(d){d.done?a(d.value):i(d.value).then(l,c)}f((r=r.apply(t,e||[])).next())})},zr=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(d){return c([f,d])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(d){f=[6,d],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},qG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sf=(function(){function t(e,n,r){n===void 0&&(n=500),this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return Ur(this,void 0,void 0,function(){var e,n,r,i,a,o,l,c,f,d,p,v;return zr(this,function(m){switch(m.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=m.sent(),n=[];try{for(r=qG(e),i=r.next();!i.done;i=r.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(l=a.deviceId||a.id,c=a.label||"Video device "+(n.length+1),f=a.groupId,d={deviceId:l,label:c,kind:o,groupId:f},n.push(d))}catch(_){p={error:_}}finally{try{i&&!i.done&&(v=r.return)&&v.call(r)}finally{if(p)throw p.error}}return[2,n]}})})},t.prototype.getVideoInputDevices=function(){return Ur(this,void 0,void 0,function(){var e;return zr(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=n.sent(),[2,e.map(function(r){return new $G(r.deviceId,r.label)})]}})})},t.prototype.findDeviceById=function(e){return Ur(this,void 0,void 0,function(){var n;return zr(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return n=r.sent(),n?[2,n.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,n){return Ur(this,void 0,void 0,function(){return zr(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,n)];case 1:return[2,r.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,n){return Ur(this,void 0,void 0,function(){var r,i;return zr(this,function(a){switch(a.label){case 0:return this.reset(),e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,n)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,n){return Ur(this,void 0,void 0,function(){var r;return zr(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,n)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,n){return Ur(this,void 0,void 0,function(){var r,i;return zr(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return r=a.sent(),[4,this.decodeOnce(r)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,n,r){return Ur(this,void 0,void 0,function(){return zr(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,n,r)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,n,r){return Ur(this,void 0,void 0,function(){var i,a;return zr(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,n,r)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,n,r){return Ur(this,void 0,void 0,function(){var i;return zr(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,n,r)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,n,r){return Ur(this,void 0,void 0,function(){var i;return zr(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,r)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,n){return Ur(this,void 0,void 0,function(){var r;return zr(this,function(i){switch(i.label){case 0:return r=this.prepareVideoElement(n),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return i.sent(),[2,r]}})})},t.prototype.playVideoOnLoadAsync=function(e){var n=this;return new Promise(function(r,i){return n.playVideoOnLoad(e,function(){return r()})})},t.prototype.playVideoOnLoad=function(e,n){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return Ur(this,void 0,void 0,function(){return zr(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[3,4];case 3:return n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,n){var r=document.getElementById(e);if(!r)throw new va("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new va("element with id '"+e+"' must be an "+n+" element");return r},t.prototype.decodeFromImage=function(e,n){if(!e&&!n)throw new va("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,n){if(!e&&!n)throw new va("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,n,r){if(e===void 0&&n===void 0)throw new va("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(e,r)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new va("An image element must be provided.");this.reset();var n=this.prepareImageElement(e);this.imageElement=n;var r;return this.isImageLoaded(n)?r=this.decodeOnce(n,!1,!0):r=this._decodeOnLoadImage(n),r},t.prototype.decodeFromVideoElement=function(e){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)},t.prototype.decodeFromVideoElementContinuously=function(e,n){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,n)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new va("A video element must be provided.");this.reset();var n=this.prepareVideoElement(e);return this.videoElement=n,n},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new va("An URL must be provided.");this.reset();var n=this.prepareImageElement();this.imageElement=n;var r=this._decodeOnLoadImage(n);return n.src=e,r},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new va("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=e,r},t.prototype.decodeFromVideoUrlContinuously=function(e,n){if(!e)throw new va("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,n);return r.src=e,i},t.prototype._decodeOnLoadImage=function(e){var n=this;return new Promise(function(r,i){n.imageLoadedListener=function(){return n.decodeOnce(e,!1,!0).then(r,i)},e.addEventListener("load",n.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return Ur(this,void 0,void 0,function(){return zr(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),[4,this.decodeOnce(e)];case 2:return[2,n.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,n){return Ur(this,void 0,void 0,function(){return zr(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,n),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n},t.prototype.prepareVideoElement=function(e){var n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},t.prototype.decodeOnce=function(e,n,r){var i=this;n===void 0&&(n=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var a=function(o,l){if(i._stopAsyncDecode){l(new ae("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var c=i.decode(e);o(c)}catch(v){var f=n&&v instanceof ae,d=v instanceof ar||v instanceof ve,p=d&&r;if(f||p)return setTimeout(a,i._timeBetweenDecodingAttempts,o,l);l(v)}};return new Promise(function(o,l){return a(o,l)})},t.prototype.decodeContinuously=function(e,n){var r=this;this._stopContinuousDecode=!1;var i=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var a=r.decode(e);n(a,null),setTimeout(i,r.timeBetweenScansMillis)}catch(c){n(null,c);var o=c instanceof ar||c instanceof ve,l=c instanceof ae;(o||l)&&setTimeout(i,r._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var n=this.createBinaryBitmap(e);return this.decodeBitmap(n)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var n=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),n=!0):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),i=new HG(r,n),a=new FG(i);return new CG(a)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var n=this.getCaptureCanvas(e),r=void 0;try{r=n.getContext("2d",{willReadFrequently:!0})}catch{r=n.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,n,r){n===void 0&&(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},t.prototype.drawImageOnCanvas=function(e,n,r){n===void 0&&(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var n=document.createElement("canvas"),r,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),n.style.width=r+"px",n.style.height=i+"px",n.width=r,n.height=i,n},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t})(),jr=(function(){function t(e,n,r,i,a,o){r===void 0&&(r=n==null?0:8*n.length),o===void 0&&(o=Vt.currentTimeMillis()),this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=n,r==null?this.numBits=n==null?0:8*n.length:this.numBits=r,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=Vt.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){var r=new Array(n.length+e.length);Vt.arraycopy(n,0,r,0,n.length),Vt.arraycopy(e,0,r,n.length,e.length),this.resultPoints=r}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t})(),$_;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})($_||($_={}));const Ne=$_;var q_;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(q_||(q_={}));const Er=q_;var Tv=(function(){function t(e,n,r,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t})(),id=(function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Me;return this.logTable[e]},t.addOrSubtract=function(e,n){return e^n},t})(),rl=(function(){function t(e,n){if(n.length===0)throw new Me;this.field=e;var r=n.length;if(r>1&&n[0]===0){for(var i=1;i<r&&n[i]===0;)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),Vt.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var n=this.coefficients,r;if(e===1){r=0;for(var i=0,a=n.length;i!==a;i++){var o=n[i];r=id.addOrSubtract(r,o)}return r}r=n[0];for(var l=n.length,c=this.field,i=1;i<l;i++)r=id.addOrSubtract(c.multiply(e,r),n[i]);return r},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Me("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var i=n;n=r,r=i}var a=new Int32Array(r.length),o=r.length-n.length;Vt.arraycopy(r,0,a,0,o);for(var l=o;l<r.length;l++)a[l]=id.addOrSubtract(n[l-o],r[l]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Me("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var n=this.coefficients,r=n.length,i=e.coefficients,a=i.length,o=new Int32Array(r+a-1),l=this.field,c=0;c<r;c++)for(var f=n[c],d=0;d<a;d++)o[c+d]=id.addOrSubtract(o[c+d],l.multiply(f,i[d]));return new t(l,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var n=this.coefficients.length,r=this.field,i=new Int32Array(n),a=this.coefficients,o=0;o<n;o++)i[o]=r.multiply(a[o],e);return new t(r,i)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new Me;if(n===0)return this.field.getZero();for(var r=this.coefficients,i=r.length,a=new Int32Array(i+e),o=this.field,l=0;l<i;l++)a[l]=o.multiply(r[l],n);return new t(o,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Me("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Me("Divide by 0");for(var n=this.field,r=n.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=n.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var l=i.getDegree()-e.getDegree(),c=n.multiply(i.getCoefficient(i.getDegree()),o),f=e.multiplyByMonomial(l,c),d=n.buildMonomial(l,c);r=r.addOrSubtract(d),i=i.addOrSubtract(f)}return[r,i]},t.prototype.toString=function(){for(var e="",n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),n===0||r!==1){var i=this.field.log(r);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e},t})(),GG=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),G5=(function(t){GG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(ai),KG=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ri=(function(t){KG(e,t);function e(n,r,i){var a=t.call(this)||this;a.primitive=n,a.size=r,a.generatorBase=i;for(var o=new Int32Array(r),l=1,c=0;c<r;c++)o[c]=l,l*=2,l>=r&&(l^=n,l&=r-1);a.expTable=o;for(var f=new Int32Array(r),c=0;c<r-1;c++)f[o[c]]=c;return a.logTable=f,a.zero=new rl(a,Int32Array.from([0])),a.one=new rl(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,r){if(n<0)throw new Me;if(r===0)return this.zero;var i=new Int32Array(n+1);return i[0]=r,new rl(this,i)},e.prototype.inverse=function(n){if(n===0)throw new G5;return this.expTable[this.size-this.logTable[n]-1]},e.prototype.multiply=function(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Ye.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(n){return n===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(id),WG=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),n1=(function(t){WG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(ai),XG=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Jd=(function(t){XG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(ai),Cv=(function(){function t(e){this.field=e}return t.prototype.decode=function(e,n){for(var r=this.field,i=new rl(r,e),a=new Int32Array(n),o=!0,l=0;l<n;l++){var c=i.evaluateAt(r.exp(l+r.getGeneratorBase()));a[a.length-1-l]=c,c!==0&&(o=!1)}if(!o)for(var f=new rl(r,a),d=this.runEuclideanAlgorithm(r.buildMonomial(n,1),f,n),p=d[0],v=d[1],m=this.findErrorLocations(p),_=this.findErrorMagnitudes(v,m),l=0;l<m.length;l++){var w=e.length-1-r.log(m[l]);if(w<0)throw new n1("Bad error location");e[w]=ri.addOrSubtract(e[w],_[l])}},t.prototype.runEuclideanAlgorithm=function(e,n,r){if(e.getDegree()<n.getDegree()){var i=e;e=n,n=i}for(var a=this.field,o=e,l=n,c=a.getZero(),f=a.getOne();l.getDegree()>=(r/2|0);){var d=o,p=c;if(o=l,c=f,o.isZero())throw new n1("r_{i-1} was zero");l=d;for(var v=a.getZero(),m=o.getCoefficient(o.getDegree()),_=a.inverse(m);l.getDegree()>=o.getDegree()&&!l.isZero();){var w=l.getDegree()-o.getDegree(),E=a.multiply(l.getCoefficient(l.getDegree()),_);v=v.addOrSubtract(a.buildMonomial(w,E)),l=l.addOrSubtract(o.multiplyByMonomial(w,E))}if(f=v.multiply(c).addOrSubtract(p),l.getDegree()>=o.getDegree())throw new Jd("Division algorithm failed to reduce polynomial?")}var S=f.getCoefficient(0);if(S===0)throw new n1("sigmaTilde(0) was zero");var I=a.inverse(S),R=f.multiplyScalar(I),M=l.multiplyScalar(I);return[R,M]},t.prototype.findErrorLocations=function(e){var n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(n),i=0,a=this.field,o=1;o<a.getSize()&&i<n;o++)e.evaluateAt(o)===0&&(r[i]=a.inverse(o),i++);if(i!==n)throw new n1("Error locator degree does not match number of roots");return r},t.prototype.findErrorMagnitudes=function(e,n){for(var r=n.length,i=new Int32Array(r),a=this.field,o=0;o<r;o++){for(var l=a.inverse(n[o]),c=1,f=0;f<r;f++)if(o!==f){var d=a.multiply(n[f],l),p=(d&1)===0?d|1:d&-2;c=a.multiply(c,p)}i[o]=a.multiply(e.evaluateAt(l),a.inverse(c)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],l))}return i},t})(),mr;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(mr||(mr={}));var RI=(function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var n=e.getBits(),r=this.extractBits(n),i=this.correctBits(r),a=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),l=new Tv(a,o,null,null);return l.setNumBits(i.length),l},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var n=e.length,r=mr.UPPER,i=mr.UPPER,a="",o=0;o<n;)if(i===mr.BINARY){if(n-o<5)break;var l=t.readCode(e,o,5);if(o+=5,l===0){if(n-o<11)break;l=t.readCode(e,o,11)+31,o+=11}for(var c=0;c<l;c++){if(n-o<8){o=n;break}var f=t.readCode(e,o,8);a+=lt.castAsNonUtf8Char(f),o+=8}i=r}else{var d=i===mr.DIGIT?4:5;if(n-o<d)break;var f=t.readCode(e,o,d);o+=d;var p=t.getCharacter(i,f);p.startsWith("CTRL_")?(r=i,i=t.getTable(p.charAt(5)),p.charAt(6)==="L"&&(r=i)):(a+=p,i=r)}return a},t.getTable=function(e){switch(e){case"L":return mr.LOWER;case"P":return mr.PUNCT;case"M":return mr.MIXED;case"D":return mr.DIGIT;case"B":return mr.BINARY;case"U":default:return mr.UPPER}},t.getCharacter=function(e,n){switch(e){case mr.UPPER:return t.UPPER_TABLE[n];case mr.LOWER:return t.LOWER_TABLE[n];case mr.MIXED:return t.MIXED_TABLE[n];case mr.PUNCT:return t.PUNCT_TABLE[n];case mr.DIGIT:return t.DIGIT_TABLE[n];default:throw new Jd("Bad table")}},t.prototype.correctBits=function(e){var n,r;this.ddata.getNbLayers()<=2?(r=6,n=ri.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=ri.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=ri.AZTEC_DATA_10):(r=12,n=ri.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/r;if(a<i)throw new ve;for(var o=e.length%r,l=new Int32Array(a),c=0;c<a;c++,o+=r)l[c]=t.readCode(e,o,r);try{var f=new Cv(n);f.decode(l,a-i)}catch(E){throw new ve(E)}for(var d=(1<<r)-1,p=0,c=0;c<i;c++){var v=l[c];if(v===0||v===d)throw new ve;(v===1||v===d-1)&&p++}for(var m=new Array(i*r-p),_=0,c=0;c<i;c++){var v=l[c];if(v===1||v===d-1)m.fill(v>1,_,_+r-1),_+=r-1;else for(var w=r-1;w>=0;--w)m[_++]=(v&1<<w)!==0}return m},t.prototype.extractBits=function(e){var n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(n?11:14)+r*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(r,n));if(n)for(var l=0;l<a.length;l++)a[l]=l;else for(var c=i+1+2*Ye.truncDivision(Ye.truncDivision(i,2)-1,15),f=i/2,d=Ye.truncDivision(c,2),l=0;l<f;l++){var p=l+Ye.truncDivision(l,15);a[f-l-1]=d-p-1,a[f+l]=d+p+1}for(var l=0,v=0;l<r;l++){for(var m=(r-l)*4+(n?9:12),_=l*2,w=i-1-_,E=0;E<m;E++)for(var S=E*2,I=0;I<2;I++)o[v+S+I]=e.get(a[_+I],a[_+E]),o[v+2*m+S+I]=e.get(a[_+E],a[w-I]),o[v+4*m+S+I]=e.get(a[w-I],a[w-E]),o[v+6*m+S+I]=e.get(a[w-E],a[_+I]);v+=m*8}return o},t.readCode=function(e,n,r){for(var i=0,a=n;a<n+r;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,n){var r=e.length-n;return r>=8?t.readCode(e,n,8):t.readCode(e,n,r)<<8-r},t.convertBoolArrayToByteArray=function(e){for(var n=new Uint8Array((e.length+7)/8),r=0;r<n.length;r++)n[r]=t.readByte(e,8*r);return n},t.prototype.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t})(),dt=(function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,n,r,i){var a=e-r,o=n-i;return Math.sqrt(a*a+o*o)},t.sum=function(e){for(var n=0,r=0,i=e.length;r!==i;r++){var a=e[r];n+=a}return n},t})(),G_=(function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),Te=(function(){function t(e,n){this.x=e,this.y=n}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var n=e;return this.x===n.x&&this.y===n.y}return!1},t.prototype.hashCode=function(){return 31*G_.floatToIntBits(this.x)+G_.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var n=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,l;if(r>=n&&r>=i?(o=e[0],a=e[1],l=e[2]):i>=r&&i>=n?(o=e[1],a=e[0],l=e[2]):(o=e[2],a=e[0],l=e[1]),this.crossProductZ(a,o,l)<0){var c=a;a=l,l=c}e[0]=a,e[1]=o,e[2]=l},t.distance=function(e,n){return dt.distance(e.x,e.y,n.x,n.y)},t.crossProductZ=function(e,n,r){var i=n.x,a=n.y;return(r.x-i)*(e.y-a)-(r.y-a)*(e.x-i)},t})(),eE=(function(){function t(e,n){this.bits=e,this.points=n}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),YG=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),QG=(function(t){YG(e,t);function e(n,r,i,a,o){var l=t.call(this,n,r)||this;return l.compact=i,l.nbDatablocks=a,l.nbLayers=o,l}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(eE),K_=(function(){function t(e,n,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=t.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=n/2|0;if(this.leftInit=r-a,this.rightInit=r+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ae}return t.prototype.detect=function(){for(var e=this.leftInit,n=this.rightInit,r=this.upInit,i=this.downInit,a=!1,o=!0,l=!1,c=!1,f=!1,d=!1,p=!1,v=this.width,m=this.height;o;){o=!1;for(var _=!0;(_||!c)&&n<v;)_=this.containsBlackPoint(r,i,n,!1),_?(n++,o=!0,c=!0):c||n++;if(n>=v){a=!0;break}for(var w=!0;(w||!f)&&i<m;)w=this.containsBlackPoint(e,n,i,!0),w?(i++,o=!0,f=!0):f||i++;if(i>=m){a=!0;break}for(var E=!0;(E||!d)&&e>=0;)E=this.containsBlackPoint(r,i,e,!1),E?(e--,o=!0,d=!0):d||e--;if(e<0){a=!0;break}for(var S=!0;(S||!p)&&r>=0;)S=this.containsBlackPoint(e,n,r,!0),S?(r--,o=!0,p=!0):p||r--;if(r<0){a=!0;break}o&&(l=!0)}if(!a&&l){for(var I=n-e,R=null,M=1;R===null&&M<I;M++)R=this.getBlackPointOnSegment(e,i-M,e+M,i);if(R==null)throw new ae;for(var k=null,M=1;k===null&&M<I;M++)k=this.getBlackPointOnSegment(e,r+M,e+M,r);if(k==null)throw new ae;for(var B=null,M=1;B===null&&M<I;M++)B=this.getBlackPointOnSegment(n,r+M,n-M,r);if(B==null)throw new ae;for(var D=null,M=1;D===null&&M<I;M++)D=this.getBlackPointOnSegment(n,i-M,n-M,i);if(D==null)throw new ae;return this.centerEdges(D,R,B,k)}else throw new ae},t.prototype.getBlackPointOnSegment=function(e,n,r,i){for(var a=dt.round(dt.distance(e,n,r,i)),o=(r-e)/a,l=(i-n)/a,c=this.image,f=0;f<a;f++){var d=dt.round(e+f*o),p=dt.round(n+f*l);if(c.get(d,p))return new Te(d,p)}return null},t.prototype.centerEdges=function(e,n,r,i){var a=e.getX(),o=e.getY(),l=n.getX(),c=n.getY(),f=r.getX(),d=r.getY(),p=i.getX(),v=i.getY(),m=t.CORR;return a<this.width/2?[new Te(p-m,v+m),new Te(l+m,c+m),new Te(f-m,d-m),new Te(a+m,o-m)]:[new Te(p+m,v+m),new Te(l+m,c-m),new Te(f-m,d+m),new Te(a-m,o-m)]},t.prototype.containsBlackPoint=function(e,n,r,i){var a=this.image;if(i){for(var o=e;o<=n;o++)if(a.get(o,r))return!0}else for(var l=e;l<=n;l++)if(a.get(r,l))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t})(),PI=(function(){function t(){}return t.checkAndNudgePoints=function(e,n){for(var r=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<n.length&&a;o+=2){var l=Math.floor(n[o]),c=Math.floor(n[o+1]);if(l<-1||l>r||c<-1||c>i)throw new ae;a=!1,l===-1?(n[o]=0,a=!0):l===r&&(n[o]=r-1,a=!0),c===-1?(n[o+1]=0,a=!0):c===i&&(n[o+1]=i-1,a=!0)}a=!0;for(var o=n.length-2;o>=0&&a;o-=2){var l=Math.floor(n[o]),c=Math.floor(n[o+1]);if(l<-1||l>r||c<-1||c>i)throw new ae;a=!1,l===-1?(n[o]=0,a=!0):l===r&&(n[o]=r-1,a=!0),c===-1?(n[o+1]=0,a=!0):c===i&&(n[o+1]=i-1,a=!0)}},t})(),K5=(function(){function t(e,n,r,i,a,o,l,c,f){this.a11=e,this.a21=n,this.a31=r,this.a12=i,this.a22=a,this.a32=o,this.a13=l,this.a23=c,this.a33=f}return t.quadrilateralToQuadrilateral=function(e,n,r,i,a,o,l,c,f,d,p,v,m,_,w,E){var S=t.quadrilateralToSquare(e,n,r,i,a,o,l,c),I=t.squareToQuadrilateral(f,d,p,v,m,_,w,E);return I.times(S)},t.prototype.transformPoints=function(e){for(var n=e.length,r=this.a11,i=this.a12,a=this.a13,o=this.a21,l=this.a22,c=this.a23,f=this.a31,d=this.a32,p=this.a33,v=0;v<n;v+=2){var m=e[v],_=e[v+1],w=a*m+c*_+p;e[v]=(r*m+o*_+f)/w,e[v+1]=(i*m+l*_+d)/w}},t.prototype.transformPointsWithValues=function(e,n){for(var r=this.a11,i=this.a12,a=this.a13,o=this.a21,l=this.a22,c=this.a23,f=this.a31,d=this.a32,p=this.a33,v=e.length,m=0;m<v;m++){var _=e[m],w=n[m],E=a*_+c*w+p;e[m]=(r*_+o*w+f)/E,n[m]=(i*_+l*w+d)/E}},t.squareToQuadrilateral=function(e,n,r,i,a,o,l,c){var f=e-r+a-l,d=n-i+o-c;if(f===0&&d===0)return new t(r-e,a-r,e,i-n,o-i,n,0,0,1);var p=r-a,v=l-a,m=i-o,_=c-o,w=p*_-v*m,E=(f*_-v*d)/w,S=(p*d-f*m)/w;return new t(r-e+E*r,l-e+S*l,e,i-n+E*i,c-n+S*c,n,E,S,1)},t.quadrilateralToSquare=function(e,n,r,i,a,o,l,c){return t.squareToQuadrilateral(e,n,r,i,a,o,l,c).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t})(),ZG=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),JG=(function(t){ZG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(n,r,i,a,o,l,c,f,d,p,v,m,_,w,E,S,I,R,M){var k=K5.quadrilateralToQuadrilateral(a,o,l,c,f,d,p,v,m,_,w,E,S,I,R,M);return this.sampleGridWithTransform(n,r,i,k)},e.prototype.sampleGridWithTransform=function(n,r,i,a){if(r<=0||i<=0)throw new ae;for(var o=new io(r,i),l=new Float32Array(2*r),c=0;c<i;c++){for(var f=l.length,d=c+.5,p=0;p<f;p+=2)l[p]=p/2+.5,l[p+1]=d;a.transformPoints(l),PI.checkAndNudgePoints(n,l);try{for(var p=0;p<f;p+=2)n.get(Math.floor(l[p]),Math.floor(l[p+1]))&&o.set(p/2,c)}catch{throw new ae}}return o},e})(PI),tE=(function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new JG,t})(),Jr=(function(){function t(e,n){this.x=e,this.y=n}return t.prototype.toResultPoint=function(){return new Te(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t})(),eK=(function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(e){var i=r[0];r[0]=r[2],r[2]=i}this.extractParameters(r);var a=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new QG(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ae;var n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(r,n);for(var i=0,a=0;a<4;a++){var o=r[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var l=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)},t.prototype.getRotation=function(e,n){var r=0;e.forEach(function(a,o,l){var c=(a>>n-2<<1)+(a&1);r=(r<<3)+c}),r=((r&1)<<11)+(r>>1);for(var i=0;i<4;i++)if(Ye.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new ae},t.prototype.getCorrectedParameterData=function(e,n){var r,i;n?(r=7,i=2):(r=10,i=4);for(var a=r-i,o=new Int32Array(r),l=r-1;l>=0;--l)o[l]=e&15,e>>=4;try{var c=new Cv(ri.AZTEC_PARAM);c.decode(o,a)}catch{throw new ae}for(var f=0,l=0;l<i;l++)f=(f<<4)+o[l];return f},t.prototype.getBullsEyeCorners=function(e){var n=e,r=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var l=this.getFirstDifferent(n,o,1,-1),c=this.getFirstDifferent(r,o,1,1),f=this.getFirstDifferent(i,o,-1,1),d=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var p=this.distancePoint(d,l)*this.nbCenterLayers/(this.distancePoint(a,n)*(this.nbCenterLayers+2));if(p<.75||p>1.25||!this.isWhiteOrBlackRectangle(l,c,f,d))break}n=l,r=c,i=f,a=d,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ae;this.compact=this.nbCenterLayers===5;var v=new Te(n.getX()+.5,n.getY()-.5),m=new Te(r.getX()+.5,r.getY()+.5),_=new Te(i.getX()-.5,i.getY()+.5),w=new Te(a.getX()-.5,a.getY()-.5);return this.expandSquare([v,m,_,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,n,r,i;try{var a=new K_(this.image).detect();e=a[0],n=a[1],r=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,l=this.image.getHeight()/2;e=this.getFirstDifferent(new Jr(o+7,l-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Jr(o+7,l+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Jr(o-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Jr(o-7,l-7),!1,-1,-1).toResultPoint()}var c=dt.round((e.getX()+i.getX()+n.getX()+r.getX())/4),f=dt.round((e.getY()+i.getY()+n.getY()+r.getY())/4);try{var a=new K_(this.image,15,c,f).detect();e=a[0],n=a[1],r=a[2],i=a[3]}catch{e=this.getFirstDifferent(new Jr(c+7,f-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Jr(c+7,f+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Jr(c-7,f+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Jr(c-7,f-7),!1,-1,-1).toResultPoint()}return c=dt.round((e.getX()+i.getX()+n.getX()+r.getX())/4),f=dt.round((e.getY()+i.getY()+n.getY()+r.getY())/4),new Jr(c,f)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,n,r,i,a){var o=tE.getInstance(),l=this.getDimension(),c=l/2-this.nbCenterLayers,f=l/2+this.nbCenterLayers;return o.sampleGrid(e,l,l,c,c,f,c,f,f,c,f,n.getX(),n.getY(),r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,n,r){for(var i=0,a=this.distanceResultPoint(e,n),o=a/r,l=e.getX(),c=e.getY(),f=o*(n.getX()-e.getX())/a,d=o*(n.getY()-e.getY())/a,p=0;p<r;p++)this.image.get(dt.round(l+p*f),dt.round(c+p*d))&&(i|=1<<r-p-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,n,r,i){var a=3;e=new Jr(e.getX()-a,e.getY()+a),n=new Jr(n.getX()-a,n.getY()-a),r=new Jr(r.getX()+a,r.getY()-a),i=new Jr(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var l=this.getColor(e,n);return l!==o||(l=this.getColor(n,r),l!==o)?!1:(l=this.getColor(r,i),l===o)},t.prototype.getColor=function(e,n){for(var r=this.distancePoint(e,n),i=(n.getX()-e.getX())/r,a=(n.getY()-e.getY())/r,o=0,l=e.getX(),c=e.getY(),f=this.image.get(e.getX(),e.getY()),d=Math.ceil(r),p=0;p<d;p++)l+=i,c+=a,this.image.get(dt.round(l),dt.round(c))!==f&&o++;var v=o/r;return v>.1&&v<.9?0:v<=.1===f?1:-1},t.prototype.getFirstDifferent=function(e,n,r,i){for(var a=e.getX()+r,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===n;)a+=r,o+=i;for(a-=r,o-=i;this.isValid(a,o)&&this.image.get(a,o)===n;)a+=r;for(a-=r;this.isValid(a,o)&&this.image.get(a,o)===n;)o+=i;return o-=i,new Jr(a,o)},t.prototype.expandSquare=function(e,n,r){var i=r/(2*n),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),l=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,f=new Te(l+i*a,c+i*o),d=new Te(l-i*a,c-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),l=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var p=new Te(l+i*a,c+i*o),v=new Te(l-i*a,c-i*o),m=[f,p,d,v];return m},t.prototype.isValid=function(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()},t.prototype.isValidPoint=function(e){var n=dt.round(e.getX()),r=dt.round(e.getY());return this.isValid(n,r)},t.prototype.distancePoint=function(e,n){return dt.distance(e.getX(),e.getY(),n.getX(),n.getY())},t.prototype.distanceResultPoint=function(e,n){return dt.distance(e.getX(),e.getY(),n.getX(),n.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Ye.truncDivision(this.nbLayers-4,8)+1)+15},t})(),W_=(function(){function t(){}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r=null,i=new eK(e.getBlackMatrix()),a=null,o=null;try{var l=i.detectMirror(!1);a=l.getPoints(),this.reportFoundResultPoints(n,a),o=new RI().decode(l)}catch(p){r=p}if(o==null)try{var l=i.detectMirror(!0);a=l.getPoints(),this.reportFoundResultPoints(n,a),o=new RI().decode(l)}catch(p){throw r??p}var c=new jr(o.getText(),o.getRawBytes(),o.getNumBits(),a,Ne.AZTEC,Vt.currentTimeMillis()),f=o.getByteSegments();f!=null&&c.putMetadata(Er.BYTE_SEGMENTS,f);var d=o.getECLevel();return d!=null&&c.putMetadata(Er.ERROR_CORRECTION_LEVEL,d),c},t.prototype.reportFoundResultPoints=function(e,n){if(e!=null){var r=e.get(Qt.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach(function(i,a,o){r.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t})(),tK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){tK(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new W_,n)||this}return e})(Sf);var Gn=(function(){function t(){}return t.prototype.decode=function(e,n){try{return this.doDecode(e,n)}catch{var r=n&&n.get(Qt.TRY_HARDER)===!0;if(r&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,n),o=a.getResultMetadata(),l=270;o!==null&&o.get(Er.ORIENTATION)===!0&&(l=l+o.get(Er.ORIENTATION)%360),a.putMetadata(Er.ORIENTATION,l);var c=a.getResultPoints();if(c!==null)for(var f=i.getHeight(),d=0;d<c.length;d++)c[d]=new Te(f-c[d].getY()-1,c[d].getX());return a}else throw new ae}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,n){var r=e.getWidth(),i=e.getHeight(),a=new or(r),o=n&&n.get(Qt.TRY_HARDER)===!0,l=Math.max(1,i>>(o?8:5)),c;o?c=i:c=15;for(var f=Math.trunc(i/2),d=0;d<c;d++){var p=Math.trunc((d+1)/2),v=(d&1)===0,m=f+l*(v?p:-p);if(m<0||m>=i)break;try{a=e.getBlackRow(m,a)}catch{continue}for(var _=function(I){if(I===1&&(a.reverse(),n&&n.get(Qt.NEED_RESULT_POINT_CALLBACK)===!0)){var R=new Map;n.forEach(function(B,D){return R.set(D,B)}),R.delete(Qt.NEED_RESULT_POINT_CALLBACK),n=R}try{var M=w.decodeRow(m,a,n);if(I===1){M.putMetadata(Er.ORIENTATION,180);var k=M.getResultPoints();k!==null&&(k[0]=new Te(r-k[0].getX()-1,k[0].getY()),k[1]=new Te(r-k[1].getX()-1,k[1].getY()))}return{value:M}}catch{}},w=this,E=0;E<2;E++){var S=_(E);if(typeof S=="object")return S.value}}throw new ae},t.recordPattern=function(e,n,r){for(var i=r.length,a=0;a<i;a++)r[a]=0;var o=e.getSize();if(n>=o)throw new ae;for(var l=!e.get(n),c=0,f=n;f<o;){if(e.get(f)!==l)r[c]++;else{if(++c===i)break;r[c]=1,l=!l}f++}if(!(c===i||c===i-1&&f===o))throw new ae},t.recordPatternInReverse=function(e,n,r){for(var i=r.length,a=e.get(n);n>0&&i>=0;)e.get(--n)!==a&&(i--,a=!a);if(i>=0)throw new ae;t.recordPattern(e,n+1,r)},t.patternMatchVariance=function(e,n,r){for(var i=e.length,a=0,o=0,l=0;l<i;l++)a+=e[l],o+=n[l];if(a<o)return Number.POSITIVE_INFINITY;var c=a/o;r*=c;for(var f=0,d=0;d<i;d++){var p=e[d],v=n[d]*c,m=p>v?p-v:v-p;if(m>r)return Number.POSITIVE_INFINITY;f+=m}return f/a},t})(),nK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),DI=(function(t){nK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(n){for(var r=n.getSize(),i=n.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),l=i,c=!1,f=6,d=i;d<r;d++)if(n.get(d)!==c)o[a]++;else{if(a===f-1){for(var p=e.MAX_AVG_VARIANCE,v=-1,m=e.CODE_START_A;m<=e.CODE_START_C;m++){var _=Gn.patternMatchVariance(o,e.CODE_PATTERNS[m],e.MAX_INDIVIDUAL_VARIANCE);_<p&&(p=_,v=m)}if(v>=0&&n.isRange(Math.max(0,l-(d-l)/2),l,!1))return Int32Array.from([l,d,v]);l+=o[0]+o[1],o=o.slice(2,o.length),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,c=!c}throw new ae},e.decodeCode=function(n,r,i){Gn.recordPattern(n,i,r);for(var a=e.MAX_AVG_VARIANCE,o=-1,l=0;l<e.CODE_PATTERNS.length;l++){var c=e.CODE_PATTERNS[l],f=this.patternMatchVariance(r,c,e.MAX_INDIVIDUAL_VARIANCE);f<a&&(a=f,o=l)}if(o>=0)return o;throw new ae},e.prototype.decodeRow=function(n,r,i){var a=i&&i.get(Qt.ASSUME_GS1)===!0,o=e.findStartPattern(r),l=o[2],c=0,f=new Uint8Array(20);f[c++]=l;var d;switch(l){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new ve}for(var p=!1,v=!1,m="",_=o[0],w=o[1],E=Int32Array.from([0,0,0,0,0,0]),S=0,I=0,R=l,M=0,k=!0,B=!1,D=!1;!p;){var N=v;switch(v=!1,S=I,I=e.decodeCode(r,E,w),f[c++]=I,I!==e.CODE_STOP&&(k=!0),I!==e.CODE_STOP&&(M++,R+=M*I),_=w,w+=E.reduce(function(se,me){return se+me},0),I){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new ve}switch(d){case e.CODE_CODE_A:if(I<64)D===B?m+=String.fromCharCode(32+I):m+=String.fromCharCode(32+I+128),D=!1;else if(I<96)D===B?m+=String.fromCharCode(I-64):m+=String.fromCharCode(I+64),D=!1;else switch(I!==e.CODE_STOP&&(k=!1),I){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!B&&D?(B=!0,D=!1):B&&D?(B=!1,D=!1):D=!0;break;case e.CODE_SHIFT:v=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_B:if(I<96)D===B?m+=String.fromCharCode(32+I):m+=String.fromCharCode(32+I+128),D=!1;else switch(I!==e.CODE_STOP&&(k=!1),I){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!B&&D?(B=!0,D=!1):B&&D?(B=!1,D=!1):D=!0;break;case e.CODE_SHIFT:v=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_C:if(I<100)I<10&&(m+="0"),m+=I;else switch(I!==e.CODE_STOP&&(k=!1),I){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:p=!0;break}break}N&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var L=w-_;if(w=r.getNextUnset(w),!r.isRange(w,Math.min(r.getSize(),w+(w-_)/2),!1))throw new ae;if(R-=M*S,R%103!==S)throw new ar;var z=m.length;if(z===0)throw new ae;z>0&&k&&(d===e.CODE_CODE_C?m=m.substring(0,z-2):m=m.substring(0,z-1));for(var U=(o[1]+o[0])/2,H=_+L/2,F=f.length,de=new Uint8Array(F),be=0;be<F;be++)de[be]=f[be];var Y=[new Te(U,n),new Te(H,n)];return new jr(m,de,0,Y,Ne.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(Gn),rK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),C2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},NI=(function(t){rK(e,t);function e(n,r){n===void 0&&(n=!1),r===void 0&&(r=!1);var i=t.call(this)||this;return i.usingCheckDigit=n,i.extendedMode=r,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(n,r,i){var a,o,l,c,f=this.counters;f.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(r,f),p=r.getNextSet(d[1]),v=r.getSize(),m,_;do{e.recordPattern(r,p,f);var w=e.toNarrowWidePattern(f);if(w<0)throw new ae;m=e.patternToChar(w),this.decodeRowResult+=m,_=p;try{for(var E=(a=void 0,C2(f)),S=E.next();!S.done;S=E.next()){var I=S.value;p+=I}}catch(F){a={error:F}}finally{try{S&&!S.done&&(o=E.return)&&o.call(E)}finally{if(a)throw a.error}}p=r.getNextSet(p)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var R=0;try{for(var M=C2(f),k=M.next();!k.done;k=M.next()){var I=k.value;R+=I}}catch(F){l={error:F}}finally{try{k&&!k.done&&(c=M.return)&&c.call(M)}finally{if(l)throw l.error}}var B=p-_-R;if(p!==v&&B*2<R)throw new ae;if(this.usingCheckDigit){for(var D=this.decodeRowResult.length-1,N=0,L=0;L<D;L++)N+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(L));if(this.decodeRowResult.charAt(D)!==e.ALPHABET_STRING.charAt(N%43))throw new ar;this.decodeRowResult=this.decodeRowResult.substring(0,D)}if(this.decodeRowResult.length===0)throw new ae;var z;this.extendedMode?z=e.decodeExtended(this.decodeRowResult):z=this.decodeRowResult;var U=(d[1]+d[0])/2,H=_+R/2;return new jr(z,null,0,[new Te(U,n),new Te(H,n)],Ne.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(n,r){for(var i=n.getSize(),a=n.getNextSet(0),o=0,l=a,c=!1,f=r.length,d=a;d<i;d++)if(n.get(d)!==c)r[o]++;else{if(o===f-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&n.isRange(Math.max(0,l-Math.floor((d-l)/2)),l,!1))return[l,d];l+=r[0]+r[1],r.copyWithin(0,2,2+o-1),r[o-1]=0,r[o]=0,o--}else o++;r[o]=1,c=!c}throw new ae},e.toNarrowWidePattern=function(n){var r,i,a=n.length,o=0,l;do{var c=2147483647;try{for(var f=(r=void 0,C2(n)),d=f.next();!d.done;d=f.next()){var p=d.value;p<c&&p>o&&(c=p)}}catch(w){r={error:w}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}o=c,l=0;for(var v=0,m=0,_=0;_<a;_++){var p=n[_];p>o&&(m|=1<<a-1-_,l++,v+=p)}if(l===3){for(var _=0;_<a&&l>0;_++){var p=n[_];if(p>o&&(l--,p*2>=v))return-1}return m}}while(l>3);return-1},e.patternToChar=function(n){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===n)return e.ALPHABET_STRING.charAt(r);if(n===e.ASTERISK_ENCODING)return"*";throw new ae},e.decodeExtended=function(n){for(var r=n.length,i="",a=0;a<r;a++){var o=n.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var l=n.charAt(a+1),c="\0";switch(o){case"+":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new ve;break;case"$":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new ve;break;case"%":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l==="X"||l==="Y"||l==="Z")c="";else throw new ve;break;case"/":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new ve;break}i+=c,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(Gn),iK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),I2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},MI=(function(t){iK(e,t);function e(){var n=t.call(this)||this;return n.decodeRowResult="",n.counters=new Int32Array(6),n}return e.prototype.decodeRow=function(n,r,i){var a,o,l,c,f=this.findAsteriskPattern(r),d=r.getNextSet(f[1]),p=r.getSize(),v=this.counters;v.fill(0),this.decodeRowResult="";var m,_;do{e.recordPattern(r,d,v);var w=this.toPattern(v);if(w<0)throw new ae;m=this.patternToChar(w),this.decodeRowResult+=m,_=d;try{for(var E=(a=void 0,I2(v)),S=E.next();!S.done;S=E.next()){var I=S.value;d+=I}}catch(L){a={error:L}}finally{try{S&&!S.done&&(o=E.return)&&o.call(E)}finally{if(a)throw a.error}}d=r.getNextSet(d)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var R=0;try{for(var M=I2(v),k=M.next();!k.done;k=M.next()){var I=k.value;R+=I}}catch(L){l={error:L}}finally{try{k&&!k.done&&(c=M.return)&&c.call(M)}finally{if(l)throw l.error}}if(d===p||!r.get(d))throw new ae;if(this.decodeRowResult.length<2)throw new ae;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var B=this.decodeExtended(this.decodeRowResult),D=(f[1]+f[0])/2,N=_+R/2;return new jr(B,null,0,[new Te(D,n),new Te(N,n)],Ne.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(n){var r=n.getSize(),i=n.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,l=!1,c=a.length,f=0,d=i;d<r;d++)if(n.get(d)!==l)a[f]++;else{if(f===c-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,d]);o+=a[0]+a[1],a.copyWithin(0,2,2+f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,l=!l}throw new ae},e.prototype.toPattern=function(n){var r,i,a=0;try{for(var o=I2(n),l=o.next();!l.done;l=o.next()){var c=l.value;a+=c}}catch(_){r={error:_}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}for(var f=0,d=n.length,p=0;p<d;p++){var v=Math.round(n[p]*9/a);if(v<1||v>4)return-1;if((p&1)===0)for(var m=0;m<v;m++)f=f<<1|1;else f<<=v}return f},e.prototype.patternToChar=function(n){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===n)return e.ALPHABET_STRING.charAt(r);throw new ae},e.prototype.decodeExtended=function(n){for(var r=n.length,i="",a=0;a<r;a++){var o=n.charAt(a);if(o>="a"&&o<="d"){if(a>=r-1)throw new ve;var l=n.charAt(a+1),c="\0";switch(o){case"d":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new ve;break;case"a":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new ve;break;case"b":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l>="X"&&l<="Z")c="";else throw new ve;break;case"c":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new ve;break}i+=c,a++}else i+=o}return i},e.prototype.checkChecksums=function(n){var r=n.length;this.checkOneChecksum(n,r-2,20),this.checkOneChecksum(n,r-1,15)},e.prototype.checkOneChecksum=function(n,r,i){for(var a=1,o=0,l=r-1;l>=0;l--)o+=a*e.ALPHABET_STRING.indexOf(n.charAt(l)),++a>i&&(a=1);if(n.charAt(r)!==e.ALPHABET_STRING[o%47])throw new ar},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(Gn),aK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),oK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kI=(function(t){aK(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.narrowLineWidth=-1,n}return e.prototype.decodeRow=function(n,r,i){var a,o,l=this.decodeStart(r),c=this.decodeEnd(r),f=new Xe;e.decodeMiddle(r,l[1],c[0],f);var d=f.toString(),p=null;i!=null&&(p=i.get(Qt.ALLOWED_LENGTHS)),p==null&&(p=e.DEFAULT_ALLOWED_LENGTHS);var v=d.length,m=!1,_=0;try{for(var w=oK(p),E=w.next();!E.done;E=w.next()){var S=E.value;if(v===S){m=!0;break}S>_&&(_=S)}}catch(M){a={error:M}}finally{try{E&&!E.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}if(!m&&v>_&&(m=!0),!m)throw new ve;var I=[new Te(l[1],n),new Te(c[0],n)],R=new jr(d,null,0,I,Ne.ITF,new Date().getTime());return R},e.decodeMiddle=function(n,r,i,a){var o=new Int32Array(10),l=new Int32Array(5),c=new Int32Array(5);for(o.fill(0),l.fill(0),c.fill(0);r<i;){Gn.recordPattern(n,r,o);for(var f=0;f<5;f++){var d=2*f;l[f]=o[d],c[f]=o[d+1]}var p=e.decodeDigit(l);a.append(p.toString()),p=this.decodeDigit(c),a.append(p.toString()),o.forEach(function(v){r+=v})}},e.prototype.decodeStart=function(n){var r=e.skipWhiteSpace(n),i=e.findGuardPattern(n,r,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(n,i[0]),i},e.prototype.validateQuietZone=function(n,r){var i=this.narrowLineWidth*10;i=i<r?i:r;for(var a=r-1;i>0&&a>=0&&!n.get(a);a--)i--;if(i!==0)throw new ae},e.skipWhiteSpace=function(n){var r=n.getSize(),i=n.getNextSet(0);if(i===r)throw new ae;return i},e.prototype.decodeEnd=function(n){n.reverse();try{var r=e.skipWhiteSpace(n),i=void 0;try{i=e.findGuardPattern(n,r,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof ae&&(i=e.findGuardPattern(n,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,i[0]);var a=i[0];return i[0]=n.getSize()-i[1],i[1]=n.getSize()-a,i}finally{n.reverse()}},e.findGuardPattern=function(n,r,i){var a=i.length,o=new Int32Array(a),l=n.getSize(),c=!1,f=0,d=r;o.fill(0);for(var p=r;p<l;p++)if(n.get(p)!==c)o[f]++;else{if(f===a-1){if(Gn.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,p];d+=o[0]+o[1],Vt.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,c=!c}throw new ae},e.decodeDigit=function(n){for(var r=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var l=e.PATTERNS[o],c=Gn.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);c<r?(r=c,i=o):c===r&&(i=-1)}if(i>=0)return i%10;throw new ae},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(Gn),sK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),af=(function(t){sK(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.decodeRowStringBuffer="",n}return e.findStartGuardPattern=function(n){for(var r=!1,i,a=0,o=Int32Array.from([0,0,0]);!r;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(n,a,!1,this.START_END_PATTERN,o);var l=i[0];a=i[1];var c=l-(a-l);c>=0&&(r=n.isRange(c,l,!1))}return i},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var r=n.length;if(r===0)return!1;var i=parseInt(n.charAt(r-1),10);return e.getStandardUPCEANChecksum(n.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(n){for(var r=n.length,i=0,a=r-1;a>=0;a-=2){var o=n.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ve;i+=o}i*=3;for(var a=r-2;a>=0;a-=2){var o=n.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ve;i+=o}return(1e3-i)%10},e.decodeEnd=function(n,r){return e.findGuardPattern(n,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(n,r,i,a){return this.findGuardPattern(n,r,i,a,new Int32Array(a.length))},e.findGuardPattern=function(n,r,i,a,o){var l=n.getSize();r=i?n.getNextUnset(r):n.getNextSet(r);for(var c=0,f=r,d=a.length,p=i,v=r;v<l;v++)if(n.get(v)!==p)o[c]++;else{if(c===d-1){if(Gn.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([f,v]);f+=o[0]+o[1];for(var m=o.slice(2,o.length),_=0;_<c-1;_++)o[_]=m[_];o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,p=!p}throw new ae},e.decodeDigit=function(n,r,i,a){this.recordPattern(n,i,r);for(var o=this.MAX_AVG_VARIANCE,l=-1,c=a.length,f=0;f<c;f++){var d=a[f],p=Gn.patternMatchVariance(r,d,e.MAX_INDIVIDUAL_VARIANCE);p<o&&(o=p,l=f)}if(l>=0)return l;throw new ae},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(Gn),lK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uK=(function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(n,r,i),o=i.toString(),l=t.parseExtensionString(o),c=[new Te((r[0]+r[1])/2,e),new Te(a,e)],f=new jr(o,null,0,c,Ne.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&f.putAllMetadata(l),f},t.prototype.decodeMiddle=function(e,n,r){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=e.getSize(),c=n[1],f=0,d=0;d<5&&c<l;d++){var p=af.decodeDigit(e,o,c,af.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);try{for(var v=(i=void 0,lK(o)),m=v.next();!m.done;m=v.next()){var _=m.value;c+=_}}catch(E){i={error:E}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}p>=10&&(f|=1<<4-d),d!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(r.length!==5)throw new ae;var w=this.determineCheckDigit(f);if(t.extensionChecksum(r.toString())!==w)throw new ae;return c},t.extensionChecksum=function(e){for(var n=e.length,r=0,i=n-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;r*=3;for(var i=n-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;return r*=3,r%10},t.prototype.determineCheckDigit=function(e){for(var n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new ae},t.parseExtensionString=function(e){if(e.length!==5)return null;var n=t.parseExtension5String(e);return n==null?null:new Map([[Er.SUGGESTED_PRICE,n]])},t.parseExtension5String=function(e){var n;switch(e.charAt(0)){case"0":n="£";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}var r=parseInt(e.substring(1)),i=(r/100).toString(),a=r%100,o=a<10?"0"+a:a.toString();return n+i+"."+o},t})(),cK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fK=(function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(n,r,i),o=i.toString(),l=t.parseExtensionString(o),c=[new Te((r[0]+r[1])/2,e),new Te(a,e)],f=new jr(o,null,0,c,Ne.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&f.putAllMetadata(l),f},t.prototype.decodeMiddle=function(e,n,r){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=e.getSize(),c=n[1],f=0,d=0;d<2&&c<l;d++){var p=af.decodeDigit(e,o,c,af.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);try{for(var v=(i=void 0,cK(o)),m=v.next();!m.done;m=v.next()){var _=m.value;c+=_}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}p>=10&&(f|=1<<1-d),d!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(r.length!==2)throw new ae;if(parseInt(r.toString())%4!==f)throw new ae;return c},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Er.ISSUE_NUMBER,parseInt(e)]])},t})(),hK=(function(){function t(){}return t.decodeRow=function(e,n,r){var i=af.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new uK;return a.decodeRow(e,n,i)}catch{var o=new fK;return o.decodeRow(e,n,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t})(),dK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),zn=(function(t){dK(e,t);function e(){var n=t.call(this)||this;n.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(l){return Int32Array.from(l)});for(var r=10;r<20;r++){for(var i=e.L_PATTERNS[r-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[r]=a}return n}return e.prototype.decodeRow=function(n,r,i){var a=e.findStartGuardPattern(r),o=i==null?null:i.get(Qt.NEED_RESULT_POINT_CALLBACK);if(o!=null){var l=new Te((a[0]+a[1])/2,n);o.foundPossibleResultPoint(l)}var c=this.decodeMiddle(r,a,this.decodeRowStringBuffer),f=c.rowOffset,d=c.resultString;if(o!=null){var p=new Te(f,n);o.foundPossibleResultPoint(p)}var v=e.decodeEnd(r,f);if(o!=null){var m=new Te((v[0]+v[1])/2,n);o.foundPossibleResultPoint(m)}var _=v[1],w=_+(_-v[0]);if(w>=r.getSize()||!r.isRange(_,w,!1))throw new ae;var E=d.toString();if(E.length<8)throw new ve;if(!e.checkChecksum(E))throw new ar;var S=(a[1]+a[0])/2,I=(v[1]+v[0])/2,R=this.getBarcodeFormat(),M=[new Te(S,n),new Te(I,n)],k=new jr(E,null,0,M,R,new Date().getTime()),B=0;try{var D=hK.decodeRow(n,r,v[1]);k.putMetadata(Er.UPC_EAN_EXTENSION,D.getText()),k.putAllMetadata(D.getResultMetadata()),k.addResultPoints(D.getResultPoints()),B=D.getText().length}catch{}var N=i==null?null:i.get(Qt.ALLOWED_EAN_EXTENSIONS);if(N!=null){var L=!1;for(var z in N)if(B.toString()===z){L=!0;break}if(!L)throw new ae}return R===Ne.EAN_13||Ne.UPC_A,k},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var r=n.length;if(r===0)return!1;var i=parseInt(n.charAt(r-1),10);return e.getStandardUPCEANChecksum(n.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(n){for(var r=n.length,i=0,a=r-1;a>=0;a-=2){var o=n.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ve;i+=o}i*=3;for(var a=r-2;a>=0;a-=2){var o=n.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ve;i+=o}return(1e3-i)%10},e.decodeEnd=function(n,r){return e.findGuardPattern(n,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(af),pK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),LI=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},X_=(function(t){pK(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,r,i){var a,o,l,c,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var d=n.getSize(),p=r[1],v=0,m=0;m<6&&p<d;m++){var _=zn.decodeDigit(n,f,p,zn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+_%10);try{for(var w=(a=void 0,LI(f)),E=w.next();!E.done;E=w.next()){var S=E.value;p+=S}}catch(k){a={error:k}}finally{try{E&&!E.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}_>=10&&(v|=1<<5-m)}i=e.determineFirstDigit(i,v);var I=zn.findGuardPattern(n,p,!0,zn.MIDDLE_PATTERN,new Int32Array(zn.MIDDLE_PATTERN.length).fill(0));p=I[1];for(var m=0;m<6&&p<d;m++){var _=zn.decodeDigit(n,f,p,zn.L_PATTERNS);i+=String.fromCharCode(48+_);try{for(var R=(l=void 0,LI(f)),M=R.next();!M.done;M=R.next()){var S=M.value;p+=S}}catch(D){l={error:D}}finally{try{M&&!M.done&&(c=R.return)&&c.call(R)}finally{if(l)throw l.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ne.EAN_13},e.determineFirstDigit=function(n,r){for(var i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return n=String.fromCharCode(48+i)+n,n;throw new ae},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(zn),gK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),jI=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BI=(function(t){gK(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,r,i){var a,o,l,c,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var d=n.getSize(),p=r[1],v=0;v<4&&p<d;v++){var m=zn.decodeDigit(n,f,p,zn.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var _=(a=void 0,jI(f)),w=_.next();!w.done;w=_.next()){var E=w.value;p+=E}}catch(M){a={error:M}}finally{try{w&&!w.done&&(o=_.return)&&o.call(_)}finally{if(a)throw a.error}}}var S=zn.findGuardPattern(n,p,!0,zn.MIDDLE_PATTERN,new Int32Array(zn.MIDDLE_PATTERN.length).fill(0));p=S[1];for(var v=0;v<4&&p<d;v++){var m=zn.decodeDigit(n,f,p,zn.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var I=(l=void 0,jI(f)),R=I.next();!R.done;R=I.next()){var E=R.value;p+=E}}catch(B){l={error:B}}finally{try{R&&!R.done&&(c=I.return)&&c.call(I)}finally{if(l)throw l.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ne.EAN_8},e})(zn),vK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),VI=(function(t){vK(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.ean13Reader=new X_,n}return e.prototype.getBarcodeFormat=function(){return Ne.UPC_A},e.prototype.decode=function(n,r){return this.maybeReturnResult(this.ean13Reader.decode(n))},e.prototype.decodeRow=function(n,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,r,i))},e.prototype.decodeMiddle=function(n,r,i){return this.ean13Reader.decodeMiddle(n,r,i)},e.prototype.maybeReturnResult=function(n){var r=n.getText();if(r.charAt(0)==="0"){var i=new jr(r.substring(1),null,null,n.getResultPoints(),Ne.UPC_A);return n.getResultMetadata()!=null&&i.putAllMetadata(n.getResultMetadata()),i}else throw new ae},e.prototype.reset=function(){this.ean13Reader.reset()},e})(zn),mK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),yK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FI=(function(t){mK(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=new Int32Array(4),n}return e.prototype.decodeMiddle=function(n,r,i){var a,o,l=this.decodeMiddleCounters.map(function(E){return E});l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=n.getSize(),f=r[1],d=0,p=0;p<6&&f<c;p++){var v=e.decodeDigit(n,l,f,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+v%10);try{for(var m=(a=void 0,yK(l)),_=m.next();!_.done;_=m.next()){var w=_.value;f+=w}}catch(E){a={error:E}}finally{try{_&&!_.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}v>=10&&(d|=1<<5-p)}return e.determineNumSysAndCheckDigit(new Xe(i),d),f},e.prototype.decodeEnd=function(n,r){return e.findGuardPatternWithoutCounters(n,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(n){return zn.checkChecksum(e.convertUPCEtoUPCA(n))},e.determineNumSysAndCheckDigit=function(n,r){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){n.insert(0,"0"+i),n.append("0"+a);return}throw ae.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Ne.UPC_E},e.convertUPCEtoUPCA=function(n){var r=n.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new Xe;i.append(n.charAt(0));var a=r[5];switch(a){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(a),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(a);break}return n.length>=8&&i.append(n.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(zn),xK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),UI=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},O2=(function(t){xK(e,t);function e(n){var r=t.call(this)||this,i=n==null?null:n.get(Qt.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(Ne.EAN_13)>-1&&a.push(new X_),i.indexOf(Ne.UPC_A)>-1&&a.push(new VI),i.indexOf(Ne.EAN_8)>-1&&a.push(new BI),i.indexOf(Ne.UPC_E)>-1&&a.push(new FI)),a.length===0&&(a.push(new X_),a.push(new VI),a.push(new BI),a.push(new FI)),r.readers=a,r}return e.prototype.decodeRow=function(n,r,i){var a,o;try{for(var l=UI(this.readers),c=l.next();!c.done;c=l.next()){var f=c.value;try{var d=f.decodeRow(n,r,i),p=d.getBarcodeFormat()===Ne.EAN_13&&d.getText().charAt(0)==="0",v=i==null?null:i.get(Qt.POSSIBLE_FORMATS),m=v==null||v.includes(Ne.UPC_A);if(p&&m){var _=d.getRawBytes(),w=new jr(d.getText().substring(1),_,_?_.length:null,d.getResultPoints(),Ne.UPC_A);return w.putAllMetadata(d.getResultMetadata()),w}return d}catch{}}}catch(E){a={error:E}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}throw new ae},e.prototype.reset=function(){var n,r;try{for(var i=UI(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e})(Gn),_K=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),bK=(function(t){_K(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},n}return e.prototype.decodeRow=function(n,r,i){var a=this.getValidRowData(r);if(!a)throw new ae;var o=this.codaBarDecodeRow(a.row);if(!o)throw new ae;return new jr(o,null,0,[new Te(a.left,n),new Te(a.right,n)],Ne.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(n){var r=n.toArray(),i=r.indexOf(!0);if(i===-1)return null;var a=r.lastIndexOf(!0);if(a<=i)return null;r=r.slice(i,a+1);for(var o=[],l=r[0],c=1,f=1;f<r.length;f++)r[f]===l?c++:(l=r[f],o.push(c),c=1);return o.push(c),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(n){for(var r=[],i=Math.ceil(n.reduce(function(c,f){return(c+f)/2},0));n.length>0;){var a=n.splice(0,8).splice(0,7),o=a.map(function(c){return c<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[o])}var l=r.join("");return this.validCodaBarString(l)?l:null},e.prototype.validCodaBarString=function(n){var r=/^[A-D].{1,}[A-D]$/;return r.test(n)},e})(Gn),wK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),EK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uu=(function(t){wK(e,t);function e(){var n=t.call(this)||this;return n.decodeFinderCounters=new Int32Array(4),n.dataCharacterCounters=new Int32Array(8),n.oddRoundingErrors=new Array(4),n.evenRoundingErrors=new Array(4),n.oddCounts=new Array(n.dataCharacterCounters.length/2),n.evenCounts=new Array(n.dataCharacterCounters.length/2),n}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(n,r){for(var i=0;i<r.length;i++)if(Gn.patternMatchVariance(n,r[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new ae},e.count=function(n){return dt.sum(new Int32Array(n))},e.increment=function(n,r){for(var i=0,a=r[0],o=1;o<n.length;o++)r[o]>a&&(a=r[o],i=o);n[i]++},e.decrement=function(n,r){for(var i=0,a=r[0],o=1;o<n.length;o++)r[o]<a&&(a=r[o],i=o);n[i]--},e.isFinderPattern=function(n){var r,i,a=n[0]+n[1],o=a+n[2]+n[3],l=a/o;if(l>=e.MIN_FINDER_PATTERN_RATIO&&l<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;try{for(var d=EK(n),p=d.next();!p.done;p=d.next()){var v=p.value;v>f&&(f=v),v<c&&(c=v)}}catch(m){r={error:m}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return f<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(Gn),sg=(function(){function t(e,n){this.value=e,this.checksumPortion=n}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t})(),W5=(function(){function t(e,n,r,i,a){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new Te(r,a)),this.resultPoints.push(new Te(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.prototype.hashCode=function(){return this.value},t})(),AK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Uc=(function(){function t(){}return t.getRSSvalue=function(e,n,r){var i,a,o=0;try{for(var l=AK(e),c=l.next();!c.done;c=l.next()){var f=c.value;o+=f}}catch(I){i={error:I}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}for(var d=0,p=0,v=e.length,m=0;m<v-1;m++){var _=void 0;for(_=1,p|=1<<m;_<e[m];_++,p&=~(1<<m)){var w=t.combins(o-_-1,v-m-2);if(r&&p===0&&o-_-(v-m-1)>=v-m-1&&(w-=t.combins(o-_-(v-m),v-m-2)),v-m-1>1){for(var E=0,S=o-_-(v-m-2);S>n;S--)E+=t.combins(o-_-S-1,v-m-3);w-=E*(v-1-m)}else o-_>n&&w--;d+=w}o-=_}return d},t.combins=function(e,n){var r,i;e-n>n?(i=n,r=e-n):(i=e-n,r=n);for(var a=1,o=1,l=e;l>r;l--)a*=l,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},t})(),SK=(function(){function t(){}return t.buildBitArray=function(e){var n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);for(var r=12*n,i=new or(r),a=0,o=e[0],l=o.getRightChar().getValue(),c=11;c>=0;--c)(l&1<<c)!==0&&i.set(a),a++;for(var c=1;c<e.length;++c){for(var f=e[c],d=f.getLeftChar().getValue(),p=11;p>=0;--p)(d&1<<p)!==0&&i.set(a),a++;if(f.getRightChar()!==null)for(var v=f.getRightChar().getValue(),p=11;p>=0;--p)(v&1<<p)!==0&&i.set(a),a++}return i},t})(),au=(function(){function t(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t})(),nE=(function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t})(),TK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ga=(function(t){TK(e,t);function e(n,r){var i=t.call(this,n)||this;return i.value=r,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(nE),CK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ou=(function(t){CK(e,t);function e(n,r,i){var a=t.call(this,n)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=r,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(nE),IK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),kc=(function(t){IK(e,t);function e(n,r,i){var a=t.call(this,n)||this;if(r<0||r>10||i<0||i>10)throw new ve;return a.firstDigit=r,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(nE),r1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},OK=(function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var n,r,i,a,o,l,c,f;if(!e)return null;if(e.length<2)throw new ae;var d=e.substring(0,2);try{for(var p=r1(t.TWO_DIGIT_DATA_LENGTH),v=p.next();!v.done;v=p.next()){var m=v.value;if(m[0]===d)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,m[2],e):t.processFixedAI(2,m[1],e)}}catch(B){n={error:B}}finally{try{v&&!v.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}if(e.length<3)throw new ae;var _=e.substring(0,3);try{for(var w=r1(t.THREE_DIGIT_DATA_LENGTH),E=w.next();!E.done;E=w.next()){var m=E.value;if(m[0]===_)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,m[2],e):t.processFixedAI(3,m[1],e)}}catch(B){i={error:B}}finally{try{E&&!E.done&&(a=w.return)&&a.call(w)}finally{if(i)throw i.error}}try{for(var S=r1(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),I=S.next();!I.done;I=S.next()){var m=I.value;if(m[0]===_)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,m[2],e):t.processFixedAI(4,m[1],e)}}catch(B){o={error:B}}finally{try{I&&!I.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}if(e.length<4)throw new ae;var R=e.substring(0,4);try{for(var M=r1(t.FOUR_DIGIT_DATA_LENGTH),k=M.next();!k.done;k=M.next()){var m=k.value;if(m[0]===R)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,m[2],e):t.processFixedAI(4,m[1],e)}}catch(B){c={error:B}}finally{try{k&&!k.done&&(f=M.return)&&f.call(M)}finally{if(c)throw c.error}}throw new ae},t.processFixedAI=function(e,n,r){if(r.length<e)throw new ae;var i=r.substring(0,e);if(r.length<e+n)throw new ae;var a=r.substring(e,e+n),o=r.substring(e+n),l="("+i+")"+a,c=t.parseFieldsInGeneralPurpose(o);return c==null?l:l+c},t.processVariableAI=function(e,n,r){var i=r.substring(0,e),a;r.length<e+n?a=r.length:a=e+n;var o=r.substring(e,a),l=r.substring(a),c="("+i+")"+o,f=t.parseFieldsInGeneralPurpose(l);return f==null?c:c+f},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t})(),k1=(function(){function t(e){this.buffer=new Xe,this.information=e}return t.prototype.decodeAllCodes=function(e,n){var r=n,i=null;do{var a=this.decodeGeneralPurposeField(r,i),o=OK.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,r===a.getNewPosition())break;r=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var n=this.extractNumericValueFromBitArray(e,4);return n===0?new kc(this.information.getSize(),kc.FNC1,kc.FNC1):new kc(this.information.getSize(),n-1,kc.FNC1)}var r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,a=(r-8)%11;return new kc(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,n){return t.extractNumericValueFromBitArray(this.information,e,n)},t.extractNumericValueFromBitArray=function(e,n,r){for(var i=0,a=0;a<r;++a)e.get(n+a)&&(i|=1<<r-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new ou(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new ou(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,n;do{var r=this.current.getPosition();this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished());var i=r!==this.current.getPosition();if(!i&&!e)break}while(!e);return n.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var n=void 0;return e.isSecondDigitFNC1()?n=new ou(this.current.getPosition(),this.buffer.toString()):n=new ou(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new au(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var n=new ou(this.current.getPosition(),this.buffer.toString());return new au(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new au(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new ou(this.current.getPosition(),this.buffer.toString());return new au(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new au(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new ou(this.current.getPosition(),this.buffer.toString());return new au(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new au(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new ga(e+5,ga.FNC1);if(n>=5&&n<15)return new ga(e+5,"0"+(n-5));var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new ga(e+7,""+(r+1));if(r>=90&&r<116)return new ga(e+7,""+(r+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new ve}return new ga(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},t.prototype.decodeAlphanumeric=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new ga(e+5,ga.FNC1);if(n>=5&&n<15)return new ga(e+5,"0"+(n-5));var r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new ga(e+6,""+(r+33));var i;switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Jd("Decoding invalid alphanumeric value: "+r)}return new ga(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0},t})(),X5=(function(){function t(e){this.information=e,this.generalDecoder=new k1(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t})(),RK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ma=(function(t){RK(e,t);function e(n){return t.call(this,n)||this}return e.prototype.encodeCompressedGtin=function(n,r){n.append("(01)");var i=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,r,i)},e.prototype.encodeCompressedGtinWithoutAI=function(n,r,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*a,10);o/100===0&&n.append("0"),o/10===0&&n.append("0"),n.append(o)}e.appendCheckDigit(n,i)},e.appendCheckDigit=function(n,r){for(var i=0,a=0;a<13;a++){var o=n.charAt(a+r).charCodeAt(0)-48;i+=(a&1)===0?3*o:o}i=10-i%10,i===10&&(i=0),n.append(i)},e.GTIN_SIZE=40,e})(X5),PK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),DK=(function(t){PK(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new Xe;n.append("(01)");var r=n.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return n.append(i),this.encodeCompressedGtinWithoutAI(n,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(ma),NK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),MK=(function(t){NK(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new Xe;return this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(X5),kK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),L1=(function(t){kK(e,t);function e(n){return t.call(this,n)||this}return e.prototype.encodeCompressedWeight=function(n,r,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(n,a);for(var o=this.checkWeight(a),l=1e5,c=0;c<5;++c)o/l===0&&n.append("0"),l/=10;n.append(o)},e})(ma),LK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Y5=(function(t){LK(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+L1.GTIN_SIZE+e.WEIGHT_SIZE)throw new ae;var n=new Xe;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+L1.GTIN_SIZE,e.WEIGHT_SIZE),n.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(L1),jK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),BK=(function(t){jK(e,t);function e(n){return t.call(this,n)||this}return e.prototype.addWeightCode=function(n,r){n.append("(3103)")},e.prototype.checkWeight=function(n){return n},e})(Y5),VK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),FK=(function(t){VK(e,t);function e(n){return t.call(this,n)||this}return e.prototype.addWeightCode=function(n,r){r<1e4?n.append("(3202)"):n.append("(3203)")},e.prototype.checkWeight=function(n){return n<1e4?n:n-1e4},e})(Y5),UK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),zK=(function(t){UK(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ma.GTIN_SIZE)throw new ae;var n=new Xe;this.encodeCompressedGtin(n,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ma.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(392"),n.append(r),n.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ma.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return n.append(i.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(ma),HK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),$K=(function(t){HK(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ma.GTIN_SIZE)throw new ae;var n=new Xe;this.encodeCompressedGtin(n,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ma.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(393"),n.append(r),n.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ma.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&n.append("0"),i/10===0&&n.append("0"),n.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ma.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return n.append(a.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(ma),qK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Vs=(function(t){qK(e,t);function e(n,r,i){var a=t.call(this,n)||this;return a.dateCode=i,a.firstAIdigits=r,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new ae;var n=new Xe;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(n,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),n.toString()},e.prototype.encodeCompressedDate=function(n,r){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(i!==38400){n.append("("),n.append(this.dateCode),n.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var l=i;l/10===0&&n.append("0"),n.append(l),o/10===0&&n.append("0"),n.append(o),a/10===0&&n.append("0"),n.append(a)}},e.prototype.addWeightCode=function(n,r){n.append("("),n.append(this.firstAIdigits),n.append(r/1e5),n.append(")")},e.prototype.checkWeight=function(n){return n%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(L1);function GK(t){try{if(t.get(1))return new DK(t);if(!t.get(2))return new MK(t);var e=k1.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new BK(t);case 5:return new FK(t)}var n=k1.extractNumericValueFromBitArray(t,1,5);switch(n){case 12:return new zK(t);case 13:return new $K(t)}var r=k1.extractNumericValueFromBitArray(t,1,7);switch(r){case 56:return new Vs(t,"310","11");case 57:return new Vs(t,"320","11");case 58:return new Vs(t,"310","13");case 59:return new Vs(t,"320","13");case 60:return new Vs(t,"310","15");case 61:return new Vs(t,"320","15");case 62:return new Vs(t,"310","17");case 63:return new Vs(t,"320","17")}}catch(i){throw console.log(i),new Jd("unknown decoder: "+t)}}var zI=(function(){function t(e,n,r,i){this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,n){return e instanceof t?t.equalsOrNull(e.leftchar,n.leftchar)&&t.equalsOrNull(e.rightchar,n.rightchar)&&t.equalsOrNull(e.finderpattern,n.finderpattern):!1},t.equalsOrNull=function(e,n){return e===null?n===null:t.equals(e,n)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t})(),KK=(function(){function t(e,n,r){this.pairs=e,this.rowNumber=n,this.wasReversed=r}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,n){return e instanceof t?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1},t.prototype.checkEqualitity=function(e,n){if(!(!e||!n)){var r;return e.forEach(function(i,a){n.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(r=!0)})}),r}},t})(),WK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Fs=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XK=(function(t){WK(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.pairs=new Array(e.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return e.prototype.decodeRow=function(n,r,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(n,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(n,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(n,r){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,n))}catch(l){if(l instanceof ae){if(!this.pairs.length)throw new ae;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(n,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new ae},e.prototype.checkRowsBoolean=function(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(i){console.log(i)}return n&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(n,r){for(var i,a,o=r;o<this.rows.length;o++){var l=this.rows[o];this.pairs.length=0;try{for(var c=(i=void 0,Fs(n)),f=c.next();!f.done;f=c.next()){var d=f.value;this.pairs.push(d.getPairs())}}catch(v){i={error:v}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}if(this.pairs.push(l.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var p=new Array(n);p.push(l);try{return this.checkRows(p,o+1)}catch(v){console.log(v)}}}throw new ae},e.isValidSequence=function(n){var r,i;try{for(var a=Fs(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var l=o.value;if(!(n.length>l.length)){for(var c=!0,f=0;f<n.length;f++)if(n[f].getFinderPattern().getValue()!==l[f]){c=!1;break}if(c)return!0}}}catch(d){r={error:d}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(n,r){for(var i=0,a=!1,o=!1;i<this.rows.length;){var l=this.rows[i];if(l.getRowNumber()>n){o=l.isEquivalent(this.pairs);break}a=l.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new KK(this.pairs,n,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(n,r){var i,a,o,l,c,f;try{for(var d=Fs(r),p=d.next();!p.done;p=d.next()){var v=p.value;if(v.getPairs().length!==n.length){var m=!0;try{for(var _=(o=void 0,Fs(v.getPairs())),w=_.next();!w.done;w=_.next()){var E=w.value,S=!1;try{for(var I=(c=void 0,Fs(n)),R=I.next();!R.done;R=I.next()){var M=R.value;if(zI.equals(E,M)){S=!0;break}}}catch(k){c={error:k}}finally{try{R&&!R.done&&(f=I.return)&&f.call(I)}finally{if(c)throw c.error}}S||(m=!1)}}catch(k){o={error:k}}finally{try{w&&!w.done&&(l=_.return)&&l.call(_)}finally{if(o)throw o.error}}}}}catch(k){i={error:k}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}},e.isPartialRow=function(n,r){var i,a,o,l,c,f;try{for(var d=Fs(r),p=d.next();!p.done;p=d.next()){var v=p.value,m=!0;try{for(var _=(o=void 0,Fs(n)),w=_.next();!w.done;w=_.next()){var E=w.value,S=!1;try{for(var I=(c=void 0,Fs(v.getPairs())),R=I.next();!R.done;R=I.next()){var M=R.value;if(E.equals(M)){S=!0;break}}}catch(k){c={error:k}}finally{try{R&&!R.done&&(f=I.return)&&f.call(I)}finally{if(c)throw c.error}}if(!S){m=!1;break}}}catch(k){o={error:k}}finally{try{w&&!w.done&&(l=_.return)&&l.call(_)}finally{if(o)throw o.error}}if(m)return!0}}catch(k){i={error:k}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(n){var r=SK.buildBitArray(n),i=GK(r),a=i.parseInformation(),o=n[0].getFinderPattern().getResultPoints(),l=n[n.length-1].getFinderPattern().getResultPoints(),c=[o[0],o[1],l[0],l[1]];return new jr(a,null,null,c,Ne.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var n=this.pairs.get(0),r=n.getLeftChar(),i=n.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,l=1;l<this.pairs.size();++l){var c=this.pairs.get(l);a+=c.getLeftChar().getChecksumPortion(),o++;var f=c.getRightChar();f!=null&&(a+=f.getChecksumPortion(),o++)}a%=211;var d=211*(o-4)+a;return d===r.getValue()},e.getNextSecondBar=function(n,r){var i;return n.get(r)?(i=n.getNextUnset(r),i=n.getNextSet(i)):(i=n.getNextSet(r),i=n.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(n,r,i){var a=r.length%2===0;this.startFromEven&&(a=!a);var o,l=!0,c=-1;do this.findNextPair(n,r,c),o=this.parseFoundFinderPattern(n,i,a),o===null?c=e.getNextSecondBar(n,this.startEnd[0]):l=!1;while(l);var f=this.decodeDataCharacter(n,o,a,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new ae;var d;try{d=this.decodeDataCharacter(n,o,a,!1)}catch(p){d=null,console.log(p)}return new zI(f,d,o,!0)},e.prototype.isEmptyPair=function(n){return n.length===0},e.prototype.findNextPair=function(n,r,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=n.getSize(),l;if(i>=0)l=i;else if(this.isEmptyPair(r))l=0;else{var c=r[r.length-1];l=c.getFinderPattern().getStartEnd()[1]}var f=r.length%2!==0;this.startFromEven&&(f=!f);for(var d=!1;l<o&&(d=!n.get(l),!!d);)l++;for(var p=0,v=l,m=l;m<o;m++)if(n.get(m)!==d)a[p]++;else{if(p===3){if(f&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=v,this.startEnd[1]=m;return}f&&e.reverseCounters(a),v+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,d=!d}throw new ae},e.reverseCounters=function(n){for(var r=n.length,i=0;i<r/2;++i){var a=n[i];n[i]=n[r-i-1],n[r-i-1]=a}},e.prototype.parseFoundFinderPattern=function(n,r,i){var a,o,l;if(i){for(var c=this.startEnd[0]-1;c>=0&&!n.get(c);)c--;c++,a=this.startEnd[0]-c,o=c,l=this.startEnd[1]}else o=this.startEnd[0],l=n.getNextUnset(this.startEnd[1]+1),a=l-this.startEnd[1];var f=this.getDecodeFinderCounters();Vt.arraycopy(f,0,f,1,f.length-1),f[0]=a;var d;try{d=this.parseFinderValue(f,e.FINDER_PATTERNS)}catch{return null}return new W5(d,[o,l],o,l,r)},e.prototype.decodeDataCharacter=function(n,r,i,a){for(var o=this.getDataCharacterCounters(),l=0;l<o.length;l++)o[l]=0;if(a)e.recordPatternInReverse(n,r.getStartEnd()[0],o);else{e.recordPattern(n,r.getStartEnd()[1],o);for(var c=0,f=o.length-1;c<f;c++,f--){var d=o[c];o[c]=o[f],o[f]=d}}var p=17,v=dt.sum(new Int32Array(o))/p,m=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(v-m)/m>.3)throw new ae;for(var _=this.getOddCounts(),w=this.getEvenCounts(),E=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors(),c=0;c<o.length;c++){var I=1*o[c]/v,R=I+.5;if(R<1){if(I<.3)throw new ae;R=1}else if(R>8){if(I>8.7)throw new ae;R=8}var M=c/2;(c&1)===0?(_[M]=R,E[M]=I-R):(w[M]=R,S[M]=I-R)}this.adjustOddEvenCounts(p);for(var k=4*r.getValue()+(i?0:2)+(a?0:1)-1,B=0,D=0,c=_.length-1;c>=0;c--){if(e.isNotA1left(r,i,a)){var N=e.WEIGHTS[k][2*c];D+=_[c]*N}B+=_[c]}for(var L=0,c=w.length-1;c>=0;c--)if(e.isNotA1left(r,i,a)){var N=e.WEIGHTS[k][2*c+1];L+=w[c]*N}var z=D+L;if((B&1)!==0||B>13||B<4)throw new ae;var U=(13-B)/2,H=e.SYMBOL_WIDEST[U],F=9-H,de=Uc.getRSSvalue(_,H,!0),be=Uc.getRSSvalue(w,F,!1),Y=e.EVEN_TOTAL_SUBSET[U],se=e.GSUM[U],me=de*Y+be+se;return new sg(me,z)},e.isNotA1left=function(n,r,i){return!(n.getValue()===0&&r&&i)},e.prototype.adjustOddEvenCounts=function(n){var r=dt.sum(new Int32Array(this.getOddCounts())),i=dt.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;r>13?o=!0:r<4&&(a=!0);var l=!1,c=!1;i>13?c=!0:i<4&&(l=!0);var f=r+i-n,d=(r&1)===1,p=(i&1)===0;if(f===1)if(d){if(p)throw new ae;o=!0}else{if(!p)throw new ae;c=!0}else if(f===-1)if(d){if(p)throw new ae;a=!0}else{if(!p)throw new ae;l=!0}else if(f===0){if(d){if(!p)throw new ae;r<i?(a=!0,c=!0):(o=!0,l=!0)}else if(p)throw new ae}else throw new ae;if(a){if(o)throw new ae;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new ae;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(uu),YK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),QK=(function(t){YK(e,t);function e(n,r,i){var a=t.call(this,n,r)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(sg),ZK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),R2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},HI=(function(t){ZK(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.possibleLeftPairs=[],n.possibleRightPairs=[],n}return e.prototype.decodeRow=function(n,r,i){var a,o,l,c,f=this.decodePair(r,!1,n,i);e.addOrTally(this.possibleLeftPairs,f),r.reverse();var d=this.decodePair(r,!0,n,i);e.addOrTally(this.possibleRightPairs,d),r.reverse();try{for(var p=R2(this.possibleLeftPairs),v=p.next();!v.done;v=p.next()){var m=v.value;if(m.getCount()>1)try{for(var _=(l=void 0,R2(this.possibleRightPairs)),w=_.next();!w.done;w=_.next()){var E=w.value;if(E.getCount()>1&&e.checkChecksum(m,E))return e.constructResult(m,E)}}catch(S){l={error:S}}finally{try{w&&!w.done&&(c=_.return)&&c.call(_)}finally{if(l)throw l.error}}}}catch(S){a={error:S}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}throw new ae},e.addOrTally=function(n,r){var i,a;if(r!=null){var o=!1;try{for(var l=R2(n),c=l.next();!c.done;c=l.next()){var f=c.value;if(f.getValue()===r.getValue()){f.incrementCount(),o=!0;break}}}catch(d){i={error:d}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}o||n.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(n,r){for(var i=4537077*n.getValue()+r.getValue(),a=new String(i).toString(),o=new Xe,l=13-a.length;l>0;l--)o.append("0");o.append(a);for(var c=0,l=0;l<13;l++){var f=o.charAt(l).charCodeAt(0)-48;c+=(l&1)===0?3*f:f}c=10-c%10,c===10&&(c=0),o.append(c.toString());var d=n.getFinderPattern().getResultPoints(),p=r.getFinderPattern().getResultPoints();return new jr(o.toString(),null,0,[d[0],d[1],p[0],p[1]],Ne.RSS_14,new Date().getTime())},e.checkChecksum=function(n,r){var i=(n.getChecksumPortion()+16*r.getChecksumPortion())%79,a=9*n.getFinderPattern().getValue()+r.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(n,r,i,a){try{var o=this.findFinderPattern(n,r),l=this.parseFoundFinderPattern(n,i,r,o),c=a==null?null:a.get(Qt.NEED_RESULT_POINT_CALLBACK);if(c!=null){var f=(o[0]+o[1])/2;r&&(f=n.getSize()-1-f),c.foundPossibleResultPoint(new Te(f,i))}var d=this.decodeDataCharacter(n,l,!0),p=this.decodeDataCharacter(n,l,!1);return new QK(1597*d.getValue()+p.getValue(),d.getChecksumPortion()+4*p.getChecksumPortion(),l)}catch{return null}},e.prototype.decodeDataCharacter=function(n,r,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)Gn.recordPatternInReverse(n,r.getStartEnd()[0],a);else{Gn.recordPattern(n,r.getStartEnd()[1]+1,a);for(var l=0,c=a.length-1;l<c;l++,c--){var f=a[l];a[l]=a[c],a[c]=f}}for(var d=i?16:15,p=dt.sum(new Int32Array(a))/d,v=this.getOddCounts(),m=this.getEvenCounts(),_=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors(),l=0;l<a.length;l++){var E=a[l]/p,S=Math.floor(E+.5);S<1?S=1:S>8&&(S=8);var I=Math.floor(l/2);(l&1)===0?(v[I]=S,_[I]=E-S):(m[I]=S,w[I]=E-S)}this.adjustOddEvenCounts(i,d);for(var R=0,M=0,l=v.length-1;l>=0;l--)M*=9,M+=v[l],R+=v[l];for(var k=0,B=0,l=m.length-1;l>=0;l--)k*=9,k+=m[l],B+=m[l];var D=M+3*k;if(i){if((R&1)!==0||R>12||R<4)throw new ae;var N=(12-R)/2,L=e.OUTSIDE_ODD_WIDEST[N],z=9-L,U=Uc.getRSSvalue(v,L,!1),H=Uc.getRSSvalue(m,z,!0),F=e.OUTSIDE_EVEN_TOTAL_SUBSET[N],de=e.OUTSIDE_GSUM[N];return new sg(U*F+H+de,D)}else{if((B&1)!==0||B>10||B<4)throw new ae;var N=(10-B)/2,L=e.INSIDE_ODD_WIDEST[N],z=9-L,U=Uc.getRSSvalue(v,L,!0),H=Uc.getRSSvalue(m,z,!1),be=e.INSIDE_ODD_TOTAL_SUBSET[N],de=e.INSIDE_GSUM[N];return new sg(H*be+U+de,D)}},e.prototype.findFinderPattern=function(n,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=n.getSize(),o=!1,l=0;l<a&&(o=!n.get(l),r!==o);)l++;for(var c=0,f=l,d=l;d<a;d++)if(n.get(d)!==o)i[c]++;else{if(c===3){if(uu.isFinderPattern(i))return[f,d];f+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,o=!o}throw new ae},e.prototype.parseFoundFinderPattern=function(n,r,i,a){for(var o=n.get(a[0]),l=a[0]-1;l>=0&&o!==n.get(l);)l--;l++;var c=a[0]-l,f=this.getDecodeFinderCounters(),d=new Int32Array(f.length);Vt.arraycopy(f,0,d,1,f.length-1),d[0]=c;var p=this.parseFinderValue(d,e.FINDER_PATTERNS),v=l,m=a[1];return i&&(v=n.getSize()-1-v,m=n.getSize()-1-m),new W5(p,[l,a[1]],v,m,r)},e.prototype.adjustOddEvenCounts=function(n,r){var i=dt.sum(new Int32Array(this.getOddCounts())),a=dt.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1,c=!1,f=!1;n?(i>12?l=!0:i<4&&(o=!0),a>12?f=!0:a<4&&(c=!0)):(i>11?l=!0:i<5&&(o=!0),a>10?f=!0:a<4&&(c=!0));var d=i+a-r,p=(i&1)===(n?1:0),v=(a&1)===1;if(d===1)if(p){if(v)throw new ae;l=!0}else{if(!v)throw new ae;f=!0}else if(d===-1)if(p){if(v)throw new ae;o=!0}else{if(!v)throw new ae;c=!0}else if(d===0){if(p){if(!v)throw new ae;i<a?(o=!0,f=!0):(l=!0,c=!0)}else if(v)throw new ae}else throw new ae;if(o){if(l)throw new ae;uu.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&uu.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(f)throw new ae;uu.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&uu.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(uu),JK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ad=(function(t){JK(e,t);function e(n){var r=t.call(this)||this;r.readers=[];var i=n?n.get(Qt.POSSIBLE_FORMATS):null,a=n&&n.get(Qt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=n&&n.get(Qt.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Ne.EAN_13)||i.includes(Ne.UPC_A)||i.includes(Ne.EAN_8)||i.includes(Ne.UPC_E))&&r.readers.push(new O2(n)),i.includes(Ne.CODE_39)&&r.readers.push(new NI(a,o)),i.includes(Ne.CODE_93)&&r.readers.push(new MI),i.includes(Ne.CODE_128)&&r.readers.push(new DI),i.includes(Ne.ITF)&&r.readers.push(new kI),i.includes(Ne.CODABAR)&&r.readers.push(new bK),i.includes(Ne.RSS_14)&&r.readers.push(new HI),i.includes(Ne.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new XK))),r.readers.length===0&&(r.readers.push(new O2(n)),r.readers.push(new NI),r.readers.push(new MI),r.readers.push(new O2(n)),r.readers.push(new DI),r.readers.push(new kI),r.readers.push(new HI)),r}return e.prototype.decodeRow=function(n,r,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(n,r,i)}catch{}throw new ae},e.prototype.reset=function(){this.readers.forEach(function(n){return n.reset()})},e})(Gn),eW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){eW(e,t);function e(n,r){return n===void 0&&(n=500),t.call(this,new ad(r),n,r)||this}return e})(Sf);var $I=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bt=(function(){function t(e,n,r){this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),yt=(function(){function t(e,n){this.count=e,this.dataCodewords=n}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),tW=(function(){function t(e,n,r,i,a,o){var l,c;this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var f=0,d=o.getECCodewords(),p=o.getECBlocks();try{for(var v=$I(p),m=v.next();!m.done;m=v.next()){var _=m.value;f+=_.getCount()*(_.getDataCodewords()+d)}}catch(w){l={error:w}}finally{try{m&&!m.done&&(c=v.return)&&c.call(v)}finally{if(l)throw l.error}}this.totalCodewords=f}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,n){var r,i;if((e&1)!==0||(n&1)!==0)throw new ve;try{for(var a=$I(t.VERSIONS),o=a.next();!o.done;o=a.next()){var l=o.value;if(l.symbolSizeRows===e&&l.symbolSizeColumns===n)return l}}catch(c){r={error:c}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}throw new ve},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new bt(5,new yt(1,3))),new t(2,12,12,10,10,new bt(7,new yt(1,5))),new t(3,14,14,12,12,new bt(10,new yt(1,8))),new t(4,16,16,14,14,new bt(12,new yt(1,12))),new t(5,18,18,16,16,new bt(14,new yt(1,18))),new t(6,20,20,18,18,new bt(18,new yt(1,22))),new t(7,22,22,20,20,new bt(20,new yt(1,30))),new t(8,24,24,22,22,new bt(24,new yt(1,36))),new t(9,26,26,24,24,new bt(28,new yt(1,44))),new t(10,32,32,14,14,new bt(36,new yt(1,62))),new t(11,36,36,16,16,new bt(42,new yt(1,86))),new t(12,40,40,18,18,new bt(48,new yt(1,114))),new t(13,44,44,20,20,new bt(56,new yt(1,144))),new t(14,48,48,22,22,new bt(68,new yt(1,174))),new t(15,52,52,24,24,new bt(42,new yt(2,102))),new t(16,64,64,14,14,new bt(56,new yt(2,140))),new t(17,72,72,16,16,new bt(36,new yt(4,92))),new t(18,80,80,18,18,new bt(48,new yt(4,114))),new t(19,88,88,20,20,new bt(56,new yt(4,144))),new t(20,96,96,22,22,new bt(68,new yt(4,174))),new t(21,104,104,24,24,new bt(56,new yt(6,136))),new t(22,120,120,18,18,new bt(68,new yt(6,175))),new t(23,132,132,20,20,new bt(62,new yt(8,163))),new t(24,144,144,22,22,new bt(62,new yt(8,156),new yt(2,155))),new t(25,8,18,6,16,new bt(7,new yt(1,5))),new t(26,8,32,6,14,new bt(11,new yt(1,10))),new t(27,12,26,10,24,new bt(14,new yt(1,16))),new t(28,12,36,10,16,new bt(18,new yt(1,22))),new t(29,16,36,14,16,new bt(24,new yt(1,32))),new t(30,16,48,14,22,new bt(28,new yt(1,49)))]},t.VERSIONS=t.buildVersions(),t})(),nW=(function(){function t(e){var n=e.getHeight();if(n<8||n>144||(n&1)!==0)throw new ve;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new io(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var n=e.getHeight(),r=e.getWidth();return tW.getVersionForDimensions(n,r)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),n=0,r=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),l=!1,c=!1,f=!1,d=!1;do if(r===a&&i===0&&!l)e[n++]=this.readCorner1(a,o)&255,r-=2,i+=2,l=!0;else if(r===a-2&&i===0&&(o&3)!==0&&!c)e[n++]=this.readCorner2(a,o)&255,r-=2,i+=2,c=!0;else if(r===a+4&&i===2&&(o&7)===0&&!f)e[n++]=this.readCorner3(a,o)&255,r-=2,i+=2,f=!0;else if(r===a-2&&i===0&&(o&7)===4&&!d)e[n++]=this.readCorner4(a,o)&255,r-=2,i+=2,d=!0;else{do r<a&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[n++]=this.readUtah(r,i,a,o)&255),r-=2,i+=2;while(r>=0&&i<o);r+=1,i+=3;do r>=0&&i<o&&!this.readMappingMatrix.get(i,r)&&(e[n++]=this.readUtah(r,i,a,o)&255),r+=2,i-=2;while(r<a&&i>=0);r+=3,i+=1}while(r<a||i<o);if(n!==this.version.getTotalCodewords())throw new ve;return e},t.prototype.readModule=function(e,n,r,i){return e<0&&(e+=r,n+=4-(r+4&7)),n<0&&(n+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)},t.prototype.readUtah=function(e,n,r,i){var a=0;return this.readModule(e-2,n-2,r,i)&&(a|=1),a<<=1,this.readModule(e-2,n-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,n-2,r,i)&&(a|=1),a<<=1,this.readModule(e-1,n-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,n,r,i)&&(a|=1),a<<=1,this.readModule(e,n-2,r,i)&&(a|=1),a<<=1,this.readModule(e,n-1,r,i)&&(a|=1),a<<=1,this.readModule(e,n,r,i)&&(a|=1),a},t.prototype.readCorner1=function(e,n){var r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,1,e,n)&&(r|=1),r<<=1,this.readModule(e-1,2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r},t.prototype.readCorner2=function(e,n){var r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-4,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r},t.prototype.readCorner3=function(e,n){var r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-3,e,n)&&(r|=1),r<<=1,this.readModule(1,n-2,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r},t.prototype.readCorner4=function(e,n){var r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r},t.prototype.extractDataRegion=function(e){var n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new Me("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=n/i|0,l=r/a|0,c=o*i,f=l*a,d=new io(f,c),p=0;p<o;++p)for(var v=p*i,m=0;m<l;++m)for(var _=m*a,w=0;w<i;++w)for(var E=p*(i+2)+1+w,S=v+w,I=0;I<a;++I){var R=m*(a+2)+1+I;if(e.get(R,E)){var M=_+I;d.set(M,S)}}return d},t})(),qI=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rW=(function(){function t(e,n){this.numDataCodewords=e,this.codewords=n}return t.getDataBlocks=function(e,n){var r,i,a,o,l=n.getECBlocks(),c=0,f=l.getECBlocks();try{for(var d=qI(f),p=d.next();!p.done;p=d.next()){var v=p.value;c+=v.getCount()}}catch(de){r={error:de}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}var m=new Array(c),_=0;try{for(var w=qI(f),E=w.next();!E.done;E=w.next())for(var v=E.value,S=0;S<v.getCount();S++){var I=v.getDataCodewords(),R=l.getECCodewords()+I;m[_++]=new t(I,new Uint8Array(R))}}catch(de){a={error:de}}finally{try{E&&!E.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}for(var M=m[0].codewords.length,k=M-l.getECCodewords(),B=k-1,D=0,S=0;S<B;S++)for(var N=0;N<_;N++)m[N].codewords[S]=e[D++];for(var L=n.getVersionNumber()===24,z=L?8:_,N=0;N<z;N++)m[N].codewords[k-1]=e[D++];for(var U=m[0].codewords.length,S=k;S<U;S++)for(var N=0;N<_;N++){var H=L?(N+8)%_:N,F=L&&H>7?S-1:S;m[H].codewords[F]=e[D++]}if(D!==e.length)throw new Me;return m},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),Q5=(function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Me(""+e);var n=0,r=this.bitOffset,i=this.byteOffset,a=this.bytes;if(r>0){var o=8-r,l=e<o?e:o,c=o-l,f=255>>8-l<<c;n=(a[i]&f)>>c,e-=l,r+=l,r===8&&(r=0,i++)}if(e>0){for(;e>=8;)n=n<<8|a[i]&255,i++,e-=8;if(e>0){var c=8-e,f=255>>c<<c;n=n<<e|(a[i]&f)>>c,r+=e}}return this.bitOffset=r,this.byteOffset=i,n},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t})(),Fn;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(Fn||(Fn={}));var iW=(function(){function t(){}return t.decode=function(e){var n=new Q5(e),r=new Xe,i=new Xe,a=new Array,o=Fn.ASCII_ENCODE;do if(o===Fn.ASCII_ENCODE)o=this.decodeAsciiSegment(n,r,i);else{switch(o){case Fn.C40_ENCODE:this.decodeC40Segment(n,r);break;case Fn.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case Fn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case Fn.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case Fn.BASE256_ENCODE:this.decodeBase256Segment(n,r,a);break;default:throw new ve}o=Fn.ASCII_ENCODE}while(o!==Fn.PAD_ENCODE&&n.available()>0);return i.length()>0&&r.append(i.toString()),new Tv(e,r.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,n,r){var i=!1;do{var a=e.readBits(8);if(a===0)throw new ve;if(a<=128)return i&&(a+=128),n.append(String.fromCharCode(a-1)),Fn.ASCII_ENCODE;if(a===129)return Fn.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&n.append("0"),n.append(""+o)}else switch(a){case 230:return Fn.C40_ENCODE;case 231:return Fn.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return Fn.ANSIX12_ENCODE;case 239:return Fn.TEXT_ENCODE;case 240:return Fn.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new ve;break}}while(e.available()>0);return Fn.ASCII_ENCODE},t.decodeC40Segment=function(e,n){var r=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var l=0;l<3;l++){var c=i[l];switch(a){case 0:if(c<3)a=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var f=this.C40_BASIC_SET_CHARS[c];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else throw new ve;break;case 1:r?(n.append(String.fromCharCode(c+128)),r=!1):n.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var f=this.C40_SHIFT2_SET_CHARS[c];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else switch(c){case 27:n.append("");break;case 30:r=!0;break;default:throw new ve}a=0;break;case 3:r?(n.append(String.fromCharCode(c+224)),r=!1):n.append(String.fromCharCode(c+96)),a=0;break;default:throw new ve}}}while(e.available()>0)},t.decodeTextSegment=function(e,n){var r=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var l=0;l<3;l++){var c=i[l];switch(a){case 0:if(c<3)a=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var f=this.TEXT_BASIC_SET_CHARS[c];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else throw new ve;break;case 1:r?(n.append(String.fromCharCode(c+128)),r=!1):n.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var f=this.TEXT_SHIFT2_SET_CHARS[c];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else switch(c){case 27:n.append("");break;case 30:r=!0;break;default:throw new ve}a=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var f=this.TEXT_SHIFT3_SET_CHARS[c];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f),a=0}else throw new ve;break;default:throw new ve}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,n){var r=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),r);for(var a=0;a<3;a++){var o=r[a];switch(o){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(o<14)n.append(String.fromCharCode(o+44));else if(o<40)n.append(String.fromCharCode(o+51));else throw new ve;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,n,r){var i=(e<<8)+n-1,a=Math.floor(i/1600);r[0]=a,i-=a*1600,a=Math.floor(i/40),r[1]=a,r[2]=i-a*40},t.decodeEdifactSegment=function(e,n){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),n.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,n,r){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new ve;for(var l=new Uint8Array(o),c=0;c<o;c++){if(e.available()<8)throw new ve;l[c]=this.unrandomize255State(e.readBits(8),i++)}r.push(l);try{n.append(Zi.decode(l,lt.ISO88591))}catch(f){throw new Jd("Platform does not support required encoding: "+f.message)}},t.unrandomize255State=function(e,n){var r=149*n%255+1,i=e-r;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t})(),aW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oW=(function(){function t(){this.rsDecoder=new Cv(ri.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var n,r,i=new nW(e),a=i.getVersion(),o=i.readCodewords(),l=rW.getDataBlocks(o,a),c=0;try{for(var f=aW(l),d=f.next();!d.done;d=f.next()){var p=d.value;c+=p.getNumDataCodewords()}}catch(R){n={error:R}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}for(var v=new Uint8Array(c),m=l.length,_=0;_<m;_++){var w=l[_],E=w.getCodewords(),S=w.getNumDataCodewords();this.correctErrors(E,S);for(var I=0;I<S;I++)v[I*m+_]=E[I]}return iW.decode(v)},t.prototype.correctErrors=function(e,n){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new ar}for(var i=0;i<n;i++)e[i]=r[i]},t})(),sW=(function(){function t(e){this.image=e,this.rectangleDetector=new K_(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new ae;n=this.shiftToModuleCenter(n);var r=n[0],i=n[1],a=n[2],o=n[3],l=this.transitionsBetween(r,o)+1,c=this.transitionsBetween(a,o)+1;(l&1)===1&&(l+=1),(c&1)===1&&(c+=1),4*l<7*c&&4*c<7*l&&(l=c=Math.max(l,c));var f=t.sampleGrid(this.image,r,i,a,o,l,c);return new eE(f,[r,i,a,o])},t.shiftPoint=function(e,n,r){var i=(n.getX()-e.getX())/(r+1),a=(n.getY()-e.getY())/(r+1);return new Te(e.getX()+i,e.getY()+a)},t.moveAway=function(e,n,r){var i=e.getX(),a=e.getY();return i<n?i-=1:i+=1,a<r?a-=1:a+=1,new Te(i,a)},t.prototype.detectSolid1=function(e){var n=e[0],r=e[1],i=e[3],a=e[2],o=this.transitionsBetween(n,r),l=this.transitionsBetween(r,i),c=this.transitionsBetween(i,a),f=this.transitionsBetween(a,n),d=o,p=[a,n,r,i];return d>l&&(d=l,p[0]=n,p[1]=r,p[2]=i,p[3]=a),d>c&&(d=c,p[0]=r,p[1]=i,p[2]=a,p[3]=n),d>f&&(p[0]=i,p[1]=a,p[2]=n,p[3]=r),p},t.prototype.detectSolid2=function(e){var n=e[0],r=e[1],i=e[2],a=e[3],o=this.transitionsBetween(n,a),l=t.shiftPoint(r,i,(o+1)*4),c=t.shiftPoint(i,r,(o+1)*4),f=this.transitionsBetween(l,n),d=this.transitionsBetween(c,a);return f<d?(e[0]=n,e[1]=r,e[2]=i,e[3]=a):(e[0]=r,e[1]=i,e[2]=a,e[3]=n),e},t.prototype.correctTopRight=function(e){var n=e[0],r=e[1],i=e[2],a=e[3],o=this.transitionsBetween(n,a),l=this.transitionsBetween(r,a),c=t.shiftPoint(n,r,(l+1)*4),f=t.shiftPoint(i,r,(o+1)*4);o=this.transitionsBetween(c,a),l=this.transitionsBetween(f,a);var d=new Te(a.getX()+(i.getX()-r.getX())/(o+1),a.getY()+(i.getY()-r.getY())/(o+1)),p=new Te(a.getX()+(n.getX()-r.getX())/(l+1),a.getY()+(n.getY()-r.getY())/(l+1));if(!this.isValid(d))return this.isValid(p)?p:null;if(!this.isValid(p))return d;var v=this.transitionsBetween(c,d)+this.transitionsBetween(f,d),m=this.transitionsBetween(c,p)+this.transitionsBetween(f,p);return v>m?d:p},t.prototype.shiftToModuleCenter=function(e){var n=e[0],r=e[1],i=e[2],a=e[3],o=this.transitionsBetween(n,a)+1,l=this.transitionsBetween(i,a)+1,c=t.shiftPoint(n,r,l*4),f=t.shiftPoint(i,r,o*4);o=this.transitionsBetween(c,a)+1,l=this.transitionsBetween(f,a)+1,(o&1)===1&&(o+=1),(l&1)===1&&(l+=1);var d=(n.getX()+r.getX()+i.getX()+a.getX())/4,p=(n.getY()+r.getY()+i.getY()+a.getY())/4;n=t.moveAway(n,d,p),r=t.moveAway(r,d,p),i=t.moveAway(i,d,p),a=t.moveAway(a,d,p);var v,m;return c=t.shiftPoint(n,r,l*4),c=t.shiftPoint(c,a,o*4),v=t.shiftPoint(r,n,l*4),v=t.shiftPoint(v,i,o*4),f=t.shiftPoint(i,a,l*4),f=t.shiftPoint(f,r,o*4),m=t.shiftPoint(a,i,l*4),m=t.shiftPoint(m,n,o*4),[c,v,f,m]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,n,r,i,a,o,l){var c=tE.getInstance();return c.sampleGrid(e,o,l,.5,.5,o-.5,.5,o-.5,l-.5,.5,l-.5,n.getX(),n.getY(),a.getX(),a.getY(),i.getX(),i.getY(),r.getX(),r.getY())},t.prototype.transitionsBetween=function(e,n){var r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(n.getX()),o=Math.trunc(n.getY()),l=Math.abs(o-i)>Math.abs(a-r);if(l){var c=r;r=i,i=c,c=a,a=o,o=c}for(var f=Math.abs(a-r),d=Math.abs(o-i),p=-f/2,v=i<o?1:-1,m=r<a?1:-1,_=0,w=this.image.get(l?i:r,l?r:i),E=r,S=i;E!==a;E+=m){var I=this.image.get(l?S:E,l?E:S);if(I!==w&&(_++,w=I),p+=d,p>0){if(S===o)break;S+=v,p-=f}}return _},t})(),Y_=(function(){function t(){this.decoder=new oW}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r,i;if(n!=null&&n.has(Qt.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(a),i=t.NO_POINTS}else{var o=new sW(e.getBlackMatrix()).detect();r=this.decoder.decode(o.getBits()),i=o.getPoints()}var l=r.getRawBytes(),c=new jr(r.getText(),l,8*l.length,i,Ne.DATA_MATRIX,Vt.currentTimeMillis()),f=r.getByteSegments();f!=null&&c.putMetadata(Er.BYTE_SEGMENTS,f);var d=r.getECLevel();return d!=null&&c.putMetadata(Er.ERROR_CORRECTION_LEVEL,d),c},t.prototype.reset=function(){},t.extractPureBits=function(e){var n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n==null||r==null)throw new ae;var i=this.moduleSize(n,e),a=n[1],o=r[1],l=n[0],c=r[0],f=(c-l+1)/i,d=(o-a+1)/i;if(f<=0||d<=0)throw new ae;var p=i/2;a+=p,l+=p;for(var v=new io(f,d),m=0;m<d;m++)for(var _=a+m*i,w=0;w<f;w++)e.get(l+w*i,_)&&v.set(w,m);return v},t.moduleSize=function(e,n){for(var r=n.getWidth(),i=e[0],a=e[1];i<r&&n.get(i,a);)i++;if(i===r)throw new ae;var o=i-e[0];if(o===0)throw new ae;return o},t.NO_POINTS=[],t})(),lW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){lW(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new Y_,n)||this}return e})(Sf);var zc;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(zc||(zc={}));var uW=(function(){function t(e,n,r){this.value=e,this.stringValue=n,this.bits=r,t.FOR_BITS.set(r,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new va(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new Me;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(zc.L,"L",1),t.M=new t(zc.M,"M",0),t.Q=new t(zc.Q,"Q",3),t.H=new t(zc.H,"H",2),t})(),cW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Z5=(function(){function t(e){this.errorCorrectionLevel=uW.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,n){return Ye.bitCount(e^n)},t.decodeFormatInformation=function(e,n){var r=t.doDecodeFormatInformation(e,n);return r!==null?r:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,n^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,n){var r,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var l=cW(t.FORMAT_INFO_DECODE_LOOKUP),c=l.next();!c.done;c=l.next()){var f=c.value,d=f[0];if(d===e||d===n)return new t(f[1]);var p=t.numBitsDiffering(e,d);p<a&&(o=f[1],a=p),e!==n&&(p=t.numBitsDiffering(n,d),p<a&&(o=f[1],a=p))}}catch(v){r={error:v}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return a<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t})(),fW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q=(function(){function t(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=n}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,n,r=0,i=this.ecBlocks;try{for(var a=fW(i),o=a.next();!o.done;o=a.next()){var l=o.value;r+=l.getCount()}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),$=(function(){function t(e,n){this.count=e,this.dataCodewords=n}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),hW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wu=(function(){function t(e,n){for(var r,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=a;var l=0,c=a[0].getECCodewordsPerBlock(),f=a[0].getECBlocks();try{for(var d=hW(f),p=d.next();!p.done;p=d.next()){var v=p.value;l+=v.getCount()*(v.getDataCodewords()+c)}}catch(m){r={error:m}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}this.totalCodewords=l}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new ve;try{return this.getVersionForNumber((e-17)/4)}catch{throw new ve}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new Me;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var n=Number.MAX_SAFE_INTEGER,r=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var o=Z5.numBitsDiffering(e,a);o<n&&(r=i+7,n=o)}return n<=3?t.getVersionForNumber(r):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),n=new io(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<r;o++)i===0&&(o===0||o===r-1)||i===r-1&&o===0||n.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new Q(7,new $(1,19)),new Q(10,new $(1,16)),new Q(13,new $(1,13)),new Q(17,new $(1,9))),new t(2,Int32Array.from([6,18]),new Q(10,new $(1,34)),new Q(16,new $(1,28)),new Q(22,new $(1,22)),new Q(28,new $(1,16))),new t(3,Int32Array.from([6,22]),new Q(15,new $(1,55)),new Q(26,new $(1,44)),new Q(18,new $(2,17)),new Q(22,new $(2,13))),new t(4,Int32Array.from([6,26]),new Q(20,new $(1,80)),new Q(18,new $(2,32)),new Q(26,new $(2,24)),new Q(16,new $(4,9))),new t(5,Int32Array.from([6,30]),new Q(26,new $(1,108)),new Q(24,new $(2,43)),new Q(18,new $(2,15),new $(2,16)),new Q(22,new $(2,11),new $(2,12))),new t(6,Int32Array.from([6,34]),new Q(18,new $(2,68)),new Q(16,new $(4,27)),new Q(24,new $(4,19)),new Q(28,new $(4,15))),new t(7,Int32Array.from([6,22,38]),new Q(20,new $(2,78)),new Q(18,new $(4,31)),new Q(18,new $(2,14),new $(4,15)),new Q(26,new $(4,13),new $(1,14))),new t(8,Int32Array.from([6,24,42]),new Q(24,new $(2,97)),new Q(22,new $(2,38),new $(2,39)),new Q(22,new $(4,18),new $(2,19)),new Q(26,new $(4,14),new $(2,15))),new t(9,Int32Array.from([6,26,46]),new Q(30,new $(2,116)),new Q(22,new $(3,36),new $(2,37)),new Q(20,new $(4,16),new $(4,17)),new Q(24,new $(4,12),new $(4,13))),new t(10,Int32Array.from([6,28,50]),new Q(18,new $(2,68),new $(2,69)),new Q(26,new $(4,43),new $(1,44)),new Q(24,new $(6,19),new $(2,20)),new Q(28,new $(6,15),new $(2,16))),new t(11,Int32Array.from([6,30,54]),new Q(20,new $(4,81)),new Q(30,new $(1,50),new $(4,51)),new Q(28,new $(4,22),new $(4,23)),new Q(24,new $(3,12),new $(8,13))),new t(12,Int32Array.from([6,32,58]),new Q(24,new $(2,92),new $(2,93)),new Q(22,new $(6,36),new $(2,37)),new Q(26,new $(4,20),new $(6,21)),new Q(28,new $(7,14),new $(4,15))),new t(13,Int32Array.from([6,34,62]),new Q(26,new $(4,107)),new Q(22,new $(8,37),new $(1,38)),new Q(24,new $(8,20),new $(4,21)),new Q(22,new $(12,11),new $(4,12))),new t(14,Int32Array.from([6,26,46,66]),new Q(30,new $(3,115),new $(1,116)),new Q(24,new $(4,40),new $(5,41)),new Q(20,new $(11,16),new $(5,17)),new Q(24,new $(11,12),new $(5,13))),new t(15,Int32Array.from([6,26,48,70]),new Q(22,new $(5,87),new $(1,88)),new Q(24,new $(5,41),new $(5,42)),new Q(30,new $(5,24),new $(7,25)),new Q(24,new $(11,12),new $(7,13))),new t(16,Int32Array.from([6,26,50,74]),new Q(24,new $(5,98),new $(1,99)),new Q(28,new $(7,45),new $(3,46)),new Q(24,new $(15,19),new $(2,20)),new Q(30,new $(3,15),new $(13,16))),new t(17,Int32Array.from([6,30,54,78]),new Q(28,new $(1,107),new $(5,108)),new Q(28,new $(10,46),new $(1,47)),new Q(28,new $(1,22),new $(15,23)),new Q(28,new $(2,14),new $(17,15))),new t(18,Int32Array.from([6,30,56,82]),new Q(30,new $(5,120),new $(1,121)),new Q(26,new $(9,43),new $(4,44)),new Q(28,new $(17,22),new $(1,23)),new Q(28,new $(2,14),new $(19,15))),new t(19,Int32Array.from([6,30,58,86]),new Q(28,new $(3,113),new $(4,114)),new Q(26,new $(3,44),new $(11,45)),new Q(26,new $(17,21),new $(4,22)),new Q(26,new $(9,13),new $(16,14))),new t(20,Int32Array.from([6,34,62,90]),new Q(28,new $(3,107),new $(5,108)),new Q(26,new $(3,41),new $(13,42)),new Q(30,new $(15,24),new $(5,25)),new Q(28,new $(15,15),new $(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new Q(28,new $(4,116),new $(4,117)),new Q(26,new $(17,42)),new Q(28,new $(17,22),new $(6,23)),new Q(30,new $(19,16),new $(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new Q(28,new $(2,111),new $(7,112)),new Q(28,new $(17,46)),new Q(30,new $(7,24),new $(16,25)),new Q(24,new $(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new Q(30,new $(4,121),new $(5,122)),new Q(28,new $(4,47),new $(14,48)),new Q(30,new $(11,24),new $(14,25)),new Q(30,new $(16,15),new $(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new Q(30,new $(6,117),new $(4,118)),new Q(28,new $(6,45),new $(14,46)),new Q(30,new $(11,24),new $(16,25)),new Q(30,new $(30,16),new $(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new Q(26,new $(8,106),new $(4,107)),new Q(28,new $(8,47),new $(13,48)),new Q(30,new $(7,24),new $(22,25)),new Q(30,new $(22,15),new $(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new Q(28,new $(10,114),new $(2,115)),new Q(28,new $(19,46),new $(4,47)),new Q(28,new $(28,22),new $(6,23)),new Q(30,new $(33,16),new $(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new Q(30,new $(8,122),new $(4,123)),new Q(28,new $(22,45),new $(3,46)),new Q(30,new $(8,23),new $(26,24)),new Q(30,new $(12,15),new $(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new Q(30,new $(3,117),new $(10,118)),new Q(28,new $(3,45),new $(23,46)),new Q(30,new $(4,24),new $(31,25)),new Q(30,new $(11,15),new $(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new Q(30,new $(7,116),new $(7,117)),new Q(28,new $(21,45),new $(7,46)),new Q(30,new $(1,23),new $(37,24)),new Q(30,new $(19,15),new $(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new Q(30,new $(5,115),new $(10,116)),new Q(28,new $(19,47),new $(10,48)),new Q(30,new $(15,24),new $(25,25)),new Q(30,new $(23,15),new $(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new Q(30,new $(13,115),new $(3,116)),new Q(28,new $(2,46),new $(29,47)),new Q(30,new $(42,24),new $(1,25)),new Q(30,new $(23,15),new $(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new Q(30,new $(17,115)),new Q(28,new $(10,46),new $(23,47)),new Q(30,new $(10,24),new $(35,25)),new Q(30,new $(19,15),new $(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new Q(30,new $(17,115),new $(1,116)),new Q(28,new $(14,46),new $(21,47)),new Q(30,new $(29,24),new $(19,25)),new Q(30,new $(11,15),new $(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new Q(30,new $(13,115),new $(6,116)),new Q(28,new $(14,46),new $(23,47)),new Q(30,new $(44,24),new $(7,25)),new Q(30,new $(59,16),new $(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new Q(30,new $(12,121),new $(7,122)),new Q(28,new $(12,47),new $(26,48)),new Q(30,new $(39,24),new $(14,25)),new Q(30,new $(22,15),new $(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new Q(30,new $(6,121),new $(14,122)),new Q(28,new $(6,47),new $(34,48)),new Q(30,new $(46,24),new $(10,25)),new Q(30,new $(2,15),new $(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new Q(30,new $(17,122),new $(4,123)),new Q(28,new $(29,46),new $(14,47)),new Q(30,new $(49,24),new $(10,25)),new Q(30,new $(24,15),new $(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new Q(30,new $(4,122),new $(18,123)),new Q(28,new $(13,46),new $(32,47)),new Q(30,new $(48,24),new $(14,25)),new Q(30,new $(42,15),new $(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new Q(30,new $(20,117),new $(4,118)),new Q(28,new $(40,47),new $(7,48)),new Q(30,new $(43,24),new $(22,25)),new Q(30,new $(10,15),new $(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new Q(30,new $(19,118),new $(6,119)),new Q(28,new $(18,47),new $(31,48)),new Q(30,new $(34,24),new $(34,25)),new Q(30,new $(20,15),new $(61,16)))],t})(),tr;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(tr||(tr={}));var GI=(function(){function t(e,n){this.value=e,this.isMasked=n}return t.prototype.unmaskBitMatrix=function(e,n){for(var r=0;r<n;r++)for(var i=0;i<n;i++)this.isMasked(r,i)&&e.flip(i,r)},t.values=new Map([[tr.DATA_MASK_000,new t(tr.DATA_MASK_000,function(e,n){return(e+n&1)===0})],[tr.DATA_MASK_001,new t(tr.DATA_MASK_001,function(e,n){return(e&1)===0})],[tr.DATA_MASK_010,new t(tr.DATA_MASK_010,function(e,n){return n%3===0})],[tr.DATA_MASK_011,new t(tr.DATA_MASK_011,function(e,n){return(e+n)%3===0})],[tr.DATA_MASK_100,new t(tr.DATA_MASK_100,function(e,n){return(Math.floor(e/2)+Math.floor(n/3)&1)===0})],[tr.DATA_MASK_101,new t(tr.DATA_MASK_101,function(e,n){return e*n%6===0})],[tr.DATA_MASK_110,new t(tr.DATA_MASK_110,function(e,n){return e*n%6<3})],[tr.DATA_MASK_111,new t(tr.DATA_MASK_111,function(e,n){return(e+n+e*n%3&1)===0})]]),t})(),dW=(function(){function t(e){var n=e.getHeight();if(n<21||(n&3)!==1)throw new ve;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,n=0;n<6;n++)e=this.copyBit(n,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,r=i-1;r>=o;r--)a=this.copyBit(8,r,a);for(var n=i-8;n<i;n++)a=this.copyBit(n,8,a);if(this.parsedFormatInfo=Z5.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ve},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return wu.getVersionForNumber(n);for(var r=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)r=this.copyBit(o,a,r);var l=wu.decodeVersionInformation(r);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;r=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)r=this.copyBit(o,a,r);if(l=wu.decodeVersionInformation(r),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new ve},t.prototype.copyBit=function(e,n,r){var i=this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n);return i?r<<1|1:r<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),n=this.readVersion(),r=GI.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);for(var a=n.buildFunctionPattern(),o=!0,l=new Uint8Array(n.getTotalCodewords()),c=0,f=0,d=0,p=i-1;p>0;p-=2){p===6&&p--;for(var v=0;v<i;v++)for(var m=o?i-1-v:v,_=0;_<2;_++)a.get(p-_,m)||(d++,f<<=1,this.bitMatrix.get(p-_,m)&&(f|=1),d===8&&(l[c++]=f,d=0,f=0));o=!o}if(c!==n.getTotalCodewords())throw new ve;return l},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=GI.values.get(this.parsedFormatInfo.getDataMask()),n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,n=0,r=e.getWidth();n<r;n++)for(var i=n+1,a=e.getHeight();i<a;i++)e.get(n,i)!==e.get(i,n)&&(e.flip(i,n),e.flip(n,i))},t})(),KI=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pW=(function(){function t(e,n){this.numDataCodewords=e,this.codewords=n}return t.getDataBlocks=function(e,n,r){var i,a,o,l;if(e.length!==n.getTotalCodewords())throw new Me;var c=n.getECBlocksForLevel(r),f=0,d=c.getECBlocks();try{for(var p=KI(d),v=p.next();!v.done;v=p.next()){var m=v.value;f+=m.getCount()}}catch(F){i={error:F}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}var _=new Array(f),w=0;try{for(var E=KI(d),S=E.next();!S.done;S=E.next())for(var m=S.value,I=0;I<m.getCount();I++){var R=m.getDataCodewords(),M=c.getECCodewordsPerBlock()+R;_[w++]=new t(R,new Uint8Array(M))}}catch(F){o={error:F}}finally{try{S&&!S.done&&(l=E.return)&&l.call(E)}finally{if(o)throw o.error}}for(var k=_[0].codewords.length,B=_.length-1;B>=0;){var D=_[B].codewords.length;if(D===k)break;B--}B++;for(var N=k-c.getECCodewordsPerBlock(),L=0,I=0;I<N;I++)for(var z=0;z<w;z++)_[z].codewords[I]=e[L++];for(var z=B;z<w;z++)_[z].codewords[N]=e[L++];for(var U=_[0].codewords.length,I=N;I<U;I++)for(var z=0;z<w;z++){var H=z<B?I:I+1;_[z].codewords[H]=e[L++]}return _},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),Gi;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Gi||(Gi={}));var $t=(function(){function t(e,n,r,i){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var n=t.FOR_BITS.get(e);if(n===void 0)throw new Me;return n},t.prototype.getCharacterCountBits=function(e){var n=e.getVersionNumber(),r;return n<=9?r=0:n<=26?r=1:r=2,this.characterCountBitsForVersions[r]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Gi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Gi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Gi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Gi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Gi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Gi.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Gi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Gi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Gi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Gi.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t})(),gW=(function(){function t(){}return t.decode=function(e,n,r,i){var a=new Q5(e),o=new Xe,l=new Array,c=-1,f=-1;try{var d=null,p=!1,v=void 0;do{if(a.available()<4)v=$t.TERMINATOR;else{var m=a.readBits(4);v=$t.forBits(m)}switch(v){case $t.TERMINATOR:break;case $t.FNC1_FIRST_POSITION:case $t.FNC1_SECOND_POSITION:p=!0;break;case $t.STRUCTURED_APPEND:if(a.available()<16)throw new ve;c=a.readBits(8),f=a.readBits(8);break;case $t.ECI:var _=t.parseECIValue(a);if(d=$n.getCharacterSetECIByValue(_),d===null)throw new ve;break;case $t.HANZI:var w=a.readBits(4),E=a.readBits(v.getCharacterCountBits(n));w===t.GB2312_SUBSET&&t.decodeHanziSegment(a,o,E);break;default:var S=a.readBits(v.getCharacterCountBits(n));switch(v){case $t.NUMERIC:t.decodeNumericSegment(a,o,S);break;case $t.ALPHANUMERIC:t.decodeAlphanumericSegment(a,o,S,p);break;case $t.BYTE:t.decodeByteSegment(a,o,S,d,l,i);break;case $t.KANJI:t.decodeKanjiSegment(a,o,S);break;default:throw new ve}break}}while(v!==$t.TERMINATOR)}catch{throw new ve}return new Tv(e,o.toString(),l.length===0?null:l,r===null?null:r.toString(),c,f)},t.decodeHanziSegment=function(e,n,r){if(r*13>e.available())throw new ve;for(var i=new Uint8Array(2*r),a=0;r>0;){var o=e.readBits(13),l=o/96<<8&4294967295|o%96;l<959?l+=41377:l+=42657,i[a]=l>>8&255,i[a+1]=l&255,a+=2,r--}try{n.append(Zi.decode(i,lt.GB2312))}catch(c){throw new ve(c)}},t.decodeKanjiSegment=function(e,n,r){if(r*13>e.available())throw new ve;for(var i=new Uint8Array(2*r),a=0;r>0;){var o=e.readBits(13),l=o/192<<8&4294967295|o%192;l<7936?l+=33088:l+=49472,i[a]=l>>8,i[a+1]=l,a+=2,r--}try{n.append(Zi.decode(i,lt.SHIFT_JIS))}catch(c){throw new ve(c)}},t.decodeByteSegment=function(e,n,r,i,a,o){if(8*r>e.available())throw new ve;for(var l=new Uint8Array(r),c=0;c<r;c++)l[c]=e.readBits(8);var f;i===null?f=lt.guessEncoding(l,o):f=i.getName();try{n.append(Zi.decode(l,f))}catch(d){throw new ve(d)}a.push(l)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new ve;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,n,r,i){for(var a=n.length();r>1;){if(e.available()<11)throw new ve;var o=e.readBits(11);n.append(t.toAlphaNumericChar(Math.floor(o/45))),n.append(t.toAlphaNumericChar(o%45)),r-=2}if(r===1){if(e.available()<6)throw new ve;n.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var l=a;l<n.length();l++)n.charAt(l)==="%"&&(l<n.length()-1&&n.charAt(l+1)==="%"?n.deleteCharAt(l+1):n.setCharAt(l,""))},t.decodeNumericSegment=function(e,n,r){for(;r>=3;){if(e.available()<10)throw new ve;var i=e.readBits(10);if(i>=1e3)throw new ve;n.append(t.toAlphaNumericChar(Math.floor(i/100))),n.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),n.append(t.toAlphaNumericChar(i%10)),r-=3}if(r===2){if(e.available()<7)throw new ve;var a=e.readBits(7);if(a>=100)throw new ve;n.append(t.toAlphaNumericChar(Math.floor(a/10))),n.append(t.toAlphaNumericChar(a%10))}else if(r===1){if(e.available()<4)throw new ve;var o=e.readBits(4);if(o>=10)throw new ve;n.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var n=e.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){var r=e.readBits(8);return(n&63)<<8&4294967295|r}if((n&224)===192){var i=e.readBits(16);return(n&31)<<16&4294967295|i}throw new ve},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t})(),J5=(function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var n=e[0];e[0]=e[2],e[2]=n}},t})(),WI=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vW=(function(){function t(){this.rsDecoder=new Cv(ri.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,n){return this.decodeBitMatrix(io.parseFromBooleanArray(e),n)},t.prototype.decodeBitMatrix=function(e,n){var r=new dW(e),i=null;try{return this.decodeBitMatrixParser(r,n)}catch(o){i=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var a=this.decodeBitMatrixParser(r,n);return a.setOther(new J5(!0)),a}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,n){var r,i,a,o,l=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),f=e.readCodewords(),d=pW.getDataBlocks(f,l,c),p=0;try{for(var v=WI(d),m=v.next();!m.done;m=v.next()){var _=m.value;p+=_.getNumDataCodewords()}}catch(B){r={error:B}}finally{try{m&&!m.done&&(i=v.return)&&i.call(v)}finally{if(r)throw r.error}}var w=new Uint8Array(p),E=0;try{for(var S=WI(d),I=S.next();!I.done;I=S.next()){var _=I.value,R=_.getCodewords(),M=_.getNumDataCodewords();this.correctErrors(R,M);for(var k=0;k<M;k++)w[E++]=R[k]}}catch(B){a={error:B}}finally{try{I&&!I.done&&(o=S.return)&&o.call(S)}finally{if(a)throw a.error}}return gW.decode(w,l,c,n)},t.prototype.correctErrors=function(e,n){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new ar}for(var i=0;i<n;i++)e[i]=r[i]},t})(),mW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),yW=(function(t){mW(e,t);function e(n,r,i){var a=t.call(this,n,r)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(n,r,i){if(Math.abs(r-this.getY())<=n&&Math.abs(i-this.getX())<=n){var a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,r,i){var a=(this.getX()+r)/2,o=(this.getY()+n)/2,l=(this.estimatedModuleSize+i)/2;return new e(a,o,l)},e})(Te),xW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_W=(function(){function t(e,n,r,i,a,o,l){this.image=e,this.startX=n,this.startY=r,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,n=this.height,r=this.width,i=e+r,a=this.startY+n/2,o=new Int32Array(3),l=this.image,c=0;c<n;c++){var f=a+((c&1)===0?Math.floor((c+1)/2):-Math.floor((c+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var d=e;d<i&&!l.get(d,f);)d++;for(var p=0;d<i;){if(l.get(d,f))if(p===1)o[1]++;else if(p===2){if(this.foundPatternCross(o)){var v=this.handlePossibleCenter(o,f,d);if(v!==null)return v}o[0]=o[2],o[1]=1,o[2]=0,p=1}else o[++p]++;else p===1&&p++,o[p]++;d++}if(this.foundPatternCross(o)){var v=this.handlePossibleCenter(o,f,i);if(v!==null)return v}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ae},t.centerFromEnd=function(e,n){return n-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var n=this.moduleSize,r=n/2,i=0;i<3;i++)if(Math.abs(n-e[i])>=r)return!1;return!0},t.prototype.crossCheckVertical=function(e,n,r,i){var a=this.image,o=a.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;for(var c=e;c>=0&&a.get(n,c)&&l[1]<=r;)l[1]++,c--;if(c<0||l[1]>r)return NaN;for(;c>=0&&!a.get(n,c)&&l[0]<=r;)l[0]++,c--;if(l[0]>r)return NaN;for(c=e+1;c<o&&a.get(n,c)&&l[1]<=r;)l[1]++,c++;if(c===o||l[1]>r)return NaN;for(;c<o&&!a.get(n,c)&&l[2]<=r;)l[2]++,c++;if(l[2]>r)return NaN;var f=l[0]+l[1]+l[2];return 5*Math.abs(f-i)>=2*i?NaN:this.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.handlePossibleCenter=function(e,n,r){var i,a,o=e[0]+e[1]+e[2],l=t.centerFromEnd(e,r),c=this.crossCheckVertical(n,l,2*e[1],o);if(!isNaN(c)){var f=(e[0]+e[1]+e[2])/3;try{for(var d=xW(this.possibleCenters),p=d.next();!p.done;p=d.next()){var v=p.value;if(v.aboutEquals(f,c,l))return v.combineEstimate(c,l,f)}}catch(_){i={error:_}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}var m=new yW(l,c,f);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null},t})(),bW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),wW=(function(t){bW(e,t);function e(n,r,i,a){var o=t.call(this,n,r)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(n,r,i){if(Math.abs(r-this.getY())<=n&&Math.abs(i-this.getX())<=n){var a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,r,i){var a=this.count+1,o=(this.count*this.getX()+r)/a,l=(this.count*this.getY()+n)/a,c=(this.count*this.estimatedModuleSize+i)/a;return new e(o,l,c,a)},e})(Te),EW=(function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t})(),Uh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},AW=(function(){function t(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var n=e!=null&&e.get(Qt.TRY_HARDER)!==void 0,r=e!=null&&e.get(Qt.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),l=Math.floor(3*a/(4*t.MAX_MODULES));(l<t.MIN_SKIP||n)&&(l=t.MIN_SKIP);for(var c=!1,f=new Int32Array(5),d=l-1;d<a&&!c;d+=l){f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0;for(var p=0,v=0;v<o;v++)if(i.get(v,d))(p&1)===1&&p++,f[p]++;else if((p&1)===0)if(p===4)if(t.foundPatternCross(f)){var m=this.handlePossibleCenter(f,d,v,r);if(m===!0)if(l=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var _=this.findRowSkip();_>f[2]&&(d+=_-f[2]-l,v=o-1)}else{f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,p=3;continue}p=0,f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0}else f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,p=3;else f[++p]++;else f[p]++;if(t.foundPatternCross(f)){var m=this.handlePossibleCenter(f,d,o,r);m===!0&&(l=f[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var w=this.selectBestPatterns();return Te.orderBestPatterns(w),new EW(w)},t.centerFromEnd=function(e,n){return n-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var n=0,r=0;r<5;r++){var i=e[r];if(i===0)return!1;n+=i}if(n<7)return!1;var a=n/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,n,r,i){for(var a=this.getCrossCheckStateCount(),o=0,l=this.image;e>=o&&n>=o&&l.get(n-o,e-o);)a[2]++,o++;if(e<o||n<o)return!1;for(;e>=o&&n>=o&&!l.get(n-o,e-o)&&a[1]<=r;)a[1]++,o++;if(e<o||n<o||a[1]>r)return!1;for(;e>=o&&n>=o&&l.get(n-o,e-o)&&a[0]<=r;)a[0]++,o++;if(a[0]>r)return!1;var c=l.getHeight(),f=l.getWidth();for(o=1;e+o<c&&n+o<f&&l.get(n+o,e+o);)a[2]++,o++;if(e+o>=c||n+o>=f)return!1;for(;e+o<c&&n+o<f&&!l.get(n+o,e+o)&&a[3]<r;)a[3]++,o++;if(e+o>=c||n+o>=f||a[3]>=r)return!1;for(;e+o<c&&n+o<f&&l.get(n+o,e+o)&&a[4]<r;)a[4]++,o++;if(a[4]>=r)return!1;var d=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(d-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,n,r,i){for(var a=this.image,o=a.getHeight(),l=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(n,c);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(n,c)&&l[1]<=r;)l[1]++,c--;if(c<0||l[1]>r)return NaN;for(;c>=0&&a.get(n,c)&&l[0]<=r;)l[0]++,c--;if(l[0]>r)return NaN;for(c=e+1;c<o&&a.get(n,c);)l[2]++,c++;if(c===o)return NaN;for(;c<o&&!a.get(n,c)&&l[3]<r;)l[3]++,c++;if(c===o||l[3]>=r)return NaN;for(;c<o&&a.get(n,c)&&l[4]<r;)l[4]++,c++;if(l[4]>=r)return NaN;var f=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(f-i)>=2*i?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.crossCheckHorizontal=function(e,n,r,i){for(var a=this.image,o=a.getWidth(),l=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(c,n);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(c,n)&&l[1]<=r;)l[1]++,c--;if(c<0||l[1]>r)return NaN;for(;c>=0&&a.get(c,n)&&l[0]<=r;)l[0]++,c--;if(l[0]>r)return NaN;for(c=e+1;c<o&&a.get(c,n);)l[2]++,c++;if(c===o)return NaN;for(;c<o&&!a.get(c,n)&&l[3]<r;)l[3]++,c++;if(c===o||l[3]>=r)return NaN;for(;c<o&&a.get(c,n)&&l[4]<r;)l[4]++,c++;if(l[4]>=r)return NaN;var f=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(f-i)>=i?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.handlePossibleCenter=function(e,n,r,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,r),l=this.crossCheckVertical(n,Math.floor(o),e[2],a);if(!isNaN(l)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(l),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(l),Math.floor(o),e[2],a)))){for(var c=a/7,f=!1,d=this.possibleCenters,p=0,v=d.length;p<v;p++){var m=d[p];if(m.aboutEquals(c,l,o)){d[p]=m.combineEstimate(l,o,c),f=!0;break}}if(!f){var _=new wW(o,l,c);d.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return!0}return!1},t.prototype.findRowSkip=function(){var e,n,r=this.possibleCenters.length;if(r<=1)return 0;var i=null;try{for(var a=Uh(this.possibleCenters),o=a.next();!o.done;o=a.next()){var l=o.value;if(l.getCount()>=t.CENTER_QUORUM)if(i==null)i=l;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-l.getX())-Math.abs(i.getY()-l.getY()))/2)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,n,r,i,a=0,o=0,l=this.possibleCenters.length;try{for(var c=Uh(this.possibleCenters),f=c.next();!f.done;f=c.next()){var d=f.value;d.getCount()>=t.CENTER_QUORUM&&(a++,o+=d.getEstimatedModuleSize())}}catch(w){e={error:w}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}if(a<3)return!1;var p=o/l,v=0;try{for(var m=Uh(this.possibleCenters),_=m.next();!_.done;_=m.next()){var d=_.value;v+=Math.abs(d.getEstimatedModuleSize()-p)}}catch(w){r={error:w}}finally{try{_&&!_.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}return v<=.05*o},t.prototype.selectBestPatterns=function(){var e,n,r,i,a=this.possibleCenters.length;if(a<3)throw new ae;var o=this.possibleCenters,l;if(a>3){var c=0,f=0;try{for(var d=Uh(this.possibleCenters),p=d.next();!p.done;p=d.next()){var v=p.value,m=v.getEstimatedModuleSize();c+=m,f+=m*m}}catch(k){e={error:k}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}l=c/a;var _=Math.sqrt(f/a-l*l);o.sort(function(k,B){var D=Math.abs(B.getEstimatedModuleSize()-l),N=Math.abs(k.getEstimatedModuleSize()-l);return D<N?-1:D>N?1:0});for(var w=Math.max(.2*l,_),E=0;E<o.length&&o.length>3;E++){var S=o[E];Math.abs(S.getEstimatedModuleSize()-l)>w&&(o.splice(E,1),E--)}}if(o.length>3){var c=0;try{for(var I=Uh(o),R=I.next();!R.done;R=I.next()){var M=R.value;c+=M.getEstimatedModuleSize()}}catch(B){r={error:B}}finally{try{R&&!R.done&&(i=I.return)&&i.call(I)}finally{if(r)throw r.error}}l=c/o.length,o.sort(function(B,D){if(D.getCount()===B.getCount()){var N=Math.abs(D.getEstimatedModuleSize()-l),L=Math.abs(B.getEstimatedModuleSize()-l);return N<L?1:N>L?-1:0}else return D.getCount()-B.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t})(),SW=(function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Qt.NEED_RESULT_POINT_CALLBACK);var n=new AW(this.image,this.resultPointCallback),r=n.find(e);return this.processFinderPatternInfo(r)},t.prototype.processFinderPatternInfo=function(e){var n=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(n,r,i);if(a<1)throw new ae("No pattern found in proccess finder.");var o=t.computeDimension(n,r,i,a),l=wu.getProvisionalVersionForDimension(o),c=l.getDimensionForVersion()-7,f=null;if(l.getAlignmentPatternCenters().length>0)for(var d=r.getX()-n.getX()+i.getX(),p=r.getY()-n.getY()+i.getY(),v=1-3/c,m=Math.floor(n.getX()+v*(d-n.getX())),_=Math.floor(n.getY()+v*(p-n.getY())),w=4;w<=16;w<<=1)try{f=this.findAlignmentInRegion(a,m,_,w);break}catch(R){if(!(R instanceof ae))throw R}var E=t.createTransform(n,r,i,f,o),S=t.sampleGrid(this.image,E,o),I;return f===null?I=[i,n,r]:I=[i,n,r,f],new eE(S,I)},t.createTransform=function(e,n,r,i,a){var o=a-3.5,l,c,f,d;return i!==null?(l=i.getX(),c=i.getY(),f=o-3,d=f):(l=n.getX()-e.getX()+r.getX(),c=n.getY()-e.getY()+r.getY(),f=o,d=o),K5.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,f,d,3.5,o,e.getX(),e.getY(),n.getX(),n.getY(),l,c,r.getX(),r.getY())},t.sampleGrid=function(e,n,r){var i=tE.getInstance();return i.sampleGridWithTransform(e,r,r,n)},t.computeDimension=function(e,n,r,i){var a=dt.round(Te.distance(e,n)/i),o=dt.round(Te.distance(e,r)/i),l=Math.floor((a+o)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new ae("Dimensions could be not found.")}return l},t.prototype.calculateModuleSize=function(e,n,r){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,r))/2},t.prototype.calculateModuleSizeOneWay=function(e,n){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,n,r,i){var a=this.sizeOfBlackWhiteBlackRun(e,n,r,i),o=1,l=e-(r-e);l<0?(o=e/(e-l),l=0):l>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(l-e),l=this.image.getWidth()-1);var c=Math.floor(n-(i-n)*o);return o=1,c<0?(o=n/(n-c),c=0):c>=this.image.getHeight()&&(o=(this.image.getHeight()-1-n)/(c-n),c=this.image.getHeight()-1),l=Math.floor(e+(l-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,n,l,c),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,n,r,i){var a=Math.abs(i-n)>Math.abs(r-e);if(a){var o=e;e=n,n=o,o=r,r=i,i=o}for(var l=Math.abs(r-e),c=Math.abs(i-n),f=-l/2,d=e<r?1:-1,p=n<i?1:-1,v=0,m=r+d,_=e,w=n;_!==m;_+=d){var E=a?w:_,S=a?_:w;if(v===1===this.image.get(E,S)){if(v===2)return dt.distance(_,w,e,n);v++}if(f+=c,f>0){if(w===i)break;w+=p,f-=l}}return v===2?dt.distance(r+d,i,e,n):NaN},t.prototype.findAlignmentInRegion=function(e,n,r,i){var a=Math.floor(i*e),o=Math.max(0,n-a),l=Math.min(this.image.getWidth()-1,n+a);if(l-o<e*3)throw new ae("Alignment top exceeds estimated module size.");var c=Math.max(0,r-a),f=Math.min(this.image.getHeight()-1,r+a);if(f-c<e*3)throw new ae("Alignment bottom exceeds estimated module size.");var d=new _W(this.image,o,c,l-o,f-c,e,this.resultPointCallback);return d.find()},t})(),Q_=(function(){function t(){this.decoder=new vW}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,n){var r,i;if(n!=null&&n.get(Qt.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(a,n),i=t.NO_POINTS}else{var o=new SW(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(o.getBits(),n),i=o.getPoints()}r.getOther()instanceof J5&&r.getOther().applyMirroredCorrection(i);var l=new jr(r.getText(),r.getRawBytes(),void 0,i,Ne.QR_CODE,void 0),c=r.getByteSegments();c!==null&&l.putMetadata(Er.BYTE_SEGMENTS,c);var f=r.getECLevel();return f!==null&&l.putMetadata(Er.ERROR_CORRECTION_LEVEL,f),r.hasStructuredAppend()&&(l.putMetadata(Er.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),l.putMetadata(Er.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n===null||r===null)throw new ae;var i=this.moduleSize(n,e),a=n[1],o=r[1],l=n[0],c=r[0];if(l>=c||a>=o)throw new ae;if(o-a!==c-l&&(c=l+(o-a),c>=e.getWidth()))throw new ae;var f=Math.round((c-l+1)/i),d=Math.round((o-a+1)/i);if(f<=0||d<=0)throw new ae;if(d!==f)throw new ae;var p=Math.floor(i/2);a+=p,l+=p;var v=l+Math.floor((f-1)*i)-c;if(v>0){if(v>p)throw new ae;l-=v}var m=a+Math.floor((d-1)*i)-o;if(m>0){if(m>p)throw new ae;a-=m}for(var _=new io(f,d),w=0;w<d;w++)for(var E=a+Math.floor(w*i),S=0;S<f;S++)e.get(l+Math.floor(S*i),E)&&_.set(S,w);return _},t.moduleSize=function(e,n){for(var r=n.getHeight(),i=n.getWidth(),a=e[0],o=e[1],l=!0,c=0;a<i&&o<r;){if(l!==n.get(a,o)){if(++c===5)break;l=!l}a++,o++}if(a===i||o===r)throw new ae;return(a-e[0])/7},t.NO_POINTS=new Array,t})(),TW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ct=(function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return dt.sum(e)},t.toIntArray=function(e){var n,r;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=TW(e),l=o.next();!l.done;l=o.next()){var c=l.value;i[a++]=c}}catch(f){n={error:f}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},t.getCodeword=function(e){var n=qn.binarySearch(t.SYMBOL_TABLE,e&262143);return n<0?-1:(t.CODEWORD_TABLE[n]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t})(),CW=(function(){function t(e,n){this.bits=e,this.points=n}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),IW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},OW=(function(){function t(){}return t.detectMultiple=function(e,n,r){var i=e.getBlackMatrix(),a=t.detect(r,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(r,i)),new CW(i,a)},t.detect=function(e,n){for(var r,i,a=new Array,o=0,l=0,c=!1;o<n.getHeight();){var f=t.findVertices(n,o,l);if(f[0]==null&&f[3]==null){if(!c)break;c=!1,l=0;try{for(var d=(r=void 0,IW(a)),p=d.next();!p.done;p=d.next()){var v=p.value;v[1]!=null&&(o=Math.trunc(Math.max(o,v[1].getY()))),v[3]!=null&&(o=Math.max(o,Math.trunc(v[3].getY())))}}catch(m){r={error:m}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}o+=t.ROW_STEP;continue}if(c=!0,a.push(f),!e)break;f[2]!=null?(l=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(l=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return a},t.findVertices=function(e,n,r){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,a,n,r,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(r=Math.trunc(o[4].getX()),n=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,a,n,r,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,n,r){for(var i=0;i<r.length;i++)e[r[i]]=n[i]},t.findRowsWithPattern=function(e,n,r,i,a,o){for(var l=new Array(4),c=!1,f=new Int32Array(o.length);i<n;i+=t.ROW_STEP){var d=t.findGuardPattern(e,a,i,r,!1,o,f);if(d!=null){for(;i>0;){var p=t.findGuardPattern(e,a,--i,r,!1,o,f);if(p!=null)d=p;else{i++;break}}l[0]=new Te(d[0],i),l[1]=new Te(d[1],i),c=!0;break}}var v=i+1;if(c){for(var m=0,p=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);v<n;v++){var d=t.findGuardPattern(e,p[0],v,r,!1,o,f);if(d!=null&&Math.abs(p[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(p[1]-d[1])<t.MAX_PATTERN_DRIFT)p=d,m=0;else{if(m>t.SKIPPED_ROW_COUNT_MAX)break;m++}}v-=m+1,l[2]=new Te(p[0],v),l[3]=new Te(p[1],v)}return v-i<t.BARCODE_MIN_HEIGHT&&qn.fill(l,null),l},t.findGuardPattern=function(e,n,r,i,a,o,l){qn.fillWithin(l,0,l.length,0);for(var c=n,f=0;e.get(c,r)&&c>0&&f++<t.MAX_PIXEL_DRIFT;)c--;for(var d=c,p=0,v=o.length,m=a;d<i;d++){var _=e.get(d,r);if(_!==m)l[p]++;else{if(p===v-1){if(t.patternMatchVariance(l,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([c,d]);c+=l[0]+l[1],Vt.arraycopy(l,2,l,0,p-1),l[p-1]=0,l[p]=0,p--}else p++;l[p]=1,m=!m}}return p===v-1&&t.patternMatchVariance(l,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([c,d-1]):null},t.patternMatchVariance=function(e,n,r){for(var i=e.length,a=0,o=0,l=0;l<i;l++)a+=e[l],o+=n[l];if(a<o)return 1/0;var c=a/o;r*=c;for(var f=0,d=0;d<i;d++){var p=e[d],v=n[d]*c,m=p>v?p-v:v-p;if(m>r)return 1/0;f+=m}return f/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t})(),RW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gu=(function(){function t(e,n){if(n.length===0)throw new Me;this.field=e;var r=n.length;if(r>1&&n[0]===0){for(var i=1;i<r&&n[i]===0;)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),Vt.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var n,r;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=RW(this.coefficients),o=a.next();!o.done;o=a.next()){var l=o.value;i=this.field.add(i,l)}}catch(p){n={error:p}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i}for(var c=this.coefficients[0],f=this.coefficients.length,d=1;d<f;d++)c=this.field.add(this.field.multiply(e,c),this.coefficients[d]);return c},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Me("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var i=n;n=r,r=i}var a=new Int32Array(r.length),o=r.length-n.length;Vt.arraycopy(r,0,a,0,o);for(var l=o;l<r.length;l++)a[l]=this.field.add(n[l-o],r[l]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Me("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Me("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var n=this.coefficients,r=n.length,i=e.coefficients,a=i.length,o=new Int32Array(r+a-1),l=0;l<r;l++)for(var c=n[l],f=0;f<a;f++)o[l+f]=this.field.add(o[l+f],this.field.multiply(c,i[f]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,n=new Int32Array(e),r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new t(this.field,n)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var n=this.coefficients.length,r=new Int32Array(n),i=0;i<n;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,r)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new Me;if(n===0)return new t(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),a=0;a<r;a++)i[a]=this.field.multiply(this.coefficients[a],n);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Xe,n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(n===0||r!==1)&&e.append(r),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()},t})(),PW=(function(){function t(){}return t.prototype.add=function(e,n){return(e+n)%this.modulus},t.prototype.subtract=function(e,n){return(this.modulus+e-n)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Me;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new G5;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t})(),DW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),NW=(function(t){DW(e,t);function e(n,r){var i=t.call(this)||this;i.modulus=n,i.expTable=new Int32Array(n),i.logTable=new Int32Array(n);for(var a=1,o=0;o<n;o++)i.expTable[o]=a,a=a*r%n;for(var o=0;o<n-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new gu(i,new Int32Array([0])),i.one=new gu(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,r){if(n<0)throw new Me;if(r===0)return this.zero;var i=new Int32Array(n+1);return i[0]=r,new gu(this,i)},e.PDF417_GF=new e(ct.NUMBER_OF_CODEWORDS,3),e})(PW),MW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kW=(function(){function t(){this.field=NW.PDF417_GF}return t.prototype.decode=function(e,n,r){for(var i,a,o=new gu(this.field,e),l=new Int32Array(n),c=!1,f=n;f>0;f--){var d=o.evaluateAt(this.field.exp(f));l[n-f]=d,d!==0&&(c=!0)}if(!c)return 0;var p=this.field.getOne();if(r!=null)try{for(var v=MW(r),m=v.next();!m.done;m=v.next()){var _=m.value,w=this.field.exp(e.length-1-_),E=new gu(this.field,new Int32Array([this.field.subtract(0,w),1]));p=p.multiply(E)}}catch(N){i={error:N}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}for(var S=new gu(this.field,l),I=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),S,n),R=I[0],M=I[1],k=this.findErrorLocations(R),B=this.findErrorMagnitudes(M,R,k),f=0;f<k.length;f++){var D=e.length-1-this.field.log(k[f]);if(D<0)throw ar.getChecksumInstance();e[D]=this.field.subtract(e[D],B[f])}return k.length},t.prototype.runEuclideanAlgorithm=function(e,n,r){if(e.getDegree()<n.getDegree()){var i=e;e=n,n=i}for(var a=e,o=n,l=this.field.getZero(),c=this.field.getOne();o.getDegree()>=Math.round(r/2);){var f=a,d=l;if(a=o,l=c,a.isZero())throw ar.getChecksumInstance();o=f;for(var p=this.field.getZero(),v=a.getCoefficient(a.getDegree()),m=this.field.inverse(v);o.getDegree()>=a.getDegree()&&!o.isZero();){var _=o.getDegree()-a.getDegree(),w=this.field.multiply(o.getCoefficient(o.getDegree()),m);p=p.add(this.field.buildMonomial(_,w)),o=o.subtract(a.multiplyByMonomial(_,w))}c=p.multiply(l).subtract(d).negative()}var E=c.getCoefficient(0);if(E===0)throw ar.getChecksumInstance();var S=this.field.inverse(E),I=c.multiply(S),R=o.multiply(S);return[I,R]},t.prototype.findErrorLocations=function(e){for(var n=e.getDegree(),r=new Int32Array(n),i=0,a=1;a<this.field.getSize()&&i<n;a++)e.evaluateAt(a)===0&&(r[i]=this.field.inverse(a),i++);if(i!==n)throw ar.getChecksumInstance();return r},t.prototype.findErrorMagnitudes=function(e,n,r){for(var i=n.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,n.getCoefficient(o));for(var l=new gu(this.field,a),c=r.length,f=new Int32Array(c),o=0;o<c;o++){var d=this.field.inverse(r[o]),p=this.field.subtract(0,e.evaluateAt(d)),v=this.field.inverse(l.evaluateAt(d));f[o]=this.field.multiply(p,v)}return f},t})(),Z_=(function(){function t(e,n,r,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,n,r,i,a)}return t.prototype.constructor_1=function(e,n,r,i,a){var o=n==null||r==null,l=i==null||a==null;if(o&&l)throw new ae;o?(n=new Te(0,i.getY()),r=new Te(0,a.getY())):l&&(i=new Te(e.getWidth()-1,n.getY()),a=new Te(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=n,this.bottomLeft=r,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(n.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,n){return e==null?n:n==null?e:new t(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)},t.prototype.addMissingRows=function(e,n,r){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,l=this.bottomRight;if(e>0){var c=r?this.topLeft:this.topRight,f=Math.trunc(c.getY()-e);f<0&&(f=0);var d=new Te(c.getX(),f);r?i=d:o=d}if(n>0){var p=r?this.bottomLeft:this.bottomRight,v=Math.trunc(p.getY()+n);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);var m=new Te(p.getX(),v);r?a=m:l=m}return new t(this.image,i,a,o,l)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t})(),LW=(function(){function t(e,n,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t})(),rE=(function(){function t(){this.buffer=""}return t.form=function(e,n){var r=-1;function i(o,l,c,f,d,p){if(o==="%%")return"%";if(n[++r]!==void 0){o=f?parseInt(f.substr(1)):void 0;var v=d?parseInt(d.substr(1)):void 0,m;switch(p){case"s":m=n[r];break;case"c":m=n[r][0];break;case"f":m=parseFloat(n[r]).toFixed(o);break;case"p":m=parseFloat(n[r]).toPrecision(o);break;case"e":m=parseFloat(n[r]).toExponential(o);break;case"x":m=parseInt(n[r]).toString(v||16);break;case"d":m=parseFloat(parseInt(n[r],v||10).toPrecision(o)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(v);for(var _=parseInt(c),w=c&&c[0]+""=="0"?"0":" ";m.length<_;)m=l!==void 0?m+w:w+m;return m}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.buffer+=t.form(e,n)},t.prototype.toString=function(){return this.buffer},t})(),jW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eN=(function(){function t(e){this.boundingBox=new Z_(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var n=this.getCodeword(e);if(n!=null)return n;for(var r=1;r<t.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&(n=this.codewords[i],n!=null)||(i=this.imageRowToCodewordIndex(e)+r,i<this.codewords.length&&(n=this.codewords[i],n!=null)))return n}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,n,r=new rE,i=0;try{for(var a=jW(this.codewords),o=a.next();!o.done;o=a.next()){var l=o.value;if(l==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,l.getRowNumber(),l.getValue())}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r.toString()},t.MAX_NEARBY_DISTANCE=5,t})(),BW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},VW=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},od=(function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)},t.prototype.getValue=function(){var e,n,r=-1,i=new Array,a=function(p,v){var m={getKey:function(){return p},getValue:function(){return v}};m.getValue()>r?(r=m.getValue(),i=[],i.push(m.getKey())):m.getValue()===r&&i.push(m.getKey())};try{for(var o=BW(this.values.entries()),l=o.next();!l.done;l=o.next()){var c=VW(l.value,2),f=c[0],d=c[1];a(f,d)}}catch(p){e={error:p}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return ct.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t})(),FW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),P2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XI=(function(t){FW(e,t);function e(n,r){var i=t.call(this,n)||this;return i._isLeft=r,i}return e.prototype.setRowNumbers=function(){var n,r;try{for(var i=P2(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o?.setRowNumberAsRowIndicatorColumn()}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(n){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,n);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=-1,d=1,p=0,v=l;v<c;v++)if(r[v]!=null){var m=r[v],_=m.getRowNumber()-f;if(_===0)p++;else if(_===1)d=Math.max(d,p),p=1,f=m.getRowNumber();else if(_<0||m.getRowNumber()>=n.getRowCount()||_>v)r[v]=null;else{var w=void 0;d>2?w=(d-2)*_:w=_;for(var E=w>=v,S=1;S<=w&&!E;S++)E=r[v-S]!=null;E?r[v]=null:(f=m.getRowNumber(),p=1)}}},e.prototype.getRowHeights=function(){var n,r,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=P2(this.getCodewords()),l=o.next();!l.done;l=o.next()){var c=l.value;if(c!=null){var f=c.getRowNumber();if(f>=a.length)continue;a[f]++}}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(n){for(var r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),a=this._isLeft?r.getBottomLeft():r.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.getCodewords(),f=-1,d=o;d<l;d++)if(c[d]!=null){var p=c[d];p.setRowNumberAsRowIndicatorColumn();var v=p.getRowNumber()-f;v===0||(v===1?f=p.getRowNumber():p.getRowNumber()>=n.getRowCount()?c[d]=null:f=p.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var n,r,i=this.getCodewords(),a=new od,o=new od,l=new od,c=new od;try{for(var f=P2(i),d=f.next();!d.done;d=f.next()){var p=d.value;if(p!=null){p.setRowNumberAsRowIndicatorColumn();var v=p.getValue()%30,m=p.getRowNumber();switch(this._isLeft||(m+=2),m%3){case 0:o.setValue(v*3+1);break;case 1:c.setValue(v/3),l.setValue(v%3);break;case 2:a.setValue(v+1);break}}}}catch(w){n={error:w}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}if(a.getValue().length===0||o.getValue().length===0||l.getValue().length===0||c.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<ct.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>ct.MAX_ROWS_IN_BARCODE)return null;var _=new LW(a.getValue()[0],o.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(i,_),_},e.prototype.removeIncorrectCodewords=function(n,r){for(var i=0;i<n.length;i++){var a=n[i];if(n[i]!=null){var o=a.getValue()%30,l=a.getRowNumber();if(l>r.getRowCount()){n[i]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:o*3+1!==r.getRowCountUpperPart()&&(n[i]=null);break;case 1:(Math.trunc(o/3)!==r.getErrorCorrectionLevel()||o%3!==r.getRowCountLowerPart())&&(n[i]=null);break;case 2:o+1!==r.getColumnCount()&&(n[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e})(eN),UW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zW=(function(){function t(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=ct.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var n=1;n<this.barcodeColumnCount+1;n++)for(var r=this.detectionResultColumns[n].getCodewords(),i=0;i<r.length;i++)r[i]!=null&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(n,i,r));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null&&n[r]!=null&&e[r].getRowNumber()===n[r].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[r];a!=null&&(a.setRowNumber(e[r].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<n.length;r++)if(n[r]!=null)for(var i=n[r].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var l=this.detectionResultColumns[o].getCodewords()[r];l!=null&&(a=t.adjustRowNumberIfValid(i,a,l),l.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,n=this.detectionResultColumns[0].getCodewords(),r=0;r<n.length;r++)if(n[r]!=null)for(var i=n[r].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var l=this.detectionResultColumns[o].getCodewords()[r];l!=null&&(a=t.adjustRowNumberIfValid(i,a,l),l.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),n=0):++n),n},t.prototype.adjustRowNumbers=function(e,n,r){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=r[n],l=this.detectionResultColumns[e-1].getCodewords(),c=l;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var f=new Array(14);f[2]=l[n],f[3]=c[n],n>0&&(f[0]=r[n-1],f[4]=l[n-1],f[5]=c[n-1]),n>1&&(f[8]=r[n-2],f[10]=l[n-2],f[11]=c[n-2]),n<r.length-1&&(f[1]=r[n+1],f[6]=l[n+1],f[7]=c[n+1]),n<r.length-2&&(f[9]=r[n+2],f[12]=l[n+2],f[13]=c[n+2]);try{for(var d=UW(f),p=d.next();!p.done;p=d.next()){var v=p.value;if(t.adjustRowNumber(o,v))return}}catch(m){i={error:m}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,n){this.detectionResultColumns[e]=n},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var n=new rE,r=0;r<e.getCodewords().length;r++){n.format("CW %3d:",r);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){n.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[r];if(a==null){n.format("    |   ");continue}n.format(" %3d|%3d",a.getRowNumber(),a.getValue())}n.format("%n")}return n.toString()},t})(),HW=(function(){function t(e,n,r,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t})(),$W=(function(){function t(){}return t.initialize=function(){for(var e=0;e<ct.SYMBOL_TABLE.length;e++)for(var n=ct.SYMBOL_TABLE[e],r=n&1,i=0;i<ct.BARS_IN_MODULE;i++){for(var a=0;(n&1)===r;)a+=1,n>>=1;r=n&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(ct.BARS_IN_MODULE)),t.RATIOS_TABLE[e][ct.BARS_IN_MODULE-i-1]=Math.fround(a/ct.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var n=t.getDecodedCodewordValue(t.sampleBitCounts(e));return n!==-1?n:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var n=dt.sum(e),r=new Int32Array(ct.BARS_IN_MODULE),i=0,a=0,o=0;o<ct.MODULES_IN_CODEWORD;o++){var l=n/(2*ct.MODULES_IN_CODEWORD)+o*n/ct.MODULES_IN_CODEWORD;a+e[i]<=l&&(a+=e[i],i++),r[i]++}return r},t.getDecodedCodewordValue=function(e){var n=t.getBitValue(e);return ct.getCodeword(n)===-1?-1:n},t.getBitValue=function(e){for(var n=0,r=0;r<e.length;r++)for(var i=0;i<e[r];i++)n=n<<1|(r%2===0?1:0);return Math.trunc(n)},t.getClosestDecodedValue=function(e){var n=dt.sum(e),r=new Array(ct.BARS_IN_MODULE);if(n>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/n);var a=G_.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var l=0;l<t.RATIOS_TABLE.length;l++){for(var c=0,f=t.RATIOS_TABLE[l],d=0;d<ct.BARS_IN_MODULE;d++){var p=Math.fround(f[d]-r[d]);if(c+=Math.fround(p*p),c>=a)break}c<a&&(a=c,o=ct.SYMBOL_TABLE[l])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(ct.SYMBOL_TABLE.length).map(function(e){return new Array(ct.BARS_IN_MODULE)}),t})(),qW=(function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t})(),YI=(function(){function t(){}return t.parseLong=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},t})(),GW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),KW=(function(t){GW(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e})(ai),WW=(function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,n,r){if(e==null)throw new KW;if(n<0||n>e.length||r<0||n+r>e.length||n+r<0)throw new Zw;if(r===0)return;for(var i=0;i<r;i++)this.write(e[n+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t})(),XW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),YW=(function(t){XW(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(ai),QW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ZW=(function(t){QW(e,t);function e(n){n===void 0&&(n=32);var r=t.call(this)||this;if(r.count=0,n<0)throw new Me("Negative initial size: "+n);return r.buf=new Uint8Array(n),r}return e.prototype.ensureCapacity=function(n){n-this.buf.length>0&&this.grow(n)},e.prototype.grow=function(n){var r=this.buf.length,i=r<<1;if(i-n<0&&(i=n),i<0){if(n<0)throw new YW;i=Ye.MAX_VALUE}this.buf=qn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1},e.prototype.writeBytesOffset=function(n,r,i){if(r<0||r>n.length||i<0||r+i-n.length>0)throw new Zw;this.ensureCapacity(this.count+i),Vt.arraycopy(n,r,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(n){n.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return qn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(n){return new String(this.buf).toString()},e.prototype.toString_number=function(n){return new String(this.buf).toString()},e.prototype.close=function(){},e})(WW),Mt;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Mt||(Mt={}));function tN(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var i1;function zs(t){if(typeof i1>"u"&&(i1=tN()),i1===null)throw new Error("BigInt is not supported!");return i1(t)}function JW(){var t=[];t[0]=zs(1);var e=zs(900);t[1]=e;for(var n=2;n<16;n++)t[n]=t[n-1]*e;return t}var eX=(function(){function t(){}return t.decode=function(e,n){var r=new Xe(""),i=$n.ISO8859_1;r.enableDecoding(i);for(var a=1,o=e[a++],l=new qW;a<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,r);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(o,e,i,a,r);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,r);break;case t.ECI_CHARSET:$n.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,l);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new ve;default:a--,a=t.textCompaction(e,a,r);break}if(a<e.length)o=e[a++];else throw ve.getFormatInstance()}if(r.length()===0)throw ve.getFormatInstance();var c=new Tv(null,r.toString(),null,n);return c.setOther(l),c},t.decodeMacroBlock=function(e,n,r){if(n+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw ve.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,n++)i[a]=e[n];r.setSegmentIndex(Ye.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new Xe;n=t.textCompaction(e,n,o),r.setFileId(o.toString());var l=-1;for(e[n]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=n+1);n<e[0];)switch(e[n]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new Xe;n=t.textCompaction(e,n+1,c),r.setFileName(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var f=new Xe;n=t.textCompaction(e,n+1,f),r.setSender(f.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new Xe;n=t.textCompaction(e,n+1,d),r.setAddressee(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var p=new Xe;n=t.numericCompaction(e,n+1,p),r.setSegmentCount(Ye.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var v=new Xe;n=t.numericCompaction(e,n+1,v),r.setTimestamp(YI.parseLong(v.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var m=new Xe;n=t.numericCompaction(e,n+1,m),r.setChecksum(Ye.parseInt(m.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var _=new Xe;n=t.numericCompaction(e,n+1,_),r.setFileSize(YI.parseLong(_.toString()));break;default:throw ve.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw ve.getFormatInstance()}if(l!==-1){var w=n-l;r.isLastSegment()&&w--,r.setOptionalData(qn.copyOfRange(e,l,l+w))}return n},t.textCompaction=function(e,n,r){for(var i=new Int32Array((e[0]-n)*2),a=new Int32Array((e[0]-n)*2),o=0,l=!1;n<e[0]&&!l;){var c=e[n++];if(c<t.TEXT_COMPACTION_MODE_LATCH)i[o]=c/30,i[o+1]=c%30,o+=2;else switch(c){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,l=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[n++],a[o]=c,o++;break}}return t.decodeTextCompaction(i,a,o,r),n},t.decodeTextCompaction=function(e,n,r,i){for(var a=Mt.ALPHA,o=Mt.ALPHA,l=0;l<r;){var c=e[l],f="";switch(a){case Mt.ALPHA:if(c<26)f=String.fromCharCode(65+c);else switch(c){case 26:f=" ";break;case t.LL:a=Mt.LOWER;break;case t.ML:a=Mt.MIXED;break;case t.PS:o=a,a=Mt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Mt.ALPHA;break}break;case Mt.LOWER:if(c<26)f=String.fromCharCode(97+c);else switch(c){case 26:f=" ";break;case t.AS:o=a,a=Mt.ALPHA_SHIFT;break;case t.ML:a=Mt.MIXED;break;case t.PS:o=a,a=Mt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Mt.ALPHA;break}break;case Mt.MIXED:if(c<t.PL)f=t.MIXED_CHARS[c];else switch(c){case t.PL:a=Mt.PUNCT;break;case 26:f=" ";break;case t.LL:a=Mt.LOWER;break;case t.AL:a=Mt.ALPHA;break;case t.PS:o=a,a=Mt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Mt.ALPHA;break}break;case Mt.PUNCT:if(c<t.PAL)f=t.PUNCT_CHARS[c];else switch(c){case t.PAL:a=Mt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Mt.ALPHA;break}break;case Mt.ALPHA_SHIFT:if(a=o,c<26)f=String.fromCharCode(65+c);else switch(c){case 26:f=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=Mt.ALPHA;break}break;case Mt.PUNCT_SHIFT:if(a=o,c<t.PAL)f=t.PUNCT_CHARS[c];else switch(c){case t.PAL:a=Mt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Mt.ALPHA;break}break}f!==""&&i.append(f),l++}},t.byteCompaction=function(e,n,r,i,a){var o=new ZW,l=0,c=0,f=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),p=n[i++];i<n[0]&&!f;)switch(d[l++]=p,c=900*c+p,p=n[i++],p){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,f=!0;break;default:if(l%5===0&&l>0){for(var v=0;v<6;++v)o.write(Number(zs(c)>>zs(8*(5-v))));c=0,l=0}break}i===n[0]&&p<t.TEXT_COMPACTION_MODE_LATCH&&(d[l++]=p);for(var m=0;m<l;m++)o.write(d[m]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<n[0]&&!f;){var _=n[i++];if(_<t.TEXT_COMPACTION_MODE_LATCH)l++,c=900*c+_;else switch(_){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,f=!0;break}if(l%5===0&&l>0){for(var v=0;v<6;++v)o.write(Number(zs(c)>>zs(8*(5-v))));c=0,l=0}}break}return a.append(Zi.decode(o.toByteArray(),r)),i},t.numericCompaction=function(e,n,r){for(var i=0,a=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);n<e[0]&&!a;){var l=e[n++];if(n===e[0]&&(a=!0),l<t.TEXT_COMPACTION_MODE_LATCH)o[i]=l,i++;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||l===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(r.append(t.decodeBase900toBase10(o,i)),i=0)}return n},t.decodeBase900toBase10=function(e,n){for(var r=zs(0),i=0;i<n;i++)r+=t.EXP900[n-i-1]*zs(e[i]);var a=r.toString();if(a.charAt(0)!=="1")throw new ve;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=tN()?JW():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t})(),zh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tX=(function(){function t(){}return t.decode=function(e,n,r,i,a,o,l){for(var c=new Z_(e,n,r,i,a),f=null,d=null,p,v=!0;;v=!1){if(n!=null&&(f=t.getRowIndicatorColumn(e,c,n,!0,o,l)),i!=null&&(d=t.getRowIndicatorColumn(e,c,i,!1,o,l)),p=t.merge(f,d),p==null)throw ae.getNotFoundInstance();var m=p.getBoundingBox();if(v&&m!=null&&(m.getMinY()<c.getMinY()||m.getMaxY()>c.getMaxY()))c=m;else break}p.setBoundingBox(c);var _=p.getBarcodeColumnCount()+1;p.setDetectionResultColumn(0,f),p.setDetectionResultColumn(_,d);for(var w=f!=null,E=1;E<=_;E++){var S=w?E:_-E;if(p.getDetectionResultColumn(S)===void 0){var I=void 0;S===0||S===_?I=new XI(c,S===0):I=new eN(c),p.setDetectionResultColumn(S,I);for(var R=-1,M=R,k=c.getMinY();k<=c.getMaxY();k++){if(R=t.getStartColumn(p,S,k,w),R<0||R>c.getMaxX()){if(M===-1)continue;R=M}var B=t.detectCodeword(e,c.getMinX(),c.getMaxX(),w,R,k,o,l);B!=null&&(I.setCodeword(k,B),M=R,o=Math.min(o,B.getWidth()),l=Math.max(l,B.getWidth()))}}}return t.createDecoderResult(p)},t.merge=function(e,n){if(e==null&&n==null)return null;var r=t.getBarcodeMetadata(e,n);if(r==null)return null;var i=Z_.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(n));return new zW(r,i)},t.adjustBoundingBox=function(e){var n,r;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),o=0;try{for(var l=zh(i),c=l.next();!c.done;c=l.next()){var f=c.value;if(o+=a-f,f>0)break}}catch(m){n={error:m}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}for(var d=e.getCodewords(),p=0;o>0&&d[p]==null;p++)o--;for(var v=0,p=i.length-1;p>=0&&(v+=a-i[p],!(i[p]>0));p--);for(var p=d.length-1;v>0&&d[p]==null;p--)v--;return e.getBoundingBox().addMissingRows(o,v,e.isLeft())},t.getMax=function(e){var n,r,i=-1;try{for(var a=zh(e),o=a.next();!o.done;o=a.next()){var l=o.value;i=Math.max(i,l)}}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},t.getBarcodeMetadata=function(e,n){var r;if(e==null||(r=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();var i;return n==null||(i=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r},t.getRowIndicatorColumn=function(e,n,r,i,a,o){for(var l=new XI(n,i),c=0;c<2;c++)for(var f=c===0?1:-1,d=Math.trunc(Math.trunc(r.getX())),p=Math.trunc(Math.trunc(r.getY()));p<=n.getMaxY()&&p>=n.getMinY();p+=f){var v=t.detectCodeword(e,0,e.getWidth(),i,d,p,a,o);v!=null&&(l.setCodeword(p,v),i?d=v.getStartX():d=v.getEndX())}return l},t.adjustCodewordCount=function(e,n){var r=n[0][1],i=r.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>ct.MAX_CODEWORDS_IN_BARCODE)throw ae.getNotFoundInstance();r.setValue(a)}else i[0]!==a&&r.setValue(a)},t.createDecoderResult=function(e){var n=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,n);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,l=0;l<e.getBarcodeRowCount();l++)for(var c=0;c<e.getBarcodeColumnCount();c++){var f=n[l][c+1].getValue(),d=l*e.getBarcodeColumnCount()+c;f.length===0?r.push(d):f.length===1?i[d]=f[0]:(o.push(d),a.push(f))}for(var p=new Array(a.length),v=0;v<p.length;v++)p[v]=a[v];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,ct.toIntArray(r),ct.toIntArray(o),p)},t.createDecoderResultFromAmbiguousValues=function(e,n,r,i,a){for(var o=new Int32Array(i.length),l=100;l-- >0;){for(var c=0;c<o.length;c++)n[i[c]]=a[c][o[c]];try{return t.decodeCodewords(n,e,r)}catch(d){var f=d instanceof ar;if(!f)throw d}if(o.length===0)throw ar.getChecksumInstance();for(var c=0;c<o.length;c++)if(o[c]<a[c].length-1){o[c]++;break}else if(o[c]=0,c===o.length-1)throw ar.getChecksumInstance()}throw ar.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var n,r,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),l=0;l<o.length;l++)for(var c=0;c<o[l].length;c++)o[l][c]=new od;var f=0;try{for(var d=zh(e.getDetectionResultColumns()),p=d.next();!p.done;p=d.next()){var v=p.value;if(v!=null)try{for(var m=(i=void 0,zh(v.getCodewords())),_=m.next();!_.done;_=m.next()){var w=_.value;if(w!=null){var E=w.getRowNumber();if(E>=0){if(E>=o.length)continue;o[E][f].setValue(w.getValue())}}}}catch(S){i={error:S}}finally{try{_&&!_.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}f++}}catch(S){n={error:S}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return o},t.isValidBarcodeColumn=function(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,n,r,i){var a,o,l=i?1:-1,c=null;if(t.isValidBarcodeColumn(e,n-l)&&(c=e.getDetectionResultColumn(n-l).getCodeword(r)),c!=null)return i?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(n).getCodewordNearby(r),c!=null)return i?c.getStartX():c.getEndX();if(t.isValidBarcodeColumn(e,n-l)&&(c=e.getDetectionResultColumn(n-l).getCodewordNearby(r)),c!=null)return i?c.getEndX():c.getStartX();for(var f=0;t.isValidBarcodeColumn(e,n-l);){n-=l;try{for(var d=(a=void 0,zh(e.getDetectionResultColumn(n).getCodewords())),p=d.next();!p.done;p=d.next()){var v=p.value;if(v!=null)return(i?v.getEndX():v.getStartX())+l*f*(v.getEndX()-v.getStartX())}}catch(m){a={error:m}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}f++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,n,r,i,a,o,l,c){a=t.adjustCodewordStartColumn(e,n,r,i,a,o);var f=t.getModuleBitCount(e,n,r,i,a,o);if(f==null)return null;var d,p=dt.sum(f);if(i)d=a+p;else{for(var v=0;v<f.length/2;v++){var m=f[v];f[v]=f[f.length-1-v],f[f.length-1-v]=m}d=a,a=d-p}if(!t.checkCodewordSkew(p,l,c))return null;var _=$W.getDecodedValue(f),w=ct.getCodeword(_);return w===-1?null:new HW(a,d,t.getCodewordBucketNumber(_),w)},t.getModuleBitCount=function(e,n,r,i,a,o){for(var l=a,c=new Int32Array(8),f=0,d=i?1:-1,p=i;(i?l<r:l>=n)&&f<c.length;)e.get(l,o)===p?(c[f]++,l+=d):(f++,p=!p);return f===c.length||l===(i?r:n)&&f===c.length-1?c:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,n,r,i,a,o){for(var l=a,c=i?-1:1,f=0;f<2;f++){for(;(i?l>=n:l<r)&&i===e.get(l,o);){if(Math.abs(a-l)>t.CODEWORD_SKEW_SIZE)return a;l+=c}c=-c,i=!i}return l},t.checkCodewordSkew=function(e,n,r){return n-t.CODEWORD_SKEW_SIZE<=e&&e<=r+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,n,r){if(e.length===0)throw ve.getFormatInstance();var i=1<<n+1,a=t.correctErrors(e,r,i);t.verifyCodewordCount(e,i);var o=eX.decode(e,""+n);return o.setErrorsCorrected(a),o.setErasures(r.length),o},t.correctErrors=function(e,n,r){if(n!=null&&n.length>r/2+t.MAX_ERRORS||r<0||r>t.MAX_EC_CODEWORDS)throw ar.getChecksumInstance();return t.errorCorrection.decode(e,r,n)},t.verifyCodewordCount=function(e,n){if(e.length<4)throw ve.getFormatInstance();var r=e[0];if(r>e.length)throw ve.getFormatInstance();if(r===0)if(n<e.length)e[0]=e.length-n;else throw ve.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var n=new Int32Array(8),r=0,i=n.length-1;!((e&1)!==r&&(r=e&1,i--,i<0));)n[i]++,e>>=1;return n},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var n=new rE,r=0;r<e.length;r++){n.format("Row %2d: ",r);for(var i=0;i<e[r].length;i++){var a=e[r][i];a.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}n.format("%n")}return n.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new kW,t})(),nX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},J_=(function(){function t(){}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r=t.decode(e,n,!1);if(r==null||r.length===0||r[0]==null)throw ae.getNotFoundInstance();return r[0]},t.prototype.decodeMultiple=function(e,n){n===void 0&&(n=null);try{return t.decode(e,n,!0)}catch(r){throw r instanceof ve||r instanceof ar?ae.getNotFoundInstance():r}},t.decode=function(e,n,r){var i,a,o=new Array,l=OW.detectMultiple(e,n,r);try{for(var c=nX(l.getPoints()),f=c.next();!f.done;f=c.next()){var d=f.value,p=tX.decode(l.getBits(),d[4],d[5],d[6],d[7],t.getMinCodewordWidth(d),t.getMaxCodewordWidth(d)),v=new jr(p.getText(),p.getRawBytes(),void 0,d,Ne.PDF_417);v.putMetadata(Er.ERROR_CORRECTION_LEVEL,p.getECLevel());var m=p.getOther();m!=null&&v.putMetadata(Er.PDF417_EXTRA_METADATA,m),o.push(v)}}catch(_){i={error:_}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return o.map(function(_){return _})},t.getMaxWidth=function(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))},t.getMinWidth=function(e,n){return e==null||n==null?Ye.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*ct.MODULES_IN_CODEWORD/ct.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*ct.MODULES_IN_CODEWORD/ct.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*ct.MODULES_IN_CODEWORD/ct.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*ct.MODULES_IN_CODEWORD/ct.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t})(),rX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),QI=(function(t){rX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e})(ai),ZI=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iX=(function(){function t(){}return t.prototype.decode=function(e,n){return this.setHints(n),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var n=e!=null&&e.get(Qt.TRY_HARDER)!==void 0,r=e==null?null:e.get(Qt.POSSIBLE_FORMATS),i=new Array;if(r!=null){var a=r.some(function(o){return o===Ne.UPC_A||o===Ne.UPC_E||o===Ne.EAN_13||o===Ne.EAN_8||o===Ne.CODABAR||o===Ne.CODE_39||o===Ne.CODE_93||o===Ne.CODE_128||o===Ne.ITF||o===Ne.RSS_14||o===Ne.RSS_EXPANDED});a&&!n&&i.push(new ad(e)),r.includes(Ne.QR_CODE)&&i.push(new Q_),r.includes(Ne.DATA_MATRIX)&&i.push(new Y_),r.includes(Ne.AZTEC)&&i.push(new W_),r.includes(Ne.PDF_417)&&i.push(new J_),a&&n&&i.push(new ad(e))}i.length===0&&(n||i.push(new ad(e)),i.push(new Q_),i.push(new Y_),i.push(new W_),i.push(new J_),n&&i.push(new ad(e))),this.readers=i},t.prototype.reset=function(){var e,n;if(this.readers!==null)try{for(var r=ZI(this.readers),i=r.next();!i.done;i=r.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var n,r;if(this.readers===null)throw new QI("No readers where selected, nothing can be read.");try{for(var i=ZI(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(l){if(l instanceof QI)continue}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}throw new ae("No MultiFormat Readers were able to detect the code.")},t})(),aX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),oX=(function(t){aX(e,t);function e(n,r){n===void 0&&(n=null),r===void 0&&(r=500);var i=this,a=new iX;return a.setHints(n),i=t.call(this,a,r)||this,i}return e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},e})(Sf),sX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){sX(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new J_,n)||this}return e})(Sf);var lX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){lX(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new Q_,n)||this}return e})(Sf);var eb;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(eb||(eb={}));const a1=eb;var nN=(function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new rl(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var n=this.cachedGenerators;if(e>=n.length)for(var r=n[n.length-1],i=this.field,a=n.length;a<=e;a++){var o=r.multiply(new rl(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));n.push(o),r=o}return n[e]},t.prototype.encode=function(e,n){if(n===0)throw new Me("No error correction bytes");var r=e.length-n;if(r<=0)throw new Me("No data bytes provided");var i=this.buildGenerator(n),a=new Int32Array(r);Vt.arraycopy(e,0,a,0,r);var o=new rl(this.field,a);o=o.multiplyByMonomial(n,1);for(var l=o.divide(i)[1],c=l.getCoefficients(),f=n-c.length,d=0;d<f;d++)e[r+d]=0;Vt.arraycopy(c,0,e,r+f,c.length)},t})(),sd=(function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var l=r[o],c=0;c<i-1;c++){var f=l[c];f===l[c+1]&&f===r[o+1][c]&&f===r[o+1][c+1]&&n++}return t.N2*n},t.applyMaskPenaltyRule3=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var l=0;l<i;l++){var c=r[o];l+6<i&&c[l]===1&&c[l+1]===0&&c[l+2]===1&&c[l+3]===1&&c[l+4]===1&&c[l+5]===0&&c[l+6]===1&&(t.isWhiteHorizontal(c,l-4,l)||t.isWhiteHorizontal(c,l+7,l+11))&&n++,o+6<a&&r[o][l]===1&&r[o+1][l]===0&&r[o+2][l]===1&&r[o+3][l]===1&&r[o+4][l]===1&&r[o+5][l]===0&&r[o+6][l]===1&&(t.isWhiteVertical(r,l,o-4,o)||t.isWhiteVertical(r,l,o+7,o+11))&&n++}return n*t.N3},t.isWhiteHorizontal=function(e,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(var i=n;i<r;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,n,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(var a=r;a<i;a++)if(e[a][n]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var l=r[o],c=0;c<i;c++)l[c]===1&&n++;var f=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(n*2-f)*10/f);return d*t.N4},t.getDataMaskBit=function(e,n,r){var i,a;switch(e){case 0:i=r+n&1;break;case 1:i=r&1;break;case 2:i=n%3;break;case 3:i=(r+n)%3;break;case 4:i=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:a=r*n,i=(a&1)+a%3;break;case 6:a=r*n,i=(a&1)+a%3&1;break;case 7:a=r*n,i=a%3+(r+n&1)&1;break;default:throw new Me("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,n){for(var r=0,i=n?e.getHeight():e.getWidth(),a=n?e.getWidth():e.getHeight(),o=e.getArray(),l=0;l<i;l++){for(var c=0,f=-1,d=0;d<a;d++){var p=n?o[l][d]:o[d][l];p===f?c++:(c>=5&&(r+=t.N1+(c-5)),c=1,f=p)}c>=5&&(r+=t.N1+(c-5))}return r},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t})(),uX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cX=(function(){function t(e,n){this.width=e,this.height=n;for(var r=new Array(n),i=0;i!==n;i++)r[i]=new Uint8Array(e);this.bytes=r}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,n){return this.bytes[n][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,n,r){this.bytes[n][e]=r},t.prototype.setBoolean=function(e,n,r){this.bytes[n][e]=r?1:0},t.prototype.clear=function(e){var n,r;try{for(var i=uX(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;qn.fill(o,e)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var a=this.bytes[r],o=n.bytes[r],l=0,c=this.width;l<c;++l)if(a[l]!==o[l])return!1;return!0},t.prototype.toString=function(){for(var e=new Xe,n=0,r=this.height;n<r;++n){for(var i=this.bytes[n],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t})(),tb=(function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Xe;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t})(),fX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ht=(function(t){fX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e})(ai),JI=(function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,n,r,i,a){t.clearMatrix(a),t.embedBasicPatterns(r,a),t.embedTypeInfo(n,i,a),t.maybeEmbedVersionInfo(r,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,n){t.embedPositionDetectionPatternsAndSeparators(n),t.embedDarkDotAtLeftBottomCorner(n),t.maybeEmbedPositionAdjustmentPatterns(e,n),t.embedTimingPatterns(n)},t.embedTypeInfo=function(e,n,r){var i=new or;t.makeTypeInfoBits(e,n,i);for(var a=0,o=i.getSize();a<o;++a){var l=i.get(i.getSize()-1-a),c=t.TYPE_INFO_COORDINATES[a],f=c[0],d=c[1];if(r.setBoolean(f,d,l),a<8){var p=r.getWidth()-a-1,v=8;r.setBoolean(p,v,l)}else{var p=8,v=r.getHeight()-7+(a-8);r.setBoolean(p,v,l)}}},t.maybeEmbedVersionInfo=function(e,n){if(!(e.getVersionNumber()<7)){var r=new or;t.makeVersionInfoBits(e,r);for(var i=17,a=0;a<6;++a)for(var o=0;o<3;++o){var l=r.get(i);i--,n.setBoolean(a,n.getHeight()-11+o,l),n.setBoolean(n.getHeight()-11+o,a,l)}}},t.embedDataBits=function(e,n,r){for(var i=0,a=-1,o=r.getWidth()-1,l=r.getHeight()-1;o>0;){for(o===6&&(o-=1);l>=0&&l<r.getHeight();){for(var c=0;c<2;++c){var f=o-c;if(t.isEmpty(r.get(f,l))){var d=void 0;i<e.getSize()?(d=e.get(i),++i):d=!1,n!==255&&sd.getDataMaskBit(n,f,l)&&(d=!d),r.setBoolean(f,l,d)}}l+=a}a=-a,l+=a,o-=2}if(i!==e.getSize())throw new Ht("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-Ye.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,n){if(n===0)throw new Me("0 polynomial");var r=t.findMSBSet(n);for(e<<=r-1;t.findMSBSet(e)>=r;)e^=n<<t.findMSBSet(e)-r;return e},t.makeTypeInfoBits=function(e,n,r){if(!tb.isValidMaskPattern(n))throw new Ht("Invalid mask pattern");var i=e.getBits()<<3|n;r.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);r.appendBits(a,10);var o=new or;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),r.xor(o),r.getSize()!==15)throw new Ht("should not happen but we got: "+r.getSize())},t.makeVersionInfoBits=function(e,n){n.appendBits(e.getVersionNumber(),6);var r=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new Ht("should not happen but we got: "+n.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var n=8;n<e.getWidth()-8;++n){var r=(n+1)%2;t.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),t.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Ht;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,n,r){for(var i=0;i<8;++i){if(!t.isEmpty(r.get(e+i,n)))throw new Ht;r.setNumber(e+i,n,0)}},t.embedVerticalSeparationPattern=function(e,n,r){for(var i=0;i<7;++i){if(!t.isEmpty(r.get(e,n+i)))throw new Ht;r.setNumber(e,n+i,0)}},t.embedPositionAdjustmentPattern=function(e,n,r){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)r.setNumber(e+o,n+i,a[o])},t.embedPositionDetectionPattern=function(e,n,r){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)r.setNumber(e+o,n+i,a[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var n=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-n,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-n,e);var r=8;t.embedHorizontalSeparationPattern(0,r-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,n){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],a=0,o=i.length;a!==o;a++){var l=i[a];if(l>=0)for(var c=0;c!==o;c++){var f=i[c];f>=0&&t.isEmpty(n.get(f,l))&&t.embedPositionAdjustmentPattern(f-2,l-2,n)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t})(),hX=(function(){function t(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t})(),eO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return sd.applyMaskPenaltyRule1(e)+sd.applyMaskPenaltyRule2(e)+sd.applyMaskPenaltyRule3(e)+sd.applyMaskPenaltyRule4(e)},t.encode=function(e,n,r){r===void 0&&(r=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=r!==null&&r.get(a1.CHARACTER_SET)!==void 0;a&&(i=r.get(a1.CHARACTER_SET).toString());var o=this.chooseMode(e,i),l=new or;if(o===$t.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var c=$n.getCharacterSetECIByName(i);c!==void 0&&this.appendECI(c,l)}this.appendModeInfo(o,l);var f=new or;this.appendBytes(e,o,f,i);var d;if(r!==null&&r.get(a1.QR_VERSION)!==void 0){var p=Number.parseInt(r.get(a1.QR_VERSION).toString(),10);d=wu.getVersionForNumber(p);var v=this.calculateBitsNeeded(o,l,f,d);if(!this.willFit(v,d,n))throw new Ht("Data too big for requested version")}else d=this.recommendVersion(n,o,l,f);var m=new or;m.appendBitArray(l);var _=o===$t.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(_,d,o,m),m.appendBitArray(f);var w=d.getECBlocksForLevel(n),E=d.getTotalCodewords()-w.getTotalECCodewords();this.terminateBits(E,m);var S=this.interleaveWithECBytes(m,d.getTotalCodewords(),E,w.getNumBlocks()),I=new tb;I.setECLevel(n),I.setMode(o),I.setVersion(d);var R=d.getDimensionForVersion(),M=new cX(R,R),k=this.chooseMaskPattern(S,n,d,M);return I.setMaskPattern(k),JI.buildMatrix(S,n,d,k,M),I.setMatrix(M),I},t.recommendVersion=function(e,n,r,i){var a=this.calculateBitsNeeded(n,r,i,wu.getVersionForNumber(1)),o=this.chooseVersion(a,e),l=this.calculateBitsNeeded(n,r,i,o);return this.chooseVersion(l,e)},t.calculateBitsNeeded=function(e,n,r,i){return n.getSize()+e.getCharacterCountBits(i)+r.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,n){if(n===void 0&&(n=null),$n.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return $t.KANJI;for(var r=!1,i=!1,a=0,o=e.length;a<o;++a){var l=e.charAt(a);if(t.isDigit(l))r=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)i=!0;else return $t.BYTE}return i?$t.ALPHANUMERIC:r?$t.NUMERIC:$t.BYTE},t.isOnlyDoubleByteKanji=function(e){var n;try{n=Zi.encode(e,$n.SJIS)}catch{return!1}var r=n.length;if(r%2!==0)return!1;for(var i=0;i<r;i+=2){var a=n[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,n,r,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,l=0;l<tb.NUM_MASK_PATTERNS;l++){JI.buildMatrix(e,n,r,l,i);var c=this.calculateMaskPenalty(i);c<a&&(a=c,o=l)}return o},t.chooseVersion=function(e,n){for(var r=1;r<=40;r++){var i=wu.getVersionForNumber(r);if(t.willFit(e,i,n))return i}throw new Ht("Data too big")},t.willFit=function(e,n,r){var i=n.getTotalCodewords(),a=n.getECBlocksForLevel(r),o=a.getTotalECCodewords(),l=i-o,c=(e+7)/8;return l>=c},t.terminateBits=function(e,n){var r=e*8;if(n.getSize()>r)throw new Ht("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(var i=0;i<4&&n.getSize()<r;++i)n.appendBit(!1);var a=n.getSize()&7;if(a>0)for(var i=a;i<8;i++)n.appendBit(!1);for(var o=e-n.getSizeInBytes(),i=0;i<o;++i)n.appendBits((i&1)===0?236:17,8);if(n.getSize()!==r)throw new Ht("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,n,r,i,a,o){if(i>=r)throw new Ht("Block ID too large");var l=e%r,c=r-l,f=Math.floor(e/r),d=f+1,p=Math.floor(n/r),v=p+1,m=f-p,_=d-v;if(m!==_)throw new Ht("EC bytes mismatch");if(r!==c+l)throw new Ht("RS blocks mismatch");if(e!==(p+m)*c+(v+_)*l)throw new Ht("Total bytes mismatch");i<c?(a[0]=p,o[0]=m):(a[0]=v,o[0]=_)},t.interleaveWithECBytes=function(e,n,r,i){var a,o,l,c;if(e.getSizeInBytes()!==r)throw new Ht("Number of bits and data bytes does not match");for(var f=0,d=0,p=0,v=new Array,m=0;m<i;++m){var _=new Int32Array(1),w=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(n,r,i,m,_,w);var E=_[0],S=new Uint8Array(E);e.toBytes(8*f,S,0,E);var I=t.generateECBytes(S,w[0]);v.push(new hX(S,I)),d=Math.max(d,E),p=Math.max(p,I.length),f+=_[0]}if(r!==f)throw new Ht("Data bytes does not match offset");for(var R=new or,m=0;m<d;++m)try{for(var M=(a=void 0,eO(v)),k=M.next();!k.done;k=M.next()){var B=k.value,S=B.getDataBytes();m<S.length&&R.appendBits(S[m],8)}}catch(z){a={error:z}}finally{try{k&&!k.done&&(o=M.return)&&o.call(M)}finally{if(a)throw a.error}}for(var m=0;m<p;++m)try{for(var D=(l=void 0,eO(v)),N=D.next();!N.done;N=D.next()){var B=N.value,I=B.getErrorCorrectionBytes();m<I.length&&R.appendBits(I[m],8)}}catch(z){l={error:z}}finally{try{N&&!N.done&&(c=D.return)&&c.call(D)}finally{if(l)throw l.error}}if(n!==R.getSizeInBytes())throw new Ht("Interleaving error: "+n+" and "+R.getSizeInBytes()+" differ.");return R},t.generateECBytes=function(e,n){for(var r=e.length,i=new Int32Array(r+n),a=0;a<r;a++)i[a]=e[a]&255;new nN(ri.QR_CODE_FIELD_256).encode(i,n);for(var o=new Uint8Array(n),a=0;a<n;a++)o[a]=i[r+a];return o},t.appendModeInfo=function(e,n){n.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,n,r,i){var a=r.getCharacterCountBits(n);if(e>=1<<a)throw new Ht(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,n,r,i){switch(n){case $t.NUMERIC:t.appendNumericBytes(e,r);break;case $t.ALPHANUMERIC:t.appendAlphanumericBytes(e,r);break;case $t.BYTE:t.append8BitBytes(e,r,i);break;case $t.KANJI:t.appendKanjiBytes(e,r);break;default:throw new Ht("Invalid mode: "+n)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var n=t.getDigit(e);return n>=0&&n<=9},t.appendNumericBytes=function(e,n){for(var r=e.length,i=0;i<r;){var a=t.getDigit(e.charAt(i));if(i+2<r){var o=t.getDigit(e.charAt(i+1)),l=t.getDigit(e.charAt(i+2));n.appendBits(a*100+o*10+l,10),i+=3}else if(i+1<r){var o=t.getDigit(e.charAt(i+1));n.appendBits(a*10+o,7),i+=2}else n.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,n){for(var r=e.length,i=0;i<r;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Ht;if(i+1<r){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new Ht;n.appendBits(a*45+o,11),i+=2}else n.appendBits(a,6),i++}},t.append8BitBytes=function(e,n,r){var i;try{i=Zi.encode(e,r)}catch(c){throw new Ht(c)}for(var a=0,o=i.length;a!==o;a++){var l=i[a];n.appendBits(l,8)}},t.appendKanjiBytes=function(e,n){var r;try{r=Zi.encode(e,$n.SJIS)}catch(p){throw new Ht(p)}for(var i=r.length,a=0;a<i;a+=2){var o=r[a]&255,l=r[a+1]&255,c=o<<8&4294967295|l,f=-1;if(c>=33088&&c<=40956?f=c-33088:c>=57408&&c<=60351&&(f=c-49472),f===-1)throw new Ht("Invalid byte sequence");var d=(f>>8)*192+(f&255);n.appendBits(d,13)}},t.appendECI=function(e,n){n.appendBits($t.ECI.getBits(),4),n.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=$n.UTF8.getName(),t})();var dX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){dX(e,t);function e(n,r,i,a,o,l,c,f){var d=t.call(this,l,c)||this;if(d.yuvData=n,d.dataWidth=r,d.dataHeight=i,d.left=a,d.top=o,a+l>r||o+c>i)throw new Me("Crop rectangle does not fit within image data.");return f&&d.reverseHorizontal(l,c),d}return e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new Me("Requested row is outside the image: "+n);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(n+this.top)*this.dataWidth+this.left;return Vt.arraycopy(this.yuvData,a,r,0,i),r},e.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.yuvData;var i=n*r,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return Vt.arraycopy(this.yuvData,o,a,0,i),a;for(var l=0;l<r;l++){var c=l*n;Vt.arraycopy(this.yuvData,o,a,c,n),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+r,i,a,!1)},e.prototype.renderThumbnail=function(){for(var n=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(n*r),a=this.yuvData,o=this.top*this.dataWidth+this.left,l=0;l<r;l++){for(var c=l*n,f=0;f<n;f++){var d=a[o+f*e.THUMBNAIL_SCALE_FACTOR]&255;i[c+f]=4278190080|d*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(n,r){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<r;a++,o+=this.dataWidth)for(var l=o+n/2,c=o,f=o+n-1;c<l;c++,f--){var d=i[c];i[c]=i[f],i[f]=d}},e.prototype.invert=function(){return new Jw(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Sv);var pX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){pX(e,t);function e(n,r,i,a,o,l,c){var f=t.call(this,r,i)||this;if(f.dataWidth=a,f.dataHeight=o,f.left=l,f.top=c,n.BYTES_PER_ELEMENT===4){for(var d=r*i,p=new Uint8ClampedArray(d),v=0;v<d;v++){var m=n[v],_=m>>16&255,w=m>>7&510,E=m&255;p[v]=(_+w+E)/4&255}f.luminances=p}else f.luminances=n;if(a===void 0&&(f.dataWidth=r),o===void 0&&(f.dataHeight=i),l===void 0&&(f.left=0),c===void 0&&(f.top=0),f.left+r>f.dataWidth||f.top+i>f.dataHeight)throw new Me("Crop rectangle does not fit within image data.");return f}return e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new Me("Requested row is outside the image: "+n);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(n+this.top)*this.dataWidth+this.left;return Vt.arraycopy(this.luminances,a,r,0,i),r},e.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.luminances;var i=n*r,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return Vt.arraycopy(this.luminances,o,a,0,i),a;for(var l=0;l<r;l++){var c=l*n;Vt.arraycopy(this.luminances,o,a,c,n),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+n,this.top+r)},e.prototype.invert=function(){return new Jw(this)},e})(Sv);var gX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),vX=(function(t){gX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(n){return this.getCharacterSetECIByName(n)},e})($n),mX=(function(){function t(){}return t.ISO_8859_1=$n.ISO8859_1,t})(),nb,yX=301,xX=function(t,e){for(var n=1,r=0;r<255;r++)e[r]=n,t[n]=r,n*=2,n>=256&&(n^=yX);return{LOG:t,ALOG:e}};nb=xX([],[]),nb.LOG;nb.ALOG;var tO;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(tO||(tO={}));var nO=129,rN=230,_X=231,bX=235,wX=236,EX=237,AX=238,SX=239,TX=240,D2=254,CX=254,rO="[)>05",iO="[)>06",aO="",Ct=0,yr=1,Hr=2,Un=3,nr=4,Or=5,IX=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Ct},t.prototype.encode=function(e){var n=ya.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(n>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var r=e.getCurrentChar(),i=ya.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Or:e.writeCodeword(_X),e.signalEncoderChange(Or);return;case yr:e.writeCodeword(rN),e.signalEncoderChange(yr);return;case Un:e.writeCodeword(AX),e.signalEncoderChange(Un);break;case Hr:e.writeCodeword(SX),e.signalEncoderChange(Hr);break;case nr:e.writeCodeword(TX),e.signalEncoderChange(nr);break;default:throw new Error("Illegal mode: "+i)}else ya.isExtendedASCII(r)?(e.writeCodeword(bX),e.writeCodeword(r-128+1),e.pos++):(e.writeCodeword(r+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,n){if(ya.isDigit(e)&&ya.isDigit(n)){var r=(e-48)*10+(n-48);return r+130}throw new Error("not digits: "+e+n)},t})(),OX=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Or},t.prototype.encode=function(e){var n=new Xe;for(n.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();n.append(r),e.pos++;var i=ya.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Ct);break}}var a=n.length()-1,o=1,l=e.getCodewordCount()+a+o;e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l>0;if(e.hasMoreCharacters()||c)if(a<=249)n.setCharAt(0,lt.getCharAt(a));else if(a<=1555)n.setCharAt(0,lt.getCharAt(Math.floor(a/250)+249)),n.insert(1,lt.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var f=0,r=n.length();f<r;f++)e.writeCodeword(this.randomize255State(n.charAt(f).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,n){var r=149*n%255+1,i=e+r;return i<=255?i:i-256},t})(),iE=(function(){function t(){}return t.prototype.getEncodingMode=function(){return yr},t.prototype.encodeMaximal=function(e){for(var n=new Xe,r=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,r=this.encodeChar(o,n),n.length()%3===0&&(i=e.pos,a=n.length())}if(a!==n.length()){var l=Math.floor(n.length()/3*2),c=Math.floor(e.getCodewordCount()+l+1);e.updateSymbolInfo(c);var f=e.getSymbolInfo().getDataCapacity()-c,d=Math.floor(n.length()%3);(d===2&&f!==2||d===1&&(r>3||f!==1))&&(e.pos=i)}n.length()>0&&e.writeCodeword(rN),this.handleEOD(e,n)},t.prototype.encode=function(e){for(var n=new Xe;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var i=this.encodeChar(r,n),a=Math.floor(n.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var l=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var c=new Xe;for(n.length()%3===2&&l!==2&&(i=this.backtrackOneCharacter(e,n,c,i));n.length()%3===1&&(i>3||l!==1);)i=this.backtrackOneCharacter(e,n,c,i);break}var f=n.length();if(f%3===0){var d=ya.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(Ct);break}}}this.handleEOD(e,n)},t.prototype.backtrackOneCharacter=function(e,n,r,i){var a=n.length(),o=n.toString().substring(0,a-i);n.setLengthToZero(),n.append(o),e.pos--;var l=e.getCurrentChar();return i=this.encodeChar(l,r),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,n){e.writeCodewords(this.encodeToCodewords(n.toString()));var r=n.toString().substring(3);n.setLengthToZero(),n.append(r)},t.prototype.handleEOD=function(e,n){var r=Math.floor(n.length()/3*2),i=n.length()%3,a=e.getCodewordCount()+r;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(n.append("\0");n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(D2)}else if(o===1&&i===1){for(;n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(D2),e.pos--}else if(i===0){for(;n.length()>=3;)this.writeNextTriplet(e,n);(o>0||e.hasMoreCharacters())&&e.writeCodeword(D2)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Ct)},t.prototype.encodeChar=function(e,n){if(e===32)return n.append(3),1;if(e>=48&&e<=57)return n.append(e-48+4),1;if(e>=65&&e<=90)return n.append(e-65+14),1;if(e<32)return n.append(0),n.append(e),2;if(e<=47)return n.append(1),n.append(e-33),2;if(e<=64)return n.append(1),n.append(e-58+15),2;if(e<=95)return n.append(1),n.append(e-91+22),2;if(e<=127)return n.append(2),n.append(e-96),2;n.append("1");var r=2;return r+=this.encodeChar(e-128,n),r},t.prototype.encodeToCodewords=function(e){var n=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=n/256,i=n%256,a=new Xe;return a.append(r),a.append(i),a.toString()},t})(),RX=(function(){function t(){}return t.prototype.getEncodingMode=function(){return nr},t.prototype.encode=function(e){for(var n=new Xe;e.hasMoreCharacters();){var r=e.getCurrentChar();this.encodeChar(r,n),e.pos++;var i=n.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(n.toString()));var a=n.toString().substring(4);n.setLengthToZero(),n.append(a);var o=ya.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(Ct);break}}}n.append(lt.getCharAt(31)),this.handleEOD(e,n)},t.prototype.handleEOD=function(e,n){try{var r=n.length();if(r===0)return;if(r===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(r>4)throw new Error("Count must not exceed 4");var o=r-1,l=this.encodeToCodewords(n.toString()),c=!e.hasMoreCharacters(),f=c&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(f=!1,e.updateSymbolInfo(e.getCodewordCount()+l.length))}f?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(l)}finally{e.signalEncoderChange(Ct)}},t.prototype.encodeChar=function(e,n){e>=32&&e<=63?n.append(e):e>=64&&e<=94?n.append(lt.getCharAt(e-64)):ya.illegalCharacter(lt.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var n=e.length;if(n===0)throw new Error("StringBuilder must not be empty");var r=e.charAt(0).charCodeAt(0),i=n>=2?e.charAt(1).charCodeAt(0):0,a=n>=3?e.charAt(2).charCodeAt(0):0,o=n>=4?e.charAt(3).charCodeAt(0):0,l=(r<<18)+(i<<12)+(a<<6)+o,c=l>>16&255,f=l>>8&255,d=l&255,p=new Xe;return p.append(c),n>=2&&p.append(f),n>=3&&p.append(d),p.toString()},t})(),PX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),DX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xt=(function(){function t(e,n,r,i,a,o,l,c){l===void 0&&(l=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=n,this.errorCodewords=r,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=l,this.rsBlockError=c}return t.lookup=function(e,n,r,i,a){var o,l;n===void 0&&(n=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var c=DX(MX),f=c.next();!f.done;f=c.next()){var d=f.value;if(!(n===1&&d.rectangular)&&!(n===2&&!d.rectangular)&&!(r!=null&&(d.getSymbolWidth()<r.getWidth()||d.getSymbolHeight()<r.getHeight()))&&!(i!=null&&(d.getSymbolWidth()>i.getWidth()||d.getSymbolHeight()>i.getHeight()))&&e<=d.dataCapacity)return d}}catch(p){o={error:p}}finally{try{f&&!f.done&&(l=c.return)&&l.call(c)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t})(),NX=(function(t){PX(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(n){return n<=8?156:155},e})(xt),MX=[new xt(!1,3,5,8,8,1),new xt(!1,5,7,10,10,1),new xt(!0,5,7,16,6,1),new xt(!1,8,10,12,12,1),new xt(!0,10,11,14,6,2),new xt(!1,12,12,14,14,1),new xt(!0,16,14,24,10,1),new xt(!1,18,14,16,16,1),new xt(!1,22,18,18,18,1),new xt(!0,22,18,16,10,2),new xt(!1,30,20,20,20,1),new xt(!0,32,24,16,14,2),new xt(!1,36,24,22,22,1),new xt(!1,44,28,24,24,1),new xt(!0,49,28,22,14,2),new xt(!1,62,36,14,14,4),new xt(!1,86,42,16,16,4),new xt(!1,114,48,18,18,4),new xt(!1,144,56,20,20,4),new xt(!1,174,68,22,22,4),new xt(!1,204,84,24,24,4,102,42),new xt(!1,280,112,14,14,16,140,56),new xt(!1,368,144,16,16,16,92,36),new xt(!1,456,192,18,18,16,114,48),new xt(!1,576,224,20,20,16,144,56),new xt(!1,696,272,22,22,16,174,68),new xt(!1,816,336,24,24,16,136,56),new xt(!1,1050,408,18,18,36,175,68),new xt(!1,1304,496,20,20,36,163,62),new NX],kX=(function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var n=e.split("").map(function(l){return l.charCodeAt(0)}),r=new Xe,i=0,a=n.length;i<a;i++){var o=String.fromCharCode(n[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(o)}this.msg=r.toString(),this.shape=0,this.codewords=new Xe,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,n){this.minSize=e,this.maxSize=n},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=xt.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t})(),LX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),jX=(function(t){LX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Un},e.prototype.encode=function(n){for(var r=new Xe;n.hasMoreCharacters();){var i=n.getCurrentChar();n.pos++,this.encodeChar(i,r);var a=r.length();if(a%3===0){this.writeNextTriplet(n,r);var o=ya.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){n.signalEncoderChange(Ct);break}}}this.handleEOD(n,r)},e.prototype.encodeChar=function(n,r){switch(n){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:n>=48&&n<=57?r.append(n-48+4):n>=65&&n<=90?r.append(n-65+14):ya.illegalCharacter(lt.getCharAt(n));break}return 1},e.prototype.handleEOD=function(n,r){n.updateSymbolInfo();var i=n.getSymbolInfo().getDataCapacity()-n.getCodewordCount(),a=r.length();n.pos-=a,(n.getRemainingCharacters()>1||i>1||n.getRemainingCharacters()!==i)&&n.writeCodeword(CX),n.getNewEncoding()<0&&n.signalEncoderChange(Ct)},e})(iE),BX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),VX=(function(t){BX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Hr},e.prototype.encodeChar=function(n,r){if(n===32)return r.append(3),1;if(n>=48&&n<=57)return r.append(n-48+4),1;if(n>=97&&n<=122)return r.append(n-97+14),1;if(n<32)return r.append(0),r.append(n),2;if(n<=47)return r.append(1),r.append(n-33),2;if(n<=64)return r.append(1),r.append(n-58+15),2;if(n>=91&&n<=95)return r.append(1),r.append(n-91+22),2;if(n===96)return r.append(2),r.append(0),2;if(n<=90)return r.append(2),r.append(n-65+1),2;if(n<=127)return r.append(2),r.append(n-123+27),2;r.append("1");var i=2;return i+=this.encodeChar(n-128,r),i},e})(iE),ya=(function(){function t(){}return t.randomize253State=function(e){var n=149*e%253+1,r=nO+n;return r<=254?r:r-254},t.encodeHighLevel=function(e,n,r,i,a){n===void 0&&(n=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new iE,l=[new IX,o,new VX,new jX,new RX,new OX],c=new kX(e);c.setSymbolShape(n),c.setSizeConstraints(r,i),e.startsWith(rO)&&e.endsWith(aO)?(c.writeCodeword(wX),c.setSkipAtEnd(2),c.pos+=rO.length):e.startsWith(iO)&&e.endsWith(aO)&&(c.writeCodeword(EX),c.setSkipAtEnd(2),c.pos+=iO.length);var f=Ct;for(a&&(o.encodeMaximal(c),f=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)l[f].encode(c),c.getNewEncoding()>=0&&(f=c.getNewEncoding(),c.resetEncoderSignal());var d=c.getCodewordCount();c.updateSymbolInfo();var p=c.getSymbolInfo().getDataCapacity();d<p&&f!==Ct&&f!==Or&&f!==nr&&c.writeCodeword("þ");var v=c.getCodewords();for(v.length()<p&&v.append(nO);v.length()<p;)v.append(this.randomize253State(v.length()+1));return c.getCodewords().toString()},t.lookAheadTest=function(e,n,r){var i=this.lookAheadTestIntern(e,n,r);if(r===Un&&i===Un){for(var a=Math.min(n+3,e.length),o=n;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return Ct}else if(r===nr&&i===nr){for(var a=Math.min(n+4,e.length),o=n;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return Ct}return i},t.lookAheadTestIntern=function(e,n,r){if(n>=e.length)return r;var i;r===Ct?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[r]=0);for(var a=0,o=new Uint8Array(6),l=[];;){if(n+a===e.length){qn.fill(o,0),qn.fill(l,0);var c=this.findMinimums(i,l,Ye.MAX_VALUE,o),f=this.getMinimumCount(o);if(l[Ct]===c)return Ct;if(f===1){if(o[Or]>0)return Or;if(o[nr]>0)return nr;if(o[Hr]>0)return Hr;if(o[Un]>0)return Un}return yr}var d=e.charCodeAt(n+a);if(a++,this.isDigit(d)?i[Ct]+=.5:this.isExtendedASCII(d)?(i[Ct]=Math.ceil(i[Ct]),i[Ct]+=2):(i[Ct]=Math.ceil(i[Ct]),i[Ct]++),this.isNativeC40(d)?i[yr]+=2/3:this.isExtendedASCII(d)?i[yr]+=8/3:i[yr]+=4/3,this.isNativeText(d)?i[Hr]+=2/3:this.isExtendedASCII(d)?i[Hr]+=8/3:i[Hr]+=4/3,this.isNativeX12(d)?i[Un]+=2/3:this.isExtendedASCII(d)?i[Un]+=13/3:i[Un]+=10/3,this.isNativeEDIFACT(d)?i[nr]+=3/4:this.isExtendedASCII(d)?i[nr]+=17/4:i[nr]+=13/4,this.isSpecialB256(d)?i[Or]+=4:i[Or]++,a>=4){if(qn.fill(o,0),qn.fill(l,0),this.findMinimums(i,l,Ye.MAX_VALUE,o),l[Ct]<this.min(l[Or],l[yr],l[Hr],l[Un],l[nr]))return Ct;if(l[Or]<l[Ct]||l[Or]+1<this.min(l[yr],l[Hr],l[Un],l[nr]))return Or;if(l[nr]+1<this.min(l[Or],l[yr],l[Hr],l[Un],l[Ct]))return nr;if(l[Hr]+1<this.min(l[Or],l[yr],l[nr],l[Un],l[Ct]))return Hr;if(l[Un]+1<this.min(l[Or],l[yr],l[nr],l[Hr],l[Ct]))return Un;if(l[yr]+1<this.min(l[Ct],l[Or],l[nr],l[Hr])){if(l[yr]<l[Un])return yr;if(l[yr]===l[Un]){for(var p=n+a+1;p<e.length;){var v=e.charCodeAt(p);if(this.isX12TermSep(v))return Un;if(!this.isNativeX12(v))break;p++}return yr}}}}},t.min=function(e,n,r,i,a){var o=Math.min(e,Math.min(n,Math.min(r,i)));return a===void 0?o:Math.min(o,a)},t.findMinimums=function(e,n,r,i){for(var a=0;a<6;a++){var o=n[a]=Math.ceil(e[a]);r>o&&(r=o,qn.fill(i,0)),r===o&&(i[a]=i[a]+1)}return r},t.getMinimumCount=function(e){for(var n=0,r=0;r<6;r++)n+=e[r];return n||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,n){n===void 0&&(n=0);for(var r=e.length,i=n;i<r&&this.isDigit(e.charCodeAt(i));)i++;return i-n},t.illegalCharacter=function(e){var n=Ye.toHexString(e.charCodeAt(0));throw n="0000".substring(0,4-n.length)+n,new Error("Illegal character: "+e+" (0x"+n+")")},t})(),N2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oO=(function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return Zi.encode(e,this.charset)!=null}catch{return!1}},t})(),FX=(function(){function t(e,n,r){var i,a,o,l,c,f;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(L){return new oO(vX.forName(L))}),this.encoders=[];var d=[];d.push(new oO(mX.ISO_8859_1));for(var p=n!=null&&n.name.startsWith("UTF"),v=0;v<e.length;v++){var m=!1;try{for(var _=(i=void 0,N2(d)),w=_.next();!w.done;w=_.next()){var E=w.value,S=e.charAt(v),I=S.charCodeAt(0);if(I===r||E.canEncode(S)){m=!0;break}}}catch(L){i={error:L}}finally{try{w&&!w.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}if(!m)try{for(var R=(o=void 0,N2(this.ENCODERS)),M=R.next();!M.done;M=R.next()){var E=M.value;if(E.canEncode(e.charAt(v))){d.push(E),m=!0;break}}}catch(L){o={error:L}}finally{try{M&&!M.done&&(l=R.return)&&l.call(R)}finally{if(o)throw o.error}}m||(p=!0)}if(d.length===1&&!p)this.encoders=[d[0]];else{this.encoders=[];var k=0;try{for(var B=N2(d),D=B.next();!D.done;D=B.next()){var E=D.value;this.encoders[k++]=E}}catch(L){c={error:L}}finally{try{D&&!D.done&&(f=B.return)&&f.call(B)}finally{if(c)throw c.error}}}var N=-1;if(n!=null){for(var v=0;v<this.encoders.length;v++)if(this.encoders[v]!=null&&n.name===this.encoders[v].name){N=v;break}}this.priorityEncoderIndex=N}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return Zi.encode(lt.getCharAt(e),this.encoders[n].name)},t})(),UX=3,zX=(function(){function t(e,n,r){this.fnc1=r;var i=new FX(e,n,r);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===r?1e3:o}else this.bytes=this.encodeMinimally(e,i,r)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,n){if(e+n-1>=this.bytes.length)return!1;for(var r=0;r<n;r++)if(this.isECI(e+r))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,n){if(e<0||e>n||n>this.length())throw new Error(""+e);for(var r=new Xe,i=e;i<n;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");r.append(this.charAt(i))}return r.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,n,r){(e[n][r.encoderIndex]==null||e[n][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[n][r.encoderIndex]=r)},t.prototype.addEdges=function(e,n,r,i,a,o){var l=e.charAt(i).charCodeAt(0),c=0,f=n.length();n.getPriorityEncoderIndex()>=0&&(l===o||n.canEncode(l,n.getPriorityEncoderIndex()))&&(c=n.getPriorityEncoderIndex(),f=c+1);for(var d=c;d<f;d++)(l===o||n.canEncode(l,d))&&this.addEdge(r,i+1,new sO(l,n,d,a,o))},t.prototype.encodeMinimally=function(e,n,r){var i=e.length,a=new sO[i+1][n.length()];this.addEdges(e,n,a,0,null,r);for(var o=1;o<=i;o++){for(var l=0;l<n.length();l++)a[o][l]!=null&&o<i&&this.addEdges(e,n,a,o,a[o][l],r);for(var l=0;l<n.length();l++)a[o-1][l]=null}for(var c=-1,f=Ye.MAX_VALUE,l=0;l<n.length();l++)if(a[i][l]!=null){var d=a[i][l];d.cachedTotalSize<f&&(f=d.cachedTotalSize,c=l)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var p=[],v=a[i][c];v!=null;){if(v.isFNC1())p.unshift(1e3);else for(var m=n.encode(v.c,v.encoderIndex),o=m.length-1;o>=0;o--)p.unshift(m[o]&255);var _=v.previous===null?0:v.previous.encoderIndex;_!==v.encoderIndex&&p.unshift(256+n.getECIValue(v.encoderIndex)),v=v.previous}for(var w=[],o=0;o<w.length;o++)w[o]=p[o];return w},t})(),sO=(function(){function t(e,n,r,i,a){this.c=e,this.encoderSet=n,this.encoderIndex=r,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:n.encode(e,r).length,l=i===null?0:i.encoderIndex;l!==r&&(o+=UX),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t})(),HX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();var lO;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(lO||(lO={}));(function(t){HX(e,t);function e(n,r,i,a,o){var l=t.call(this,n,r,i)||this;return l.shape=a,l.macroId=o,l}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(zX);var $X=(function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t})(),uO=(function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,n){return e.sort(n)[0]},t})(),qX=(function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t})(),GX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),aE=(function(t){GX(e,t);function e(n,r,i){var a=t.call(this,n)||this;return a.value=r,a.bitCount=i,a}return e.prototype.appendTo=function(n,r){n.appendBits(this.value,this.bitCount)},e.prototype.add=function(n,r){return new e(this,n,r)},e.prototype.addBinaryShift=function(n,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,n,r)},e.prototype.toString=function(){var n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+Ye.toBinaryString(n|1<<this.bitCount).substring(1)+">"},e})(qX),KX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),WX=(function(t){KX(e,t);function e(n,r,i){var a=t.call(this,n,0,0)||this;return a.binaryShiftStart=r,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(n,r){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):i===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(r[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(n,r){return new e(this,n,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(aE);function XX(t,e,n){return new WX(t,e,n)}function Hh(t,e,n){return new aE(t,e,n)}var YX=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],il=0,lg=1,Xi=2,iN=3,Wa=4,QX=new aE(null,0,0),M2=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],ZX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function JX(t){var e,n;try{for(var r=ZX(t),i=r.next();!i.done;i=r.next()){var a=i.value;qn.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return t[il][Wa]=0,t[lg][Wa]=0,t[lg][il]=28,t[iN][Wa]=0,t[Xi][Wa]=0,t[Xi][il]=15,t}var aN=JX(qn.createInt32Array(6,6)),eY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tY=(function(){function t(e,n,r,i){this.token=e,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,n){var r=this.bitCount,i=this.token;if(e!==this.mode){var a=M2[this.mode][e];i=Hh(i,a&65535,a>>16),r+=a>>16}var o=e===Xi?4:5;return i=Hh(i,n,o),new t(i,e,0,r+o)},t.prototype.shiftAndAppend=function(e,n){var r=this.token,i=this.mode===Xi?4:5;return r=Hh(r,aN[this.mode][e],i),r=Hh(r,n,5),new t(r,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var n=this.token,r=this.mode,i=this.bitCount;if(this.mode===Wa||this.mode===Xi){var a=M2[r][il];n=Hh(n,a&65535,a>>16),i+=a>>16,r=il}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new t(n,r,this.binaryShiftByteCount+1,i+o);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var n=this.token;return n=XX(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(n,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var n=this.bitCount+(M2[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount},t.prototype.toBitArray=function(e){for(var n,r,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new or;try{for(var l=eY(i),c=l.next();!c.done;c=l.next()){var f=c.value;f.appendTo(o,e)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return o},t.prototype.toString=function(){return lt.format("%s bits=%d bytes=%d",YX[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(QX,il,0,0),t})();function nY(t){var e=lt.getCharCode(" "),n=lt.getCharCode("."),r=lt.getCharCode(",");t[il][e]=1;for(var i=lt.getCharCode("Z"),a=lt.getCharCode("A"),o=a;o<=i;o++)t[il][o]=o-a+2;t[lg][e]=1;for(var l=lt.getCharCode("z"),c=lt.getCharCode("a"),o=c;o<=l;o++)t[lg][o]=o-c+2;t[Xi][e]=1;for(var f=lt.getCharCode("9"),d=lt.getCharCode("0"),o=d;o<=f;o++)t[Xi][o]=o-d+2;t[Xi][r]=12,t[Xi][n]=13;for(var p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],v=0;v<p.length;v++)t[iN][lt.getCharCode(p[v])]=v;for(var m=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],v=0;v<m.length;v++)lt.getCharCode(m[v])>0&&(t[Wa][lt.getCharCode(m[v])]=v);return t}var k2=nY(qn.createInt32Array(5,256)),o1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rY=(function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=lt.getCharCode(" "),n=lt.getCharCode(`
`),r=uO.singletonList(tY.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case lt.getCharCode("\r"):a=o===n?2:0;break;case lt.getCharCode("."):a=o===e?3:0;break;case lt.getCharCode(","):a=o===e?4:0;break;case lt.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(r=t.updateStateListForPair(r,i,a),i++):r=this.updateStateListForChar(r,i)}var l=uO.min(r,function(c,f){return c.getBitCount()-f.getBitCount()});return l.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,n){var r,i,a=[];try{for(var o=o1(e),l=o.next();!l.done;l=o.next()){var c=l.value;this.updateStateForChar(c,n,a)}}catch(f){r={error:f}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,n,r){for(var i=this.text[n]&255,a=k2[e.getMode()][i]>0,o=null,l=0;l<=Wa;l++){var c=k2[l][i];if(c>0){if(o==null&&(o=e.endBinaryShift(n)),!a||l===e.getMode()||l===Xi){var f=o.latchAndAppend(l,c);r.push(f)}if(!a&&aN[e.getMode()][l]>=0){var d=o.shiftAndAppend(l,c);r.push(d)}}}if(e.getBinaryShiftByteCount()>0||k2[e.getMode()][i]===0){var p=e.addBinaryShiftChar(n);r.push(p)}},t.updateStateListForPair=function(e,n,r){var i,a,o=[];try{for(var l=o1(e),c=l.next();!c.done;c=l.next()){var f=c.value;this.updateStateForPair(f,n,r,o)}}catch(d){i={error:d}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,n,r,i){var a=e.endBinaryShift(n);if(i.push(a.latchAndAppend(Wa,r)),e.getMode()!==Wa&&i.push(a.shiftAndAppend(Wa,r)),r===3||r===4){var o=a.latchAndAppend(Xi,16-r).latchAndAppend(Xi,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var l=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);i.push(l)}},t.simplifyStates=function(e){var n,r,i,a,o=[];try{for(var l=o1(e),c=l.next();!c.done;c=l.next()){var f=c.value,d=!0,p=function(E){if(E.isBetterThanOrEqualTo(f))return d=!1,"break";f.isBetterThanOrEqualTo(E)&&(o=o.filter(function(S){return S!==E}))};try{for(var v=(i=void 0,o1(o)),m=v.next();!m.done;m=v.next()){var _=m.value,w=p(_);if(w==="break")break}}catch(E){i={error:E}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}d&&o.push(f)}}catch(E){n={error:E}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return o},t})(),iY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,n,r){var i=new rY(e).encode(),a=Ye.truncDivision(i.getSize()*n,100)+11,o=i.getSize()+a,l,c,f,d,p;if(r!==t.DEFAULT_AZTEC_LAYERS){if(l=r<0,c=Math.abs(r),c>(l?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new Me(lt.format("Illegal value %s for layers",r));f=t.totalBitsInLayer(c,l),d=t.WORD_SIZE[c];var v=f-f%d;if(p=t.stuffBits(i,d),p.getSize()+a>v)throw new Me("Data to large for user specified layer");if(l&&p.getSize()>d*64)throw new Me("Data to large for user specified layer")}else{d=0,p=null;for(var m=0;;m++){if(m>t.MAX_NB_BITS)throw new Me("Data too large for an Aztec code");if(l=m<=3,c=l?m+1:m,f=t.totalBitsInLayer(c,l),!(o>f)){(p==null||d!==t.WORD_SIZE[c])&&(d=t.WORD_SIZE[c],p=t.stuffBits(i,d));var v=f-f%d;if(!(l&&p.getSize()>d*64)&&p.getSize()+a<=v)break}}}var _=t.generateCheckWords(p,f,d),w=p.getSize()/d,E=t.generateModeMessage(l,c,w),S=(l?11:14)+c*4,I=new Int32Array(S),R;if(l){R=S;for(var m=0;m<I.length;m++)I[m]=m}else{R=S+1+2*Ye.truncDivision(Ye.truncDivision(S,2)-1,15);for(var M=Ye.truncDivision(S,2),k=Ye.truncDivision(R,2),m=0;m<M;m++){var B=m+Ye.truncDivision(m,15);I[M-m-1]=k-B-1,I[M+m]=k+B+1}}for(var D=new io(R),m=0,N=0;m<c;m++){for(var L=(c-m)*4+(l?9:12),z=0;z<L;z++)for(var U=z*2,H=0;H<2;H++)_.get(N+U+H)&&D.set(I[m*2+H],I[m*2+z]),_.get(N+L*2+U+H)&&D.set(I[m*2+z],I[S-1-m*2-H]),_.get(N+L*4+U+H)&&D.set(I[S-1-m*2-H],I[S-1-m*2-z]),_.get(N+L*6+U+H)&&D.set(I[S-1-m*2-z],I[m*2+H]);N+=L*8}if(t.drawModeMessage(D,l,R,E),l)t.drawBullsEye(D,Ye.truncDivision(R,2),5);else{t.drawBullsEye(D,Ye.truncDivision(R,2),7);for(var m=0,z=0;m<Ye.truncDivision(S,2)-1;m+=15,z+=16)for(var H=Ye.truncDivision(R,2)&1;H<R;H+=2)D.set(Ye.truncDivision(R,2)-z,H),D.set(Ye.truncDivision(R,2)+z,H),D.set(H,Ye.truncDivision(R,2)-z),D.set(H,Ye.truncDivision(R,2)+z)}var F=new $X;return F.setCompact(l),F.setSize(R),F.setLayers(c),F.setCodeWords(w),F.setMatrix(D),F},t.drawBullsEye=function(e,n,r){for(var i=0;i<r;i+=2)for(var a=n-i;a<=n+i;a++)e.set(a,n-i),e.set(a,n+i),e.set(n-i,a),e.set(n+i,a);e.set(n-r,n-r),e.set(n-r+1,n-r),e.set(n-r,n-r+1),e.set(n+r,n-r),e.set(n+r,n-r+1),e.set(n+r,n+r-1)},t.generateModeMessage=function(e,n,r){var i=new or;return e?(i.appendBits(n-1,2),i.appendBits(r-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(n-1,5),i.appendBits(r-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,n,r,i){var a=Ye.truncDivision(r,2);if(n)for(var o=0;o<7;o++){var l=a-3+o;i.get(o)&&e.set(l,a-5),i.get(o+7)&&e.set(a+5,l),i.get(20-o)&&e.set(l,a+5),i.get(27-o)&&e.set(a-5,l)}else for(var o=0;o<10;o++){var l=a-5+o+Ye.truncDivision(o,5);i.get(o)&&e.set(l,a-7),i.get(o+10)&&e.set(a+7,l),i.get(29-o)&&e.set(l,a+7),i.get(39-o)&&e.set(a-7,l)}},t.generateCheckWords=function(e,n,r){var i,a,o=e.getSize()/r,l=new nN(t.getGF(r)),c=Ye.truncDivision(n,r),f=t.bitsToWords(e,r,c);l.encode(f,c-o);var d=n%r,p=new or;p.appendBits(0,d);try{for(var v=iY(Array.from(f)),m=v.next();!m.done;m=v.next()){var _=m.value;p.appendBits(_,r)}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}return p},t.bitsToWords=function(e,n,r){var i=new Int32Array(r),a,o;for(a=0,o=e.getSize()/n;a<o;a++){for(var l=0,c=0;c<n;c++)l|=e.get(a*n+c)?1<<n-c-1:0;i[a]=l}return i},t.getGF=function(e){switch(e){case 4:return ri.AZTEC_PARAM;case 6:return ri.AZTEC_DATA_6;case 8:return ri.AZTEC_DATA_8;case 10:return ri.AZTEC_DATA_10;case 12:return ri.AZTEC_DATA_12;default:throw new Me("Unsupported word size "+e)}},t.stuffBits=function(e,n){for(var r=new or,i=e.getSize(),a=(1<<n)-2,o=0;o<i;o+=n){for(var l=0,c=0;c<n;c++)(o+c>=i||e.get(o+c))&&(l|=1<<n-1-c);(l&a)===a?(r.appendBits(l&a,n),o--):(l&a)===0?(r.appendBits(l|1,n),o--):r.appendBits(l,n)}return r},t.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();const oN="YOUR_RAKUTEN_APP_ID_HERE",aY="b72c14dc75bcde18fb7d3628bf7e92b7";async function oY(t){console.log(`[商品検索] JANコード: ${t}`);try{const e=await sY(t);if(e)return console.log("[商品検索] 楽天市場APIで商品発見"),e}catch(e){console.warn("[商品検索] 楽天市場API失敗:",e)}try{const e=await lY(t);if(e)return console.log("[商品検索] 楽天商品APIで商品発見"),e}catch(e){console.warn("[商品検索] 楽天商品API失敗:",e)}try{const e=await uY(t);if(e)return console.log("[商品検索] JAN Code Lookup APIで商品発見"),e}catch(e){console.warn("[商品検索] JAN Code Lookup API失敗:",e)}try{const e=await cY(t);if(e)return console.log("[商品検索] Open Food Facts APIで商品発見"),e}catch(e){console.warn("[商品検索] Open Food Facts API失敗:",e)}return console.warn("[商品検索] すべてのAPIで商品が見つかりませんでした。モックデータを使用します。"),fY(t)}async function sY(t){const e=new URL("https://app.rakuten.co.jp/services/api/IchibaItem/Search/20220601");e.searchParams.set("applicationId",oN),e.searchParams.set("keyword",t),e.searchParams.set("hits","1");const n=await fetch(e.toString());if(!n.ok)return null;const r=await n.json();if(!r.Items||r.Items.length===0)return null;const i=r.Items[0].Item;return{barcode:t,name:i.itemName,price:i.itemPrice,manufacturer:i.shopName||"",imageUrl:i.mediumImageUrls?.[0]?.imageUrl||"",source:"rakuten_ichiba"}}async function lY(t){const e=new URL("https://app.rakuten.co.jp/services/api/Product/Search/20170426");e.searchParams.set("applicationId",oN),e.searchParams.set("keyword",t),e.searchParams.set("hits","1");const n=await fetch(e.toString());if(!n.ok)return null;const r=await n.json();if(!r.Products||r.Products.length===0)return null;const i=r.Products[0].Product;return{barcode:t,name:i.productName,price:i.minPrice||0,manufacturer:i.makerName||"",imageUrl:i.mediumImageUrl||"",source:"rakuten_product"}}async function uY(t){const e=new URL("https://api.jancodelookup.com/");e.searchParams.set("appId",aY),e.searchParams.set("query",t),e.searchParams.set("type","code");const n=await fetch(e.toString());if(!n.ok)return null;const r=await n.json();if(!r.product||r.product.length===0)return null;const i=r.product[0];return{barcode:t,name:i.itemName||"",price:0,manufacturer:i.makerName||i.brandName||"",imageUrl:i.itemImageUrl||"",source:"jancode_lookup"}}async function cY(t){const e=`https://world.openfoodfacts.org/api/v0/product/${t}.json`,n=await fetch(e);if(!n.ok)return null;const r=await n.json();if(r.status!==1||!r.product)return null;const i=r.product;return{barcode:t,name:i.product_name||i.product_name_ja||"",calories:i.nutriments?.["energy-kcal_100g"],price:0,manufacturer:i.brands||"",imageUrl:i.image_url||"",source:"openfoodfacts"}}function fY(t){const n={"4902102072453":{name:"明治おいしい牛乳 900ml",price:258,calories:67,manufacturer:"明治",imageUrl:""},"4901777313989":{name:"サントリー天然水 2L",price:138,calories:0,manufacturer:"サントリー",imageUrl:""},"4902430479318":{name:"ポカリスエット 500ml",price:148,calories:125,manufacturer:"大塚製薬",imageUrl:""}}[t];return n?{barcode:t,...n,source:"mock"}:{barcode:t,name:`商品 (${t})`,price:0,manufacturer:"不明",source:"mock"}}const hY=({onProductFound:t,onClose:e})=>{const n=C.useRef(null),[r,i]=C.useState(null),[a,o]=C.useState(null),[l,c]=C.useState(!1),f=C.useRef(null);C.useEffect(()=>(d(),()=>{p()}),[]);const d=async()=>{try{i(null);const m=new oX;f.current=m;const _=await m.listVideoInputDevices();if(_.length===0)throw new Error("カメラが見つかりません");const w=_.find(S=>{const I=S.label.toLowerCase();return I.includes("back")||I.includes("rear")||I.includes("environment")||I.includes("camera")&&I.includes("0")}),E=w?w.deviceId:_[_.length-1].deviceId;console.log("使用するカメラ:",w?w.label:_[_.length-1].label),m.decodeFromVideoDevice(E,n.current,async(S,I)=>{if(S&&!l){const R=S.getText();if(R===a)return;o(R),c(!0);try{const M=await oY(R);M?(t(M),p()):(i(`商品情報が見つかりませんでした: ${R}`),c(!1),setTimeout(()=>{i(null),o(null)},3e3))}catch(M){console.error("商品情報取得エラー:",M),i("商品情報の取得に失敗しました"),c(!1),setTimeout(()=>{i(null),o(null)},3e3)}}I&&!(I instanceof ae)&&console.error("スキャンエラー:",I)})}catch(m){console.error("カメラ起動エラー:",m),i(m instanceof Error?m.message:"カメラの起動に失敗しました")}},p=()=>{f.current&&(f.current.reset(),f.current=null)},v=()=>{p(),e()};return A.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",zIndex:9999,display:"flex",flexDirection:"column"},children:[A.jsxs("div",{style:{padding:"16px",background:"rgba(0, 0, 0, 0.8)",color:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsx("h2",{style:{margin:0,fontSize:"1.2rem",fontWeight:600},children:"バーコードスキャン"}),A.jsx("button",{onClick:v,style:{background:"transparent",border:"none",color:"#fff",fontSize:"24px",cursor:"pointer",padding:"4px"},children:"✕"})]}),A.jsxs("div",{style:{flex:1,position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[A.jsx("video",{ref:n,style:{width:"100%",height:"100%",objectFit:"cover"}}),A.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:"300px",height:"150px",border:"2px solid #22c55e",borderRadius:"8px",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)"}}),l&&A.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0, 0, 0, 0.8)",color:"#fff",padding:"20px 32px",borderRadius:"12px",fontSize:"1rem",fontWeight:600},children:"商品情報を取得中..."}),r&&A.jsx("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(239, 68, 68, 0.95)",color:"#fff",padding:"12px 24px",borderRadius:"8px",fontSize:"0.9rem",maxWidth:"90%",textAlign:"center"},children:r})]}),A.jsx("div",{style:{padding:"16px",background:"rgba(0, 0, 0, 0.8)",color:"#fff",textAlign:"center"},children:A.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#999"},children:"バーコードを枠内に合わせてください"})})]})},dY=({product:t,onAdded:e,onNavigateToStock:n})=>{const{addIntake:r}=Yo(),{addStock:i}=lo(),[a,o]=C.useState(""),[l,c]=C.useState(t.price?.toString()||""),[f,d]=C.useState("7"),p=()=>{if(!a){alert("カロリーを入力してください");return}if(!l){alert("金額を入力してください");return}r({name:t.name,calories:Number(a),price:Number(l)}),alert("食事記録に追加しました！"),e()},v=()=>{if(!f){alert("賞味期限までの日数を入力してください");return}i({name:t.name,quantity:1,daysRemaining:Number(f),price:l?Number(l):void 0}),n?(e(),setTimeout(()=>{n()},100)):(alert("在庫管理に追加しました！"),e())};return A.jsxs("div",{className:"card",children:[A.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[A.jsx(Yb,{size:24,color:"#10b981"}),"商品情報を取得しました"]}),A.jsxs("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"12px",marginBottom:"20px"},children:[A.jsxs("div",{style:{marginBottom:"12px"},children:[A.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"商品名"}),A.jsx("div",{style:{fontWeight:600,fontSize:"1.05rem"},children:t.name})]}),t.manufacturer&&A.jsxs("div",{style:{marginBottom:"12px"},children:[A.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"メーカー"}),A.jsx("div",{style:{fontWeight:500},children:t.manufacturer})]}),A.jsxs("div",{style:{marginBottom:"12px"},children:[A.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"バーコード"}),A.jsx("div",{style:{fontFamily:"monospace",color:"#666"},children:t.barcode})]}),t.price&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"価格（参考）"}),A.jsxs("div",{style:{fontWeight:600,color:"var(--primary)"},children:["¥",t.price.toLocaleString()]})]}),A.jsxs("div",{style:{marginTop:"12px",padding:"8px 12px",background:t.source==="rakuten_ichiba"||t.source==="rakuten_product"?"#bf0000":t.source==="jancode_lookup"?"#3b82f6":"#10b981",color:"#fff",borderRadius:"6px",fontSize:"0.75rem",fontWeight:500,display:"inline-block"},children:[t.source==="rakuten_ichiba"&&"楽天市場",t.source==="rakuten_product"&&"楽天商品検索",t.source==="jancode_lookup"&&"JAN Code Lookup",t.source==="openfoodfacts"&&"Open Food Facts",t.source==="mock"&&"モックデータ"]})]}),A.jsxs("div",{style:{marginBottom:"24px"},children:[A.jsxs("h4",{style:{marginBottom:"12px",fontSize:"1rem",display:"flex",alignItems:"center",gap:"6px"},children:[A.jsx(Zb,{size:18}),"食事記録に追加"]}),A.jsx("label",{children:"カロリー (kcal)"}),A.jsx("input",{type:"number",value:a,onChange:m=>o(m.target.value),placeholder:"例: 200"}),A.jsx("label",{children:"金額 (円)"}),A.jsx("input",{type:"number",value:l,onChange:m=>c(m.target.value),placeholder:"例: 150"}),A.jsx("button",{className:"submit",onClick:p,style:{background:"#3b82f6"},children:"食事記録に追加"})]}),A.jsxs("div",{children:[A.jsxs("h4",{style:{marginBottom:"12px",fontSize:"1rem",display:"flex",alignItems:"center",gap:"6px"},children:[A.jsx(Yc,{size:18}),"在庫管理に追加"]}),A.jsx("label",{children:"賞味期限までの日数"}),A.jsx("input",{type:"number",value:f,onChange:m=>d(m.target.value),placeholder:"例: 7"}),A.jsx("button",{className:"submit",onClick:v,style:{background:"#10b981"},children:n?"在庫管理に追加して画面移動":"在庫管理に追加"})]}),A.jsx("button",{onClick:e,style:{marginTop:"16px",width:"100%",padding:"12px",background:"transparent",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",color:"#666"},children:"キャンセル"})]})},pY=({onReceiptScanned:t,onClose:e})=>{const n=C.useRef(null),r=C.useRef(null),i=C.useRef(null),[a,o]=C.useState(!1),[l,c]=C.useState(null),[f,d]=C.useState(null),p=async()=>{try{const w=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});n.current&&(n.current.srcObject=w,d(w))}catch(w){console.error("カメラアクセスエラー:",w),c("カメラにアクセスできません。ファイル選択をお試しください。")}};Mr.useEffect(()=>(p(),()=>{f&&f.getTracks().forEach(w=>w.stop())}),[]);const v=async()=>{if(!(!n.current||!r.current)){o(!0),c(null);try{const w=n.current,E=r.current,S=E.getContext("2d");if(!S)throw new Error("Canvas context が取得できません");E.width=w.videoWidth,E.height=w.videoHeight,S.drawImage(w,0,0);const I=await new Promise((k,B)=>{E.toBlob(D=>{D?k(D):B(new Error("Blob変換に失敗しました"))},"image/jpeg",.95)}),R=new File([I],"receipt.jpg",{type:"image/jpeg"}),M=await II(R);f&&f.getTracks().forEach(k=>k.stop()),t(M)}catch(w){console.error("OCRエラー:",w),c(w.message||"レシートの読み取りに失敗しました")}finally{o(!1)}}},m=async w=>{const E=w.target.files?.[0];if(E){o(!0),c(null);try{const S=await II(E);f&&f.getTracks().forEach(I=>I.stop()),t(S)}catch(S){console.error("OCRエラー:",S),c(S.message||"レシートの読み取りに失敗しました")}finally{o(!1)}}},_=()=>{f&&f.getTracks().forEach(w=>w.stop()),e()};return A.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",zIndex:1e3,display:"flex",flexDirection:"column"},children:[A.jsxs("div",{style:{background:"rgba(0,0,0,0.8)",padding:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsx("h3",{style:{color:"white",margin:0},children:"レシートをスキャン"}),A.jsx("button",{onClick:_,style:{background:"transparent",border:"none",color:"white",cursor:"pointer",padding:"8px"},disabled:a,children:A.jsx(Zg,{size:24})})]}),A.jsxs("div",{style:{flex:1,position:"relative",overflow:"hidden"},children:[A.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"}}),A.jsx("canvas",{ref:r,style:{display:"none"}}),A.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"60%",border:"2px dashed rgba(255, 255, 255, 0.8)",borderRadius:"8px",pointerEvents:"none"},children:A.jsx("div",{style:{position:"absolute",top:"-30px",left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.7)",color:"white",padding:"8px 16px",borderRadius:"4px",fontSize:"14px",whiteSpace:"nowrap"},children:"レシートを枠内に収めてください"})}),l&&A.jsx("div",{style:{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",background:"#ef4444",color:"white",padding:"12px 20px",borderRadius:"8px",maxWidth:"80%",textAlign:"center"},children:l})]}),A.jsxs("div",{style:{background:"rgba(0,0,0,0.8)",padding:"20px",display:"flex",justifyContent:"center",gap:"16px"},children:[A.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:m,style:{display:"none"}}),A.jsxs("button",{onClick:()=>i.current?.click(),disabled:a,style:{background:"#6366f1",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",gap:"8px",opacity:a?.5:1},children:[A.jsx(hB,{size:20}),"ファイル選択"]}),A.jsx("button",{onClick:v,disabled:a,style:{background:"#10b981",color:"white",border:"none",padding:"16px 32px",borderRadius:"50%",cursor:"pointer",fontSize:"18px",fontWeight:"bold",opacity:a?.5:1,width:"80px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center"},children:a?"...":A.jsx(Qb,{size:32})})]})]})},gY=({result:t,onClose:e})=>{const{addExpense:n}=Qo(),[r,i]=C.useState(t.items),[a,o]=C.useState(null),[l,c]=C.useState(""),[f,d]=C.useState(""),p=r.reduce((R,M)=>R+M.price*(M.quantity||1),0),v=R=>{const M=r[R];o(R),c(M.name),d(M.price.toString())},m=()=>{if(a===null)return;const R=parseInt(f,10);if(isNaN(R)||R<=0){alert("正しい金額を入力してください");return}const M=[...r];M[a]={...M[a],name:l.trim(),price:R},i(M),o(null),c(""),d("")},_=()=>{o(null),c(""),d("")},w=R=>{if(window.confirm("この商品を削除しますか？")){const M=r.filter((k,B)=>B!==R);i(M)}},E=()=>{const R=window.prompt("商品名を入力してください");if(!R||!R.trim())return;const M=window.prompt("金額を入力してください");if(!M)return;const k=parseInt(M,10);if(isNaN(k)||k<=0){alert("正しい金額を入力してください");return}i([...r,{name:R.trim(),price:k,quantity:1}])},S=()=>{if(r.length===0){alert("商品が1つもありません");return}if(!window.confirm(`${r.length}個の商品を家計簿に登録しますか？
合計金額: ¥${p.toLocaleString()}`))return;const R=new Date().toISOString();r.forEach(M=>{const k=M.quantity||1;for(let B=0;B<k;B++)n({category:"food",amount:M.price,memo:M.name,date:t.date||R})}),alert("家計簿に登録しました！"),e()},I=R=>new Intl.NumberFormat("ja-JP").format(R);return A.jsxs("div",{className:"card",children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[A.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",margin:0},children:[A.jsx(pP,{size:20}),"レシート内容"]}),A.jsxs("button",{onClick:E,style:{background:"#10b981",color:"white",border:"none",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"4px"},children:[A.jsx(vP,{size:18}),"追加"]})]}),A.jsxs("div",{style:{background:"var(--background)",padding:"12px",borderRadius:"8px",marginBottom:"16px",fontSize:"14px"},children:[t.storeName&&A.jsxs("div",{style:{marginBottom:"4px"},children:[A.jsx("strong",{children:"店舗:"})," ",t.storeName]}),t.date&&A.jsxs("div",{children:[A.jsx("strong",{children:"日付:"})," ",t.date]})]}),r.length===0?A.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:"商品が検出されませんでした。「追加」ボタンから手動で追加してください。"}):A.jsx("div",{style:{marginBottom:"16px"},children:r.map((R,M)=>A.jsx("div",{style:{padding:"12px",borderBottom:M<r.length-1?"1px solid var(--border)":"none",display:"flex",justifyContent:"space-between",alignItems:"center"},children:a===M?A.jsxs("div",{style:{flex:1,display:"flex",gap:"8px",alignItems:"center"},children:[A.jsx("input",{value:l,onChange:k=>c(k.target.value),placeholder:"商品名",style:{flex:1,padding:"6px 8px",borderRadius:"4px",border:"1px solid var(--border)",fontSize:"14px"}}),A.jsx("input",{value:f,onChange:k=>d(k.target.value),type:"number",placeholder:"金額",style:{width:"80px",padding:"6px 8px",borderRadius:"4px",border:"1px solid var(--border)",fontSize:"14px"}}),A.jsx("button",{onClick:m,style:{background:"#10b981",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:A.jsx(mP,{size:16})}),A.jsx("button",{onClick:_,style:{background:"#6b7280",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"×"})]}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{style:{fontWeight:500,marginBottom:"4px"},children:R.name}),R.quantity&&R.quantity>1&&A.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:["数量: ",R.quantity,"個"]})]}),A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[A.jsxs("span",{style:{fontSize:"16px",fontWeight:"bold",color:"var(--danger)"},children:["¥",I(R.price*(R.quantity||1))]}),A.jsx("button",{onClick:()=>v(M),style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",color:"var(--primary)"},children:A.jsx(fB,{size:18})}),A.jsx("button",{onClick:()=>w(M),style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",color:"#ef4444"},children:A.jsx(Fd,{size:18})})]})]})},M))}),A.jsxs("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"8px",marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsx("span",{style:{fontSize:"16px",fontWeight:"bold"},children:"合計"}),A.jsxs("span",{style:{fontSize:"24px",fontWeight:"bold",color:"var(--danger)"},children:["¥",I(p)]})]}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[A.jsx("button",{onClick:e,style:{background:"var(--border)",color:"var(--text)",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500},children:"キャンセル"}),A.jsx("button",{onClick:S,className:"submit",disabled:r.length===0,style:{opacity:r.length===0?.5:1},children:"家計簿に登録"})]}),A.jsxs("details",{style:{marginTop:"16px"},children:[A.jsx("summary",{style:{cursor:"pointer",fontSize:"12px",color:"var(--text-secondary)"},children:"OCR生テキストを表示"}),A.jsx("pre",{style:{marginTop:"8px",padding:"12px",background:"var(--background)",borderRadius:"4px",fontSize:"11px",overflow:"auto",maxHeight:"200px",whiteSpace:"pre-wrap"},children:t.rawText})]})]})},vY=({onNavigateToStock:t})=>{const[e,n]=C.useState("select"),[r,i]=C.useState(!1),[a,o]=C.useState(null),[l,c]=C.useState(null),f=()=>{n("barcode"),i(!0),o(null)},d=()=>{n("receipt"),i(!0),c(null)},p=E=>{o(E),i(!1)},v=E=>{c(E),i(!1)},m=()=>{o(null),n("select")},_=()=>{c(null),n("select")},w=()=>{n("select"),i(!1),o(null),c(null)};return A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:"スキャン"}),e==="select"&&!r&&!a&&!l&&A.jsx(A.Fragment,{children:A.jsxs("div",{className:"card",children:[A.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[A.jsx(Qb,{size:20}),"スキャンモードを選択"]}),A.jsx("p",{style:{color:"#666",marginBottom:"20px",lineHeight:"1.6"},children:"バーコードまたはレシートをスキャンできます"}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[A.jsxs("button",{onClick:f,style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",padding:"24px 16px",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",fontWeight:500,fontSize:"16px"},children:[A.jsx(sB,{size:48}),A.jsx("span",{children:"バーコード"}),A.jsx("span",{style:{fontSize:"12px",opacity:.9},children:"JANコード"})]}),A.jsxs("button",{onClick:d,style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",border:"none",padding:"24px 16px",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",fontWeight:500,fontSize:"16px"},children:[A.jsx(pP,{size:48}),A.jsx("span",{children:"レシート"}),A.jsx("span",{style:{fontSize:"12px",opacity:.9},children:"OCR読み取り"})]})]})]})}),e==="barcode"&&r&&A.jsx(hY,{onProductFound:p,onClose:w}),e==="barcode"&&a&&A.jsx(dY,{product:a,onAdded:m,onNavigateToStock:t}),e==="receipt"&&r&&A.jsx(pY,{onReceiptScanned:v,onClose:w}),e==="receipt"&&l&&A.jsx(gY,{result:l,onClose:_})]})};function sN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=sN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=sN(t))&&(r&&(r+=" "),r+=e);return r}var L2={},j2={},cO;function mY(){return cO||(cO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(j2)),j2}var B2={},fO;function lN(){return fO||(fO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(B2)),B2}var V2={},hO;function oE(){return hO||(hO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(V2)),V2}var F2={},U2={},dO;function yY(){return dO||(dO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(U2)),U2}var pO;function sE(){return pO||(pO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yY(),n=oE();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,c="",f="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const p=i[l];f?p==="\\"&&l+1<o?(l++,c+=i[l]):p===f?f="":c+=p:d?p==='"'||p==="'"?f=p:p==="]"?(d=!1,a.push(c),c=""):c+=p:p==="["?(d=!0,c&&(a.push(c),c="")):p==="."?c&&(a.push(c),c=""):c+=p,l++}return c&&a.push(c),a}t.toPath=r})(F2)),F2}var gO;function lE(){return gO||(gO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mY(),n=lN(),r=oE(),i=sE();function a(l,c,f){if(l==null)return f;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return f;const d=l[c];return d===void 0?n.isDeepKey(c)?a(l,i.toPath(c),f):f:d}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const d=l[c];return d===void 0?f:d}default:{if(Array.isArray(c))return o(l,c,f);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return f;const d=l[c];return d===void 0?f:d}}}function o(l,c,f){if(c.length===0)return f;let d=l;for(let p=0;p<c.length;p++){if(d==null||e.isUnsafeProperty(c[p]))return f;d=d[c[p]]}return d===void 0?f:d}t.get=a})(L2)),L2}var z2,vO;function xY(){return vO||(vO=1,z2=lE().get),z2}var _Y=xY();const ku=so(_Y);var H2={exports:{}},Nt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mO;function bY(){if(mO)return Nt;mO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function _(w){if(typeof w=="object"&&w!==null){var E=w.$$typeof;switch(E){case t:switch(w=w.type,w){case n:case i:case r:case c:case f:case v:return w;default:switch(w=w&&w.$$typeof,w){case o:case l:case p:case d:return w;case a:return w;default:return E}}case e:return E}}}return Nt.ContextConsumer=a,Nt.ContextProvider=o,Nt.Element=t,Nt.ForwardRef=l,Nt.Fragment=n,Nt.Lazy=p,Nt.Memo=d,Nt.Portal=e,Nt.Profiler=i,Nt.StrictMode=r,Nt.Suspense=c,Nt.SuspenseList=f,Nt.isContextConsumer=function(w){return _(w)===a},Nt.isContextProvider=function(w){return _(w)===o},Nt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},Nt.isForwardRef=function(w){return _(w)===l},Nt.isFragment=function(w){return _(w)===n},Nt.isLazy=function(w){return _(w)===p},Nt.isMemo=function(w){return _(w)===d},Nt.isPortal=function(w){return _(w)===e},Nt.isProfiler=function(w){return _(w)===i},Nt.isStrictMode=function(w){return _(w)===r},Nt.isSuspense=function(w){return _(w)===c},Nt.isSuspenseList=function(w){return _(w)===f},Nt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===c||w===f||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===d||w.$$typeof===o||w.$$typeof===a||w.$$typeof===l||w.$$typeof===m||w.getModuleId!==void 0)},Nt.typeOf=_,Nt}var yO;function wY(){return yO||(yO=1,H2.exports=bY()),H2.exports}var EY=wY(),sr=t=>t===0?0:t>0?1:-1,Si=t=>typeof t=="number"&&t!=+t,vu=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Re=t=>(typeof t=="number"||t instanceof Number)&&!Si(t),ao=t=>Re(t)||typeof t=="string",AY=0,Od=t=>{var e=++AY;return"".concat(t||"").concat(e)},kr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Re(e)&&typeof e!="string")return r;var a;if(vu(e)){if(n==null)return r;var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Si(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},uN=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function sn(t,e,n){return Re(t)&&Re(e)?t+n*(e-t):e}function cN(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):ku(r,e))===n)}var Jt=t=>t===null||typeof t>"u",e0=t=>Jt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),SY=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function uE(t){if(typeof t!="string")return!1;var e=SY;return e.includes(t)}var TY=["viewBox","children"],xO=["points","pathLength"],$2={svg:TY,polygon:xO,polyline:xO},cE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{uE(i)&&(r[i]=(a=>n[i](n,a)))}),r},CY=(t,e,n)=>r=>(t(e,n,r),null),t0=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];uE(i)&&typeof a=="function"&&(r||(r={}),r[i]=CY(a,e,n))}),r},IY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function fN(t){if(typeof t!="string")return!1;var e=IY;return e.includes(t)}function uo(t){var e=Object.entries(t).filter(n=>{var[r]=n;return fN(r)});return Object.fromEntries(e)}var _O=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",bO=null,q2=null,hN=t=>{if(t===bO&&Array.isArray(q2))return q2;var e=[];return C.Children.forEach(t,n=>{Jt(n)||(EY.isFragment(n)?e=e.concat(hN(n.props.children)):e.push(n))}),q2=e,bO=t,e};function fE(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>_O(i)):r=[_O(e)],hN(t).forEach(i=>{var a=ku(i,"type.displayName")||ku(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var dN=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,OY=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=r&&$2?.[r])!==null&&i!==void 0?i:[],o=e.startsWith("data-"),l=typeof t!="function"&&(!!r&&a.includes(e)||fN(e)),c=!!n&&uE(e);return o||l||c},nn=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(C.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var o;OY((o=r)===null||o===void 0?void 0:o[a],a,e,n)&&(i[a]=r[a])}),i},RY=["children","width","height","viewBox","className","style","title","desc"];function rb(){return rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rb.apply(null,arguments)}function PY(t,e){if(t==null)return{};var n,r,i=DY(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function DY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hE=C.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:l,title:c,desc:f}=t,d=PY(t,RY),p=a||{width:r,height:i,x:0,y:0},v=pt("recharts-surface",o);return C.createElement("svg",rb({},nn(d,!0,"svg"),{className:v,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),C.createElement("title",null,c),C.createElement("desc",null,f),n)}),NY=["children","className"];function ib(){return ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ib.apply(null,arguments)}function MY(t,e){if(t==null)return{};var n,r,i=kY(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Sr=C.forwardRef((t,e)=>{var{children:n,className:r}=t,i=MY(t,NY),a=pt("recharts-layer",r);return C.createElement("g",ib({className:a},nn(i,!0),{ref:e}),n)}),pN=fP(),gN=C.createContext(null),LY=()=>C.useContext(gN);function jt(t){return function(){return t}}const vN=Math.cos,ug=Math.sin,Sa=Math.sqrt,cg=Math.PI,Iv=2*cg,ab=Math.PI,ob=2*ab,cu=1e-6,jY=ob-cu;function mN(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function BY(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return mN;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class VY{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?mN:BY(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=r-e,f=i-n,d=o-e,p=l-n,v=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>cu)if(!(Math.abs(p*c-f*d)>cu)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,_=i-l,w=c*c+f*f,E=m*m+_*_,S=Math.sqrt(w),I=Math.sqrt(v),R=a*Math.tan((ab-Math.acos((w+v-E)/(2*S*I)))/2),M=R/I,k=R/S;Math.abs(M-1)>cu&&this._append`L${e+M*d},${n+M*p}`,this._append`A${a},${a},0,0,${+(p*m>d*_)},${this._x1=e+k*c},${this._y1=n+k*f}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),f=e+l,d=n+c,p=1^o,v=o?i-a:a-i;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>cu||Math.abs(this._y1-d)>cu)&&this._append`L${f},${d}`,r&&(v<0&&(v=v%ob+ob),v>jY?this._append`A${r},${r},0,1,${p},${e-l},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=d}`:v>cu&&this._append`A${r},${r},0,${+(v>=ab)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function dE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new VY(e)}function pE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function yN(t){this._context=t}yN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ov(t){return new yN(t)}function xN(t){return t[0]}function _N(t){return t[1]}function bN(t,e){var n=jt(!0),r=null,i=Ov,a=null,o=dE(l);t=typeof t=="function"?t:t===void 0?xN:jt(t),e=typeof e=="function"?e:e===void 0?_N:jt(e);function l(c){var f,d=(c=pE(c)).length,p,v=!1,m;for(r==null&&(a=i(m=o())),f=0;f<=d;++f)!(f<d&&n(p=c[f],f,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(p,f,c),+e(p,f,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:jt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:jt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:jt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function s1(t,e,n){var r=null,i=jt(!0),a=null,o=Ov,l=null,c=dE(f);t=typeof t=="function"?t:t===void 0?xN:jt(+t),e=typeof e=="function"?e:jt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?_N:jt(+n);function f(p){var v,m,_,w=(p=pE(p)).length,E,S=!1,I,R=new Array(w),M=new Array(w);for(a==null&&(l=o(I=c())),v=0;v<=w;++v){if(!(v<w&&i(E=p[v],v,p))===S)if(S=!S)m=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),_=v-1;_>=m;--_)l.point(R[_],M[_]);l.lineEnd(),l.areaEnd()}S&&(R[v]=+t(E,v,p),M[v]=+e(E,v,p),l.point(r?+r(E,v,p):R[v],n?+n(E,v,p):M[v]))}if(I)return l=null,I+""||null}function d(){return bN().defined(i).curve(o).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:jt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:jt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:jt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:jt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:jt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:jt(+p),f):n},f.lineX0=f.lineY0=function(){return d().x(t).y(e)},f.lineY1=function(){return d().x(t).y(n)},f.lineX1=function(){return d().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:jt(!!p),f):i},f.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),f):o},f.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),f):a},f}class wN{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function FY(t){return new wN(t,!0)}function UY(t){return new wN(t,!1)}const gE={draw(t,e){const n=Sa(e/cg);t.moveTo(n,0),t.arc(0,0,n,0,Iv)}},zY={draw(t,e){const n=Sa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},EN=Sa(1/3),HY=EN*2,$Y={draw(t,e){const n=Sa(e/HY),r=n*EN;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},qY={draw(t,e){const n=Sa(e),r=-n/2;t.rect(r,r,n,n)}},GY=.8908130915292852,AN=ug(cg/10)/ug(7*cg/10),KY=ug(Iv/10)*AN,WY=-vN(Iv/10)*AN,XY={draw(t,e){const n=Sa(e*GY),r=KY*n,i=WY*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Iv*a/5,l=vN(o),c=ug(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},G2=Sa(3),YY={draw(t,e){const n=-Sa(e/(G2*3));t.moveTo(0,n*2),t.lineTo(-G2*n,-n),t.lineTo(G2*n,-n),t.closePath()}},zi=-.5,Hi=Sa(3)/2,sb=1/Sa(12),QY=(sb/2+1)*3,ZY={draw(t,e){const n=Sa(e/QY),r=n/2,i=n*sb,a=r,o=n*sb+n,l=-a,c=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(zi*r-Hi*i,Hi*r+zi*i),t.lineTo(zi*a-Hi*o,Hi*a+zi*o),t.lineTo(zi*l-Hi*c,Hi*l+zi*c),t.lineTo(zi*r+Hi*i,zi*i-Hi*r),t.lineTo(zi*a+Hi*o,zi*o-Hi*a),t.lineTo(zi*l+Hi*c,zi*c-Hi*l),t.closePath()}};function JY(t,e){let n=null,r=dE(i);t=typeof t=="function"?t:jt(t||gE),e=typeof e=="function"?e:jt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:jt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:jt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function fg(){}function hg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function SN(t){this._context=t}SN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eQ(t){return new SN(t)}function TN(t){this._context=t}TN.prototype={areaStart:fg,areaEnd:fg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:hg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tQ(t){return new TN(t)}function CN(t){this._context=t}CN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:hg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nQ(t){return new CN(t)}function IN(t){this._context=t}IN.prototype={areaStart:fg,areaEnd:fg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function rQ(t){return new IN(t)}function wO(t){return t<0?-1:1}function EO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(wO(a)+wO(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function AO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function K2(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,o-l*n,a,o)}function dg(t){this._context=t}dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:K2(this,this._t0,AO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,K2(this,AO(this,n=EO(this,t,e)),n);break;default:K2(this,this._t0,n=EO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function ON(t){this._context=new RN(t)}(ON.prototype=Object.create(dg.prototype)).point=function(t,e){dg.prototype.point.call(this,e,t)};function RN(t){this._context=t}RN.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function iQ(t){return new dg(t)}function aQ(t){return new ON(t)}function PN(t){this._context=t}PN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=SO(t),i=SO(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function SO(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function oQ(t){return new PN(t)}function Rv(t,e){this._context=t,this._t=e}Rv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function sQ(t){return new Rv(t,.5)}function lQ(t){return new Rv(t,0)}function uQ(t){return new Rv(t,1)}function of(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,l=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function lb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function cQ(t,e){return t[e]}function fQ(t){const e=[];return e.key=t,e}function hQ(){var t=jt([]),e=lb,n=of,r=cQ;function i(a){var o=Array.from(t.apply(this,arguments),fQ),l,c=o.length,f=-1,d;for(const p of a)for(l=0,++f;l<c;++l)(o[l][f]=[0,+r(p,o[l].key,f,a)]).data=p;for(l=0,d=pE(e(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:jt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:jt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?lb:typeof a=="function"?a:jt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??of,i):n},i}function dQ(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}of(t,e)}}function pQ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}of(t,e)}}function gQ(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,c=0,f=0;l<o;++l){for(var d=t[e[l]],p=d[r][1]||0,v=d[r-1][1]||0,m=(p-v)/2,_=0;_<l;++_){var w=t[e[_]],E=w[r][1]||0,S=w[r-1][1]||0;m+=E-S}c+=p,f+=m*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,of(t,e)}}var vQ=["type","size","sizeType"];function ub(){return ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ub.apply(null,arguments)}function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){mQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mQ(t,e,n){return(e=yQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yQ(t){var e=xQ(t,"string");return typeof e=="symbol"?e:e+""}function xQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Q(t,e){if(t==null)return{};var n,r,i=bQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var DN={symbolCircle:gE,symbolCross:zY,symbolDiamond:$Y,symbolSquare:qY,symbolStar:XY,symbolTriangle:YY,symbolWye:ZY},wQ=Math.PI/180,EQ=t=>{var e="symbol".concat(e0(t));return DN[e]||gE},AQ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*wQ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},SQ=(t,e)=>{DN["symbol".concat(e0(t))]=e},vE=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=_Q(t,vQ),a=CO(CO({},i),{},{type:e,size:n,sizeType:r}),o="circle";typeof e=="string"&&(o=e);var l=()=>{var v=EQ(o),m=JY().type(v).size(AQ(n,r,o));return m()},{className:c,cx:f,cy:d}=a,p=nn(a,!0);return f===+f&&d===+d&&n===+n?C.createElement("path",ub({},p,{className:pt("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(d,")"),d:l()})):null};vE.registerSymbol=SQ;function cb(){return cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cb.apply(null,arguments)}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){mE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mE(t,e,n){return(e=CQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CQ(t){var e=IQ(t,"string");return typeof e=="symbol"?e:e+""}function IQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $i=32;class yE extends C.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=$i/2,a=$i/6,o=$i/3,l=e.inactive?r:e.color,c=n??e.type;if(c==="none")return null;if(c==="plainline")return C.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:$i,y2:i,className:"recharts-legend-icon"});if(c==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat($i,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return C.createElement("path",{stroke:"none",fill:l,d:"M0,".concat($i/8,"h").concat($i,"v").concat($i*3/4,"h").concat(-$i,"z"),className:"recharts-legend-icon"});if(C.isValidElement(e.legendIcon)){var f=TQ({},e);return delete f.legendIcon,C.cloneElement(e.legendIcon,f)}return C.createElement(vE,{fill:l,cx:i,cy:i,size:$i,sizeType:"diameter",type:c})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=this.props,l={x:0,y:0,width:$i,height:$i},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,p)=>{var v=d.formatter||i,m=pt({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:d.inactive});if(d.type==="none")return null;var _=d.inactive?a:d.color,w=v?v(d.value,d,p):d.value;return C.createElement("li",cb({className:m,style:c,key:"legend-item-".concat(p)},t0(this.props,d,p)),C.createElement(hE,{width:n,height:n,viewBox:l,style:f,"aria-label":"".concat(w," legend icon")},this.renderIcon(d,o)),C.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},w))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}mE(yE,"displayName","Legend");mE(yE,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var W2={},X2={},OO;function OQ(){return OO||(OO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],l=r(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}t.uniqBy=e})(X2)),X2}var Y2={},RO;function NN(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Y2)),Y2}var Q2={},Z2={},J2={},PO;function RQ(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(J2)),J2}var DO;function xE(){return DO||(DO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RQ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Z2)),Z2}var ex={},NO;function PQ(){return NO||(NO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(ex)),ex}var MO;function DQ(){return MO||(MO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xE(),n=PQ();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Q2)),Q2}var tx={},nx={},kO;function NQ(){return kO||(kO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lE();function n(r){return function(i){return e.get(i,r)}}t.property=n})(nx)),nx}var rx={},ix={},ax={},ox={},LO;function MN(){return LO||(LO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(ox)),ox}var sx={},jO;function kN(){return jO||(jO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(sx)),sx}var lx={},BO;function LN(){return BO||(BO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(lx)),lx}var VO;function MQ(){return VO||(VO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_E(),n=MN(),r=kN(),i=LN();function a(p,v,m){return typeof m!="function"?e.isMatch(p,v):o(p,v,function _(w,E,S,I,R,M){const k=m(w,E,S,I,R,M);return k!==void 0?!!k:o(w,E,_,M)},new Map)}function o(p,v,m,_){if(v===p)return!0;switch(typeof v){case"object":return l(p,v,m,_);case"function":return Object.keys(v).length>0?o(p,{...v},m,_):i.eq(p,v);default:return n.isObject(p)?typeof v=="string"?v==="":!0:i.eq(p,v)}}function l(p,v,m,_){if(v==null)return!0;if(Array.isArray(v))return f(p,v,m,_);if(v instanceof Map)return c(p,v,m,_);if(v instanceof Set)return d(p,v,m,_);const w=Object.keys(v);if(p==null)return w.length===0;if(w.length===0)return!0;if(_&&_.has(v))return _.get(v)===p;_&&_.set(v,p);try{for(let E=0;E<w.length;E++){const S=w[E];if(!r.isPrimitive(p)&&!(S in p)||v[S]===void 0&&p[S]!==void 0||v[S]===null&&p[S]!==null||!m(p[S],v[S],S,p,v,_))return!1}return!0}finally{_&&_.delete(v)}}function c(p,v,m,_){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,E]of v.entries()){const S=p.get(w);if(m(S,E,w,p,v,_)===!1)return!1}return!0}function f(p,v,m,_){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let E=0;E<v.length;E++){const S=v[E];let I=!1;for(let R=0;R<p.length;R++){if(w.has(R))continue;const M=p[R];let k=!1;if(m(M,S,E,p,v,_)&&(k=!0),k){w.add(R),I=!0;break}}if(!I)return!1}return!0}function d(p,v,m,_){return v.size===0?!0:p instanceof Set?f([...p],[...v],m,_):!1}t.isMatchWith=a,t.isSetMatch=d})(ax)),ax}var FO;function _E(){return FO||(FO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MQ();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(ix)),ix}var ux={},cx={},fx={},UO;function kQ(){return UO||(UO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(fx)),fx}var hx={},zO;function jN(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(hx)),hx}var dx={},HO;function BN(){return HO||(HO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",f="[object Set]",d="[object Array]",p="[object Function]",v="[object ArrayBuffer]",m="[object Object]",_="[object Error]",w="[object DataView]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",I="[object Uint16Array]",R="[object Uint32Array]",M="[object BigUint64Array]",k="[object Int8Array]",B="[object Int16Array]",D="[object Int32Array]",N="[object BigInt64Array]",L="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=v,t.arrayTag=d,t.bigInt64ArrayTag=N,t.bigUint64ArrayTag=M,t.booleanTag=i,t.dataViewTag=w,t.dateTag=l,t.errorTag=_,t.float32ArrayTag=L,t.float64ArrayTag=z,t.functionTag=p,t.int16ArrayTag=B,t.int32ArrayTag=D,t.int8ArrayTag=k,t.mapTag=c,t.numberTag=r,t.objectTag=m,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=I,t.uint32ArrayTag=R,t.uint8ArrayTag=E,t.uint8ClampedArrayTag=S})(dx)),dx}var px={},$O;function LQ(){return $O||($O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(px)),px}var qO;function VN(){return qO||(qO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kQ(),n=jN(),r=BN(),i=kN(),a=LQ();function o(d,p){return l(d,void 0,d,new Map,p)}function l(d,p,v,m=new Map,_=void 0){const w=_?.(d,p,v,m);if(w!==void 0)return w;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const E=new Array(d.length);m.set(d,E);for(let S=0;S<d.length;S++)E[S]=l(d[S],S,v,m,_);return Object.hasOwn(d,"index")&&(E.index=d.index),Object.hasOwn(d,"input")&&(E.input=d.input),E}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const E=new RegExp(d.source,d.flags);return E.lastIndex=d.lastIndex,E}if(d instanceof Map){const E=new Map;m.set(d,E);for(const[S,I]of d)E.set(S,l(I,S,v,m,_));return E}if(d instanceof Set){const E=new Set;m.set(d,E);for(const S of d)E.add(l(S,void 0,v,m,_));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const E=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,E);for(let S=0;S<d.length;S++)E[S]=l(d[S],S,v,m,_);return E}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const E=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,E),c(E,d,v,m,_),E}if(typeof File<"u"&&d instanceof File){const E=new File([d],d.name,{type:d.type});return m.set(d,E),c(E,d,v,m,_),E}if(typeof Blob<"u"&&d instanceof Blob){const E=new Blob([d],{type:d.type});return m.set(d,E),c(E,d,v,m,_),E}if(d instanceof Error){const E=new d.constructor;return m.set(d,E),E.message=d.message,E.name=d.name,E.stack=d.stack,E.cause=d.cause,c(E,d,v,m,_),E}if(d instanceof Boolean){const E=new Boolean(d.valueOf());return m.set(d,E),c(E,d,v,m,_),E}if(d instanceof Number){const E=new Number(d.valueOf());return m.set(d,E),c(E,d,v,m,_),E}if(d instanceof String){const E=new String(d.valueOf());return m.set(d,E),c(E,d,v,m,_),E}if(typeof d=="object"&&f(d)){const E=Object.create(Object.getPrototypeOf(d));return m.set(d,E),c(E,d,v,m,_),E}return d}function c(d,p,v=d,m,_){const w=[...Object.keys(p),...e.getSymbols(p)];for(let E=0;E<w.length;E++){const S=w[E],I=Object.getOwnPropertyDescriptor(d,S);(I==null||I.writable)&&(d[S]=l(p[S],S,v,m,_))}}function f(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=l,t.copyProperties=c})(cx)),cx}var GO;function jQ(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VN();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(ux)),ux}var KO;function BQ(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_E(),n=jQ();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(rx)),rx}var gx={},vx={},mx={},WO;function VQ(){return WO||(WO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VN(),n=BN();function r(i,a){return e.cloneDeepWith(i,(o,l,c,f)=>{const d=a?.(o,l,c,f);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(mx)),mx}var XO;function FQ(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VQ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(vx)),vx}var yx={},xx={},YO;function FN(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(xx)),xx}var _x={},QO;function UQ(){return QO||(QO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jN();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(_x)),_x}var ZO;function zQ(){return ZO||(ZO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lN(),n=FN(),r=UQ(),i=sE();function a(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&o?.[l]==null?c=i.toPath(l):c=[l],c.length===0)return!1;let f=o;for(let d=0;d<c.length;d++){const p=c[d];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=a})(yx)),yx}var JO;function HQ(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_E(),n=oE(),r=FQ(),i=lE(),a=zQ();function o(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(f){const d=i.get(f,l);return d===void 0?a.has(f,l):c===void 0?d===void 0:e.isMatch(d,c)}}t.matchesProperty=o})(gx)),gx}var e6;function $Q(){return e6||(e6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NN(),n=NQ(),r=BQ(),i=HQ();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=a})(tx)),tx}var t6;function qQ(){return t6||(t6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OQ(),n=NN(),r=DQ(),i=$Q();function a(o,l=n.identity){return r.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(l)):[]}t.uniqBy=a})(W2)),W2}var bx,n6;function GQ(){return n6||(n6=1,bx=qQ().uniqBy),bx}var KQ=GQ();const r6=so(KQ);function UN(t,e,n){return e===!0?r6(t,n):typeof e=="function"?r6(t,e):t}var wx={exports:{}},Ex={},Ax={exports:{}},Sx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i6;function WQ(){if(i6)return Sx;i6=1;var t=gf();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function l(p,v){var m=v(),_=r({inst:{value:m,getSnapshot:v}}),w=_[0].inst,E=_[1];return a(function(){w.value=m,w.getSnapshot=v,c(w)&&E({inst:w})},[p,m,v]),i(function(){return c(w)&&E({inst:w}),p(function(){c(w)&&E({inst:w})})},[p]),o(m),m}function c(p){var v=p.getSnapshot;p=p.value;try{var m=v();return!n(p,m)}catch{return!0}}function f(p,v){return v()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return Sx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,Sx}var a6;function XQ(){return a6||(a6=1,Ax.exports=WQ()),Ax.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o6;function YQ(){if(o6)return Ex;o6=1;var t=gf(),e=XQ();function n(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Ex.useSyncExternalStoreWithSelector=function(f,d,p,v,m){var _=a(null);if(_.current===null){var w={hasValue:!1,value:null};_.current=w}else w=_.current;_=l(function(){function S(B){if(!I){if(I=!0,R=B,B=v(B),m!==void 0&&w.hasValue){var D=w.value;if(m(D,B))return M=D}return M=B}if(D=M,r(R,B))return D;var N=v(B);return m!==void 0&&m(D,N)?(R=B,D):(R=B,M=N)}var I=!1,R,M,k=p===void 0?null:p;return[function(){return S(d())},k===null?void 0:function(){return S(k())}]},[d,p,v,m]);var E=i(f,_[0],_[1]);return o(function(){w.hasValue=!0,w.value=E},[E]),c(E),E},Ex}var s6;function QQ(){return s6||(s6=1,wx.exports=YQ()),wx.exports}var ZQ=QQ(),bE=C.createContext(null),JQ=t=>t,rn=()=>{var t=C.useContext(bE);return t?t.store.dispatch:JQ},j1=()=>{},eZ=()=>j1,tZ=(t,e)=>t===e;function Ce(t){var e=C.useContext(bE);return ZQ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:eZ,e?e.store.getState:j1,e?e.store.getState:j1,e?t:j1,tZ)}function nZ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function rZ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function iZ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var l6=t=>Array.isArray(t)?t:[t];function aZ(t){const e=Array.isArray(t[0])?t[0]:t;return iZ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function oZ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var sZ=class{constructor(t){this.value=t}deref(){return this.value}},lZ=typeof WeakRef<"u"?WeakRef:sZ,uZ=0,u6=1;function l1(){return{s:uZ,v:void 0,o:null,p:null}}function zN(t,e={}){let n=l1();const{resultEqualityCheck:r}=e;let i,a=0;function o(){let l=n;const{length:c}=arguments;for(let p=0,v=c;p<v;p++){const m=arguments[p];if(typeof m=="function"||typeof m=="object"&&m!==null){let _=l.o;_===null&&(l.o=_=new WeakMap);const w=_.get(m);w===void 0?(l=l1(),_.set(m,l)):l=w}else{let _=l.p;_===null&&(l.p=_=new Map);const w=_.get(m);w===void 0?(l=l1(),_.set(m,l)):l=w}}const f=l;let d;if(l.s===u6)d=l.v;else if(d=t.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,d)&&(d=p,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new lZ(d):d}return f.s=u6,f.v=d,d}return o.clearCache=()=>{n=l1(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function cZ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,o=0,l,c={},f=i.pop();typeof f=="object"&&(c=f,f=i.pop()),nZ(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const d={...n,...c},{memoize:p,memoizeOptions:v=[],argsMemoize:m=zN,argsMemoizeOptions:_=[]}=d,w=l6(v),E=l6(_),S=aZ(i),I=p(function(){return a++,f.apply(null,arguments)},...w),R=m(function(){o++;const k=oZ(S,arguments);return l=I.apply(null,k),l},...E);return Object.assign(R,{resultFunc:f,memoizedResultFunc:I,dependencies:S,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var ne=cZ(zN),fZ=Object.assign((t,e=ne)=>{rZ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((o,l,c)=>(o[n[c]]=l,o),{}))},{withTypes:()=>fZ}),Tx={},Cx={},Ix={},c6;function hZ(){return c6||(c6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=e(r),l=e(i);if(o===l&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};t.compareValues=n})(Ix)),Ix}var Ox={},Rx={},f6;function HN(){return f6||(f6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Rx)),Rx}var h6;function dZ(){return h6||(h6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HN(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(Ox)),Ox}var d6;function pZ(){return d6||(d6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hZ(),n=dZ(),r=sE();function i(a,o,l,c){if(a==null)return[];l=c?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const f=(m,_)=>{let w=m;for(let E=0;E<_.length&&w!=null;++E)w=w[_[E]];return w},d=(m,_)=>_==null||m==null?_:typeof m=="object"&&"key"in m?Object.hasOwn(_,m.key)?_[m.key]:f(_,m.path):typeof m=="function"?m(_):Array.isArray(m)?f(_,m):typeof _=="object"?_[m]:_,p=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:p.map(_=>d(_,m))})).slice().sort((m,_)=>{for(let w=0;w<p.length;w++){const E=e.compareValues(m.criteria[w],_.criteria[w],l[w]);if(E!==0)return E}return 0}).map(m=>m.original)}t.orderBy=i})(Cx)),Cx}var Px={},p6;function gZ(){return p6||(p6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),o=(l,c)=>{for(let f=0;f<l.length;f++){const d=l[f];Array.isArray(d)&&c<a?o(d,c+1):i.push(d)}};return o(n,0),i}t.flatten=e})(Px)),Px}var Dx={},g6;function $N(){return g6||(g6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FN(),n=xE(),r=MN(),i=LN();function a(o,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],o):!1}t.isIterateeCall=a})(Dx)),Dx}var v6;function vZ(){return v6||(v6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pZ(),n=gZ(),r=$N();function i(a,...o){const l=o.length;return l>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,n.flatten(o),["asc"])}t.sortBy=i})(Tx)),Tx}var Nx,m6;function mZ(){return m6||(m6=1,Nx=vZ().sortBy),Nx}var yZ=mZ();const Pv=so(yZ);var qN=t=>t.legend.settings,xZ=t=>t.legend.size,_Z=t=>t.legend.payload,bZ=ne([_Z,qN],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Pv(r,n):r});function wZ(){return Ce(bZ)}var u1=1;function GN(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=C.useState({height:0,left:0,top:0,width:0}),r=C.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>u1||Math.abs(o.left-e.left)>u1||Math.abs(o.top-e.top)>u1||Math.abs(o.width-e.width)>u1)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function xr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var EZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",y6=EZ,Mx=()=>Math.random().toString(36).substring(7).split("").join("."),AZ={INIT:`@@redux/INIT${Mx()}`,REPLACE:`@@redux/REPLACE${Mx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Mx()}`},pg=AZ;function wE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function KN(t,e,n){if(typeof t!="function")throw new Error(xr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xr(1));return n(KN)(t,e)}let r=t,i=e,a=new Map,o=a,l=0,c=!1;function f(){o===a&&(o=new Map,a.forEach((E,S)=>{o.set(S,E)}))}function d(){if(c)throw new Error(xr(3));return i}function p(E){if(typeof E!="function")throw new Error(xr(4));if(c)throw new Error(xr(5));let S=!0;f();const I=l++;return o.set(I,E),function(){if(S){if(c)throw new Error(xr(6));S=!1,f(),o.delete(I),a=null}}}function v(E){if(!wE(E))throw new Error(xr(7));if(typeof E.type>"u")throw new Error(xr(8));if(typeof E.type!="string")throw new Error(xr(17));if(c)throw new Error(xr(9));try{c=!0,i=r(i,E)}finally{c=!1}return(a=o).forEach(I=>{I()}),E}function m(E){if(typeof E!="function")throw new Error(xr(10));r=E,v({type:pg.REPLACE})}function _(){const E=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(xr(11));function I(){const M=S;M.next&&M.next(d())}return I(),{unsubscribe:E(I)}},[y6](){return this}}}return v({type:pg.INIT}),{dispatch:v,subscribe:p,getState:d,replaceReducer:m,[y6]:_}}function SZ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:pg.INIT})>"u")throw new Error(xr(12));if(typeof n(void 0,{type:pg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xr(13))})}function WN(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{SZ(n)}catch(a){i=a}return function(o={},l){if(i)throw i;let c=!1;const f={};for(let d=0;d<r.length;d++){const p=r[d],v=n[p],m=o[p],_=v(m,l);if(typeof _>"u")throw l&&l.type,new Error(xr(14));f[p]=_,c=c||_!==m}return c=c||r.length!==Object.keys(o).length,c?f:o}}function gg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function TZ(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(xr(15))};const o={getState:i.getState,dispatch:(c,...f)=>a(c,...f)},l=t.map(c=>c(o));return a=gg(...l)(i.dispatch),{...i,dispatch:a}}}function XN(t){return wE(t)&&"type"in t&&typeof t.type=="string"}var YN=Symbol.for("immer-nothing"),x6=Symbol.for("immer-draftable"),Ti=Symbol.for("immer-state");function xa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var sf=Object.getPrototypeOf;function Lu(t){return!!t&&!!t[Ti]}function qo(t){return t?QN(t)||Array.isArray(t)||!!t[x6]||!!t.constructor?.[x6]||n0(t)||Nv(t):!1}var CZ=Object.prototype.constructor.toString();function QN(t){if(!t||typeof t!="object")return!1;const e=sf(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===CZ}function vg(t,e){Dv(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Dv(t){const e=t[Ti];return e?e.type_:Array.isArray(t)?1:n0(t)?2:Nv(t)?3:0}function fb(t,e){return Dv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function ZN(t,e,n){const r=Dv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function IZ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function n0(t){return t instanceof Map}function Nv(t){return t instanceof Set}function fu(t){return t.copy_||t.base_}function hb(t,e){if(n0(t))return new Map(t);if(Nv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=QN(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ti];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(sf(t),r)}else{const r=sf(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function EE(t,e=!1){return Mv(t)||Lu(t)||!qo(t)||(Dv(t)>1&&Object.defineProperties(t,{set:{value:c1},add:{value:c1},clear:{value:c1},delete:{value:c1}}),Object.freeze(t),e&&Object.values(t).forEach(n=>EE(n,!0))),t}function c1(){xa(2)}function Mv(t){return Object.isFrozen(t)}var OZ={};function ju(t){const e=OZ[t];return e||xa(0,t),e}var Rd;function JN(){return Rd}function RZ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _6(t,e){e&&(ju("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function db(t){pb(t),t.drafts_.forEach(PZ),t.drafts_=null}function pb(t){t===Rd&&(Rd=t.parent_)}function b6(t){return Rd=RZ(Rd,t)}function PZ(t){const e=t[Ti];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function w6(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ti].modified_&&(db(e),xa(4)),qo(t)&&(t=mg(e,t),e.parent_||yg(e,t)),e.patches_&&ju("Patches").generateReplacementPatches_(n[Ti].base_,t,e.patches_,e.inversePatches_)):t=mg(e,n,[]),db(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==YN?t:void 0}function mg(t,e,n){if(Mv(e))return e;const r=e[Ti];if(!r)return vg(e,(i,a)=>E6(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return yg(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),vg(a,(l,c)=>E6(t,r,i,l,c,n,o)),yg(t,i,!1),n&&t.patches_&&ju("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function E6(t,e,n,r,i,a,o){if(Lu(i)){const l=a&&e&&e.type_!==3&&!fb(e.assigned_,r)?a.concat(r):void 0,c=mg(t,i,l);if(ZN(n,r,c),Lu(c))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(qo(i)&&!Mv(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;mg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(n0(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&yg(t,i)}}function yg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&EE(e,n)}function DZ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:JN(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=AE;n&&(i=[r],a=Pd);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,l}var AE={get(t,e){if(e===Ti)return t;const n=fu(t);if(!fb(n,e))return NZ(t,n,e);const r=n[e];return t.finalized_||!qo(r)?r:r===kx(t.base_,e)?(Lx(t),t.copy_[e]=vb(r,t)):r},has(t,e){return e in fu(t)},ownKeys(t){return Reflect.ownKeys(fu(t))},set(t,e,n){const r=eM(fu(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=kx(fu(t),e),a=i?.[Ti];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(IZ(n,i)&&(n!==void 0||fb(t.base_,e)))return!0;Lx(t),gb(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return kx(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Lx(t),gb(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=fu(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){xa(11)},getPrototypeOf(t){return sf(t.base_)},setPrototypeOf(){xa(12)}},Pd={};vg(AE,(t,e)=>{Pd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Pd.deleteProperty=function(t,e){return Pd.set.call(this,t,e,void 0)};Pd.set=function(t,e,n){return AE.set.call(this,t[0],e,n,t[0])};function kx(t,e){const n=t[Ti];return(n?fu(n):t)[e]}function NZ(t,e,n){const r=eM(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function eM(t,e){if(!(e in t))return;let n=sf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=sf(n)}}function gb(t){t.modified_||(t.modified_=!0,t.parent_&&gb(t.parent_))}function Lx(t){t.copy_||(t.copy_=hb(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var MZ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(c=a,...f){return o.produce(c,d=>n.call(this,d,...f))}}typeof n!="function"&&xa(6),r!==void 0&&typeof r!="function"&&xa(7);let i;if(qo(e)){const a=b6(this),o=vb(e,void 0);let l=!0;try{i=n(o),l=!1}finally{l?db(a):pb(a)}return _6(a,r),w6(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===YN&&(i=void 0),this.autoFreeze_&&EE(i,!0),r){const a=[],o=[];ju("Patches").generateReplacementPatches_(e,i,a,o),r(a,o)}return i}else xa(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,c=>e(c,...l));let r,i;return[this.produce(e,n,(o,l)=>{r=o,i=l}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){qo(t)||xa(8),Lu(t)&&(t=Bo(t));const e=b6(this),n=vb(t,void 0);return n[Ti].isManual_=!0,pb(e),n}finishDraft(t,e){const n=t&&t[Ti];(!n||!n.isManual_)&&xa(9);const{scope_:r}=n;return _6(r,e),w6(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=ju("Patches").applyPatches_;return Lu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function vb(t,e){const n=n0(t)?ju("MapSet").proxyMap_(t,e):Nv(t)?ju("MapSet").proxySet_(t,e):DZ(t,e);return(e?e.scope_:JN()).drafts_.push(n),n}function Bo(t){return Lu(t)||xa(10,t),tM(t)}function tM(t){if(!qo(t)||Mv(t))return t;const e=t[Ti];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=hb(t,e.scope_.immer_.useStrictShallowCopy_)}else n=hb(t,!0);return vg(n,(r,i)=>{ZN(n,r,tM(i))}),e&&(e.finalized_=!1),n}var kZ=new MZ,nM=kZ.produce;function rM(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var LZ=rM(),jZ=rM,BZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?gg:gg.apply(null,arguments)};function ea(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Ai(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>XN(r)&&r.type===t,n}var iM=class ld extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ld.prototype)}static get[Symbol.species](){return ld}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ld(...e[0].concat(this)):new ld(...e.concat(this))}};function A6(t){return qo(t)?nM(t,()=>{}):t}function f1(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function VZ(t){return typeof t=="boolean"}var FZ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new iM;return n&&(VZ(n)?o.push(LZ):o.push(jZ(n.extraArgument))),o},UZ="RTK_autoBatch",S6=t=>e=>{setTimeout(e,t)},zZ=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,o=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:S6(10):t.type==="callback"?t.queueNotification:S6(t.timeout),f=()=>{o=!1,a&&(a=!1,l.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const p=()=>i&&d(),v=r.subscribe(p);return l.add(d),()=>{v(),l.delete(d)}},dispatch(d){try{return i=!d?.meta?.[UZ],a=!i,a&&(o||(o=!0,c(f))),r.dispatch(d)}finally{i=!0}}})},HZ=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new iM(t);return r&&i.push(zZ(typeof r=="object"?r:void 0)),i};function $Z(t){const e=FZ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(wE(n))l=WN(n);else throw new Error(Ai(1));let c;typeof r=="function"?c=r(e):c=e();let f=gg;i&&(f=BZ({trace:!1,...typeof i=="object"&&i}));const d=TZ(...c),p=HZ(d);let v=typeof o=="function"?o(p):p();const m=f(...v);return KN(l,a,m)}function aM(t){const e={},n=[];let r;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Ai(28));if(l in e)throw new Error(Ai(29));return e[l]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function qZ(t){return typeof t=="function"}function GZ(t,e){let[n,r,i]=aM(e),a;if(qZ(t))a=()=>A6(t());else{const l=A6(t);a=()=>l}function o(l=a(),c){let f=[n[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return f.filter(d=>!!d).length===0&&(f=[i]),f.reduce((d,p)=>{if(p)if(Lu(d)){const m=p(d,c);return m===void 0?d:m}else{if(qo(d))return nM(d,v=>p(v,c));{const v=p(d,c);if(v===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return d},l)}return o.getInitialState=a,o}var KZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",WZ=(t=21)=>{let e="",n=t;for(;n--;)e+=KZ[Math.random()*64|0];return e},XZ=Symbol.for("rtk-slice-createasyncthunk");function YZ(t,e){return`${t}/${e}`}function QZ({creators:t}={}){const e=t?.asyncThunk?.[XZ];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Ai(11));const o=(typeof r.reducers=="function"?r.reducers(JZ()):r.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(R,M){const k=typeof R=="string"?R:R.type;if(!k)throw new Error(Ai(12));if(k in c.sliceCaseReducersByType)throw new Error(Ai(13));return c.sliceCaseReducersByType[k]=M,f},addMatcher(R,M){return c.sliceMatchers.push({matcher:R,reducer:M}),f},exposeAction(R,M){return c.actionCreators[R]=M,f},exposeCaseReducer(R,M){return c.sliceCaseReducersByName[R]=M,f}};l.forEach(R=>{const M=o[R],k={reducerName:R,type:YZ(i,R),createNotation:typeof r.reducers=="function"};tJ(M)?rJ(k,M,f,e):eJ(k,M,f)});function d(){const[R={},M=[],k=void 0]=typeof r.extraReducers=="function"?aM(r.extraReducers):[r.extraReducers],B={...R,...c.sliceCaseReducersByType};return GZ(r.initialState,D=>{for(let N in B)D.addCase(N,B[N]);for(let N of c.sliceMatchers)D.addMatcher(N.matcher,N.reducer);for(let N of M)D.addMatcher(N.matcher,N.reducer);k&&D.addDefaultCase(k)})}const p=R=>R,v=new Map,m=new WeakMap;let _;function w(R,M){return _||(_=d()),_(R,M)}function E(){return _||(_=d()),_.getInitialState()}function S(R,M=!1){function k(D){let N=D[R];return typeof N>"u"&&M&&(N=f1(m,k,E)),N}function B(D=p){const N=f1(v,M,()=>new WeakMap);return f1(N,D,()=>{const L={};for(const[z,U]of Object.entries(r.selectors??{}))L[z]=ZZ(U,D,()=>f1(m,D,E),M);return L})}return{reducerPath:R,getSelectors:B,get selectors(){return B(k)},selectSlice:k}}const I={name:i,reducer:w,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:E,...S(a),injectInto(R,{reducerPath:M,...k}={}){const B=M??a;return R.inject({reducerPath:B,reducer:w},k),{...I,...S(B,!0)}}};return I}}function ZZ(t,e,n,r){function i(a,...o){let l=e(a);return typeof l>"u"&&r&&(l=n()),t(l,...o)}return i.unwrapped=t,i}var Ii=QZ();function JZ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function eJ({type:t,reducerName:e,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!nJ(r))throw new Error(Ai(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?ea(t,o):ea(t))}function tJ(t){return t._reducerDefinitionType==="asyncThunk"}function nJ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function rJ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Ai(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:c,settled:f,options:d}=n,p=i(t,a,d);r.exposeAction(e,p),o&&r.addCase(p.fulfilled,o),l&&r.addCase(p.pending,l),c&&r.addCase(p.rejected,c),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:o||h1,pending:l||h1,rejected:c||h1,settled:f||h1})}function h1(){}var iJ="task",oM="listener",sM="completed",SE="cancelled",aJ=`task-${SE}`,oJ=`task-${sM}`,mb=`${oM}-${SE}`,sJ=`${oM}-${sM}`,kv=class{constructor(t){this.code=t,this.message=`${iJ} ${SE} (reason: ${t})`}name="TaskAbortError";message},TE=(t,e)=>{if(typeof t!="function")throw new TypeError(Ai(32))},xg=()=>{},lM=(t,e=xg)=>(t.catch(e),t),uM=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Eu=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Au=t=>{if(t.aborted){const{reason:e}=t;throw new kv(e)}};function cM(t,e){let n=xg;return new Promise((r,i)=>{const a=()=>i(new kv(t.reason));if(t.aborted){a();return}n=uM(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=xg})}var lJ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof kv?"cancelled":"rejected",error:n}}finally{e?.()}},_g=t=>e=>lM(cM(t,e).then(n=>(Au(t),n))),fM=t=>{const e=_g(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Wc}=Object,T6={},Lv="listenerMiddleware",uJ=(t,e)=>{const n=r=>uM(t,()=>Eu(r,t.reason));return(r,i)=>{TE(r);const a=new AbortController;n(a);const o=lJ(async()=>{Au(t),Au(a.signal);const l=await r({pause:_g(a.signal),delay:fM(a.signal),signal:a.signal});return Au(a.signal),l},()=>Eu(a,oJ));return i?.autoJoin&&e.push(o.catch(xg)),{result:_g(t)(o),cancel(){Eu(a,aJ)}}}},cJ=(t,e)=>{const n=async(r,i)=>{Au(e);let a=()=>{};const l=[new Promise((c,f)=>{let d=t({predicate:r,effect:(p,v)=>{v.unsubscribe(),c([p,v.getState(),v.getOriginalState()])}});a=()=>{d(),f()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await cM(e,Promise.race(l));return Au(e),c}finally{a()}};return(r,i)=>lM(n(r,i))},hM=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=ea(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ai(21));return TE(a),{predicate:i,type:e,effect:a}},dM=Wc(t=>{const{type:e,predicate:n,effect:r}=hM(t);return{id:WZ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ai(22))}}},{withTypes:()=>dM}),C6=(t,e)=>{const{type:n,effect:r,predicate:i}=hM(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},yb=t=>{t.pending.forEach(e=>{Eu(e,mb)})},fJ=t=>()=>{t.forEach(yb),t.clear()},I6=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},pM=Wc(ea(`${Lv}/add`),{withTypes:()=>pM}),hJ=ea(`${Lv}/removeAll`),gM=Wc(ea(`${Lv}/remove`),{withTypes:()=>gM}),dJ=(...t)=>{console.error(`${Lv}/error`,...t)},r0=(t={})=>{const e=new Map,{extra:n,onError:r=dJ}=t;TE(r);const i=d=>(d.unsubscribe=()=>e.delete(d.id),e.set(d.id,d),p=>{d.unsubscribe(),p?.cancelActive&&yb(d)}),a=d=>{const p=C6(e,d)??dM(d);return i(p)};Wc(a,{withTypes:()=>a});const o=d=>{const p=C6(e,d);return p&&(p.unsubscribe(),d.cancelActive&&yb(p)),!!p};Wc(o,{withTypes:()=>o});const l=async(d,p,v,m)=>{const _=new AbortController,w=cJ(a,_.signal),E=[];try{d.pending.add(_),await Promise.resolve(d.effect(p,Wc({},v,{getOriginalState:m,condition:(S,I)=>w(S,I).then(Boolean),take:w,delay:fM(_.signal),pause:_g(_.signal),extra:n,signal:_.signal,fork:uJ(_.signal,E),unsubscribe:d.unsubscribe,subscribe:()=>{e.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((S,I,R)=>{S!==_&&(Eu(S,mb),R.delete(S))})},cancel:()=>{Eu(_,mb),d.pending.delete(_)},throwIfCancelled:()=>{Au(_.signal)}})))}catch(S){S instanceof kv||I6(r,S,{raisedBy:"effect"})}finally{await Promise.all(E),Eu(_,sJ),d.pending.delete(_)}},c=fJ(e);return{middleware:d=>p=>v=>{if(!XN(v))return p(v);if(pM.match(v))return a(v.payload);if(hJ.match(v)){c();return}if(gM.match(v))return o(v.payload);let m=d.getState();const _=()=>{if(m===T6)throw new Error(Ai(23));return m};let w;try{if(w=p(v),e.size>0){const E=d.getState(),S=Array.from(e.values());for(const I of S){let R=!1;try{R=I.predicate(v,E,m)}catch(M){R=!1,I6(r,M,{raisedBy:"predicate"})}R&&l(I,v,d,_)}}}finally{m=T6}return w},startListening:a,stopListening:o,clearListeners:c}};function Ai(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var pJ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},vM=Ii({name:"chartLayout",initialState:pJ,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:gJ,setLayout:vJ,setChartSize:mJ,setScale:yJ}=vM.actions,xJ=vM.reducer;function O6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O6(Object(n),!0).forEach(function(r){_J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _J(t,e,n){return(e=bJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bJ(t){var e=wJ(t,"string");return typeof e=="symbol"?e:e+""}function wJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bg=Math.PI/180,EJ=t=>t*180/Math.PI,kn=(t,e,n,r)=>({x:t+Math.cos(-bg*r)*n,y:e+Math.sin(-bg*r)*n}),mM=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},AJ=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},SJ=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,o=AJ({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(n-i)/o,c=Math.acos(l);return r>a&&(c=2*Math.PI-c),{radius:o,angle:EJ(c),angleInRadian:c}},TJ=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},CJ=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return t+o*360},IJ=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=SJ({x:n,y:r},e),{innerRadius:o,outerRadius:l}=e;if(i<o||i>l||i===0)return null;var{startAngle:c,endAngle:f}=TJ(e),d=a,p;if(c<=f){for(;d>f;)d-=360;for(;d<c;)d+=360;p=d>=c&&d<=f}else{for(;d>c;)d-=360;for(;d<f;)d+=360;p=d>=f&&d<=c}return p?R6(R6({},e),{},{radius:i,angle:CJ(d,e)}):null};function yM(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function P6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P6(Object(n),!0).forEach(function(r){OJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OJ(t,e,n){return(e=RJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RJ(t){var e=PJ(t,"string");return typeof e=="symbol"?e:e+""}function PJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ft(t,e,n){return Jt(t)||Jt(e)?n:ao(e)?ku(t,e,n):typeof e=="function"?e(t):n}var DJ=(t,e,n,r,i)=>{var a,o=-1,l=(a=e?.length)!==null&&a!==void 0?a:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var f=c>0?n[c-1].coordinate:n[l-1].coordinate,d=n[c].coordinate,p=c>=l-1?n[0].coordinate:n[c+1].coordinate,v=void 0;if(sr(d-f)!==sr(p-d)){var m=[];if(sr(p-d)===sr(i[1]-i[0])){v=p;var _=d+i[1]-i[0];m[0]=Math.min(_,(_+f)/2),m[1]=Math.max(_,(_+f)/2)}else{v=f;var w=p+i[1]-i[0];m[0]=Math.min(d,(w+d)/2),m[1]=Math.max(d,(w+d)/2)}var E=[Math.min(d,(v+d)/2),Math.max(d,(v+d)/2)];if(t>E[0]&&t<=E[1]||t>=m[0]&&t<=m[1]){({index:o}=n[c]);break}}else{var S=Math.min(f,p),I=Math.max(f,p);if(t>(S+d)/2&&t<=(I+d)/2){({index:o}=n[c]);break}}}else if(e){for(var R=0;R<l;R++)if(R===0&&t<=(e[R].coordinate+e[R+1].coordinate)/2||R>0&&R<l-1&&t>(e[R].coordinate+e[R-1].coordinate)/2&&t<=(e[R].coordinate+e[R+1].coordinate)/2||R===l-1&&t>(e[R].coordinate+e[R-1].coordinate)/2){({index:o}=e[R]);break}}return o},NJ=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:l}=e;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&Re(t[a]))return Ki(Ki({},t),{},{[a]:t[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&Re(t[o]))return Ki(Ki({},t),{},{[o]:t[o]+(i||0)})}return t},Sl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",xM=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,a,o=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||o.push(e),a||o.push(n),o},_M=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:f,tickCount:d,ticks:p,niceTicks:v,axisType:m}=t;if(!o)return null;var _=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=i==="category"&&o.bandwidth?o.bandwidth()/_:0;if(w=m==="angleAxis"&&a&&a.length>=2?sr(a[0]-a[1])*2*w:w,p||v){var E=(p||v||[]).map((S,I)=>{var R=r?r.indexOf(S):S;return{coordinate:o(R)+w,value:S,offset:w,index:I}});return E.filter(S=>!Si(S.coordinate))}return c&&f?f.map((S,I)=>({coordinate:o(S)+w,value:S,index:I,offset:w})):o.ticks&&d!=null?o.ticks(d).map((S,I)=>({coordinate:o(S)+w,value:S,offset:w,index:I})):o.domain().map((S,I)=>({coordinate:o(S)+w,value:r?r[S]:S,index:I,offset:w}))},D6=1e-4,MJ=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-D6,a=Math.max(r[0],r[1])+D6,o=t(e[0]),l=t(e[n-1]);(o<i||o>a||l<i||l>a)&&t.domain([e[0],e[n-1]])}},kJ=(t,e)=>{if(!e||e.length!==2||!Re(e[0])||!Re(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Re(t[0])||t[0]<n)&&(i[0]=n),(!Re(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},LJ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,o=0;o<e;++o){var l=Si(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1])}},jJ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var o=Si(t[a][n][1])?t[a][n][0]:t[a][n][1];o>=0?(t[a][n][0]=i,t[a][n][1]=i+o,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},BJ={sign:LJ,expand:dQ,none:of,silhouette:pQ,wiggle:gQ,positive:jJ},VJ=(t,e,n)=>{var r=BJ[n],i=hQ().keys(e).value((a,o)=>+Ft(a,o,0)).order(lb).offset(r);return i(t)};function FJ(t){return t==null?void 0:String(t)}function N6(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Jt(i[e.dataKey])){var l=cN(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=Ft(i,Jt(o)?e.dataKey:o);return Jt(c)?null:e.scale(c)}var M6=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:o}=t;if(e.type==="category")return n[o]?n[o].coordinate+r:null;var l=Ft(a,e.dataKey,e.scale.domain()[o]);return Jt(l)?null:e.scale(l)-i/2+r},UJ=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},zJ=t=>{var e=t.flat(2).filter(Re);return[Math.min(...e),Math.max(...e)]},HJ=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],$J=(t,e,n)=>{if(t!=null)return HJ(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:o}=a,l=o.reduce((c,f)=>{var d=yM(f,e,n),p=zJ(d);return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},k6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,L6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dd=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Pv(e,d=>d.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var c=i[o],f=i[o-1];a=Math.min((c.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function j6(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Ki(Ki({},e),{},{dataKey:n,payload:r,value:i,name:a})}function Tf(t,e){if(t)return String(t);if(typeof e=="string")return e}function qJ(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?IJ({x:t,y:e},r):null}var GJ=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:o}=r;return Ki(Ki(Ki({},r),kn(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:c}=r;return Ki(Ki(Ki({},r),kn(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},KJ=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Zo=t=>t.layout.width,Jo=t=>t.layout.height,WJ=t=>t.layout.scale,bM=t=>t.layout.margin,jv=ne(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Bv=ne(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),wM="data-recharts-item-index",EM="data-recharts-item-data-key",i0=60;function B6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B6(Object(n),!0).forEach(function(r){XJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XJ(t,e,n){return(e=YJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YJ(t){var e=QJ(t,"string");return typeof e=="symbol"?e:e+""}function QJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZJ=t=>t.brush.height;function JJ(t){var e=Bv(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:i0;return n+i}return n},0)}function eee(t){var e=Bv(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:i0;return n+i}return n},0)}function tee(t){var e=jv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function nee(t){var e=jv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Xn=ne([Zo,Jo,bM,ZJ,JJ,eee,tee,nee,qN,xZ],(t,e,n,r,i,a,o,l,c,f)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+l},v=d1(d1({},p),d),m=v.bottom;v.bottom+=r,v=NJ(v,c,f);var _=t-v.left-v.right,w=e-v.top-v.bottom;return d1(d1({brushBottom:m},v),{},{width:Math.max(_,0),height:Math.max(w,0)})}),ree=ne(Xn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),CE=ne(Zo,Jo,(t,e)=>({x:0,y:0,width:t,height:e})),iee=C.createContext(null),oi=()=>C.useContext(iee)!=null,Vv=t=>t.brush,Fv=ne([Vv,Xn,bM],(t,e,n)=>({height:t.height,x:Re(t.x)?t.x:e.left,y:Re(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Re(t.width)?t.width:e.width})),IE=()=>{var t,e=oi(),n=Ce(ree),r=Ce(Fv),i=(t=Ce(Vv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},aee={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},AM=()=>{var t;return(t=Ce(Xn))!==null&&t!==void 0?t:aee},OE=()=>Ce(Zo),RE=()=>Ce(Jo),oee=()=>Ce(t=>t.layout.margin),ut=t=>t.layout.layoutType,Uv=()=>Ce(ut),see={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},SM=Ii({name:"legend",initialState:see,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Bo(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:V6,setLegendSettings:lee,addLegendPayload:TM,removeLegendPayload:CM}=SM.actions,uee=SM.reducer,cee=["contextPayload"];function xb(){return xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xb.apply(null,arguments)}function F6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F6(Object(n),!0).forEach(function(r){PE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PE(t,e,n){return(e=fee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fee(t){var e=hee(t,"string");return typeof e=="symbol"?e:e+""}function hee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dee(t,e){if(t==null)return{};var n,r,i=pee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gee(t){return t.value}function vee(t){var{contextPayload:e}=t,n=dee(t,cee),r=UN(e,t.payloadUniqBy,gee),i=lf(lf({},n),{},{payload:r});return C.isValidElement(t.content)?C.cloneElement(t.content,i):typeof t.content=="function"?C.createElement(t.content,i):C.createElement(yE,i)}function mee(t,e,n,r,i,a){var{layout:o,align:l,verticalAlign:c}=e,f,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(l==="center"&&o==="vertical"?f={left:((r||0)-a.width)/2}:f=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?d={top:((i||0)-a.height)/2}:d=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),lf(lf({},f),d)}function yee(t){var e=rn();return C.useEffect(()=>{e(lee(t))},[e,t]),null}function xee(t){var e=rn();return C.useEffect(()=>(e(V6(t)),()=>{e(V6({width:0,height:0}))}),[e,t]),null}function _ee(t){var e=wZ(),n=LY(),r=oee(),{width:i,height:a,wrapperStyle:o,portal:l}=t,[c,f]=GN([e]),d=OE(),p=RE();if(d==null||p==null)return null;var v=d-(r.left||0)-(r.right||0),m=zv.getWidthOrHeight(t.layout,a,i,v),_=l?o:lf(lf({position:"absolute",width:m?.width||i||"auto",height:m?.height||a||"auto"},mee(o,t,r,d,p,c)),o),w=l??n;if(w==null)return null;var E=C.createElement("div",{className:"recharts-legend-wrapper",style:_,ref:f},C.createElement(yee,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),C.createElement(xee,{width:c.width,height:c.height}),C.createElement(vee,xb({},t,m,{margin:r,chartWidth:d,chartHeight:p,contextPayload:e})));return pN.createPortal(E,w)}class zv extends C.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&Re(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return C.createElement(_ee,this.props)}}PE(zv,"displayName","Legend");PE(zv,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function _b(){return _b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_b.apply(null,arguments)}function U6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U6(Object(n),!0).forEach(function(r){bee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bee(t,e,n){return(e=wee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wee(t){var e=Eee(t,"string");return typeof e=="symbol"?e:e+""}function Eee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aee(t){return Array.isArray(t)&&ao(t[0])&&ao(t[1])?t.join(" ~ "):t}var See=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:f,label:d,labelFormatter:p,accessibilityLayer:v=!1}=t,m=()=>{if(a&&a.length){var k={padding:0,margin:0},B=(l?Pv(a,l):a).map((D,N)=>{if(D.type==="none")return null;var L=D.formatter||o||Aee,{value:z,name:U}=D,H=z,F=U;if(L){var de=L(z,U,D,N,a);if(Array.isArray(de))[H,F]=de;else if(de!=null)H=de;else return null}var be=jx({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},r);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:be},ao(F)?C.createElement("span",{className:"recharts-tooltip-item-name"},F):null,ao(F)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},H),C.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:k},B)}return null},_=jx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=jx({margin:0},i),E=!Jt(d),S=E?d:"",I=pt("recharts-default-tooltip",c),R=pt("recharts-tooltip-label",f);E&&p&&a!==void 0&&a!==null&&(S=p(d,a));var M=v?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",_b({className:I,style:_},M),C.createElement("p",{className:R,style:w},C.isValidElement(S)?S:"".concat(S)),m())},$h="recharts-tooltip-wrapper",Tee={visibility:"hidden"};function Cee(t){var{coordinate:e,translateX:n,translateY:r}=t;return pt($h,{["".concat($h,"-right")]:Re(n)&&e&&Re(e.x)&&n>=e.x,["".concat($h,"-left")]:Re(n)&&e&&Re(e.x)&&n<e.x,["".concat($h,"-bottom")]:Re(r)&&e&&Re(e.y)&&r>=e.y,["".concat($h,"-top")]:Re(r)&&e&&Re(e.y)&&r<e.y})}function z6(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:f}=t;if(a&&Re(a[r]))return a[r];var d=n[r]-l-(i>0?i:0),p=n[r]+i;if(e[r])return o[r]?d:p;var v=c[r];if(v==null)return 0;if(o[r]){var m=d,_=v;return m<_?Math.max(p,v):Math.max(d,v)}if(f==null)return 0;var w=p+l,E=v+f;return w>E?Math.max(d,v):Math.max(p,v)}function Iee(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Oee(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:c}=t,f,d,p;return o.height>0&&o.width>0&&n?(d=z6({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=z6({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),f=Iee({translateX:d,translateY:p,useTranslate3d:l})):f=Tee,{cssProperties:f,cssClasses:Cee({translateX:d,translateY:p,coordinate:n})}}function H6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H6(Object(n),!0).forEach(function(r){bb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bb(t,e,n){return(e=Ree(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ree(t){var e=Pee(t,"string");return typeof e=="symbol"?e:e+""}function Pee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Dee extends C.PureComponent{constructor(){super(...arguments),bb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),bb(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:c,offset:f,position:d,reverseDirection:p,useTranslate3d:v,viewBox:m,wrapperStyle:_,lastBoundingBox:w,innerRef:E,hasPortalFromProps:S}=this.props,{cssClasses:I,cssProperties:R}=Oee({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:f,position:d,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:v,viewBox:m}),M=S?{}:p1(p1({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),k=p1(p1({},M),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},_);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:k,ref:E},a)}}var Nee=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Tl={devToolsEnabled:!1,isSsr:Nee()},IM=()=>Ce(t=>t.rootProps.accessibilityLayer);function Ci(t){return Number.isFinite(t)}function uf(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function wb(){return wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wb.apply(null,arguments)}function $6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$6(Object(n),!0).forEach(function(r){Mee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mee(t,e,n){return(e=kee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kee(t){var e=Lee(t,"string");return typeof e=="symbol"?e:e+""}function Lee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G6={curveBasisClosed:tQ,curveBasisOpen:nQ,curveBasis:eQ,curveBumpX:FY,curveBumpY:UY,curveLinearClosed:rQ,curveLinear:Ov,curveMonotoneX:iQ,curveMonotoneY:aQ,curveNatural:oQ,curveStep:sQ,curveStepAfter:uQ,curveStepBefore:lQ},g1=t=>Ci(t.x)&&Ci(t.y),qh=t=>t.x,Gh=t=>t.y,jee=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(e0(t));return(n==="curveMonotone"||n==="curveBump")&&e?G6["".concat(n).concat(e==="vertical"?"Y":"X")]:G6[n]||Ov},Bee=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,o=jee(e,i),l=a?n.filter(g1):n,c;if(Array.isArray(r)){var f=a?r.filter(p=>g1(p)):r,d=l.map((p,v)=>q6(q6({},p),{},{base:f[v]}));return i==="vertical"?c=s1().y(Gh).x1(qh).x0(p=>p.base.x):c=s1().x(qh).y1(Gh).y0(p=>p.base.y),c.defined(g1).curve(o),c(d)}return i==="vertical"&&Re(r)?c=s1().y(Gh).x1(qh).x0(r):Re(r)?c=s1().x(qh).y1(Gh).y0(r):c=bN().x(qh).y(Gh),c.defined(g1).curve(o),c(l)},DE=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Bee(t):r;return C.createElement("path",wb({},uo(t),cE(t),{className:pt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Vee=["x","y","top","left","width","height","className"];function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(null,arguments)}function K6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K6(Object(n),!0).forEach(function(r){Uee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uee(t,e,n){return(e=zee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zee(t){var e=Hee(t,"string");return typeof e=="symbol"?e:e+""}function Hee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ee(t,e){if(t==null)return{};var n,r,i=qee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Gee=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),Kee=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:l}=t,c=$ee(t,Vee),f=Fee({x:e,y:n,top:r,left:i,width:a,height:o},c);return!Re(e)||!Re(n)||!Re(a)||!Re(o)||!Re(r)||!Re(i)?null:C.createElement("path",Eb({},nn(f,!0),{className:pt("recharts-cross",l),d:Gee(e,n,a,o,r,i)}))};function Wee(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function W6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W6(Object(n),!0).forEach(function(r){Yee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yee(t,e,n){return(e=Qee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qee(t){var e=Zee(t,"string");return typeof e=="symbol"?e:e+""}function Zee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tr(t,e){var n=Xee({},t),r=e,i=Object.keys(e),a=i.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return a}function Jee(){}function X6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X6(Object(n),!0).forEach(function(r){ete(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ete(t,e,n){return(e=tte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tte(t){var e=nte(t,"string");return typeof e=="symbol"?e:e+""}function nte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rte=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),OM=(t,e,n)=>t.map(r=>"".concat(rte(r)," ").concat(e,"ms ").concat(n)).join(","),ite=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Nd=(t,e)=>Object.keys(e).reduce((n,r)=>Y6(Y6({},n),{},{[r]:t(r,e[r])}),{});function Q6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q6(Object(n),!0).forEach(function(r){ate(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ate(t,e,n){return(e=ote(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ote(t){var e=ste(t,"string");return typeof e=="symbol"?e:e+""}function ste(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wg=(t,e,n)=>t+(e-t)*n,Ab=t=>{var{from:e,to:n}=t;return e!==n},RM=(t,e,n)=>{var r=Nd((i,a)=>{if(Ab(a)){var[o,l]=t(a.from,a.to,a.velocity);return br(br({},a),{},{from:o,velocity:l})}return a},e);return n<1?Nd((i,a)=>Ab(a)?br(br({},a),{},{velocity:wg(a.velocity,r[i].velocity,n),from:wg(a.from,r[i].from,n)}):a,e):RM(t,r,n-1)};function lte(t,e,n,r,i,a){var o,l=r.reduce((v,m)=>br(br({},v),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),c=()=>Nd((v,m)=>m.from,l),f=()=>!Object.values(l).filter(Ab).length,d=null,p=v=>{o||(o=v);var m=v-o,_=m/n.dt;l=RM(n,l,_),i(br(br(br({},t),e),c())),o=v,f()||(d=a.setTimeout(p))};return()=>(d=a.setTimeout(p),()=>{d()})}function ute(t,e,n,r,i,a,o){var l=null,c=i.reduce((p,v)=>br(br({},p),{},{[v]:[t[v],e[v]]}),{}),f,d=p=>{f||(f=p);var v=(p-f)/r,m=Nd((w,E)=>wg(...E,n(v)),c);if(a(br(br(br({},t),e),m)),v<1)l=o.setTimeout(d);else{var _=Nd((w,E)=>wg(...E,n(1)),c);a(br(br(br({},t),e),_))}};return()=>(l=o.setTimeout(d),()=>{l()})}const cte=(t,e,n,r,i,a)=>{var o=ite(t,e);return n.isStepper===!0?lte(t,e,n,o,i,a):ute(t,e,n,r,o,i,a)};var Eg=1e-4,PM=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],DM=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),Z6=(t,e)=>n=>{var r=PM(t,e);return DM(r,n)},fte=(t,e)=>n=>{var r=PM(t,e),i=[...r.map((a,o)=>a*o).slice(1),0];return DM(i,n)},J6=function(){for(var e,n,r,i,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([e,r,n,i]=c[1].split(")")[0].split(",").map(_=>parseFloat(_)))}}else o.length===4&&([e,r,n,i]=o);var f=Z6(e,n),d=Z6(r,i),p=fte(e,n),v=_=>_>1?1:_<0?0:_,m=_=>{for(var w=_>1?1:_,E=w,S=0;S<8;++S){var I=f(E)-w,R=p(E);if(Math.abs(I-w)<Eg||R<Eg)return d(E);E=v(E-I/R)}return d(E)};return m.isStepper=!1,m},hte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(o,l,c)=>{var f=-(o-l)*n,d=c*r,p=c+(f-d)*i/1e3,v=c*i/1e3+o;return Math.abs(v-l)<Eg&&Math.abs(p)<Eg?[l,0]:[v,p]};return a.isStepper=!0,a.dt=i,a},dte=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return J6(t);case"spring":return hte();default:if(t.split("(")[0]==="cubic-bezier")return J6(t)}return typeof t=="function"?t:null};function pte(t){var e,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...f]=l;if(typeof c=="number"){i=t.setTimeout(a.bind(null,f),c);return}a(c),i=t.setTimeout(a.bind(null,f));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class gte{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function vte(){return pte(new gte)}var mte=C.createContext(vte);function yte(t,e){var n=C.useContext(mte);return C.useMemo(()=>e??n(t),[t,e,n])}var xte={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},e8={t:0},Bx={t:1};function a0(t){var e=Tr(t,xte),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:c,children:f}=e,d=yte(e.animationId,e.animationManager),[p,v]=C.useState(n?e8:Bx),m=C.useRef(null);return C.useEffect(()=>{n||v(Bx)},[n]),C.useEffect(()=>{if(!n||!r)return Jee;var _=cte(e8,Bx,dte(a),i,v,d.getTimeoutController()),w=()=>{m.current=_()};return d.start([c,o,w,i,l]),()=>{d.stop(),m.current&&m.current(),l()}},[n,r,i,a,o,c,l,d]),f(p.t)}function o0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=C.useRef(Od(e)),r=C.useRef(t);return r.current!==t&&(n.current=Od(e),r.current=t),n.current}function t8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t8(Object(n),!0).forEach(function(r){_te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _te(t,e,n){return(e=bte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bte(t){var e=wte(t,"string");return typeof e=="symbol"?e:e+""}function wte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ag.apply(null,arguments)}var r8=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],p=0,v=4;p<v;p++)d[p]=i[p]>a?a:i[p];f="M".concat(t,",").concat(e+o*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(e)),f+="L ".concat(t+n-l*d[1],",").concat(e),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(e+o*d[1])),f+="L ".concat(t+n,",").concat(e+r-o*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(e+r)),f+="L ".concat(t+l*d[3],",").concat(e+r),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+r-o*d[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);f="M ".concat(t,",").concat(e+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(e,`
            L `).concat(t+n-l*m,",").concat(e,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(e+o*m,`
            L `).concat(t+n,",").concat(e+r-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(e+r,`
            L `).concat(t+l*m,",").concat(e+r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(e+r-o*m," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},Ete={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NM=t=>{var e=Tr(t,Ete),n=C.useRef(null),[r,i]=C.useState(-1);C.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var de=n.current.getTotalLength();de&&i(de)}catch{}},[]);var{x:a,y:o,width:l,height:c,radius:f,className:d}=e,{animationEasing:p,animationDuration:v,animationBegin:m,isAnimationActive:_,isUpdateAnimationActive:w}=e,E=C.useRef(l),S=C.useRef(c),I=C.useRef(a),R=C.useRef(o),M=C.useMemo(()=>({x:a,y:o,width:l,height:c,radius:f}),[a,o,l,c,f]),k=o0(M,"rectangle-");if(a!==+a||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var B=pt("recharts-rectangle",d);if(!w)return C.createElement("path",Ag({},nn(e,!0),{className:B,d:r8(a,o,l,c,f)}));var D=E.current,N=S.current,L=I.current,z=R.current,U="0px ".concat(r===-1?1:r,"px"),H="".concat(r,"px 0px"),F=OM(["strokeDasharray"],v,typeof p=="string"?p:void 0);return C.createElement(a0,{animationId:k,key:k,canBegin:r>0,duration:v,easing:p,isActive:w,begin:m},de=>{var be=sn(D,l,de),Y=sn(N,c,de),se=sn(L,a,de),me=sn(z,o,de);n.current&&(E.current=be,S.current=Y,I.current=se,R.current=me);var Se;return _?de>0?Se={transition:F,strokeDasharray:H}:Se={strokeDasharray:U}:Se={strokeDasharray:H},C.createElement("path",Ag({},nn(e,!0),{className:B,d:r8(se,me,be,Y,f),ref:n,style:n8(n8({},Se),e.style)}))})};function MM(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,o=kn(e,n,r,i),l=kn(e,n,r,a);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Sb(){return Sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sb.apply(null,arguments)}var Ate=(t,e)=>{var n=sr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},v1=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:c}=t,f=l*(o?1:-1)+r,d=Math.asin(l/f)/bg,p=c?i:i+a*d,v=kn(e,n,f,p),m=kn(e,n,r,p),_=c?i-a*d:i,w=kn(e,n,f*Math.cos(d*bg),_);return{center:v,circleTangency:m,lineTangency:w,theta:d}},kM=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=t,l=Ate(a,o),c=a+l,f=kn(e,n,i,a),d=kn(e,n,i,c),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var v=kn(e,n,r,a),m=kn(e,n,r,c);p+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},Ste=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:f}=t,d=sr(f-c),{circleTangency:p,lineTangency:v,theta:m}=v1({cx:e,cy:n,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:l}),{circleTangency:_,lineTangency:w,theta:E}=v1({cx:e,cy:n,radius:i,angle:f,sign:-d,cornerRadius:a,cornerIsExternal:l}),S=l?Math.abs(c-f):Math.abs(c-f)-m-E;if(S<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):kM({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:f});var I="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:R,lineTangency:M,theta:k}=v1({cx:e,cy:n,radius:r,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:B,lineTangency:D,theta:N}=v1({cx:e,cy:n,radius:r,angle:f,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),L=l?Math.abs(c-f):Math.abs(c-f)-k-N;if(L<0&&a===0)return"".concat(I,"L").concat(e,",").concat(n,"Z");I+="L".concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(L>180),",").concat(+(d>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(M.x,",").concat(M.y,"Z")}else I+="L".concat(e,",").concat(n,"Z");return I},Tte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},LM=t=>{var e=Tr(t,Tte),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d,className:p}=e;if(a<i||f===d)return null;var v=pt("recharts-sector",p),m=a-i,_=kr(o,m,0,!0),w;return _>0&&Math.abs(f-d)<360?w=Ste({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(_,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}):w=kM({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:d}),C.createElement("path",Sb({},nn(e,!0),{className:v,d:w}))};function Cte(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:l,cy:c,innerRadius:f,outerRadius:d,angle:p}=e,v=kn(l,c,f,p),m=kn(l,c,d,p);r=v.x,i=v.y,a=m.x,o=m.y}else return MM(e);return[{x:r,y:i},{x:a,y:o}]}var Vx={},Fx={},Ux={},i8;function Ite(){return i8||(i8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HN();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Ux)),Ux}var a8;function Ote(){return a8||(a8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ite();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Fx)),Fx}var o8;function Rte(){return o8||(o8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$N(),n=Ote();function r(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),c=new Array(l);for(let f=0;f<l;f++)c[f]=i,i+=o;return c}t.range=r})(Vx)),Vx}var zx,s8;function Pte(){return s8||(s8=1,zx=Rte().range),zx}var Dte=Pte();const jM=so(Dte);function al(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Nte(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NE(t){let e,n,r;t.length!==2?(e=al,n=(l,c)=>al(t(l),c),r=(l,c)=>t(l)-c):(e=t===al||t===Nte?t:Mte,n=t,r=t);function i(l,c,f=0,d=l.length){if(f<d){if(e(c,c)!==0)return d;do{const p=f+d>>>1;n(l[p],c)<0?f=p+1:d=p}while(f<d)}return f}function a(l,c,f=0,d=l.length){if(f<d){if(e(c,c)!==0)return d;do{const p=f+d>>>1;n(l[p],c)<=0?f=p+1:d=p}while(f<d)}return f}function o(l,c,f=0,d=l.length){const p=i(l,c,f,d-1);return p>f&&r(l[p-1],c)>-r(l[p],c)?p-1:p}return{left:i,center:o,right:a}}function Mte(){return 0}function BM(t){return t===null?NaN:+t}function*kte(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Lte=NE(al),s0=Lte.right;NE(BM).center;class l8 extends Map{constructor(e,n=Vte){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(u8(this,e))}has(e){return super.has(u8(this,e))}set(e,n){return super.set(jte(this,e),n)}delete(e){return super.delete(Bte(this,e))}}function u8({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function jte({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Bte({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Vte(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Fte(t=al){if(t===al)return VM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function VM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Ute=Math.sqrt(50),zte=Math.sqrt(10),Hte=Math.sqrt(2);function Sg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Ute?10:a>=zte?5:a>=Hte?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/o,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*o,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=n&&n<2?Sg(t,e,n*2):[l,c,f]}function Tb(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Sg(e,t,n):Sg(t,e,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(o<0)for(let f=0;f<l;++f)c[f]=(a-f)/-o;else for(let f=0;f<l;++f)c[f]=(a-f)*o;else if(o<0)for(let f=0;f<l;++f)c[f]=(i+f)/-o;else for(let f=0;f<l;++f)c[f]=(i+f)*o;return c}function Cb(t,e,n){return e=+e,t=+t,n=+n,Sg(t,e,n)[2]}function Ib(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Cb(e,t,n):Cb(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function c8(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function f8(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function FM(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?VM:Fte(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,d=Math.log(c),p=.5*Math.exp(2*d/3),v=.5*Math.sqrt(d*p*(c-p)/c)*(f-c/2<0?-1:1),m=Math.max(n,Math.floor(e-f*p/c+v)),_=Math.min(r,Math.floor(e+(c-f)*p/c+v));FM(t,e,m,_,i)}const a=t[e];let o=n,l=r;for(Kh(t,n,e),i(t[r],a)>0&&Kh(t,n,r);o<l;){for(Kh(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?Kh(t,n,l):(++l,Kh(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Kh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function $te(t,e,n){if(t=Float64Array.from(kte(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return f8(t);if(e>=1)return c8(t);var r,i=(r-1)*e,a=Math.floor(i),o=c8(FM(t,a).subarray(0,a+1)),l=f8(t.subarray(a+1));return o+(l-o)*(i-a)}}function qte(t,e,n=BM){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function Gte(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function na(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function es(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ob=Symbol("implicit");function ME(){var t=new l8,e=[],n=[],r=Ob;function i(a){let o=t.get(a);if(o===void 0){if(r!==Ob)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new l8;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ME(e,n).unknown(r)},na.apply(i,arguments),i}function kE(){var t=ME().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,l=!1,c=0,f=0,d=.5;delete t.unknown;function p(){var v=e().length,m=i<r,_=m?i:r,w=m?r:i;a=(w-_)/Math.max(1,v-c+f*2),l&&(a=Math.floor(a)),_+=(w-_-a*(v-c))*d,o=a*(1-c),l&&(_=Math.round(_),o=Math.round(o));var E=Gte(v).map(function(S){return _+a*S});return n(m?E.reverse():E)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(v){return arguments.length?(l=!!v,p()):l},t.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),p()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),p()):c},t.paddingOuter=function(v){return arguments.length?(f=+v,p()):f},t.align=function(v){return arguments.length?(d=Math.max(0,Math.min(1,v)),p()):d},t.copy=function(){return kE(e(),[r,i]).round(l).paddingInner(c).paddingOuter(f).align(d)},na.apply(p(),arguments)}function UM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return UM(e())},t}function Kte(){return UM(kE.apply(null,arguments).paddingInner(1))}function LE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function zM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function l0(){}var Md=.7,Tg=1/Md,Xc="\\s*([+-]?\\d+)\\s*",kd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",no="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wte=/^#([0-9a-f]{3,8})$/,Xte=new RegExp(`^rgb\\(${Xc},${Xc},${Xc}\\)$`),Yte=new RegExp(`^rgb\\(${no},${no},${no}\\)$`),Qte=new RegExp(`^rgba\\(${Xc},${Xc},${Xc},${kd}\\)$`),Zte=new RegExp(`^rgba\\(${no},${no},${no},${kd}\\)$`),Jte=new RegExp(`^hsl\\(${kd},${no},${no}\\)$`),ene=new RegExp(`^hsla\\(${kd},${no},${no},${kd}\\)$`),h8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};LE(l0,Ld,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:d8,formatHex:d8,formatHex8:tne,formatHsl:nne,formatRgb:p8,toString:p8});function d8(){return this.rgb().formatHex()}function tne(){return this.rgb().formatHex8()}function nne(){return HM(this).formatHsl()}function p8(){return this.rgb().formatRgb()}function Ld(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Wte.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?g8(e):n===3?new ii(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?m1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?m1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Xte.exec(t))?new ii(e[1],e[2],e[3],1):(e=Yte.exec(t))?new ii(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Qte.exec(t))?m1(e[1],e[2],e[3],e[4]):(e=Zte.exec(t))?m1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Jte.exec(t))?y8(e[1],e[2]/100,e[3]/100,1):(e=ene.exec(t))?y8(e[1],e[2]/100,e[3]/100,e[4]):h8.hasOwnProperty(t)?g8(h8[t]):t==="transparent"?new ii(NaN,NaN,NaN,0):null}function g8(t){return new ii(t>>16&255,t>>8&255,t&255,1)}function m1(t,e,n,r){return r<=0&&(t=e=n=NaN),new ii(t,e,n,r)}function rne(t){return t instanceof l0||(t=Ld(t)),t?(t=t.rgb(),new ii(t.r,t.g,t.b,t.opacity)):new ii}function Rb(t,e,n,r){return arguments.length===1?rne(t):new ii(t,e,n,r??1)}function ii(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}LE(ii,Rb,zM(l0,{brighter(t){return t=t==null?Tg:Math.pow(Tg,t),new ii(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Md:Math.pow(Md,t),new ii(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ii(Su(this.r),Su(this.g),Su(this.b),Cg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:v8,formatHex:v8,formatHex8:ine,formatRgb:m8,toString:m8}));function v8(){return`#${mu(this.r)}${mu(this.g)}${mu(this.b)}`}function ine(){return`#${mu(this.r)}${mu(this.g)}${mu(this.b)}${mu((isNaN(this.opacity)?1:this.opacity)*255)}`}function m8(){const t=Cg(this.opacity);return`${t===1?"rgb(":"rgba("}${Su(this.r)}, ${Su(this.g)}, ${Su(this.b)}${t===1?")":`, ${t})`}`}function Cg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Su(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function mu(t){return t=Su(t),(t<16?"0":"")+t.toString(16)}function y8(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new _a(t,e,n,r)}function HM(t){if(t instanceof _a)return new _a(t.h,t.s,t.l,t.opacity);if(t instanceof l0||(t=Ld(t)),!t)return new _a;if(t instanceof _a)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-i,c=(a+i)/2;return l?(e===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new _a(o,l,c,t.opacity)}function ane(t,e,n,r){return arguments.length===1?HM(t):new _a(t,e,n,r??1)}function _a(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}LE(_a,ane,zM(l0,{brighter(t){return t=t==null?Tg:Math.pow(Tg,t),new _a(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Md:Math.pow(Md,t),new _a(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ii(Hx(t>=240?t-240:t+120,i,r),Hx(t,i,r),Hx(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new _a(x8(this.h),y1(this.s),y1(this.l),Cg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Cg(this.opacity);return`${t===1?"hsl(":"hsla("}${x8(this.h)}, ${y1(this.s)*100}%, ${y1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function x8(t){return t=(t||0)%360,t<0?t+360:t}function y1(t){return Math.max(0,Math.min(1,t||0))}function Hx(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const jE=t=>()=>t;function one(t,e){return function(n){return t+n*e}}function sne(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function lne(t){return(t=+t)==1?$M:function(e,n){return n-e?sne(e,n,t):jE(isNaN(e)?n:e)}}function $M(t,e){var n=e-t;return n?one(t,n):jE(isNaN(t)?e:t)}const _8=(function t(e){var n=lne(e);function r(i,a){var o=n((i=Rb(i)).r,(a=Rb(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),f=$M(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=f(d),i+""}}return r.gamma=t,r})(1);function une(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function cne(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fne(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Cf(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function hne(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ig(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function dne(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Cf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Pb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$x=new RegExp(Pb.source,"g");function pne(t){return function(){return t}}function gne(t){return function(e){return t(e)+""}}function vne(t,e){var n=Pb.lastIndex=$x.lastIndex=0,r,i,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=Pb.exec(t))&&(i=$x.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:Ig(r,i)})),n=$x.lastIndex;return n<e.length&&(a=e.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?gne(c[0].x):pne(e):(e=c.length,function(f){for(var d=0,p;d<e;++d)l[(p=c[d]).i]=p.x(f);return l.join("")})}function Cf(t,e){var n=typeof e,r;return e==null||n==="boolean"?jE(e):(n==="number"?Ig:n==="string"?(r=Ld(e))?(e=r,_8):vne:e instanceof Ld?_8:e instanceof Date?hne:cne(e)?une:Array.isArray(e)?fne:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?dne:Ig)(t,e)}function BE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function mne(t,e){e===void 0&&(e=t,t=Cf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function yne(t){return function(){return t}}function Og(t){return+t}var b8=[0,1];function qr(t){return t}function Db(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:yne(isNaN(e)?NaN:.5)}function xne(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function _ne(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Db(i,r),a=n(o,a)):(r=Db(r,i),a=n(a,o)),function(l){return a(r(l))}}function bne(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Db(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(l){var c=s0(t,l,1,r)-1;return a[c](i[c](l))}}function u0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Hv(){var t=b8,e=b8,n=Cf,r,i,a,o=qr,l,c,f;function d(){var v=Math.min(t.length,e.length);return o!==qr&&(o=xne(t[0],t[v-1])),l=v>2?bne:_ne,c=f=null,p}function p(v){return v==null||isNaN(v=+v)?a:(c||(c=l(t.map(r),e,n)))(r(o(v)))}return p.invert=function(v){return o(i((f||(f=l(e,t.map(r),Ig)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,Og),d()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),d()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),n=BE,d()},p.clamp=function(v){return arguments.length?(o=v?!0:qr,d()):o!==qr},p.interpolate=function(v){return arguments.length?(n=v,d()):n},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,m){return r=v,i=m,d()}}function VE(){return Hv()(qr,qr)}function wne(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Rg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function cf(t){return t=Rg(Math.abs(t)),t?t[1]:NaN}function Ene(t,e){return function(n,r){for(var i=n.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Ane(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Sne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jd(t){if(!(e=Sne.exec(t)))throw new Error("invalid format: "+t);var e;return new FE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}jd.prototype=FE.prototype;function FE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}FE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Tne(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var qM;function Cne(t,e){var n=Rg(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(qM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Rg(t,Math.max(0,e+a-1))[0]}function w8(t,e){var n=Rg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const E8={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:wne,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>w8(t*100,e),r:w8,s:Cne,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function A8(t){return t}var S8=Array.prototype.map,T8=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ine(t){var e=t.grouping===void 0||t.thousands===void 0?A8:Ene(S8.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?A8:Ane(S8.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=jd(p);var v=p.fill,m=p.align,_=p.sign,w=p.symbol,E=p.zero,S=p.width,I=p.comma,R=p.precision,M=p.trim,k=p.type;k==="n"?(I=!0,k="g"):E8[k]||(R===void 0&&(R=12),M=!0,k="g"),(E||v==="0"&&m==="=")&&(E=!0,v="0",m="=");var B=w==="$"?n:w==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",D=w==="$"?r:/[%p]/.test(k)?o:"",N=E8[k],L=/[defgprs%]/.test(k);R=R===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function z(U){var H=B,F=D,de,be,Y;if(k==="c")F=N(U)+F,U="";else{U=+U;var se=U<0||1/U<0;if(U=isNaN(U)?c:N(Math.abs(U),R),M&&(U=Tne(U)),se&&+U==0&&_!=="+"&&(se=!1),H=(se?_==="("?_:l:_==="-"||_==="("?"":_)+H,F=(k==="s"?T8[8+qM/3]:"")+F+(se&&_==="("?")":""),L){for(de=-1,be=U.length;++de<be;)if(Y=U.charCodeAt(de),48>Y||Y>57){F=(Y===46?i+U.slice(de+1):U.slice(de))+F,U=U.slice(0,de);break}}}I&&!E&&(U=e(U,1/0));var me=H.length+U.length+F.length,Se=me<S?new Array(S-me+1).join(v):"";switch(I&&E&&(U=e(Se+U,Se.length?S-F.length:1/0),Se=""),m){case"<":U=H+U+F+Se;break;case"=":U=H+Se+U+F;break;case"^":U=Se.slice(0,me=Se.length>>1)+H+U+F+Se.slice(me);break;default:U=Se+H+U+F;break}return a(U)}return z.toString=function(){return p+""},z}function d(p,v){var m=f((p=jd(p),p.type="f",p)),_=Math.max(-8,Math.min(8,Math.floor(cf(v)/3)))*3,w=Math.pow(10,-_),E=T8[8+_/3];return function(S){return m(w*S)+E}}return{format:f,formatPrefix:d}}var x1,UE,GM;One({thousands:",",grouping:[3],currency:["$",""]});function One(t){return x1=Ine(t),UE=x1.format,GM=x1.formatPrefix,x1}function Rne(t){return Math.max(0,-cf(Math.abs(t)))}function Pne(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cf(e)/3)))*3-cf(Math.abs(t)))}function Dne(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,cf(e)-cf(t))+1}function KM(t,e,n,r){var i=Ib(t,e,n),a;switch(r=jd(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Pne(i,o))&&(r.precision=a),GM(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Dne(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Rne(i))&&(r.precision=a-(r.type==="%")*2);break}}return UE(r)}function Cl(t){var e=t.domain;return t.ticks=function(n){var r=e();return Tb(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return KM(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],l=r[a],c,f,d=10;for(l<o&&(f=o,o=l,l=f,f=i,i=a,a=f);d-- >0;){if(f=Cb(o,l,n),f===c)return r[i]=o,r[a]=l,e(r);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function WM(){var t=VE();return t.copy=function(){return u0(t,WM())},na.apply(t,arguments),Cl(t)}function XM(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Og),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return XM(t).unknown(e)},t=arguments.length?Array.from(t,Og):[0,1],Cl(n)}function YM(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function C8(t){return Math.log(t)}function I8(t){return Math.exp(t)}function Nne(t){return-Math.log(-t)}function Mne(t){return-Math.exp(-t)}function kne(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Lne(t){return t===10?kne:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jne(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function O8(t){return(e,n)=>-t(-e,n)}function zE(t){const e=t(C8,I8),n=e.domain;let r=10,i,a;function o(){return i=jne(r),a=Lne(r),n()[0]<0?(i=O8(i),a=O8(a),t(Nne,Mne)):t(C8,I8),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let f=c[0],d=c[c.length-1];const p=d<f;p&&([f,d]=[d,f]);let v=i(f),m=i(d),_,w;const E=l==null?10:+l;let S=[];if(!(r%1)&&m-v<E){if(v=Math.floor(v),m=Math.ceil(m),f>0){for(;v<=m;++v)for(_=1;_<r;++_)if(w=v<0?_/a(-v):_*a(v),!(w<f)){if(w>d)break;S.push(w)}}else for(;v<=m;++v)for(_=r-1;_>=1;--_)if(w=v>0?_/a(-v):_*a(v),!(w<f)){if(w>d)break;S.push(w)}S.length*2<E&&(S=Tb(f,d,E))}else S=Tb(v,m,Math.min(m-v,E)).map(a);return p?S.reverse():S},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=jd(c)).precision==null&&(c.trim=!0),c=UE(c)),l===1/0)return c;const f=Math.max(1,r*l/e.ticks().length);return d=>{let p=d/a(Math.round(i(d)));return p*r<r-.5&&(p*=r),p<=f?c(d):""}},e.nice=()=>n(YM(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function QM(){const t=zE(Hv()).domain([1,10]);return t.copy=()=>u0(t,QM()).base(t.base()),na.apply(t,arguments),t}function R8(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function P8(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function HE(t){var e=1,n=t(R8(e),P8(e));return n.constant=function(r){return arguments.length?t(R8(e=+r),P8(e)):e},Cl(n)}function ZM(){var t=HE(Hv());return t.copy=function(){return u0(t,ZM()).constant(t.constant())},na.apply(t,arguments)}function D8(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Bne(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Vne(t){return t<0?-t*t:t*t}function $E(t){var e=t(qr,qr),n=1;function r(){return n===1?t(qr,qr):n===.5?t(Bne,Vne):t(D8(n),D8(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Cl(e)}function qE(){var t=$E(Hv());return t.copy=function(){return u0(t,qE()).exponent(t.exponent())},na.apply(t,arguments),t}function Fne(){return qE.apply(null,arguments).exponent(.5)}function N8(t){return Math.sign(t)*t*t}function Une(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function JM(){var t=VE(),e=[0,1],n=!1,r;function i(a){var o=Une(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(N8(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Og)).map(N8)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return JM(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},na.apply(i,arguments),Cl(i)}function e9(){var t=[],e=[],n=[],r;function i(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=qte(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:e[s0(n,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(al),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return e9().domain(t).range(e).unknown(r)},na.apply(a,arguments)}function t9(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[s0(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return t9().domain([t,e]).range(i).unknown(a)},na.apply(Cl(o),arguments)}function n9(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[s0(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return n9().domain(t).range(e).unknown(n)},na.apply(i,arguments)}const qx=new Date,Gx=new Date;function Yn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let f;do c.push(f=new Date(+a)),e(a,l),t(a);while(f<a&&a<o);return c},i.filter=a=>Yn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(qx.setTime(+a),Gx.setTime(+o),t(qx),t(Gx),Math.floor(n(qx,Gx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Pg=Yn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Pg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Yn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Pg);Pg.range;const ko=1e3,Yi=ko*60,Lo=Yi*60,Go=Lo*24,GE=Go*7,M8=Go*30,Kx=Go*365,yu=Yn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ko)},(t,e)=>(e-t)/ko,t=>t.getUTCSeconds());yu.range;const KE=Yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ko)},(t,e)=>{t.setTime(+t+e*Yi)},(t,e)=>(e-t)/Yi,t=>t.getMinutes());KE.range;const WE=Yn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Yi)},(t,e)=>(e-t)/Yi,t=>t.getUTCMinutes());WE.range;const XE=Yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ko-t.getMinutes()*Yi)},(t,e)=>{t.setTime(+t+e*Lo)},(t,e)=>(e-t)/Lo,t=>t.getHours());XE.range;const YE=Yn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Lo)},(t,e)=>(e-t)/Lo,t=>t.getUTCHours());YE.range;const c0=Yn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Yi)/Go,t=>t.getDate()-1);c0.range;const $v=Yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Go,t=>t.getUTCDate()-1);$v.range;const r9=Yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Go,t=>Math.floor(t/Go));r9.range;function $u(t){return Yn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Yi)/GE)}const qv=$u(0),Dg=$u(1),zne=$u(2),Hne=$u(3),ff=$u(4),$ne=$u(5),qne=$u(6);qv.range;Dg.range;zne.range;Hne.range;ff.range;$ne.range;qne.range;function qu(t){return Yn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/GE)}const Gv=qu(0),Ng=qu(1),Gne=qu(2),Kne=qu(3),hf=qu(4),Wne=qu(5),Xne=qu(6);Gv.range;Ng.range;Gne.range;Kne.range;hf.range;Wne.range;Xne.range;const QE=Yn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());QE.range;const ZE=Yn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ZE.range;const Ko=Yn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ko.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ko.range;const Wo=Yn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Wo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Wo.range;function i9(t,e,n,r,i,a){const o=[[yu,1,ko],[yu,5,5*ko],[yu,15,15*ko],[yu,30,30*ko],[a,1,Yi],[a,5,5*Yi],[a,15,15*Yi],[a,30,30*Yi],[i,1,Lo],[i,3,3*Lo],[i,6,6*Lo],[i,12,12*Lo],[r,1,Go],[r,2,2*Go],[n,1,GE],[e,1,M8],[e,3,3*M8],[t,1,Kx]];function l(f,d,p){const v=d<f;v&&([f,d]=[d,f]);const m=p&&typeof p.range=="function"?p:c(f,d,p),_=m?m.range(f,+d+1):[];return v?_.reverse():_}function c(f,d,p){const v=Math.abs(d-f)/p,m=NE(([,,E])=>E).right(o,v);if(m===o.length)return t.every(Ib(f/Kx,d/Kx,p));if(m===0)return Pg.every(Math.max(Ib(f,d,p),1));const[_,w]=o[v/o[m-1][2]<o[m][2]/v?m-1:m];return _.every(w)}return[l,c]}const[Yne,Qne]=i9(Wo,ZE,Gv,r9,YE,WE),[Zne,Jne]=i9(Ko,QE,qv,c0,XE,KE);function Wx(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Xx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ere(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,f=Xh(i),d=Yh(i),p=Xh(a),v=Yh(a),m=Xh(o),_=Yh(o),w=Xh(l),E=Yh(l),S=Xh(c),I=Yh(c),R={a:se,A:me,b:Se,B:Ge,c:null,d:F8,e:F8,f:Ere,g:Nre,G:kre,H:_re,I:bre,j:wre,L:a9,m:Are,M:Sre,p:G,q:ee,Q:H8,s:$8,S:Tre,u:Cre,U:Ire,V:Ore,w:Rre,W:Pre,x:null,X:null,y:Dre,Y:Mre,Z:Lre,"%":z8},M={a:ye,A:xe,b:Oe,B:He,c:null,d:U8,e:U8,f:Fre,g:Yre,G:Zre,H:jre,I:Bre,j:Vre,L:s9,m:Ure,M:zre,p:et,q:ln,Q:H8,s:$8,S:Hre,u:$re,U:qre,V:Gre,w:Kre,W:Wre,x:null,X:null,y:Xre,Y:Qre,Z:Jre,"%":z8},k={a:z,A:U,b:H,B:F,c:de,d:B8,e:B8,f:vre,g:j8,G:L8,H:V8,I:V8,j:hre,L:gre,m:fre,M:dre,p:L,q:cre,Q:yre,s:xre,S:pre,u:are,U:ore,V:sre,w:ire,W:lre,x:be,X:Y,y:j8,Y:L8,Z:ure,"%":mre};R.x=B(n,R),R.X=B(r,R),R.c=B(e,R),M.x=B(n,M),M.X=B(r,M),M.c=B(e,M);function B(pe,Fe){return function(We){var he=[],un=-1,Qe=0,jn=pe.length,cn,si,is;for(We instanceof Date||(We=new Date(+We));++un<jn;)pe.charCodeAt(un)===37&&(he.push(pe.slice(Qe,un)),(si=k8[cn=pe.charAt(++un)])!=null?cn=pe.charAt(++un):si=cn==="e"?" ":"0",(is=Fe[cn])&&(cn=is(We,si)),he.push(cn),Qe=un+1);return he.push(pe.slice(Qe,un)),he.join("")}}function D(pe,Fe){return function(We){var he=Wh(1900,void 0,1),un=N(he,pe,We+="",0),Qe,jn;if(un!=We.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Fe&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Qe=Xx(Wh(he.y,0,1)),jn=Qe.getUTCDay(),Qe=jn>4||jn===0?Ng.ceil(Qe):Ng(Qe),Qe=$v.offset(Qe,(he.V-1)*7),he.y=Qe.getUTCFullYear(),he.m=Qe.getUTCMonth(),he.d=Qe.getUTCDate()+(he.w+6)%7):(Qe=Wx(Wh(he.y,0,1)),jn=Qe.getDay(),Qe=jn>4||jn===0?Dg.ceil(Qe):Dg(Qe),Qe=c0.offset(Qe,(he.V-1)*7),he.y=Qe.getFullYear(),he.m=Qe.getMonth(),he.d=Qe.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),jn="Z"in he?Xx(Wh(he.y,0,1)).getUTCDay():Wx(Wh(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(jn+5)%7:he.w+he.U*7-(jn+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,Xx(he)):Wx(he)}}function N(pe,Fe,We,he){for(var un=0,Qe=Fe.length,jn=We.length,cn,si;un<Qe;){if(he>=jn)return-1;if(cn=Fe.charCodeAt(un++),cn===37){if(cn=Fe.charAt(un++),si=k[cn in k8?Fe.charAt(un++):cn],!si||(he=si(pe,We,he))<0)return-1}else if(cn!=We.charCodeAt(he++))return-1}return he}function L(pe,Fe,We){var he=f.exec(Fe.slice(We));return he?(pe.p=d.get(he[0].toLowerCase()),We+he[0].length):-1}function z(pe,Fe,We){var he=m.exec(Fe.slice(We));return he?(pe.w=_.get(he[0].toLowerCase()),We+he[0].length):-1}function U(pe,Fe,We){var he=p.exec(Fe.slice(We));return he?(pe.w=v.get(he[0].toLowerCase()),We+he[0].length):-1}function H(pe,Fe,We){var he=S.exec(Fe.slice(We));return he?(pe.m=I.get(he[0].toLowerCase()),We+he[0].length):-1}function F(pe,Fe,We){var he=w.exec(Fe.slice(We));return he?(pe.m=E.get(he[0].toLowerCase()),We+he[0].length):-1}function de(pe,Fe,We){return N(pe,e,Fe,We)}function be(pe,Fe,We){return N(pe,n,Fe,We)}function Y(pe,Fe,We){return N(pe,r,Fe,We)}function se(pe){return o[pe.getDay()]}function me(pe){return a[pe.getDay()]}function Se(pe){return c[pe.getMonth()]}function Ge(pe){return l[pe.getMonth()]}function G(pe){return i[+(pe.getHours()>=12)]}function ee(pe){return 1+~~(pe.getMonth()/3)}function ye(pe){return o[pe.getUTCDay()]}function xe(pe){return a[pe.getUTCDay()]}function Oe(pe){return c[pe.getUTCMonth()]}function He(pe){return l[pe.getUTCMonth()]}function et(pe){return i[+(pe.getUTCHours()>=12)]}function ln(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Fe=B(pe+="",R);return Fe.toString=function(){return pe},Fe},parse:function(pe){var Fe=D(pe+="",!1);return Fe.toString=function(){return pe},Fe},utcFormat:function(pe){var Fe=B(pe+="",M);return Fe.toString=function(){return pe},Fe},utcParse:function(pe){var Fe=D(pe+="",!0);return Fe.toString=function(){return pe},Fe}}}var k8={"-":"",_:" ",0:"0"},lr=/^\s*\d+/,tre=/^%/,nre=/[\\^$*+?|[\]().{}]/g;function gt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function rre(t){return t.replace(nre,"\\$&")}function Xh(t){return new RegExp("^(?:"+t.map(rre).join("|")+")","i")}function Yh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function ire(t,e,n){var r=lr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function are(t,e,n){var r=lr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ore(t,e,n){var r=lr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function sre(t,e,n){var r=lr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function lre(t,e,n){var r=lr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function L8(t,e,n){var r=lr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function j8(t,e,n){var r=lr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ure(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function cre(t,e,n){var r=lr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function fre(t,e,n){var r=lr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function B8(t,e,n){var r=lr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function hre(t,e,n){var r=lr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function V8(t,e,n){var r=lr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function dre(t,e,n){var r=lr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function pre(t,e,n){var r=lr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function gre(t,e,n){var r=lr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function vre(t,e,n){var r=lr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function mre(t,e,n){var r=tre.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function yre(t,e,n){var r=lr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xre(t,e,n){var r=lr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function F8(t,e){return gt(t.getDate(),e,2)}function _re(t,e){return gt(t.getHours(),e,2)}function bre(t,e){return gt(t.getHours()%12||12,e,2)}function wre(t,e){return gt(1+c0.count(Ko(t),t),e,3)}function a9(t,e){return gt(t.getMilliseconds(),e,3)}function Ere(t,e){return a9(t,e)+"000"}function Are(t,e){return gt(t.getMonth()+1,e,2)}function Sre(t,e){return gt(t.getMinutes(),e,2)}function Tre(t,e){return gt(t.getSeconds(),e,2)}function Cre(t){var e=t.getDay();return e===0?7:e}function Ire(t,e){return gt(qv.count(Ko(t)-1,t),e,2)}function o9(t){var e=t.getDay();return e>=4||e===0?ff(t):ff.ceil(t)}function Ore(t,e){return t=o9(t),gt(ff.count(Ko(t),t)+(Ko(t).getDay()===4),e,2)}function Rre(t){return t.getDay()}function Pre(t,e){return gt(Dg.count(Ko(t)-1,t),e,2)}function Dre(t,e){return gt(t.getFullYear()%100,e,2)}function Nre(t,e){return t=o9(t),gt(t.getFullYear()%100,e,2)}function Mre(t,e){return gt(t.getFullYear()%1e4,e,4)}function kre(t,e){var n=t.getDay();return t=n>=4||n===0?ff(t):ff.ceil(t),gt(t.getFullYear()%1e4,e,4)}function Lre(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+gt(e/60|0,"0",2)+gt(e%60,"0",2)}function U8(t,e){return gt(t.getUTCDate(),e,2)}function jre(t,e){return gt(t.getUTCHours(),e,2)}function Bre(t,e){return gt(t.getUTCHours()%12||12,e,2)}function Vre(t,e){return gt(1+$v.count(Wo(t),t),e,3)}function s9(t,e){return gt(t.getUTCMilliseconds(),e,3)}function Fre(t,e){return s9(t,e)+"000"}function Ure(t,e){return gt(t.getUTCMonth()+1,e,2)}function zre(t,e){return gt(t.getUTCMinutes(),e,2)}function Hre(t,e){return gt(t.getUTCSeconds(),e,2)}function $re(t){var e=t.getUTCDay();return e===0?7:e}function qre(t,e){return gt(Gv.count(Wo(t)-1,t),e,2)}function l9(t){var e=t.getUTCDay();return e>=4||e===0?hf(t):hf.ceil(t)}function Gre(t,e){return t=l9(t),gt(hf.count(Wo(t),t)+(Wo(t).getUTCDay()===4),e,2)}function Kre(t){return t.getUTCDay()}function Wre(t,e){return gt(Ng.count(Wo(t)-1,t),e,2)}function Xre(t,e){return gt(t.getUTCFullYear()%100,e,2)}function Yre(t,e){return t=l9(t),gt(t.getUTCFullYear()%100,e,2)}function Qre(t,e){return gt(t.getUTCFullYear()%1e4,e,4)}function Zre(t,e){var n=t.getUTCDay();return t=n>=4||n===0?hf(t):hf.ceil(t),gt(t.getUTCFullYear()%1e4,e,4)}function Jre(){return"+0000"}function z8(){return"%"}function H8(t){return+t}function $8(t){return Math.floor(+t/1e3)}var Lc,u9,c9;eie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function eie(t){return Lc=ere(t),u9=Lc.format,Lc.parse,c9=Lc.utcFormat,Lc.utcParse,Lc}function tie(t){return new Date(t)}function nie(t){return t instanceof Date?+t:+new Date(+t)}function JE(t,e,n,r,i,a,o,l,c,f){var d=VE(),p=d.invert,v=d.domain,m=f(".%L"),_=f(":%S"),w=f("%I:%M"),E=f("%I %p"),S=f("%a %d"),I=f("%b %d"),R=f("%B"),M=f("%Y");function k(B){return(c(B)<B?m:l(B)<B?_:o(B)<B?w:a(B)<B?E:r(B)<B?i(B)<B?S:I:n(B)<B?R:M)(B)}return d.invert=function(B){return new Date(p(B))},d.domain=function(B){return arguments.length?v(Array.from(B,nie)):v().map(tie)},d.ticks=function(B){var D=v();return t(D[0],D[D.length-1],B??10)},d.tickFormat=function(B,D){return D==null?k:f(D)},d.nice=function(B){var D=v();return(!B||typeof B.range!="function")&&(B=e(D[0],D[D.length-1],B??10)),B?v(YM(D,B)):d},d.copy=function(){return u0(d,JE(t,e,n,r,i,a,o,l,c,f))},d}function rie(){return na.apply(JE(Zne,Jne,Ko,QE,qv,c0,XE,KE,yu,u9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function iie(){return na.apply(JE(Yne,Qne,Wo,ZE,Gv,$v,YE,WE,yu,c9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Kv(){var t=0,e=1,n,r,i,a,o=qr,l=!1,c;function f(p){return p==null||isNaN(p=+p)?c:o(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(o=p,f):o};function d(p){return function(v){var m,_;return arguments.length?([m,_]=v,o=p(m,_),f):[o(0),o(1)]}}return f.range=d(Cf),f.rangeRound=d(BE),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function Il(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function f9(){var t=Cl(Kv()(qr));return t.copy=function(){return Il(t,f9())},es.apply(t,arguments)}function h9(){var t=zE(Kv()).domain([1,10]);return t.copy=function(){return Il(t,h9()).base(t.base())},es.apply(t,arguments)}function d9(){var t=HE(Kv());return t.copy=function(){return Il(t,d9()).constant(t.constant())},es.apply(t,arguments)}function eA(){var t=$E(Kv());return t.copy=function(){return Il(t,eA()).exponent(t.exponent())},es.apply(t,arguments)}function aie(){return eA.apply(null,arguments).exponent(.5)}function p9(){var t=[],e=qr;function n(r){if(r!=null&&!isNaN(r=+r))return e((s0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(al),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>$te(t,a/r))},n.copy=function(){return p9(e).domain(t)},es.apply(n,arguments)}function Wv(){var t=0,e=.5,n=1,r=1,i,a,o,l,c,f=qr,d,p=!1,v;function m(w){return isNaN(w=+w)?v:(w=.5+((w=+d(w))-a)*(r*w<r*a?l:c),f(p?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([t,e,n]=w,i=d(t=+t),a=d(e=+e),o=d(n=+n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(w){return arguments.length?(p=!!w,m):p},m.interpolator=function(w){return arguments.length?(f=w,m):f};function _(w){return function(E){var S,I,R;return arguments.length?([S,I,R]=E,f=mne(w,[S,I,R]),m):[f(0),f(.5),f(1)]}}return m.range=_(Cf),m.rangeRound=_(BE),m.unknown=function(w){return arguments.length?(v=w,m):v},function(w){return d=w,i=w(t),a=w(e),o=w(n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,m}}function g9(){var t=Cl(Wv()(qr));return t.copy=function(){return Il(t,g9())},es.apply(t,arguments)}function v9(){var t=zE(Wv()).domain([.1,1,10]);return t.copy=function(){return Il(t,v9()).base(t.base())},es.apply(t,arguments)}function m9(){var t=HE(Wv());return t.copy=function(){return Il(t,m9()).constant(t.constant())},es.apply(t,arguments)}function tA(){var t=$E(Wv());return t.copy=function(){return Il(t,tA()).exponent(t.exponent())},es.apply(t,arguments)}function oie(){return tA.apply(null,arguments).exponent(.5)}const ud=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kE,scaleDiverging:g9,scaleDivergingLog:v9,scaleDivergingPow:tA,scaleDivergingSqrt:oie,scaleDivergingSymlog:m9,scaleIdentity:XM,scaleImplicit:Ob,scaleLinear:WM,scaleLog:QM,scaleOrdinal:ME,scalePoint:Kte,scalePow:qE,scaleQuantile:e9,scaleQuantize:t9,scaleRadial:JM,scaleSequential:f9,scaleSequentialLog:h9,scaleSequentialPow:eA,scaleSequentialQuantile:p9,scaleSequentialSqrt:aie,scaleSequentialSymlog:d9,scaleSqrt:Fne,scaleSymlog:ZM,scaleThreshold:n9,scaleTime:rie,scaleUtc:iie,tickFormat:KM},Symbol.toStringTag,{value:"Module"}));var Ol=t=>t.chartData,nA=ne([Ol],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Xv=(t,e,n,r)=>r?nA(t):Ol(t);function df(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Ci(e)&&Ci(n))return!0}return!1}function q8(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function sie(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Ci(n))i=n;else if(typeof n=="function")return;if(Ci(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(df(o))return o}}function lie(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(df(r))return q8(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,l;if(i==="auto")e!=null&&(o=Math.min(...e));else if(Re(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e?.[0]))}catch{}else if(typeof i=="string"&&k6.test(i)){var c=k6.exec(i);if(c==null||e==null)o=void 0;else{var f=+c[1];o=e[0]-f}}else o=e?.[0];if(a==="auto")e!=null&&(l=Math.max(...e));else if(Re(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e?.[1]))}catch{}else if(typeof a=="string"&&L6.test(a)){var d=L6.exec(a);if(d==null||e==null)l=void 0;else{var p=+d[1];l=e[1]+p}}else l=e?.[1];var v=[o,l];if(df(v))return e==null?v:q8(v,e,n)}}}var If=1e9,uie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},iA,Zt=!0,ta="[DecimalError] ",Tu=ta+"Invalid argument: ",rA=ta+"Exponent out of range: ",Of=Math.floor,hu=Math.pow,cie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wi,ir=1e7,qt=7,y9=9007199254740991,Mg=Of(y9/qt),Ee={};Ee.absoluteValue=Ee.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ee.comparedTo=Ee.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*qt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ee.dividedBy=Ee.div=function(t){return Vo(this,new this.constructor(t))};Ee.dividedToIntegerBy=Ee.idiv=function(t){var e=this,n=e.constructor;return Lt(Vo(e,new n(t),0,1),n.precision)};Ee.equals=Ee.eq=function(t){return!this.cmp(t)};Ee.exponent=function(){return Ln(this)};Ee.greaterThan=Ee.gt=function(t){return this.cmp(t)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(t){return this.cmp(t)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(t){return this.cmp(t)<0};Ee.lessThanOrEqualTo=Ee.lte=function(t){return this.cmp(t)<1};Ee.logarithm=Ee.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(wi))throw Error(ta+"NaN");if(n.s<1)throw Error(ta+(n.s?"NaN":"-Infinity"));return n.eq(wi)?new r(0):(Zt=!1,e=Vo(Bd(n,a),Bd(t,a),a),Zt=!0,Lt(e,i))};Ee.minus=Ee.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?b9(e,t):x9(e,(t.s=-t.s,t))};Ee.modulo=Ee.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ta+"NaN");return n.s?(Zt=!1,e=Vo(n,t,0,1).times(t),Zt=!0,n.minus(e)):Lt(new r(n),i)};Ee.naturalExponential=Ee.exp=function(){return _9(this)};Ee.naturalLogarithm=Ee.ln=function(){return Bd(this)};Ee.negated=Ee.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ee.plus=Ee.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?x9(e,t):b9(e,(t.s=-t.s,t))};Ee.precision=Ee.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Tu+t);if(e=Ln(i)+1,r=i.d.length-1,n=r*qt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ee.squareRoot=Ee.sqrt=function(){var t,e,n,r,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ta+"NaN")}for(t=Ln(l),Zt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Xa(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Of((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(Vo(l,a,o+2)).times(.5),Xa(a.d).slice(0,o)===(e=Xa(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Lt(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;o+=4}return Zt=!0,Lt(r,n)};Ee.times=Ee.mul=function(t){var e,n,r,i,a,o,l,c,f,d=this,p=d.constructor,v=d.d,m=(t=new p(t)).d;if(!d.s||!t.s)return new p(0);for(t.s*=d.s,n=d.e+t.e,c=v.length,f=m.length,c<f&&(a=v,v=m,m=a,o=c,c=f,f=o),a=[],o=c+f,r=o;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)l=a[i]+m[r]*v[i-r-1]+e,a[i--]=l%ir|0,e=l/ir|0;a[i]=(a[i]+e)%ir|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Zt?Lt(t,p.precision):t};Ee.toDecimalPlaces=Ee.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(oo(t,0,If),e===void 0?e=r.rounding:oo(e,0,8),Lt(n,t+Ln(n)+1,e))};Ee.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Bu(r,!0):(oo(t,0,If),e===void 0?e=i.rounding:oo(e,0,8),r=Lt(new i(r),t+1,e),n=Bu(r,!0,t+1)),n};Ee.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Bu(i):(oo(t,0,If),e===void 0?e=a.rounding:oo(e,0,8),r=Lt(new a(i),t+Ln(i)+1,e),n=Bu(r.abs(),!1,t+Ln(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ee.toInteger=Ee.toint=function(){var t=this,e=t.constructor;return Lt(new e(t),Ln(t)+1,e.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(t){var e,n,r,i,a,o,l=this,c=l.constructor,f=12,d=+(t=new c(t));if(!t.s)return new c(wi);if(l=new c(l),!l.s){if(t.s<1)throw Error(ta+"Infinity");return l}if(l.eq(wi))return l;if(r=c.precision,t.eq(wi))return Lt(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=l.s,o){if((n=d<0?-d:d)<=y9){for(i=new c(wi),e=Math.ceil(r/qt+4),Zt=!1;n%2&&(i=i.times(l),K8(i.d,e)),n=Of(n/2),n!==0;)l=l.times(l),K8(l.d,e);return Zt=!0,t.s<0?new c(wi).div(i):Lt(i,r)}}else if(a<0)throw Error(ta+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Zt=!1,i=t.times(Bd(l,r+f)),Zt=!0,i=_9(i),i.s=a,i};Ee.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Ln(i),r=Bu(i,n<=a.toExpNeg||n>=a.toExpPos)):(oo(t,1,If),e===void 0?e=a.rounding:oo(e,0,8),i=Lt(new a(i),t,e),n=Ln(i),r=Bu(i,t<=n||n<=a.toExpNeg,t)),r};Ee.toSignificantDigits=Ee.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(oo(t,1,If),e===void 0?e=r.rounding:oo(e,0,8)),Lt(new r(n),t,e)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ln(t),n=t.constructor;return Bu(t,e<=n.toExpNeg||e>=n.toExpPos)};function x9(t,e){var n,r,i,a,o,l,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Zt?Lt(e,p):e;if(c=t.d,f=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,l=f.length):(r=f,i=o,l=c.length),o=Math.ceil(p/qt),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=f.length,l-a<0&&(a=l,r=f,f=c,c=r),n=0;a;)n=(c[--a]=c[a]+f[a]+n)/ir|0,c[a]%=ir;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Zt?Lt(e,p):e}function oo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Tu+t)}function Xa(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=qt-r.length,n&&(a+=Hs(n)),a+=r;o=t[e],r=o+"",n=qt-r.length,n&&(a+=Hs(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Vo=(function(){function t(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%ir|0,o=a/ir|0;return o&&r.unshift(o),r}function e(r,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*ir+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,c,f,d,p,v,m,_,w,E,S,I,R,M,k,B,D,N,L=r.constructor,z=r.s==i.s?1:-1,U=r.d,H=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(ta+"Division by zero");for(c=r.e-i.e,D=H.length,k=U.length,m=new L(z),_=m.d=[],f=0;H[f]==(U[f]||0);)++f;if(H[f]>(U[f]||0)&&--c,a==null?I=a=L.precision:o?I=a+(Ln(r)-Ln(i))+1:I=a,I<0)return new L(0);if(I=I/qt+2|0,f=0,D==1)for(d=0,H=H[0],I++;(f<k||d)&&I--;f++)R=d*ir+(U[f]||0),_[f]=R/H|0,d=R%H|0;else{for(d=ir/(H[0]+1)|0,d>1&&(H=t(H,d),U=t(U,d),D=H.length,k=U.length),M=D,w=U.slice(0,D),E=w.length;E<D;)w[E++]=0;N=H.slice(),N.unshift(0),B=H[0],H[1]>=ir/2&&++B;do d=0,l=e(H,w,D,E),l<0?(S=w[0],D!=E&&(S=S*ir+(w[1]||0)),d=S/B|0,d>1?(d>=ir&&(d=ir-1),p=t(H,d),v=p.length,E=w.length,l=e(p,w,v,E),l==1&&(d--,n(p,D<v?N:H,v))):(d==0&&(l=d=1),p=H.slice()),v=p.length,v<E&&p.unshift(0),n(w,p,E),l==-1&&(E=w.length,l=e(H,w,D,E),l<1&&(d++,n(w,D<E?N:H,E))),E=w.length):l===0&&(d++,w=[0]),_[f++]=d,l&&w[0]?w[E++]=U[M]||0:(w=[U[M]],E=1);while((M++<k||w[0]!==void 0)&&I--)}return _[0]||_.shift(),m.e=c,Lt(m,o?a+Ln(m)+1:a)}})();function _9(t,e){var n,r,i,a,o,l,c=0,f=0,d=t.constructor,p=d.precision;if(Ln(t)>16)throw Error(rA+Ln(t));if(!t.s)return new d(wi);for(Zt=!1,l=p,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(r=Math.log(hu(2,f))/Math.LN10*2+5|0,l+=r,n=i=a=new d(wi),d.precision=l;;){if(i=Lt(i.times(t),l),n=n.times(++c),o=a.plus(Vo(i,n,l)),Xa(o.d).slice(0,l)===Xa(a.d).slice(0,l)){for(;f--;)a=Lt(a.times(a),l);return d.precision=p,e==null?(Zt=!0,Lt(a,p)):a}a=o}}function Ln(t){for(var e=t.e*qt,n=t.d[0];n>=10;n/=10)e++;return e}function Yx(t,e,n){if(e>t.LN10.sd())throw Zt=!0,n&&(t.precision=n),Error(ta+"LN10 precision limit exceeded");return Lt(new t(t.LN10),e)}function Hs(t){for(var e="";t--;)e+="0";return e}function Bd(t,e){var n,r,i,a,o,l,c,f,d,p=1,v=10,m=t,_=m.d,w=m.constructor,E=w.precision;if(m.s<1)throw Error(ta+(m.s?"NaN":"-Infinity"));if(m.eq(wi))return new w(0);if(e==null?(Zt=!1,f=E):f=e,m.eq(10))return e==null&&(Zt=!0),Yx(w,f);if(f+=v,w.precision=f,n=Xa(_),r=n.charAt(0),a=Ln(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Xa(m.d),r=n.charAt(0),p++;a=Ln(m),r>1?(m=new w("0."+n),a++):m=new w(r+"."+n.slice(1))}else return c=Yx(w,f+2,E).times(a+""),m=Bd(new w(r+"."+n.slice(1)),f-v).plus(c),w.precision=E,e==null?(Zt=!0,Lt(m,E)):m;for(l=o=m=Vo(m.minus(wi),m.plus(wi),f),d=Lt(m.times(m),f),i=3;;){if(o=Lt(o.times(d),f),c=l.plus(Vo(o,new w(i),f)),Xa(c.d).slice(0,f)===Xa(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(Yx(w,f+2,E).times(a+""))),l=Vo(l,new w(p),f),w.precision=E,e==null?(Zt=!0,Lt(l,E)):l;l=c,i+=2}}function G8(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Of(n/qt),t.d=[],r=(n+1)%qt,n<0&&(r+=qt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=qt;r<i;)t.d.push(+e.slice(r,r+=qt));e=e.slice(r),r=qt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Zt&&(t.e>Mg||t.e<-Mg))throw Error(rA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Lt(t,e,n){var r,i,a,o,l,c,f,d,p=t.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=qt,i=e,f=p[d=0];else{if(d=Math.ceil((r+1)/qt),a=p.length,d>=a)return t;for(f=a=p[d],o=1;a>=10;a/=10)o++;r%=qt,i=r-qt+o}if(n!==void 0&&(a=hu(10,o-i-1),l=f/a%10|0,c=e<0||p[d+1]!==void 0||f%a,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?f/hu(10,o-i):0:p[d-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(a=Ln(t),p.length=1,e=e-a-1,p[0]=hu(10,(qt-e%qt)%qt),t.e=Of(-e/qt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=d,a=1,d--):(p.length=d+1,a=hu(10,qt-r),p[d]=i>0?(f/hu(10,o-i)%hu(10,i)|0)*a:0),c)for(;;)if(d==0){(p[0]+=a)==ir&&(p[0]=1,++t.e);break}else{if(p[d]+=a,p[d]!=ir)break;p[d--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(Zt&&(t.e>Mg||t.e<-Mg))throw Error(rA+Ln(t));return t}function b9(t,e){var n,r,i,a,o,l,c,f,d,p,v=t.constructor,m=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Zt?Lt(e,m):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),o=f-r,o){for(d=o<0,d?(n=c,o=-o,l=p.length):(n=p,r=f,l=c.length),i=Math.max(Math.ceil(m/qt),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=p.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){d=c[i]<p[i];break}o=0}for(d&&(n=c,c=p,p=n,e.s=-e.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=ir-1;--c[a],c[i]+=ir}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Zt?Lt(e,m):e):new v(0)}function Bu(t,e,n){var r,i=Ln(t),a=Xa(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Hs(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Hs(-i-1)+a,n&&(r=n-o)>0&&(a+=Hs(r))):i>=o?(a+=Hs(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Hs(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Hs(r))),t.s<0?"-"+a:a}function K8(t,e){if(t.length>e)return t.length=e,!0}function w9(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Tu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return G8(o,a.toString())}else if(typeof a!="string")throw Error(Tu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,cie.test(a))G8(o,a);else throw Error(Tu+a)}if(i.prototype=Ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=w9,i.config=i.set=fie,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function fie(t){if(!t||typeof t!="object")throw Error(ta+"Object expected");var e,n,r,i=["precision",1,If,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Of(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Tu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Tu+n+": "+r);return this}var iA=w9(uie);wi=new iA(1);const It=iA;var hie=t=>t,E9={},A9=t=>t===E9,W8=t=>function e(){return arguments.length===0||arguments.length===1&&A9(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},S9=(t,e)=>t===1?e:W8(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==E9).length;return a>=t?e(...r):S9(t-a,W8(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var f=r.map(d=>A9(d)?l.shift():d);return e(...f,...l)}))}),Yv=t=>S9(t.length,t),Nb=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},die=Yv((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),pie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return hie;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,c)=>c(l),a(...arguments))}},Mb=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),T9=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((o,l)=>{var c;return o===((c=e)===null||c===void 0?void 0:c[l])})||(e=i,n=t(...i)),n}};function C9(t){var e;return t===0?e=1:e=Math.floor(new It(t).abs().log(10).toNumber())+1,e}function I9(t,e,n){for(var r=new It(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}Yv((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});Yv((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});Yv((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var O9=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},R9=(t,e,n)=>{if(t.lte(0))return new It(0);var r=C9(t.toNumber()),i=new It(10).pow(r),a=t.div(i),o=r!==1?.05:.1,l=new It(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return e?new It(c.toNumber()):new It(Math.ceil(c.toNumber()))},gie=(t,e,n)=>{var r=new It(1),i=new It(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new It(10).pow(C9(t)-1),i=new It(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new It(Math.floor(t)))}else t===0?i=new It(Math.floor((e-1)/2)):n||(i=new It(Math.floor(t)));var o=Math.floor((e-1)/2),l=pie(die(c=>i.add(new It(c-o).mul(r)).toNumber()),Nb);return l(0,e)},P9=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new It(0),tickMin:new It(0),tickMax:new It(0)};var o=R9(new It(n).sub(e).div(r-1),i,a),l;e<=0&&n>=0?l=new It(0):(l=new It(e).add(n).div(2),l=l.sub(new It(l).mod(o)));var c=Math.ceil(l.sub(e).div(o).toNumber()),f=Math.ceil(new It(n).sub(l).div(o).toNumber()),d=c+f+1;return d>r?P9(e,n,r,i,a+1):(d<r&&(f=n>0?f+(r-d):f,c=n>0?c:c+(r-d)),{step:o,tickMin:l.sub(new It(c).mul(o)),tickMax:l.add(new It(f).mul(o))})};function vie(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,l]=O9([e,n]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Nb(0,r-1).map(()=>1/0)]:[...Nb(0,r-1).map(()=>-1/0),l];return e>n?Mb(c):c}if(o===l)return gie(o,r,i);var{step:f,tickMin:d,tickMax:p}=P9(o,l,a,i,0),v=I9(d,p.add(new It(.1).mul(f)),f);return e>n?Mb(v):v}function mie(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=O9([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var l=Math.max(e,2),c=R9(new It(o).sub(a).div(l-1),i,0),f=[...I9(new It(a),new It(o),c),o];return i===!1&&(f=f.map(d=>Math.round(d))),n>r?Mb(f):f}var yie=T9(vie),xie=T9(mie),D9=t=>t.rootProps.maxBarSize,_ie=t=>t.rootProps.barGap,N9=t=>t.rootProps.barCategoryGap,bie=t=>t.rootProps.barSize,f0=t=>t.rootProps.stackOffset,aA=t=>t.options.chartName,oA=t=>t.rootProps.syncId,M9=t=>t.rootProps.syncMethod,sA=t=>t.options.eventEmitter,Po={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},xi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Qv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},wie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Po.angleAxisId,includeHidden:!1,name:void 0,reversed:Po.reversed,scale:Po.scale,tick:Po.tick,tickCount:void 0,ticks:void 0,type:Po.type,unit:void 0},Eie={allowDataOverflow:xi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xi.scale,tick:xi.tick,tickCount:xi.tickCount,ticks:void 0,type:xi.type,unit:void 0},Aie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Po.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Po.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Po.scale,tick:Po.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Sie={allowDataOverflow:xi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xi.scale,tick:xi.tick,tickCount:xi.tickCount,ticks:void 0,type:"category",unit:void 0},lA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Aie:wie,uA=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Sie:Eie,Zv=t=>t.polarOptions,cA=ne([Zo,Jo,Xn],mM),k9=ne([Zv,cA],(t,e)=>{if(t!=null)return kr(t.innerRadius,e,0)}),L9=ne([Zv,cA],(t,e)=>{if(t!=null)return kr(t.outerRadius,e,e*.8)}),Tie=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},j9=ne([Zv],Tie);ne([lA,j9],Qv);var B9=ne([cA,k9,L9],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ne([uA,B9],Qv);var V9=ne([ut,Zv,k9,L9,Zo,Jo],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:l,startAngle:c,endAngle:f}=e;return{cx:kr(o,i,i/2),cy:kr(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:f,clockWise:!1}}}),en=(t,e)=>e,h0=(t,e,n)=>n;function fA(t){return t?.id}var Qn=t=>{var e=ut(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Rf=t=>t.tooltip.settings.axisId,ur=t=>{var e=Qn(t),n=Rf(t);return d0(t,e,n)},F9=ne([ur],t=>t?.dataKey);function U9(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return t.forEach(l=>{var c,f=(c=l.data)!==null&&c!==void 0?c:r;if(!(f==null||f.length===0)){var d=fA(l);f.forEach((p,v)=>{var m=a==null||i?v:String(Ft(p,a,null)),_=Ft(p,l.dataKey,0),w;o.has(m)?w=o.get(m):w={},Object.assign(w,{[d]:_}),o.set(m,w)})}}),Array.from(o.values())}function Jv(t){return t.stackId!=null&&t.dataKey!=null}function X8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X8(Object(n),!0).forEach(function(r){Cie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cie(t,e,n){return(e=Iie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iie(t){var e=Oie(t,"string");return typeof e=="symbol"?e:e+""}function Oie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kb=[0,"auto"],mi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},z9=(t,e)=>t.cartesianAxis.xAxis[e],ts=(t,e)=>{var n=z9(t,e);return n??mi},yi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:kb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:i0},H9=(t,e)=>t.cartesianAxis.yAxis[e],ns=(t,e)=>{var n=H9(t,e);return n??yi},Rie={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},hA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Rie},yn=(t,e,n)=>{switch(e){case"xAxis":return ts(t,n);case"yAxis":return ns(t,n);case"zAxis":return hA(t,n);case"angleAxis":return lA(t,n);case"radiusAxis":return uA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Pie=(t,e,n)=>{switch(e){case"xAxis":return ts(t,n);case"yAxis":return ns(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},d0=(t,e,n)=>{switch(e){case"xAxis":return ts(t,n);case"yAxis":return ns(t,n);case"angleAxis":return lA(t,n);case"radiusAxis":return uA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},$9=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function dA(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var em=t=>t.graphicalItems.cartesianItems,Die=ne([en,h0],dA),pA=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),p0=ne([em,yn,Die],pA),q9=ne([p0],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Jv)),G9=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),K9=ne([p0],G9),gA=t=>t.map(e=>e.data).filter(Boolean).flat(1),Nie=ne([p0],gA),vA=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},mA=ne([Nie,Xv],vA),yA=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Ft(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Ft(i,r)}))):t.map(r=>({value:r})),tm=ne([mA,yn,p0],yA);function W9(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Gu(t){return t.filter(e=>ao(e)||e instanceof Date).map(Number).filter(e=>Si(e)===!1)}function Mie(t,e,n){return!n||typeof e!="number"||Si(e)?[]:n.length?Gu(n.flatMap(r=>{var i=Ft(t,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Ci(a)||!Ci(o)))return[e-a,e+o]})):[]}var kie=ne([q9,Xv,ur],U9),X9=(t,e,n)=>{var r={},i=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[o,l]=a,c=l.map(fA);return[o,{stackedData:VJ(t,c,n),graphicalItems:l}]}))},Lb=ne([kie,q9,f0],X9),Y9=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var a=$J(t,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Lie=ne([Lb,Ol,en],Y9),Q9=(t,e,n,r,i)=>n.length>0?t.flatMap(a=>n.flatMap(o=>{var l,c,f=(l=r[o.id])===null||l===void 0?void 0:l.filter(p=>W9(i,p)),d=Ft(a,(c=e.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:d,errorDomain:Mie(a,d,f)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:Ft(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),nm=t=>t.errorBars,Z9=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>W9(n,r));ne([K9,nm,en],Z9);var jie=ne([mA,yn,K9,nm,en],Q9);function Bie(t){var{value:e}=t;if(ao(e)||e instanceof Date)return e}var Y8=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Gu(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Vie=(t,e,n)=>{var r=t.map(Bie).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&uN(r))?jM(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},xA=t=>{var e;if(t==null||!("domain"in t))return kb;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Gu(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:kb},Lg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},J9=t=>t.referenceElements.dots,Pf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Fie=ne([J9,en,h0],Pf),e7=t=>t.referenceElements.areas,Uie=ne([e7,en,h0],Pf),t7=t=>t.referenceElements.lines,zie=ne([t7,en,h0],Pf),n7=(t,e)=>{var n=Gu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Hie=ne(Fie,en,n7),r7=(t,e)=>{var n=Gu(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},$ie=ne([Uie,en],r7),i7=(t,e)=>{var n=Gu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},qie=ne(zie,en,i7),Gie=ne(Hie,qie,$ie,(t,e,n)=>Lg(t,n,e)),a7=ne([yn],xA),_A=(t,e,n,r,i,a,o)=>{var l=sie(e,t.allowDataOverflow);if(l!=null)return l;var c=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",f=c?Lg(n,i,Y8(r)):Lg(i,Y8(r));return lie(e,f,t.allowDataOverflow)},Kie=ne([yn,a7,Lie,jie,Gie,ut,en],_A),Wie=[0,1],bA=(t,e,n,r,i,a,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:c}=t,f=Sl(e,a);return f&&l==null?jM(0,n.length):c==="category"?Vie(r,t,f):i==="expand"?Wie:o}},wA=ne([yn,ut,mA,tm,f0,en,Kie],bA),o7=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(e0(a));return l in ud?l:"point"}}},Df=ne([yn,ut,$9,aA,en],o7);function Xie(t){if(t!=null){if(t in ud)return ud[t]();var e="scale".concat(e0(t));if(e in ud)return ud[e]()}}function EA(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Xie(e);if(i!=null){var a=i.domain(n).range(r);return MJ(a),a}}}var AA=(t,e,n)=>{var r=xA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&df(t))return yie(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&df(t))return xie(t,e.tickCount,e.allowDecimals)}},SA=ne([wA,d0,Df],AA),TA=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&df(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],o=e[1],l=n[n.length-1];return[Math.min(i,a),Math.max(o,l)]}return e},Yie=ne([yn,wA,SA,en],TA),Qie=ne(tm,yn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Gu(t.map(l=>l.value))).sort((l,c)=>l-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),s7=ne(Qie,ut,N9,Xn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Ci(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=kr(n,t*a),l=t*a/2;return l-o-(l-o)/a*o}return 0}),Zie=(t,e)=>{var n=ts(t,e);return n==null||typeof n.padding!="string"?0:s7(t,"xAxis",e,n.padding)},Jie=(t,e)=>{var n=ns(t,e);return n==null||typeof n.padding!="string"?0:s7(t,"yAxis",e,n.padding)},eae=ne(ts,Zie,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),tae=ne(ns,Jie,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),nae=ne([Xn,eae,Fv,Vv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),rae=ne([Xn,ut,tae,Fv,Vv,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),g0=(t,e,n,r)=>{var i;switch(e){case"xAxis":return nae(t,n,r);case"yAxis":return rae(t,n,r);case"zAxis":return(i=hA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return j9(t);case"radiusAxis":return B9(t,n);default:return}},l7=ne([yn,g0],Qv),Nf=ne([yn,Df,Yie,l7],EA);ne([p0,nm,en],Z9);function u7(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var rm=(t,e)=>e,im=(t,e,n)=>n,iae=ne(jv,rm,im,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(u7)),aae=ne(Bv,rm,im,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(u7)),c7=(t,e)=>({width:t.width,height:e.height}),oae=(t,e)=>{var n=typeof e.width=="number"?e.width:i0;return{width:n,height:t.height}},f7=ne(Xn,ts,c7),sae=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},lae=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},uae=ne(Jo,Xn,iae,rm,im,(t,e,n,r,i)=>{var a={},o;return n.forEach(l=>{var c=c7(e,l);o==null&&(o=sae(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;a[l.id]=o-Number(f)*c.height,o+=(f?-1:1)*c.height}),a}),cae=ne(Zo,Xn,aae,rm,im,(t,e,n,r,i)=>{var a={},o;return n.forEach(l=>{var c=oae(e,l);o==null&&(o=lae(e,r,t));var f=r==="left"&&!i||r==="right"&&i;a[l.id]=o-Number(f)*c.width,o+=(f?-1:1)*c.width}),a}),fae=(t,e)=>{var n=ts(t,e);if(n!=null)return uae(t,n.orientation,n.mirror)},hae=ne([Xn,ts,fae,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),dae=(t,e)=>{var n=ns(t,e);if(n!=null)return cae(t,n.orientation,n.mirror)},pae=ne([Xn,ns,dae,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),h7=ne(Xn,ns,(t,e)=>{var n=typeof e.width=="number"?e.width:i0;return{width:n,height:t.height}}),Q8=(t,e,n)=>{switch(e){case"xAxis":return f7(t,n).width;case"yAxis":return h7(t,n).height;default:return}},d7=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,l=Sl(t,r),c=e.map(f=>f.value);if(o&&l&&a==="category"&&i&&uN(c))return c}},CA=ne([ut,tm,yn,en],d7),p7=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=Sl(t,r);if(o&&(i==="number"||a!=="auto"))return e.map(l=>l.value)}},IA=ne([ut,tm,d0,en],p7),Z8=ne([ut,Pie,Df,Nf,CA,IA,g0,SA,en],(t,e,n,r,i,a,o,l,c)=>{if(e==null)return null;var f=Sl(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:l,range:o,realScaleType:n,scale:r}}),gae=(t,e,n,r,i,a,o,l,c)=>{if(!(e==null||r==null)){var f=Sl(t,c),{type:d,ticks:p,tickCount:v}=e,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,_=d==="category"&&r.bandwidth?r.bandwidth()/m:0;_=c==="angleAxis"&&a!=null&&a.length>=2?sr(a[0]-a[1])*2*_:_;var w=p||i;if(w){var E=w.map((S,I)=>{var R=o?o.indexOf(S):S;return{index:I,coordinate:r(R)+_,value:S,offset:_}});return E.filter(S=>!Si(S.coordinate))}return f&&l?l.map((S,I)=>({coordinate:r(S)+_,value:S,index:I,offset:_})):r.ticks?r.ticks(v).map(S=>({coordinate:r(S)+_,value:S,offset:_})):r.domain().map((S,I)=>({coordinate:r(S)+_,value:o?o[S]:S,index:I,offset:_}))}},g7=ne([ut,d0,Df,Nf,SA,g0,CA,IA,en],gae),vae=(t,e,n,r,i,a,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=Sl(t,o),{tickCount:c}=e,f=0;return f=o==="angleAxis"&&r?.length>=2?sr(r[0]-r[1])*2*f:f,l&&a?a.map((d,p)=>({coordinate:n(d)+f,value:d,index:p,offset:f})):n.ticks?n.ticks(c).map(d=>({coordinate:n(d)+f,value:d,offset:f})):n.domain().map((d,p)=>({coordinate:n(d)+f,value:i?i[d]:d,index:p,offset:f}))}},pl=ne([ut,d0,Nf,g0,CA,IA,en],vae),gl=ne(yn,Nf,(t,e)=>{if(!(t==null||e==null))return kg(kg({},t),{},{scale:e})}),mae=ne([yn,Df,wA,l7],EA);ne((t,e,n)=>hA(t,n),mae,(t,e)=>{if(!(t==null||e==null))return kg(kg({},t),{},{scale:e})});var yae=ne([ut,jv,Bv],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),v7=t=>t.options.defaultTooltipEventType,m7=t=>t.options.validateTooltipEventTypes;function y7(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function OA(t,e){var n=v7(t),r=m7(t);return y7(e,n,r)}function xae(t){return Ce(e=>OA(e,t))}var x7=(t,e)=>{var n,r=Number(e);if(!(Si(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},_ae=t=>t.tooltip.settings,Ws={active:!1,index:null,dataKey:void 0,coordinate:void 0},bae={itemInteraction:{click:Ws,hover:Ws},axisInteraction:{click:Ws,hover:Ws},keyboardInteraction:Ws,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},_7=Ii({name:"tooltip",initialState:bae,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Bo(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:wae,removeTooltipEntrySettings:Eae,setTooltipSettingsState:Aae,setActiveMouseOverItemIndex:b7,mouseLeaveItem:Sae,mouseLeaveChart:w7,setActiveClickItemIndex:Tae,setMouseOverAxisIndex:E7,setMouseClickAxisIndex:Cae,setSyncInteraction:jb,setKeyboardInteraction:Bb}=_7.actions,Iae=_7.reducer;function J8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J8(Object(n),!0).forEach(function(r){Oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oae(t,e,n){return(e=Rae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rae(t){var e=Pae(t,"string");return typeof e=="symbol"?e:e+""}function Pae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dae(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Nae(t){return t.index!=null}var A7=(t,e,n,r)=>{if(e==null)return Ws;var i=Dae(t,e,n);if(i==null)return Ws;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Nae(i)){if(a)return _1(_1({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return _1(_1({},Ws),{},{coordinate:i.coordinate})},RA=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!Ci(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},S7=(t,e,n,r,i,a,o,l)=>{if(!(a==null||l==null)){var c=o[0],f=c==null?void 0:l(c.positions,a);if(f!=null)return f;var d=i?.[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:d.coordinate}}}},T7=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},v0=t=>t.options.tooltipPayloadSearcher,Mf=t=>t.tooltip;function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(r){Mae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mae(t,e,n){return(e=kae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kae(t){var e=Lae(t,"string");return typeof e=="symbol"?e:e+""}function Lae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jae(t,e){return t??e}var C7=(t,e,n,r,i,a,o)=>{if(!(e==null||a==null)){var{chartData:l,computedData:c,dataStartIndex:f,dataEndIndex:d}=n,p=[];return t.reduce((v,m)=>{var _,{dataDefinedOnItem:w,settings:E}=m,S=jae(w,l),I=Array.isArray(S)?yM(S,f,d):S,R=(_=E?.dataKey)!==null&&_!==void 0?_:r,M=E?.nameKey,k;if(r&&Array.isArray(I)&&!Array.isArray(I[0])&&o==="axis"?k=cN(I,r,i):k=a(I,e,c,M),Array.isArray(k))k.forEach(D=>{var N=tR(tR({},E),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});v.push(j6({tooltipEntrySettings:N,dataKey:D.dataKey,payload:D.payload,value:Ft(D.payload,D.dataKey),name:D.name}))});else{var B;v.push(j6({tooltipEntrySettings:E,dataKey:R,payload:k,value:Ft(k,R),name:(B=Ft(k,M))!==null&&B!==void 0?B:E?.name}))}return v},p)}},PA=ne([ur,ut,$9,aA,Qn],o7),Bae=ne([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Vae=ne([Qn,Rf],dA),m0=ne([Bae,ur,Vae],pA),Fae=ne([m0],t=>t.filter(Jv)),Uae=ne([m0],gA),kf=ne([Uae,Ol],vA),zae=ne([Fae,Ol,ur],U9),DA=ne([kf,ur,m0],yA),Hae=ne([ur],xA),$ae=ne([m0],t=>t.filter(Jv)),qae=ne([zae,$ae,f0],X9),Gae=ne([qae,Ol,Qn],Y9),Kae=ne([m0],G9),Wae=ne([kf,ur,Kae,nm,Qn],Q9),Xae=ne([J9,Qn,Rf],Pf),Yae=ne([Xae,Qn],n7),Qae=ne([e7,Qn,Rf],Pf),Zae=ne([Qae,Qn],r7),Jae=ne([t7,Qn,Rf],Pf),eoe=ne([Jae,Qn],i7),toe=ne([Yae,eoe,Zae],Lg),noe=ne([ur,Hae,Gae,Wae,toe,ut,Qn],_A),I7=ne([ur,ut,kf,DA,f0,Qn,noe],bA),roe=ne([I7,ur,PA],AA),ioe=ne([ur,I7,roe,Qn],TA),O7=t=>{var e=Qn(t),n=Rf(t),r=!1;return g0(t,e,n,r)},R7=ne([ur,O7],Qv),P7=ne([ur,PA,ioe,R7],EA),aoe=ne([ut,DA,ur,Qn],d7),ooe=ne([ut,DA,ur,Qn],p7),soe=(t,e,n,r,i,a,o,l)=>{if(e){var{type:c}=e,f=Sl(t,l);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/d:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?sr(i[0]-i[1])*2*p:p,f&&o?o.map((v,m)=>({coordinate:r(v)+p,value:v,index:m,offset:p})):r.domain().map((v,m)=>({coordinate:r(v)+p,value:a?a[v]:v,index:m,offset:p}))}}},rs=ne([ut,ur,PA,P7,O7,aoe,ooe,Qn],soe),NA=ne([v7,m7,_ae],(t,e,n)=>y7(n.shared,t,e)),D7=t=>t.tooltip.settings.trigger,MA=t=>t.tooltip.settings.defaultIndex,am=ne([Mf,NA,D7,MA],A7),vl=ne([am,kf],RA),N7=ne([rs,vl],x7),M7=ne([am],t=>{if(t)return t.dataKey}),k7=ne([Mf,NA,D7,MA],T7),loe=ne([Zo,Jo,ut,Xn,rs,MA,k7,v0],S7),uoe=ne([am,loe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),coe=ne([am],t=>t.active),foe=ne([k7,vl,Ol,F9,N7,v0,NA],C7),hoe=ne([foe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){doe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function doe(t,e,n){return(e=poe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function poe(t){var e=goe(t,"string");return typeof e=="symbol"?e:e+""}function goe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var voe=()=>Ce(ur),moe=()=>{var t=voe(),e=Ce(rs),n=Ce(P7);return Dd(rR(rR({},t),{},{scale:n}),e)},yoe=()=>Ce(aA),kA=(t,e)=>e,L7=(t,e,n)=>n,LA=(t,e,n,r)=>r,xoe=ne(rs,t=>Pv(t,e=>e.coordinate)),jA=ne([Mf,kA,L7,LA],A7),j7=ne([jA,kf],RA),_oe=(t,e,n)=>{if(e!=null){var r=Mf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},B7=ne([Mf,kA,L7,LA],T7),jg=ne([Zo,Jo,ut,Xn,rs,LA,B7,v0],S7),boe=ne([jA,jg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),V7=ne(rs,j7,x7),woe=ne([B7,j7,Ol,F9,V7,v0,kA],C7),Eoe=ne([jA],t=>({isActive:t.active,activeIndex:t.index})),Aoe=(t,e,n,r,i,a,o,l)=>{if(!(!t||!e||!r||!i||!a)){var c=qJ(t.chartX,t.chartY,e,n,l);if(c){var f=KJ(c,e),d=DJ(f,o,a,r,i),p=GJ(e,a,d,c);return{activeIndex:String(d),activeCoordinate:p}}}};function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vb.apply(null,arguments)}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){Soe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Soe(t,e,n){return(e=Toe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Toe(t){var e=Coe(t,"string");return typeof e=="symbol"?e:e+""}function Coe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ioe(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:c,chartName:f}=t,d=e,p=n,v=r;if(!l||!d||f!=="ScatterChart"&&c!=="axis")return null;var m,_;if(f==="ScatterChart")m=d,_=Kee;else if(f==="BarChart")m=Wee(o,d,i,a),_=NM;else if(o==="radial"){var{cx:w,cy:E,radius:S,startAngle:I,endAngle:R}=MM(d);m={cx:w,cy:E,startAngle:I,endAngle:R,innerRadius:S,outerRadius:S},_=LM}else m={points:Cte(o,d,i)},_=DE;var M=typeof l=="object"&&"className"in l?l.className:void 0,k=b1(b1(b1(b1({stroke:"#ccc",pointerEvents:"none"},i),m),nn(l,!1)),{},{payload:p,payloadIndex:v,className:pt("recharts-tooltip-cursor",M)});return C.isValidElement(l)?C.cloneElement(l,k):C.createElement(_,k)}function Ooe(t){var e=moe(),n=AM(),r=Uv(),i=yoe();return C.createElement(Ioe,Vb({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var F7=C.createContext(null),Roe=()=>C.useContext(F7),Qx={exports:{}},aR;function Poe(){return aR||(aR=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,d){this.fn=c,this.context=f,this.once=d||!1}function a(c,f,d,p,v){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,p||c,v),_=n?n+f:f;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],m]:c._events[_].push(m):(c._events[_]=m,c._eventsCount++),c}function o(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],d,p;if(this._eventsCount===0)return f;for(p in d=this._events)e.call(d,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},l.prototype.listeners=function(f){var d=n?n+f:f,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,m=p.length,_=new Array(m);v<m;v++)_[v]=p[v].fn;return _},l.prototype.listenerCount=function(f){var d=n?n+f:f,p=this._events[d];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,d,p,v,m,_){var w=n?n+f:f;if(!this._events[w])return!1;var E=this._events[w],S=arguments.length,I,R;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),S){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,d),!0;case 3:return E.fn.call(E.context,d,p),!0;case 4:return E.fn.call(E.context,d,p,v),!0;case 5:return E.fn.call(E.context,d,p,v,m),!0;case 6:return E.fn.call(E.context,d,p,v,m,_),!0}for(R=1,I=new Array(S-1);R<S;R++)I[R-1]=arguments[R];E.fn.apply(E.context,I)}else{var M=E.length,k;for(R=0;R<M;R++)switch(E[R].once&&this.removeListener(f,E[R].fn,void 0,!0),S){case 1:E[R].fn.call(E[R].context);break;case 2:E[R].fn.call(E[R].context,d);break;case 3:E[R].fn.call(E[R].context,d,p);break;case 4:E[R].fn.call(E[R].context,d,p,v);break;default:if(!I)for(k=1,I=new Array(S-1);k<S;k++)I[k-1]=arguments[k];E[R].fn.apply(E[R].context,I)}}return!0},l.prototype.on=function(f,d,p){return a(this,f,d,p,!1)},l.prototype.once=function(f,d,p){return a(this,f,d,p,!0)},l.prototype.removeListener=function(f,d,p,v){var m=n?n+f:f;if(!this._events[m])return this;if(!d)return o(this,m),this;var _=this._events[m];if(_.fn)_.fn===d&&(!v||_.once)&&(!p||_.context===p)&&o(this,m);else{for(var w=0,E=[],S=_.length;w<S;w++)(_[w].fn!==d||v&&!_[w].once||p&&_[w].context!==p)&&E.push(_[w]);E.length?this._events[m]=E.length===1?E[0]:E:o(this,m)}return this},l.prototype.removeAllListeners=function(f){var d;return f?(d=n?n+f:f,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(Qx)),Qx.exports}var Doe=Poe();const Noe=so(Doe);var Vd=new Noe,Fb="recharts.syncEvent.tooltip",oR="recharts.syncEvent.brush";function BA(t,e){if(e){var n=Number.parseInt(e,10);if(!Si(n))return t?.[n]}}var Moe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},U7=Ii({name:"options",initialState:Moe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),koe=U7.reducer,{createEventEmitter:Loe}=U7.actions;function joe(t){return t.tooltip.syncInteraction}var Boe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},z7=Ii({name:"chartData",initialState:Boe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:sR,setDataStartEndIndexes:Voe,setComputedData:v0e}=z7.actions,Foe=z7.reducer,Uoe=["x","y"];function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function su(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(r){zoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zoe(t,e,n){return(e=Hoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hoe(t){var e=$oe(t,"string");return typeof e=="symbol"?e:e+""}function $oe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qoe(t,e){if(t==null)return{};var n,r,i=Goe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Goe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var H7=()=>{};function Koe(){var t=Ce(oA),e=Ce(sA),n=rn(),r=Ce(M9),i=Ce(rs),a=Uv(),o=IE(),l=Ce(c=>c.rootProps.className);C.useEffect(()=>{if(t==null)return H7;var c=(f,d,p)=>{if(e!==p&&t===f){if(r==="index"){var v;if(o&&d!==null&&d!==void 0&&(v=d.payload)!==null&&v!==void 0&&v.coordinate){var m=d.payload.coordinate,{x:_,y:w}=m,E=qoe(m,Uoe),S=su(su(su({},E),typeof _=="number"&&{x:Math.max(o.x,Math.min(_,o.x+o.width))}),typeof w=="number"&&{y:Math.max(o.y,Math.min(w,o.y+o.height))}),I=su(su({},d),{},{payload:su(su({},d.payload),{},{coordinate:S})});n(I)}else n(d);return}if(i!=null){var R;if(typeof r=="function"){var M={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},k=r(i,M);R=i[k]}else r==="value"&&(R=i.find(F=>String(F.value)===d.payload.label));var{coordinate:B}=d.payload;if(R==null||d.payload.active===!1||B==null||o==null){n(jb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:D,y:N}=B,L=Math.min(D,o.x+o.width),z=Math.min(N,o.y+o.height),U={x:a==="horizontal"?R.coordinate:L,y:a==="horizontal"?z:R.coordinate},H=jb({active:d.payload.active,coordinate:U,dataKey:d.payload.dataKey,index:String(R.index),label:d.payload.label});n(H)}}};return Vd.on(Fb,c),()=>{Vd.off(Fb,c)}},[l,n,e,t,r,i,a,o])}function Woe(){var t=Ce(oA),e=Ce(sA),n=rn();C.useEffect(()=>{if(t==null)return H7;var r=(i,a,o)=>{e!==o&&t===i&&n(Voe(a))};return Vd.on(oR,r),()=>{Vd.off(oR,r)}},[n,e,t])}function Xoe(){var t=rn();C.useEffect(()=>{t(Loe())},[t]),Koe(),Woe()}function Yoe(t,e,n,r,i,a){var o=Ce(v=>_oe(v,t,e)),l=Ce(sA),c=Ce(oA),f=Ce(M9),d=Ce(joe),p=d?.active;C.useEffect(()=>{if(!p&&c!=null&&l!=null){var v=jb({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r});Vd.emit(Fb,c,v,l)}},[p,n,o,i,r,l,c,f,a])}function uR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(n),!0).forEach(function(r){Qoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qoe(t,e,n){return(e=Zoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zoe(t){var e=Joe(t,"string");return typeof e=="symbol"?e:e+""}function Joe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ese(t){return t.dataKey}function tse(t,e){return C.isValidElement(t)?C.cloneElement(t,e):typeof t=="function"?C.createElement(t,e):C.createElement(See,e)}var fR=[],nse={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Tl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function om(t){var e=Tr(t,nse),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:o,filterNull:l,isAnimationActive:c,offset:f,payloadUniqBy:d,position:p,reverseDirection:v,useTranslate3d:m,wrapperStyle:_,cursor:w,shared:E,trigger:S,defaultIndex:I,portal:R,axisId:M}=e,k=rn(),B=typeof I=="number"?String(I):I;C.useEffect(()=>{k(Aae({shared:E,trigger:S,axisId:M,active:n,defaultIndex:B}))},[k,E,S,M,n,B]);var D=IE(),N=IM(),L=xae(E),{activeIndex:z,isActive:U}=Ce(Oe=>Eoe(Oe,L,S,B)),H=Ce(Oe=>woe(Oe,L,S,B)),F=Ce(Oe=>V7(Oe,L,S,B)),de=Ce(Oe=>boe(Oe,L,S,B)),be=H,Y=Roe(),se=n??U,[me,Se]=GN([be,se]),Ge=L==="axis"?F:void 0;Yoe(L,S,de,Ge,z,se);var G=R??Y;if(G==null)return null;var ee=be??fR;se||(ee=fR),l&&ee.length&&(ee=UN(be.filter(Oe=>Oe.value!=null&&(Oe.hide!==!0||e.includeHidden)),d,ese));var ye=ee.length>0,xe=C.createElement(Dee,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:c,active:se,coordinate:de,hasPayload:ye,offset:f,position:p,reverseDirection:v,useTranslate3d:m,viewBox:D,wrapperStyle:_,lastBoundingBox:me,innerRef:Se,hasPortalFromProps:!!R},tse(o,cR(cR({},e),{},{payload:ee,label:Ge,active:se,coordinate:de,accessibilityLayer:N})));return C.createElement(C.Fragment,null,pN.createPortal(xe,G),se&&C.createElement(Ooe,{cursor:w,tooltipEventType:L,coordinate:de,payload:be,index:z}))}var Zx={},Jx={},e_={},hR;function rse(){return hR||(hR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let o,l=null;const c=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),d=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},p=()=>{f&&d(),w()};let v=null;const m=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},r)},_=()=>{v!==null&&(clearTimeout(v),v=null)},w=()=>{_(),o=void 0,l=null},E=()=>{d()},S=function(...I){if(i?.aborted)return;o=this,l=I;const R=v==null;m(),c&&R&&d()};return S.schedule=m,S.cancel=w,S.flush=E,i?.addEventListener("abort",w,{once:!0}),S}t.debounce=e})(e_)),e_}var dR;function ise(){return dR||(dR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rse();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:c}=a,f=Array(2);o&&(f[0]="leading"),l&&(f[1]="trailing");let d,p=null;const v=e.debounce(function(...w){d=r.apply(this,w),p=null},i,{edges:f}),m=function(...w){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(d=r.apply(this,w),p=Date.now(),v.cancel(),v.schedule(),d):(v.apply(this,w),d)},_=()=>(v.flush(),d);return m.cancel=v.cancel,m.flush=_,m}t.debounce=n})(Jx)),Jx}var pR;function ase(){return pR||(pR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ise();function n(r,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return e.debounce(r,i,{leading:o,maxWait:i,trailing:l})}t.throttle=n})(Zx)),Zx}var t_,gR;function ose(){return gR||(gR=1,t_=ase().throttle),t_}var sse=ose();const lse=so(sse);var md=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){use(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function use(t,e,n){return(e=cse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cse(t){var e=fse(t,"string");return typeof e=="symbol"?e:e+""}function fse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sm=C.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:f,debounce:d=0,id:p,className:v,onResize:m,style:_={}}=t,w=C.useRef(null),E=C.useRef();E.current=m,C.useImperativeHandle(e,()=>w.current);var[S,I]=C.useState({containerWidth:r.width,containerHeight:r.height}),R=C.useCallback((k,B)=>{I(D=>{var N=Math.round(k),L=Math.round(B);return D.containerWidth===N&&D.containerHeight===L?D:{containerWidth:N,containerHeight:L}})},[]);C.useEffect(()=>{var k=L=>{var z,{width:U,height:H}=L[0].contentRect;R(U,H),(z=E.current)===null||z===void 0||z.call(E,U,H)};d>0&&(k=lse(k,d,{trailing:!0,leading:!1}));var B=new ResizeObserver(k),{width:D,height:N}=w.current.getBoundingClientRect();return R(D,N),B.observe(w.current),()=>{B.disconnect()}},[R,d]);var M=C.useMemo(()=>{var{containerWidth:k,containerHeight:B}=S;if(k<0||B<0)return null;md(vu(i)||vu(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),md(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=vu(i)?k:i,N=vu(a)?B:a;return n&&n>0&&(D?N=D/n:N&&(D=N*n),c&&N>c&&(N=c)),md(D>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,N,i,a,o,l,n),C.Children.map(f,L=>C.cloneElement(L,{width:D,height:N,style:n_({width:D,height:N},L.props.style)}))},[n,f,a,c,l,o,S,i]);return C.createElement("div",{id:p?"".concat(p):void 0,className:pt("recharts-responsive-container",v),style:n_(n_({},_),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:c}),ref:w},C.createElement("div",{style:{width:0,height:0,overflow:"visible"}},M))}),Lf=t=>null;Lf.displayName="Cell";function hse(t,e,n){return(e=dse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dse(t){var e=pse(t,"string");return typeof e=="symbol"?e:e+""}function pse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class gse{constructor(e){hse(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function mR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(n),!0).forEach(function(r){mse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mse(t,e,n){return(e=yse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yse(t){var e=xse(t,"string");return typeof e=="symbol"?e:e+""}function xse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _se={cacheSize:2e3,enableCache:!0},$7=vse({},_se),yR=new gse($7.cacheSize),bse={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xR="recharts_measurement_span";function wse(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var _R=(t,e)=>{try{var n=document.getElementById(xR);n||(n=document.createElement("span"),n.setAttribute("id",xR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,bse,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},yd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Tl.isSsr)return{width:0,height:0};if(!$7.enableCache)return _R(e,n);var r=wse(e,n),i=yR.get(r);if(i)return i;var a=_R(e,n);return yR.set(r,a),a},bR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ese=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ase=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,q7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Sse=Object.keys(q7),Hc="NaN";function Tse(t,e){return t*q7[e]}class ei{static parse(e){var n,[,r,i]=(n=Ase.exec(e))!==null&&n!==void 0?n:[];return new ei(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Si(e)&&(this.unit=""),n!==""&&!Ese.test(n)&&(this.num=NaN,this.unit=""),Sse.includes(n)&&(this.num=Tse(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ei(NaN,""):new ei(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ei(NaN,""):new ei(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ei(NaN,""):new ei(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ei(NaN,""):new ei(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Si(this.num)}}function G7(t){if(t.includes(Hc))return Hc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=bR.exec(e))!==null&&n!==void 0?n:[],o=ei.parse(r??""),l=ei.parse(a??""),c=i==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Hc;e=e.replace(bR,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,d,p,v]=(f=wR.exec(e))!==null&&f!==void 0?f:[],m=ei.parse(d??""),_=ei.parse(v??""),w=p==="+"?m.add(_):m.subtract(_);if(w.isNaN())return Hc;e=e.replace(wR,w.toString())}return e}var ER=/\(([^()]*)\)/;function Cse(t){for(var e=t,n;(n=ER.exec(e))!=null;){var[,r]=n;e=e.replace(ER,G7(r))}return e}function Ise(t){var e=t.replace(/\s+/g,"");return e=Cse(e),e=G7(e),e}function Ose(t){try{return Ise(t)}catch{return Hc}}function r_(t){var e=Ose(t.slice(5,-1));return e===Hc?"":e}var Rse=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Pse=["dx","dy","angle","className","breakAll"];function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ub.apply(null,arguments)}function AR(t,e){if(t==null)return{};var n,r,i=Dse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var K7=/[ \f\n\r\t\v\u2028\u2029]+/,W7=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Jt(e)||(n?i=e.toString().split(""):i=e.toString().split(K7));var a=i.map(l=>({word:l,width:yd(l,r).width})),o=n?0:yd(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Nse=(t,e,n,r,i)=>{var{maxLines:a,children:o,style:l,breakAll:c}=t,f=Re(a),d=o,p=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce((H,F)=>{var{word:de,width:be}=F,Y=H[H.length-1];if(Y&&(r==null||i||Y.width+be+n<Number(r)))Y.words.push(de),Y.width+=be+n;else{var se={words:[de],width:be};H.push(se)}return H},[])},v=p(e),m=z=>z.reduce((U,H)=>U.width>H.width?U:H);if(!f||i)return v;var _=v.length>a||m(v).width>Number(r);if(!_)return v;for(var w="…",E=z=>{var U=d.slice(0,z),H=W7({breakAll:c,style:l,children:U+w}).wordsWithComputedWidth,F=p(H),de=F.length>a||m(F).width>Number(r);return[de,F]},S=0,I=d.length-1,R=0,M;S<=I&&R<=d.length-1;){var k=Math.floor((S+I)/2),B=k-1,[D,N]=E(B),[L]=E(k);if(!D&&!L&&(S=k+1),D&&L&&(I=k-1),!D&&L){M=N;break}R++}return M||v},SR=t=>{var e=Jt(t)?[]:t.toString().split(K7);return[{words:e}]},Mse=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=t;if((e||n)&&!Tl.isSsr){var l,c,f=W7({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:d,spaceWidth:p}=f;l=d,c=p}else return SR(r);return Nse({breakAll:a,children:r,maxLines:o,style:i},l,c,e,n)}return SR(r)},TR="#808080",lm=C.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:f=TR}=t,d=AR(t,Rse),p=C.useMemo(()=>Mse({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:v,dy:m,angle:_,className:w,breakAll:E}=d,S=AR(d,Pse);if(!ao(n)||!ao(r)||p.length===0)return null;var I=n+(Re(v)?v:0),R=r+(Re(m)?m:0),M;switch(c){case"start":M=r_("calc(".concat(a,")"));break;case"middle":M=r_("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:M=r_("calc(".concat(p.length-1," * -").concat(i,")"));break}var k=[];if(o){var B=p[0].width,{width:D}=d;k.push("scale(".concat(Re(D)?D/B:1,")"))}return _&&k.push("rotate(".concat(_,", ").concat(I,", ").concat(R,")")),k.length&&(S.transform=k.join(" ")),C.createElement("text",Ub({},nn(S,!0),{ref:e,x:I,y:R,className:pt("recharts-text",w),textAnchor:l,fill:f.includes("url")?TR:f}),p.map((N,L)=>{var z=N.words.join(E?"":" ");return C.createElement("tspan",{x:I,dy:L===0?M:i,key:"".concat(z,"-").concat(L)},z)}))});lm.displayName="Text";var kse=["labelRef"];function Lse(t,e){if(t==null)return{};var n,r,i=jse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){Bse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bse(t,e,n){return(e=Vse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vse(t){var e=Fse(t,"string");return typeof e=="symbol"?e:e+""}function Fse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Do(){return Do=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Do.apply(null,arguments)}var X7=C.createContext(null),Use=t=>{var{x:e,y:n,width:r,height:i,children:a}=t,o=C.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return C.createElement(X7.Provider,{value:o},a)},Y7=()=>{var t=C.useContext(X7),e=IE();return t||e},zse=C.createContext(null),Hse=()=>{var t=C.useContext(zse),e=Ce(V9);return t||e},$se=t=>{var{value:e,formatter:n}=t,r=Jt(t.children)?e:t.children;return typeof n=="function"?n(r):r},VA=t=>t!=null&&typeof t=="function",qse=(t,e)=>{var n=sr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Gse=(t,e,n,r,i)=>{var{offset:a,className:o}=t,{cx:l,cy:c,innerRadius:f,outerRadius:d,startAngle:p,endAngle:v,clockWise:m}=i,_=(f+d)/2,w=qse(p,v),E=w>=0?1:-1,S,I;switch(e){case"insideStart":S=p+E*a,I=m;break;case"insideEnd":S=v-E*a,I=!m;break;case"end":S=v+E*a,I=m;break;default:throw new Error("Unsupported position ".concat(e))}I=w<=0?I:!I;var R=kn(l,c,_,S),M=kn(l,c,_,S+(I?1:-1)*359),k="M".concat(R.x,",").concat(R.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(I?0:1,`,
    `).concat(M.x,",").concat(M.y),B=Jt(t.id)?Od("recharts-radial-line-"):t.id;return C.createElement("text",Do({},r,{dominantBaseline:"central",className:pt("recharts-radial-bar-label",o)}),C.createElement("defs",null,C.createElement("path",{id:B,d:k})),C.createElement("textPath",{xlinkHref:"#".concat(B)},n))},Kse=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:c}=t,f=(l+c)/2;if(n==="outside"){var{x:d,y:p}=kn(r,i,o+e,f);return{x:d,y:p,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+o)/2,{x:m,y:_}=kn(r,i,v,f);return{x:m,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Q7=t=>"cx"in t&&Re(t.cx),Wse=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!Q7(n)&&(a=n);var{x:o,y:l,width:c,height:f}=e,d=f>=0?1:-1,p=d*r,v=d>0?"end":"start",m=d>0?"start":"end",_=c>=0?1:-1,w=_*r,E=_>0?"end":"start",S=_>0?"start":"end";if(i==="top"){var I={x:o+c/2,y:l-d*r,textAnchor:"middle",verticalAnchor:v};return gn(gn({},I),a?{height:Math.max(l-a.y,0),width:c}:{})}if(i==="bottom"){var R={x:o+c/2,y:l+f+p,textAnchor:"middle",verticalAnchor:m};return gn(gn({},R),a?{height:Math.max(a.y+a.height-(l+f),0),width:c}:{})}if(i==="left"){var M={x:o-w,y:l+f/2,textAnchor:E,verticalAnchor:"middle"};return gn(gn({},M),a?{width:Math.max(M.x-a.x,0),height:f}:{})}if(i==="right"){var k={x:o+c+w,y:l+f/2,textAnchor:S,verticalAnchor:"middle"};return gn(gn({},k),a?{width:Math.max(a.x+a.width-k.x,0),height:f}:{})}var B=a?{width:c,height:f}:{};return i==="insideLeft"?gn({x:o+w,y:l+f/2,textAnchor:S,verticalAnchor:"middle"},B):i==="insideRight"?gn({x:o+c-w,y:l+f/2,textAnchor:E,verticalAnchor:"middle"},B):i==="insideTop"?gn({x:o+c/2,y:l+p,textAnchor:"middle",verticalAnchor:m},B):i==="insideBottom"?gn({x:o+c/2,y:l+f-p,textAnchor:"middle",verticalAnchor:v},B):i==="insideTopLeft"?gn({x:o+w,y:l+p,textAnchor:S,verticalAnchor:m},B):i==="insideTopRight"?gn({x:o+c-w,y:l+p,textAnchor:E,verticalAnchor:m},B):i==="insideBottomLeft"?gn({x:o+w,y:l+f-p,textAnchor:S,verticalAnchor:v},B):i==="insideBottomRight"?gn({x:o+c-w,y:l+f-p,textAnchor:E,verticalAnchor:v},B):i&&typeof i=="object"&&(Re(i.x)||vu(i.x))&&(Re(i.y)||vu(i.y))?gn({x:o+kr(i.x,c),y:l+kr(i.y,f),textAnchor:"end",verticalAnchor:"end"},B):gn({x:o+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},B)},Xse={offset:5};function $s(t){var e=Tr(t,Xse),{viewBox:n,position:r,value:i,children:a,content:o,className:l="",textBreakAll:c,labelRef:f}=e,d=Hse(),p=Y7(),v=r==="center"?p:d??p,m=n||v;if(!m||Jt(i)&&Jt(a)&&!C.isValidElement(o)&&typeof o!="function")return null;var _=gn(gn({},e),{},{viewBox:m});if(C.isValidElement(o)){var{labelRef:w}=_,E=Lse(_,kse);return C.cloneElement(o,E)}var S;if(typeof o=="function"){if(S=C.createElement(o,_),C.isValidElement(S))return S}else S=$se(e);var I=Q7(m),R=nn(e,!0);if(I&&(r==="insideStart"||r==="insideEnd"||r==="end"))return Gse(e,r,S,R,m);var M=I?Kse(m,e.offset,e.position):Wse(e,m);return C.createElement(lm,Do({ref:f,className:pt("recharts-label",l)},R,M,{breakAll:c}),S)}$s.displayName="Label";var Yse=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?C.createElement($s,Do({key:"label-implicit"},r)):ao(t)?C.createElement($s,Do({key:"label-implicit",value:t},r)):C.isValidElement(t)?t.type===$s?C.cloneElement(t,gn({key:"label-implicit"},r)):C.createElement($s,Do({key:"label-implicit",content:t},r)):VA(t)?C.createElement($s,Do({key:"label-implicit",content:t},r)):t&&typeof t=="object"?C.createElement($s,Do({},t,{key:"label-implicit"},r)):null};function Qse(t){var{label:e}=t,n=Y7();return Yse(e,n)||null}var i_={},a_={},IR;function Zse(){return IR||(IR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(a_)),a_}var o_={},OR;function Jse(){return OR||(OR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(o_)),o_}var RR;function ele(){return RR||(RR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zse(),n=Jse(),r=xE();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(i_)),i_}var s_,PR;function tle(){return PR||(PR=1,s_=ele().last),s_}var nle=tle();const rle=so(nle);var ile=["valueAccessor"],ale=["dataKey","clockWise","id","textBreakAll"];function Bg(){return Bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bg.apply(null,arguments)}function DR(t,e){if(t==null)return{};var n,r,i=ole(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ole(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sle=t=>Array.isArray(t.value)?rle(t.value):t.value,Z7=C.createContext(void 0),J7=Z7.Provider,ek=C.createContext(void 0),lle=ek.Provider;function ule(){return C.useContext(Z7)}function cle(){return C.useContext(ek)}function B1(t){var{valueAccessor:e=sle}=t,n=DR(t,ile),{dataKey:r,clockWise:i,id:a,textBreakAll:o}=n,l=DR(n,ale),c=ule(),f=cle(),d=c||f;return!d||!d.length?null:C.createElement(Sr,{className:"recharts-label-list"},d.map((p,v)=>{var m,_=Jt(r)?e(p,v):Ft(p&&p.payload,r),w=Jt(a)?{}:{id:"".concat(a,"-").concat(v)};return C.createElement($s,Bg({},nn(p,!0),l,w,{fill:(m=n.fill)!==null&&m!==void 0?m:p.fill,parentViewBox:p.parentViewBox,value:_,textBreakAll:o,viewBox:p.viewBox,key:"label-".concat(v),index:v}))}))}B1.displayName="LabelList";function FA(t){var{label:e}=t;return e?e===!0?C.createElement(B1,{key:"labelList-implicit"}):C.isValidElement(e)||VA(e)?C.createElement(B1,{key:"labelList-implicit",content:e}):typeof e=="object"?C.createElement(B1,Bg({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zb.apply(null,arguments)}var tk=t=>{var{cx:e,cy:n,r,className:i}=t,a=pt("recharts-dot",i);return e===+e&&n===+n&&r===+r?C.createElement("circle",zb({},uo(t),cE(t),{className:a,cx:e,cy:n,r})):null},nk=t=>t.graphicalItems.polarItems,fle=ne([en,h0],dA),UA=ne([nk,yn,fle],pA),hle=ne([UA],gA),zA=ne([hle,nA],vA),dle=ne([zA,yn,UA],yA),ple=ne([zA,yn,UA],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,o=Ft(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:Ft(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),NR=()=>{},gle=ne([yn,a7,NR,ple,NR,ut,en],_A),rk=ne([yn,ut,zA,dle,f0,en,gle],bA),vle=ne([rk,yn,Df],AA);ne([yn,rk,vle,en],TA);var mle={radiusAxis:{},angleAxis:{}},ik=Ii({name:"polarAxis",initialState:mle,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:m0e,removeRadiusAxis:y0e,addAngleAxis:x0e,removeAngleAxis:_0e}=ik.actions,yle=ik.reducer;function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){xle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xle(t,e,n){return(e=_le(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _le(t){var e=ble(t,"string");return typeof e=="symbol"?e:e+""}function ble(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wle=(t,e)=>e,HA=ne([nk,wle],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Ele=[],$A=(t,e,n)=>n?.length===0?Ele:n,ak=ne([nA,HA,$A],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>kR(kR({},e.presentationProps),a.props))),i!=null)return i}}),Ale=ne([ak,HA,$A],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,o=Ft(r,e.nameKey,e.name),l;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?l=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?l=r.fill:l=e.fill,{value:Tf(o,e.dataKey),color:l,payload:r,type:e.legendType}})}),Sle=ne([ak,HA,$A,Xn],(t,e,n,r)=>{if(!(e==null||t==null))return wue({offset:r,pieSettings:e,displayedData:t,cells:n})}),l_={},LR;function Tle(){return LR||(LR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(l_)),l_}var u_,jR;function Cle(){return jR||(jR=1,u_=Tle().isPlainObject),u_}var Ile=Cle();const Ole=so(Ile);function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){Rle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rle(t,e,n){return(e=Ple(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ple(t){var e=Dle(t,"string");return typeof e=="symbol"?e:e+""}function Dle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vg(){return Vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vg.apply(null,arguments)}var FR=(t,e,n,r,i)=>{var a=n-r,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+n,",").concat(e),o+="L ".concat(t+n-a/2,",").concat(e+i),o+="L ".concat(t+n-a/2-r,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z"),o},Nle={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Mle=t=>{var e=Tr(t,Nle),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:l}=e,{animationEasing:c,animationDuration:f,animationBegin:d,isUpdateAnimationActive:p}=e,v=C.useRef(),[m,_]=C.useState(-1),w=C.useRef(i),E=C.useRef(a),S=C.useRef(o),I=C.useRef(n),R=C.useRef(r),M=o0(t,"trapezoid-");if(C.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var de=v.current.getTotalLength();de&&_(de)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var k=pt("recharts-trapezoid",l);if(!p)return C.createElement("g",null,C.createElement("path",Vg({},nn(e,!0),{className:k,d:FR(n,r,i,a,o)})));var B=w.current,D=E.current,N=S.current,L=I.current,z=R.current,U="0px ".concat(m===-1?1:m,"px"),H="".concat(m,"px 0px"),F=OM(["strokeDasharray"],f,c);return C.createElement(a0,{animationId:M,key:M,canBegin:m>0,duration:f,easing:c,isActive:p,begin:d},de=>{var be=sn(B,i,de),Y=sn(D,a,de),se=sn(N,o,de),me=sn(L,n,de),Se=sn(z,r,de);v.current&&(w.current=be,E.current=Y,S.current=se,I.current=me,R.current=Se);var Ge=de>0?{transition:F,strokeDasharray:H}:{strokeDasharray:U};return C.createElement("path",Vg({},nn(e,!0),{className:k,d:FR(me,Se,be,Y,se),ref:v,style:VR(VR({},Ge),e.style)}))})},kle=["option","shapeType","propTransformer","activeClassName","isActive"];function Lle(t,e){if(t==null)return{};var n,r,i=jle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){Ble(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ble(t,e,n){return(e=Vle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vle(t){var e=Fle(t,"string");return typeof e=="symbol"?e:e+""}function Fle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ule(t,e){return Fg(Fg({},e),t)}function zle(t,e){return t==="symbols"}function zR(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return C.createElement(NM,n);case"trapezoid":return C.createElement(Mle,n);case"sector":return C.createElement(LM,n);case"symbols":if(zle(e))return C.createElement(vE,n);break;default:return null}}function Hle(t){return C.isValidElement(t)?t.props:t}function ok(t){var{option:e,shapeType:n,propTransformer:r=Ule,activeClassName:i="recharts-active-shape",isActive:a}=t,o=Lle(t,kle),l;if(C.isValidElement(e))l=C.cloneElement(e,Fg(Fg({},o),Hle(e)));else if(typeof e=="function")l=e(o);else if(Ole(e)&&typeof e!="boolean"){var c=r(e,o);l=C.createElement(zR,{shapeType:n,elementProps:c})}else{var f=o;l=C.createElement(zR,{shapeType:n,elementProps:f})}return a?C.createElement(Sr,{className:i},l):l}var qA=(t,e)=>{var n=rn();return(r,i)=>a=>{t?.(r,i,a),n(b7({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},GA=t=>{var e=rn();return(n,r)=>i=>{t?.(n,r,i),e(Sae())}},KA=(t,e)=>{var n=rn();return(r,i)=>a=>{t?.(r,i,a),n(Tae({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function WA(t){var{fn:e,args:n}=t,r=rn(),i=oi();return C.useEffect(()=>{if(!i){var a=e(n);return r(wae(a)),()=>{r(Eae(a))}}},[e,n,r,i]),null}var sk=()=>{};function lk(t){var{legendPayload:e}=t,n=rn(),r=oi();return C.useEffect(()=>r?sk:(n(TM(e)),()=>{n(CM(e))}),[n,r,e]),null}function $le(t){var{legendPayload:e}=t,n=rn(),r=Ce(ut);return C.useEffect(()=>r!=="centric"&&r!=="radial"?sk:(n(TM(e)),()=>{n(CM(e))}),[n,r,e]),null}var c_,qle=()=>{var[t]=C.useState(()=>Od("uid-"));return t},Gle=(c_=Oj.useId)!==null&&c_!==void 0?c_:qle;function Kle(t,e){var n=Gle();return e||(t?"".concat(t,"-").concat(n):n)}var Wle=C.createContext(void 0),XA=t=>{var{id:e,type:n,children:r}=t,i=Kle("recharts-".concat(n),e);return C.createElement(Wle.Provider,{value:i},r(i))},Xle={cartesianItems:[],polarItems:[]},uk=Ii({name:"graphicalItems",initialState:Xle,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=Bo(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=Bo(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Bo(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Yle,replaceCartesianGraphicalItem:Qle,removeCartesianGraphicalItem:Zle,addPolarGraphicalItem:Jle,removePolarGraphicalItem:eue}=uk.actions,tue=uk.reducer;function ck(t){var e=rn(),n=C.useRef(null);return C.useEffect(()=>{n.current===null?e(Yle(t)):n.current!==t&&e(Qle({prev:n.current,next:t})),n.current=t},[e,t]),C.useEffect(()=>()=>{n.current&&(e(Zle(n.current)),n.current=null)},[e]),null}function nue(t){var e=rn();return C.useEffect(()=>(e(Jle(t)),()=>{e(eue(t))}),[e,t]),null}var rue=["onMouseEnter","onClick","onMouseLeave"],iue=["id"],aue=["id"];function YA(t,e){if(t==null)return{};var n,r,i=oue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function HR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(n),!0).forEach(function(r){sue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sue(t,e,n){return(e=lue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lue(t){var e=uue(t,"string");return typeof e=="symbol"?e:e+""}function uue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ml(){return ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ml.apply(null,arguments)}function cue(t){var e=C.useMemo(()=>fE(t.children,Lf),[t.children]),n=Ce(r=>Ale(r,t.id,e));return n==null?null:C.createElement($le,{legendPayload:n})}function fue(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:o,name:l,hide:c,tooltipType:f}=t;return{dataDefinedOnItem:r.map(d=>d.tooltipPayload),positions:r.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:e,nameKey:n,name:Tf(l,e),hide:c,type:f,color:o,unit:""}}}var hue=(t,e)=>t>e?"start":t<e?"end":"middle",due=(t,e,n)=>kr(typeof e=="function"?e(t):e,n,n*.8),pue=(t,e,n)=>{var{top:r,left:i,width:a,height:o}=e,l=mM(a,o),c=i+kr(t.cx,a,a/2),f=r+kr(t.cy,o,o/2),d=kr(t.innerRadius,l,0),p=due(n,t.outerRadius,l),v=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:c,cy:f,innerRadius:d,outerRadius:p,maxRadius:v}},gue=(t,e)=>{var n=sr(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function vue(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var mue=(t,e)=>{if(C.isValidElement(t))return C.cloneElement(t,e);if(typeof t=="function")return t(e);var n=pt("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return C.createElement(DE,ml({},e,{type:"linear",className:n}))},yue=(t,e,n)=>{if(C.isValidElement(t))return C.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),C.isValidElement(r)))return r;var i=pt("recharts-pie-label-text",vue(t));return C.createElement(lm,ml({},e,{alignmentBaseline:"middle",className:i}),r)};function xue(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:o}=n;if(!r||!i||!e)return null;var l=uo(n),c=nn(i,!1),f=nn(a,!1),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=e.map((v,m)=>{var _=(v.startAngle+v.endAngle)/2,w=kn(v.cx,v.cy,v.outerRadius+d,_),E=Xt(Xt(Xt(Xt({},l),v),{},{stroke:"none"},c),{},{index:m,textAnchor:hue(w.x,v.cx)},w),S=Xt(Xt(Xt(Xt({},l),v),{},{fill:"none",stroke:v.fill},f),{},{index:m,points:[kn(v.cx,v.cy,v.outerRadius,_),w],key:"line"});return C.createElement(Sr,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(m)},a&&mue(a,S),yue(i,E,Ft(v,o)))});return C.createElement(Sr,{className:"recharts-pie-labels"},p)}function _ue(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?C.createElement(FA,{label:i}):C.createElement(xue,{sectors:e,props:n,showLabels:r})}function bue(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,a=Ce(vl),{onMouseEnter:o,onClick:l,onMouseLeave:c}=i,f=YA(i,rue),d=qA(o,i.dataKey),p=GA(c),v=KA(l,i.dataKey);return e==null||e.length===0?null:C.createElement(C.Fragment,null,e.map((m,_)=>{if(m?.startAngle===0&&m?.endAngle===0&&e.length!==1)return null;var w=n&&String(_)===a,E=a?r:null,S=w?n:E,I=Xt(Xt({},m),{},{stroke:m.stroke,tabIndex:-1,[wM]:_,[EM]:i.dataKey});return C.createElement(Sr,ml({tabIndex:-1,className:"recharts-pie-sector"},t0(f,m,_),{onMouseEnter:d(m,_),onMouseLeave:p(m,_),onClick:v(m,_),key:"sector-".concat(m?.startAngle,"-").concat(m?.endAngle,"-").concat(m.midAngle,"-").concat(_)}),C.createElement(ok,ml({option:S,isActive:w,shapeType:"sector"},I)))}))}function wue(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:f,nameKey:d,tooltipType:p}=n,v=Math.abs(n.minAngle),m=gue(l,c),_=Math.abs(m),w=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,E=r.filter(B=>Ft(B,f,0)!==0).length,S=(_>=360?E:E-1)*w,I=_-E*v-S,R=r.reduce((B,D)=>{var N=Ft(D,f,0);return B+(Re(N)?N:0)},0),M;if(R>0){var k;M=r.map((B,D)=>{var N=Ft(B,f,0),L=Ft(B,d,D),z=pue(n,a,B),U=(Re(N)?N:0)/R,H,F=Xt(Xt({},B),i&&i[D]&&i[D].props);D?H=k.endAngle+sr(m)*w*(N!==0?1:0):H=l;var de=H+sr(m)*((N!==0?v:0)+U*I),be=(H+de)/2,Y=(z.innerRadius+z.outerRadius)/2,se=[{name:L,value:N,payload:F,dataKey:f,type:p}],me=kn(z.cx,z.cy,Y,be);return k=Xt(Xt(Xt(Xt({},n.presentationProps),{},{percent:U,cornerRadius:o,name:L,tooltipPayload:se,midAngle:be,middleRadius:Y,tooltipPosition:me},F),z),{},{value:N,startAngle:H,endAngle:de,payload:F,paddingAngle:sr(m)*w}),k})}return M}function Eue(t){var{showLabels:e,sectors:n,children:r}=t,i=C.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return C.createElement(lle,{value:e?i:void 0},r)}function Aue(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:f,onAnimationStart:d,onAnimationEnd:p}=e,v=o0(e,"recharts-pie-"),m=n.current,[_,w]=C.useState(!1),E=C.useCallback(()=>{typeof p=="function"&&p(),w(!1)},[p]),S=C.useCallback(()=>{typeof d=="function"&&d(),w(!0)},[d]);return C.createElement(Eue,{showLabels:!_,sectors:r},C.createElement(a0,{animationId:v,begin:a,duration:o,isActive:i,easing:l,onAnimationStart:S,onAnimationEnd:E,key:v},I=>{var R=[],M=r&&r[0],k=M?.startAngle;return r?.forEach((B,D)=>{var N=m&&m[D],L=D>0?ku(B,"paddingAngle",0):0;if(N){var z=sn(N.endAngle-N.startAngle,B.endAngle-B.startAngle,I),U=Xt(Xt({},B),{},{startAngle:k+L,endAngle:k+z+L});R.push(U),k=U.endAngle}else{var{endAngle:H,startAngle:F}=B,de=sn(0,H-F,I),be=Xt(Xt({},B),{},{startAngle:k+L,endAngle:k+de+L});R.push(be),k=be.endAngle}}),n.current=R,C.createElement(Sr,null,C.createElement(bue,{sectors:R,activeShape:c,inactiveShape:f,allOtherPieProps:e}))}),C.createElement(_ue,{showLabels:!_,sectors:r,props:e}),e.children)}var Sue={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Tl.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Tue(t){var{id:e}=t,n=YA(t,iue),{hide:r,className:i,rootTabIndex:a}=t,o=C.useMemo(()=>fE(t.children,Lf),[t.children]),l=Ce(d=>Sle(d,e,o)),c=C.useRef(null),f=pt("recharts-pie",i);return r||l==null?(c.current=null,C.createElement(Sr,{tabIndex:a,className:f})):C.createElement(C.Fragment,null,C.createElement(WA,{fn:fue,args:Xt(Xt({},t),{},{sectors:l})}),C.createElement(Sr,{tabIndex:a,className:f},C.createElement(Aue,{props:Xt(Xt({},n),{},{sectors:l}),previousSectorsRef:c})))}function QA(t){var e=Tr(t,Sue),{id:n}=e,r=YA(e,aue),i=uo(r);return C.createElement(XA,{id:n,type:"pie"},a=>C.createElement(C.Fragment,null,C.createElement(nue,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),C.createElement(cue,ml({},r,{id:a})),C.createElement(Tue,ml({},r,{id:a}))))}QA.displayName="Pie";function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){Cue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cue(t,e,n){return(e=Iue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iue(t){var e=Oue(t,"string");return typeof e=="symbol"?e:e+""}function Oue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rue={xAxis:{},yAxis:{},zAxis:{}},fk=Ii({name:"cartesianAxis",initialState:Rue,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=qR(qR({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:Pue,removeXAxis:Due,addYAxis:Nue,removeYAxis:Mue,addZAxis:b0e,removeZAxis:w0e,updateYAxisWidth:kue}=fk.actions,Lue=fk.reducer,jue=ne([Xn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Bue=ne([jue,Zo,Jo],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),ZA=()=>Ce(Bue),Vue=()=>Ce(hoe);function GR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(n),!0).forEach(function(r){Fue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fue(t,e,n){return(e=Uue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uue(t){var e=zue(t,"string");return typeof e=="symbol"?e:e+""}function zue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hue=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o=KR(KR({index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},nn(i,!1)),cE(i)),l;return C.isValidElement(i)?l=C.cloneElement(i,o):typeof i=="function"?l=i(o):l=C.createElement(tk,o),C.createElement(Sr,{className:"recharts-active-dot"},l)};function $ue(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,a=Ce(vl),o=Vue();if(e==null||o==null)return null;var l=e.find(c=>o.includes(c.payload));return Jt(l)?null:Hue({point:l,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var que="Invariant failed";function Gue(t,e){throw new Error(que)}var Kue=["x","y"];function Hb(){return Hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hb.apply(null,arguments)}function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){Wue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wue(t,e,n){return(e=Xue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xue(t){var e=Yue(t,"string");return typeof e=="symbol"?e:e+""}function Yue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Que(t,e){if(t==null)return{};var n,r,i=Zue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jue(t,e){var{x:n,y:r}=t,i=Que(t,Kue),a="".concat(n),o=parseInt(a,10),l="".concat(r),c=parseInt(l,10),f="".concat(e.height||i.height),d=parseInt(f,10),p="".concat(e.width||i.width),v=parseInt(p,10);return Qh(Qh(Qh(Qh(Qh({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:v,name:e.name,radius:e.radius})}function JA(t){return C.createElement(ok,Hb({shapeType:"rectangle",propTransformer:Jue,activeClassName:"recharts-active-bar"},t))}var ece=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Re(e))return e;var a=Re(r)||Jt(r);return a?e(r,i):(a||Gue(),n)}},tce={},hk=Ii({name:"errorBars",initialState:tce,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:E0e,replaceErrorBar:A0e,removeErrorBar:S0e}=hk.actions,nce=hk.reducer,rce=["children"];function ice(t,e){if(t==null)return{};var n,r,i=ace(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ace(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var oce={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},sce=C.createContext(oce);function dk(t){var{children:e}=t,n=ice(t,rce);return C.createElement(sce.Provider,{value:n},e)}function eS(t,e){var n,r,i=Ce(f=>ts(f,t)),a=Ce(f=>ns(f,e)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:mi.allowDataOverflow,l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:yi.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function pk(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=ZA(),{needClipX:a,needClipY:o,needClip:l}=eS(e,n);if(!l)return null;var{x:c,y:f,width:d,height:p}=i;return C.createElement("clipPath",{id:"clipPath-".concat(r)},C.createElement("rect",{x:a?c:c-d/2,y:o?f:f-p/2,width:a?d:d*2,height:o?p:p*2}))}var lce=["onMouseEnter","onMouseLeave","onClick"],uce=["value","background","tooltipPosition"],cce=["id"],fce=["onMouseEnter","onClick","onMouseLeave"];function yl(){return yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yl.apply(null,arguments)}function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){hce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hce(t,e,n){return(e=dce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dce(t){var e=pce(t,"string");return typeof e=="symbol"?e:e+""}function pce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ug(t,e){if(t==null)return{};var n,r,i=gce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vce=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Tf(n,e),payload:t}]};function mce(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:l}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Tf(a,e),hide:o,type:t.tooltipType,color:t.fill,unit:l}}}function yce(t){var e=Ce(vl),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:o,onMouseLeave:l,onClick:c}=a,f=Ug(a,lce),d=qA(o,r),p=GA(l),v=KA(c,r);if(!i||n==null)return null;var m=nn(i,!1);return C.createElement(C.Fragment,null,n.map((_,w)=>{var{value:E,background:S,tooltipPosition:I}=_,R=Ug(_,uce);if(!S)return null;var M=d(_,w),k=p(_,w),B=v(_,w),D=$r($r($r($r($r({option:i,isActive:String(w)===e},R),{},{fill:"#eee"},S),m),t0(f,_,w)),{},{onMouseEnter:M,onMouseLeave:k,onClick:B,dataKey:r,index:w,className:"recharts-bar-background-rectangle"});return C.createElement(JA,yl({key:"background-bar-".concat(D.index)},D))}))}function xce(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return $r($r({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return C.createElement(J7,{value:e?i:void 0},n)}function _ce(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:o}=t,l=Ce(vl),c=Ce(M7),f=n&&String(a)===l&&(c==null||o===c),d=f?n:e;return C.createElement(JA,yl({},r,i,{isActive:f,option:d,index:a,dataKey:o}))}function bce(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return C.createElement(JA,yl({},n,r,{isActive:!1,option:e,index:i,dataKey:a}))}function wce(t){var{data:e,props:n}=t,r=uo(n),{id:i}=r,a=Ug(r,cce),{shape:o,dataKey:l,activeBar:c}=n,{onMouseEnter:f,onClick:d,onMouseLeave:p}=n,v=Ug(n,fce),m=qA(f,l),_=GA(p),w=KA(d,l);return e?C.createElement(C.Fragment,null,e.map((E,S)=>C.createElement(Sr,yl({className:"recharts-bar-rectangle"},t0(v,E,S),{onMouseEnter:m(E,S),onMouseLeave:_(E,S),onClick:w(E,S),key:"rectangle-".concat(E?.x,"-").concat(E?.y,"-").concat(E?.value,"-").concat(S)}),c?C.createElement(_ce,{shape:o,activeBar:c,baseProps:a,entry:E,index:S,dataKey:l}):C.createElement(bce,{shape:o,baseProps:a,entry:E,index:S,dataKey:l})))):null}function Ece(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:f,onAnimationStart:d}=e,p=n.current,v=o0(e,"recharts-bar-"),[m,_]=C.useState(!1),w=!m,E=C.useCallback(()=>{typeof f=="function"&&f(),_(!1)},[f]),S=C.useCallback(()=>{typeof d=="function"&&d(),_(!0)},[d]);return C.createElement(xce,{showLabels:w,rects:r},C.createElement(a0,{animationId:v,begin:o,duration:l,isActive:a,easing:c,onAnimationEnd:E,onAnimationStart:S,key:v},I=>{var R=I===1?r:r?.map((M,k)=>{var B=p&&p[k];if(B)return $r($r({},M),{},{x:sn(B.x,M.x,I),y:sn(B.y,M.y,I),width:sn(B.width,M.width,I),height:sn(B.height,M.height,I)});if(i==="horizontal"){var D=sn(0,M.height,I);return $r($r({},M),{},{y:M.y+M.height-D,height:D})}var N=sn(0,M.width,I);return $r($r({},M),{},{width:N})});return I>0&&(n.current=R??null),R==null?null:C.createElement(Sr,null,C.createElement(wce,{props:e,data:R}))}),C.createElement(FA,{label:e.label}),e.children)}function Ace(t){var e=C.useRef(null);return C.createElement(Ece,{previousRectanglesRef:e,props:t})}var gk=0,Sce=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Ft(t,e)}};class Tce extends C.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:l,background:c,id:f}=this.props;if(e||n==null)return null;var d=pt("recharts-bar",i),p=f;return C.createElement(Sr,{className:d,id:f},l&&C.createElement("defs",null,C.createElement(pk,{clipPathId:p,xAxisId:a,yAxisId:o})),C.createElement(Sr,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(p,")"):void 0},C.createElement(yce,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),C.createElement(Ace,this.props)))}}var Cce={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Tl.isSsr,legendType:"rect",minPointSize:gk,xAxisId:0,yAxisId:0};function Ice(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:f,isAnimationActive:d}=t,{needClip:p}=eS(e,n),v=Uv(),m=oi(),_=fE(t.children,Lf),w=Ce(I=>nfe(I,e,n,m,t.id,_));if(v!=="vertical"&&v!=="horizontal")return null;var E,S=w?.[0];return S==null||S.height==null||S.width==null?E=0:E=v==="vertical"?S.height/2:S.width/2,C.createElement(dk,{xAxisId:e,yAxisId:n,data:w,dataPointFormatter:Sce,errorBarOffset:E},C.createElement(Tce,yl({},t,{layout:v,needClip:p,data:w,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:f,isAnimationActive:d})))}function Oce(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:f,stackedData:d,displayedData:p,offset:v,cells:m,parentViewBox:_}=t,w=e==="horizontal"?l:o,E=d?w.scale.domain():null,S=UJ({numericAxis:w});return p.map((I,R)=>{var M,k,B,D,N,L;d?M=kJ(d[R],E):(M=Ft(I,n),Array.isArray(M)||(M=[S,M]));var z=ece(r,gk)(M[1],R);if(e==="horizontal"){var U,[H,F]=[l.scale(M[0]),l.scale(M[1])];k=M6({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:I,index:R}),B=(U=F??H)!==null&&U!==void 0?U:void 0,D=i.size;var de=H-F;if(N=Si(de)?0:de,L={x:k,y:v.top,width:D,height:v.height},Math.abs(z)>0&&Math.abs(N)<Math.abs(z)){var be=sr(N||z)*(Math.abs(z)-Math.abs(N));B-=be,N+=be}}else{var[Y,se]=[o.scale(M[0]),o.scale(M[1])];if(k=Y,B=M6({axis:l,ticks:f,bandSize:a,offset:i.offset,entry:I,index:R}),D=se-Y,N=i.size,L={x:v.left,y:B,width:v.width,height:N},Math.abs(z)>0&&Math.abs(D)<Math.abs(z)){var me=sr(D||z)*(Math.abs(z)-Math.abs(D));D+=me}}if(k==null||B==null||D==null||N==null)return null;var Se=$r($r({},I),{},{x:k,y:B,width:D,height:N,value:d?M:M[1],payload:I,background:L,tooltipPosition:{x:k+D/2,y:B+N/2},parentViewBox:_},m&&m[R]&&m[R].props);return Se}).filter(Boolean)}function Rce(t){var e=Tr(t,Cce),n=oi();return C.createElement(XA,{id:e.id,type:"bar"},r=>C.createElement(C.Fragment,null,C.createElement(lk,{legendPayload:vce(e)}),C.createElement(WA,{fn:mce,args:e}),C.createElement(ck,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:FJ(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),C.createElement(Ice,yl({},e,{id:r}))))}var vk=C.memo(Rce);vk.displayName="Bar";function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){Pce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pce(t,e,n){return(e=Dce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dce(t){var e=Nce(t,"string");return typeof e=="symbol"?e:e+""}function Nce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mce=(t,e)=>e,kce=(t,e,n)=>n,Lce=(t,e,n,r)=>r,jce=(t,e,n,r,i)=>i,y0=ne([em,jce],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Bce=ne([y0],t=>t?.maxBarSize),Vce=(t,e,n,r,i,a)=>a,QR=(t,e,n)=>{var r=n??t;if(!Jt(r))return kr(r,e,0)},Fce=ne([ut,em,Mce,kce,Lce],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Uce=(t,e,n,r)=>{var i=ut(t);return i==="horizontal"?Lb(t,"yAxis",n,r):Lb(t,"xAxis",e,r)},zce=(t,e,n)=>{var r=ut(t);return r==="horizontal"?Q8(t,"xAxis",e):Q8(t,"yAxis",n)},Hce=(t,e,n)=>{var r={},i=t.filter(Jv),a=t.filter(f=>f.stackId==null),o=i.reduce((f,d)=>(f[d.stackId]||(f[d.stackId]=[]),f[d.stackId].push(d),f),r),l=Object.entries(o).map(f=>{var[d,p]=f,v=p.map(_=>_.dataKey),m=QR(e,n,p[0].barSize);return{stackId:d,dataKeys:v,barSize:m}}),c=a.map(f=>{var d=[f.dataKey].filter(v=>v!=null),p=QR(e,n,f.barSize);return{stackId:void 0,dataKeys:d,barSize:p}});return[...l,...c]},$ce=ne([Fce,bie,zce],Hce),qce=(t,e,n,r,i)=>{var a,o,l=y0(t,e,n,r,i);if(l!=null){var c=ut(t),f=D9(t),{maxBarSize:d}=l,p=Jt(d)?f:d,v,m;return c==="horizontal"?(v=gl(t,"xAxis",e,r),m=pl(t,"xAxis",e,r)):(v=gl(t,"yAxis",n,r),m=pl(t,"yAxis",n,r)),(a=(o=Dd(v,m,!0))!==null&&o!==void 0?o:p)!==null&&a!==void 0?a:0}},mk=(t,e,n,r)=>{var i=ut(t),a,o;return i==="horizontal"?(a=gl(t,"xAxis",e,r),o=pl(t,"xAxis",e,r)):(a=gl(t,"yAxis",n,r),o=pl(t,"yAxis",n,r)),Dd(a,o)};function Gce(t,e,n,r,i){var a=r.length;if(!(a<1)){var o=kr(t,n,0,!0),l,c=[];if(Ci(r[0].barSize)){var f=!1,d=n/a,p=r.reduce((S,I)=>S+(I.barSize||0),0);p+=(a-1)*o,p>=n&&(p-=(a-1)*o,o=0),p>=n&&d>0&&(f=!0,d*=.9,p=a*d);var v=(n-p)/2>>0,m={offset:v-o,size:0};l=r.reduce((S,I)=>{var R,M={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:m.offset+m.size+o,size:f?d:(R=I.barSize)!==null&&R!==void 0?R:0}},k=[...S,M];return m=k[k.length-1].position,k},c)}else{var _=kr(e,n,0,!0);n-2*_-(a-1)*o<=0&&(o=0);var w=(n-2*_-(a-1)*o)/a;w>1&&(w>>=0);var E=Ci(i)?Math.min(w,i):w;l=r.reduce((S,I,R)=>[...S,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:_+(w+o)*R+(w-E)/2,size:E}}],c)}return l}}var Kce=(t,e,n,r,i,a,o)=>{var l=Jt(o)?e:o,c=Gce(n,r,i!==a?i:a,t,l);return i!==a&&c!=null&&(c=c.map(f=>w1(w1({},f),{},{position:w1(w1({},f.position),{},{offset:f.position.offset-i/2})}))),c},Wce=ne([$ce,D9,_ie,N9,qce,mk,Bce],Kce),Xce=(t,e,n,r)=>gl(t,"xAxis",e,r),Yce=(t,e,n,r)=>gl(t,"yAxis",n,r),Qce=(t,e,n,r)=>pl(t,"xAxis",e,r),Zce=(t,e,n,r)=>pl(t,"yAxis",n,r),Jce=ne([Wce,y0],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),efe=(t,e)=>{var n=fA(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===n)}}}},tfe=ne([Uce,y0],efe),nfe=ne([Xn,CE,Xce,Yce,Qce,Zce,Jce,ut,Xv,mk,tfe,y0,Vce],(t,e,n,r,i,a,o,l,c,f,d,p,v)=>{var{chartData:m,dataStartIndex:_,dataEndIndex:w}=c;if(!(p==null||o==null||e==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||i==null||a==null||f==null)){var{data:E}=p,S;if(E!=null&&E.length>0?S=E:S=m?.slice(_,w+1),S!=null)return Oce({layout:l,barSettings:p,pos:o,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:S,offset:t,cells:v})}}),yk=t=>{var{chartData:e}=t,n=rn(),r=oi();return C.useEffect(()=>r?()=>{}:(n(sR(e)),()=>{n(sR(void 0))}),[e,n,r]),null},ZR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},xk=Ii({name:"brush",initialState:ZR,reducers:{setBrushSettings(t,e){return e.payload==null?ZR:e.payload}}}),{setBrushSettings:T0e}=xk.actions,rfe=xk.reducer;function ife(t,e,n){return(e=afe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function afe(t){var e=ofe(t,"string");return typeof e=="symbol"?e:e+""}function ofe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class tS{static create(e){return new tS(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}ife(tS,"EPS",1e-4);function sfe(t){return(t%180+180)%180}var lfe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=sfe(i),o=a*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},ufe={dots:[],areas:[],lines:[]},_k=Ii({name:"referenceElements",initialState:ufe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Bo(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Bo(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Bo(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:C0e,removeDot:I0e,addArea:O0e,removeArea:R0e,addLine:P0e,removeLine:D0e}=_k.actions,cfe=_k.reducer,ffe=C.createContext(void 0),hfe=t=>{var{children:e}=t,[n]=C.useState("".concat(Od("recharts"),"-clip")),r=ZA();if(r==null)return null;var{x:i,y:a,width:o,height:l}=r;return C.createElement(ffe.Provider,{value:n},C.createElement("defs",null,C.createElement("clipPath",{id:n},C.createElement("rect",{x:i,y:a,height:l,width:o}))),e)};function pf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function bk(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function dfe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return lfe(r,n)}function pfe(t,e,n){var r=n==="width",{x:i,y:a,width:o,height:l}=t;return e===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function zg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function gfe(t,e){return bk(t,e+1)}function vfe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:o,end:l}=e,c=0,f=1,d=o,p=function(){var _=r?.[c];if(_===void 0)return{v:bk(r,f)};var w=c,E,S=()=>(E===void 0&&(E=n(_,w)),E),I=_.coordinate,R=c===0||zg(t,I,S,d,l);R||(c=0,d=o,f+=1),R&&(d=I+t*(S()/2+i),c+=f)},v;f<=a.length;)if(v=p(),v)return v.v;return[]}function JR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(n),!0).forEach(function(r){mfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mfe(t,e,n){return(e=yfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yfe(t){var e=xfe(t,"string");return typeof e=="symbol"?e:e+""}function xfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _fe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:l}=e,{end:c}=e,f=function(v){var m=a[v],_,w=()=>(_===void 0&&(_=n(m,v)),_);if(v===o-1){var E=t*(m.coordinate+t*w()/2-c);a[v]=m=Rr(Rr({},m),{},{tickCoord:E>0?m.coordinate-E*t:m.coordinate})}else a[v]=m=Rr(Rr({},m),{},{tickCoord:m.coordinate});var S=zg(t,m.tickCoord,w,l,c);S&&(c=m.tickCoord-t*(w()/2+i),a[v]=Rr(Rr({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)f(d);return a}function bfe(t,e,n,r,i,a){var o=(r||[]).slice(),l=o.length,{start:c,end:f}=e;if(a){var d=r[l-1],p=n(d,l-1),v=t*(d.coordinate+t*p/2-f);o[l-1]=d=Rr(Rr({},d),{},{tickCoord:v>0?d.coordinate-v*t:d.coordinate});var m=zg(t,d.tickCoord,()=>p,c,f);m&&(f=d.tickCoord-t*(p/2+i),o[l-1]=Rr(Rr({},d),{},{isShow:!0}))}for(var _=a?l-1:l,w=function(I){var R=o[I],M,k=()=>(M===void 0&&(M=n(R,I)),M);if(I===0){var B=t*(R.coordinate-t*k()/2-c);o[I]=R=Rr(Rr({},R),{},{tickCoord:B<0?R.coordinate-B*t:R.coordinate})}else o[I]=R=Rr(Rr({},R),{},{tickCoord:R.coordinate});var D=zg(t,R.tickCoord,k,c,f);D&&(c=R.tickCoord+t*(k()/2+i),o[I]=Rr(Rr({},R),{},{isShow:!0}))},E=0;E<_;E++)w(E);return o}function nS(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:c,tickFormatter:f,unit:d,angle:p}=t;if(!i||!i.length||!r)return[];if(Re(c)||Tl.isSsr){var v;return(v=gfe(i,Re(c)?c:0))!==null&&v!==void 0?v:[]}var m=[],_=l==="top"||l==="bottom"?"width":"height",w=d&&_==="width"?yd(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=(R,M)=>{var k=typeof f=="function"?f(R.value,M):R.value;return _==="width"?dfe(yd(k,{fontSize:e,letterSpacing:n}),w,p):yd(k,{fontSize:e,letterSpacing:n})[_]},S=i.length>=2?sr(i[1].coordinate-i[0].coordinate):1,I=pfe(a,S,_);return c==="equidistantPreserveStart"?vfe(S,I,E,i,o):(c==="preserveStart"||c==="preserveStartEnd"?m=bfe(S,I,E,i,o,c==="preserveStartEnd"):m=_fe(S,I,E,i,o),m.filter(R=>R.isShow))}var wfe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){e.forEach(d=>{if(d){var p=d.getBoundingClientRect();p.width>o&&(o=p.width)}});var l=n?n.getBoundingClientRect().width:0,c=i+a,f=o+c+l+(n?r:0);return Math.round(f)}return 0},Efe=["axisLine","width","height","className","hide","ticks"],Afe=["viewBox"],Sfe=["viewBox"];function $b(t,e){if(t==null)return{};var n,r,i=Tfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vu(){return Vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vu.apply(null,arguments)}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){Cfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cfe(t,e,n){return(e=Ife(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ife(t){var e=Ofe(t,"string");return typeof e=="symbol"?e:e+""}function Ofe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rS={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Rfe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:c}=t;if(!l)return null;var f=Hn(Hn(Hn({},c),nn(l,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!o||a==="bottom"&&o);f=Hn(Hn({},f),{},{x1:e,y1:n+d*i,x2:e+r,y2:n+d*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);f=Hn(Hn({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return C.createElement("line",Vu({},f,{className:pt("recharts-cartesian-axis-line",ku(l,"className"))}))}function Pfe(t,e,n,r,i,a,o,l,c){var f,d,p,v,m,_,w=l?-1:1,E=t.tickSize||o,S=Re(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":f=d=t.coordinate,v=n+ +!l*i,p=v-w*E,_=p-w*c,m=S;break;case"left":p=v=t.coordinate,d=e+ +!l*r,f=d-w*E,m=f-w*c,_=S;break;case"right":p=v=t.coordinate,d=e+ +l*r,f=d+w*E,m=f+w*c,_=S;break;default:f=d=t.coordinate,v=n+ +l*i,p=v+w*E,_=p+w*c,m=S;break}return{line:{x1:f,y1:p,x2:d,y2:v},tick:{x:m,y:_}}}function Dfe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Nfe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Mfe(t){var{option:e,tickProps:n,value:r}=t,i,a=pt(n.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))i=C.cloneElement(e,Hn(Hn({},n),{},{className:a}));else if(typeof e=="function")i=e(Hn(Hn({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=pt(o,e?.className)),i=C.createElement(lm,Vu({},n,{className:o}),r)}return i}function kfe(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:o,padding:l,tickTextProps:c,orientation:f,mirror:d,x:p,y:v,width:m,height:_,tickSize:w,tickMargin:E,fontSize:S,letterSpacing:I,getTicksConfig:R,events:M}=t,k=nS(Hn(Hn({},R),{},{ticks:e}),S,I),B=Dfe(f,d),D=Nfe(f,d),N=uo(R),L=nn(n,!1),z=Hn(Hn({},N),{},{fill:"none"},nn(r,!1)),U=k.map((H,F)=>{var{line:de,tick:be}=Pfe(H,p,v,m,_,f,w,d,E),Y=Hn(Hn(Hn(Hn({textAnchor:B,verticalAnchor:D},N),{},{stroke:"none",fill:i},L),be),{},{index:F,payload:H,visibleTicksCount:k.length,tickFormatter:a,padding:l},c);return C.createElement(Sr,Vu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},t0(M,H,F)),r&&C.createElement("line",Vu({},z,de,{className:pt("recharts-cartesian-axis-tick-line",ku(r,"className"))})),n&&C.createElement(Mfe,{option:n,tickProps:Y,value:"".concat(typeof a=="function"?a(H.value,F):H.value).concat(o||"")}))});return U.length>0?C.createElement("g",{className:"recharts-cartesian-axis-ticks"},U):null}var Lfe=C.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:l}=t,c=$b(t,Efe),[f,d]=C.useState(""),[p,v]=C.useState(""),m=C.useRef([]);C.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return wfe({ticks:m.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var _=C.useCallback(w=>{if(w){var E=w.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(E);var S=E[0];if(S){var I=window.getComputedStyle(S),R=I.fontSize,M=I.letterSpacing;(R!==f||M!==p)&&(d(R),v(M))}}},[f,p]);return o||r!=null&&r<=0||i!=null&&i<=0?null:C.createElement(Sr,{className:pt("recharts-cartesian-axis",a),ref:_},C.createElement(Rfe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:uo(t)}),C.createElement(kfe,{ticks:l,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:f,letterSpacing:p,getTicksConfig:t,events:c}),C.createElement(Use,{x:t.x,y:t.y,width:t.width,height:t.height},C.createElement(Qse,{label:t.label}),t.children))}),jfe=C.memo(Lfe,(t,e)=>{var{viewBox:n}=t,r=$b(t,Afe),{viewBox:i}=e,a=$b(e,Sfe);return pf(n,i)&&pf(r,a)}),iS=C.forwardRef((t,e)=>{var n=Tr(t,rS);return C.createElement(jfe,Vu({},n,{ref:e}))});iS.displayName="CartesianAxis";var Bfe=["x1","y1","x2","y2","key"],Vfe=["offset"],Ffe=["xAxisId","yAxisId"],Ufe=["xAxisId","yAxisId"];function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){zfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zfe(t,e,n){return(e=Hfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hfe(t){var e=$fe(t,"string");return typeof e=="symbol"?e:e+""}function $fe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xu(){return xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xu.apply(null,arguments)}function Hg(t,e){if(t==null)return{};var n,r,i=qfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Gfe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:l}=t;return C.createElement("rect",{x:r,y:i,ry:l,width:a,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function wk(t,e){var n;if(C.isValidElement(t))n=C.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:o,key:l}=e,c=Hg(e,Bfe),f=uo(c),{offset:d}=f,p=Hg(f,Vfe);n=C.createElement("line",xu({},p,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:l}))}return n}function Kfe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,l=Hg(t,Ffe),c=i.map((f,d)=>{var p=Nr(Nr({},l),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(d),index:d});return wk(r,p)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Wfe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,l=Hg(t,Ufe),c=i.map((f,d)=>{var p=Nr(Nr({},l),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(d),index:d});return wk(r,p)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Xfe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:l,horizontal:c=!0}=t;if(!c||!e||!e.length)return null;var f=l.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==f[0]&&f.unshift(0);var d=f.map((p,v)=>{var m=!f[v+1],_=m?i+o-p:f[v+1]-p;if(_<=0)return null;var w=v%e.length;return C.createElement("rect",{key:"react-".concat(v),y:p,x:r,height:_,width:a,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Yfe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:l,verticalPoints:c}=t;if(!e||!n||!n.length)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==f[0]&&f.unshift(0);var d=f.map((p,v)=>{var m=!f[v+1],_=m?i+o-p:f[v+1]-p;if(_<=0)return null;var w=v%n.length;return C.createElement("rect",{key:"react-".concat(v),x:p,y:a,width:_,height:l,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Qfe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return xM(nS(Nr(Nr(Nr({},rS),n),{},{ticks:_M(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},Zfe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return xM(nS(Nr(Nr(Nr({},rS),n),{},{ticks:_M(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},Jfe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function aS(t){var e=OE(),n=RE(),r=AM(),i=Nr(Nr({},Tr(t,Jfe)),{},{x:Re(t.x)?t.x:r.left,y:Re(t.y)?t.y:r.top,width:Re(t.width)?t.width:r.width,height:Re(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:o,x:l,y:c,width:f,height:d,syncWithTicks:p,horizontalValues:v,verticalValues:m}=i,_=oi(),w=Ce(L=>Z8(L,"xAxis",a,_)),E=Ce(L=>Z8(L,"yAxis",o,_));if(!Re(f)||f<=0||!Re(d)||d<=0||!Re(l)||l!==+l||!Re(c)||c!==+c)return null;var S=i.verticalCoordinatesGenerator||Qfe,I=i.horizontalCoordinatesGenerator||Zfe,{horizontalPoints:R,verticalPoints:M}=i;if((!R||!R.length)&&typeof I=="function"){var k=v&&v.length,B=I({yAxis:E?Nr(Nr({},E),{},{ticks:k?v:E.ticks}):void 0,width:e,height:n,offset:r},k?!0:p);md(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(R=B)}if((!M||!M.length)&&typeof S=="function"){var D=m&&m.length,N=S({xAxis:w?Nr(Nr({},w),{},{ticks:D?m:w.ticks}):void 0,width:e,height:n,offset:r},D?!0:p);md(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(M=N)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(Gfe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),C.createElement(Xfe,xu({},i,{horizontalPoints:R})),C.createElement(Yfe,xu({},i,{verticalPoints:M})),C.createElement(Kfe,xu({},i,{offset:r,horizontalPoints:R,xAxis:w,yAxis:E})),C.createElement(Wfe,xu({},i,{offset:r,verticalPoints:M,xAxis:w,yAxis:E})))}aS.displayName="CartesianGrid";var Ek=(t,e,n,r)=>gl(t,"xAxis",e,r),Ak=(t,e,n,r)=>pl(t,"xAxis",e,r),Sk=(t,e,n,r)=>gl(t,"yAxis",n,r),Tk=(t,e,n,r)=>pl(t,"yAxis",n,r),ehe=ne([ut,Ek,Sk,Ak,Tk],(t,e,n,r,i)=>Sl(t,"xAxis")?Dd(e,r,!1):Dd(n,i,!1)),the=(t,e,n,r,i)=>i;function nhe(t){return t.type==="line"}var rhe=ne([em,the],(t,e)=>t.filter(nhe).find(n=>n.id===e)),ihe=ne([ut,Ek,Sk,Ak,Tk,rhe,ehe,Xv],(t,e,n,r,i,a,o,l)=>{var{chartData:c,dataStartIndex:f,dataEndIndex:d}=l;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{dataKey:p,data:v}=a,m;if(v!=null&&v.length>0?m=v:m=c?.slice(f,d+1),m!=null)return The({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:o,displayedData:m})}}),ahe=["id"],ohe=["type","layout","connectNulls","needClip"],she=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(r){lhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lhe(t,e,n){return(e=uhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uhe(t){var e=che(t,"string");return typeof e=="symbol"?e:e+""}function che(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oS(t,e){if(t==null)return{};var n,r,i=fhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fu.apply(null,arguments)}var hhe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Tf(n,e),payload:t}]};function dhe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:l,unit:c}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Tf(o,e),hide:l,type:t.tooltipType,color:t.stroke,unit:c}}}var Ck=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function phe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var ghe=(t,e,n)=>{var r=n.reduce((p,v)=>p+v);if(!r)return Ck(e,t);for(var i=Math.floor(t/r),a=t%r,o=e-t,l=[],c=0,f=0;c<n.length;f+=n[c],++c)if(f+n[c]>a){l=[...n.slice(0,c),a-f];break}var d=l.length%2===0?[0,o]:[o];return[...phe(n,i),...l,...d].map(p=>"".concat(p,"px")).join(", ")};function vhe(t,e){var n;if(C.isValidElement(t))n=C.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=pt("recharts-line-dot",typeof t!="boolean"?t.className:"");n=C.createElement(tk,Fu({},e,{className:r}))}return n}function mhe(t,e){return t==null?!1:e?!0:t.length===1}function yhe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:o}=r;if(!mhe(n,i))return null;var{id:l}=r,c=oS(r,ahe),f=dN(i),d=uo(c),p=nn(i,!0),v=n.map((_,w)=>{var E=_i(_i(_i({key:"dot-".concat(w),r:3},d),p),{},{index:w,cx:_.x,cy:_.y,dataKey:a,value:_.value,payload:_.payload,points:n});return vhe(i,E)}),m={clipPath:o?"url(#clipPath-".concat(f?"":"dots-").concat(e,")"):void 0};return C.createElement(Sr,Fu({className:"recharts-line-dots",key:"dots"},m),v)}function xhe(t){var{showLabels:e,children:n,points:r}=t,i=C.useMemo(()=>r?.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return _i(_i({},o),{},{value:a.value,payload:a.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[r]);return C.createElement(J7,{value:e?i:null},n)}function rP(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:o,layout:l,connectNulls:c,needClip:f}=a,d=oS(a,ohe),p=_i(_i({},nn(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:r,type:o,layout:l,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return C.createElement(C.Fragment,null,r?.length>1&&C.createElement(DE,Fu({},p,{pathRef:n})),C.createElement(yhe,{points:r,clipPathId:e,props:a}))}function _he(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function bhe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:f,animationDuration:d,animationEasing:p,animateNewValues:v,width:m,height:_,onAnimationEnd:w,onAnimationStart:E}=n,S=i.current,I=o0(n,"recharts-line-"),[R,M]=C.useState(!1),k=!R,B=C.useCallback(()=>{typeof w=="function"&&w(),M(!1)},[w]),D=C.useCallback(()=>{typeof E=="function"&&E(),M(!0)},[E]),N=_he(r.current),L=a.current;return C.createElement(xhe,{points:o,showLabels:k},n.children,C.createElement(a0,{animationId:I,begin:f,duration:d,isActive:c,easing:p,onAnimationEnd:B,onAnimationStart:D,key:I},z=>{var U=sn(L,N+L,z),H=Math.min(U,N),F;if(c)if(l){var de="".concat(l).split(/[,\s]+/gim).map(se=>parseFloat(se));F=ghe(H,N,de)}else F=Ck(N,H);else F=l==null?void 0:String(l);if(S){var be=S.length/o.length,Y=z===1?o:o.map((se,me)=>{var Se=Math.floor(me*be);if(S[Se]){var Ge=S[Se];return _i(_i({},se),{},{x:sn(Ge.x,se.x,z),y:sn(Ge.y,se.y,z)})}return v?_i(_i({},se),{},{x:sn(m*2,se.x,z),y:sn(_/2,se.y,z)}):_i(_i({},se),{},{x:se.x,y:se.y})});return i.current=Y,C.createElement(rP,{props:n,points:Y,clipPathId:e,pathRef:r,strokeDasharray:F})}return z>0&&N>0&&(i.current=o,a.current=H),C.createElement(rP,{props:n,points:o,clipPathId:e,pathRef:r,strokeDasharray:F})}),C.createElement(FA,{label:n.label}))}function whe(t){var{clipPathId:e,props:n}=t,r=C.useRef(null),i=C.useRef(0),a=C.useRef(null);return C.createElement(bhe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Ehe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Ft(t.payload,e)});class Ahe extends C.Component{render(){var e,{hide:n,dot:r,points:i,className:a,xAxisId:o,yAxisId:l,top:c,left:f,width:d,height:p,id:v,needClip:m}=this.props;if(n)return null;var _=pt("recharts-line",a),w=v,{r:E=3,strokeWidth:S=2}=(e=nn(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},I=dN(r),R=E*2+S;return C.createElement(C.Fragment,null,C.createElement(Sr,{className:_},m&&C.createElement("defs",null,C.createElement(pk,{clipPathId:w,xAxisId:o,yAxisId:l}),!I&&C.createElement("clipPath",{id:"clipPath-dots-".concat(w)},C.createElement("rect",{x:f-R/2,y:c-R/2,width:d+R,height:p+R}))),C.createElement(dk,{xAxisId:o,yAxisId:l,data:i,dataPointFormatter:Ehe,errorBarOffset:0},C.createElement(whe,{props:this.props,clipPathId:w}))),C.createElement($ue,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Ik={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Tl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function She(t){var e=Tr(t,Ik),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:c,hide:f,isAnimationActive:d,label:p,legendType:v,xAxisId:m,yAxisId:_,id:w}=e,E=oS(e,she),{needClip:S}=eS(m,_),I=ZA(),R=Uv(),M=oi(),k=Ce(z=>ihe(z,m,_,M,w));if(R!=="horizontal"&&R!=="vertical"||k==null||I==null)return null;var{height:B,width:D,x:N,y:L}=I;return C.createElement(Ahe,Fu({},E,{id:w,connectNulls:l,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:d,hide:f,label:p,legendType:v,xAxisId:m,yAxisId:_,points:k,layout:R,height:B,width:D,left:N,top:L,needClip:S}))}function The(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:l,displayedData:c}=t;return c.map((f,d)=>{var p=Ft(f,o);if(e==="horizontal"){var v=N6({axis:n,ticks:i,bandSize:l,entry:f,index:d}),m=Jt(p)?null:r.scale(p);return{x:v,y:m,value:p,payload:f}}var _=Jt(p)?null:n.scale(p),w=N6({axis:r,ticks:a,bandSize:l,entry:f,index:d});return _==null||w==null?null:{x:_,y:w,value:p,payload:f}}).filter(Boolean)}function Che(t){var e=Tr(t,Ik),n=oi();return C.createElement(XA,{id:e.id,type:"line"},r=>C.createElement(C.Fragment,null,C.createElement(lk,{legendPayload:hhe(e)}),C.createElement(WA,{fn:dhe,args:e}),C.createElement(ck,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),C.createElement(She,Fu({},e,{id:r}))))}var Ok=C.memo(Che);Ok.displayName="Line";var Ihe=["dangerouslySetInnerHTML","ticks"],Ohe=["id"],Rhe=["domain"],Phe=["domain"];function qb(){return qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qb.apply(null,arguments)}function $g(t,e){if(t==null)return{};var n,r,i=Dhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Nhe(t){var e=rn();return C.useEffect(()=>(e(Pue(t)),()=>{e(Due(t))}),[t,e]),null}var Mhe=t=>{var{xAxisId:e,className:n}=t,r=Ce(CE),i=oi(),a="xAxis",o=Ce(E=>Nf(E,a,e,i)),l=Ce(E=>g7(E,a,e,i)),c=Ce(E=>f7(E,e)),f=Ce(E=>hae(E,e)),d=Ce(E=>z9(E,e));if(c==null||f==null||d==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=t,m=$g(t,Ihe),{id:_}=d,w=$g(d,Ohe);return C.createElement(iS,qb({},m,w,{scale:o,x:f.x,y:f.y,width:c.width,height:c.height,className:pt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l}))},khe={allowDataOverflow:mi.allowDataOverflow,allowDecimals:mi.allowDecimals,allowDuplicatedCategory:mi.allowDuplicatedCategory,height:mi.height,hide:!1,mirror:mi.mirror,orientation:mi.orientation,padding:mi.padding,reversed:mi.reversed,scale:mi.scale,tickCount:mi.tickCount,type:mi.type,xAxisId:0},Lhe=t=>{var e,n,r,i,a,o=Tr(t,khe);return C.createElement(C.Fragment,null,C.createElement(Nhe,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),C.createElement(Mhe,o))},jhe=(t,e)=>{var{domain:n}=t,r=$g(t,Rhe),{domain:i}=e,a=$g(e,Phe);return pf(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:pf({domain:n},{domain:i}):!1},sS=C.memo(Lhe,jhe);sS.displayName="XAxis";var Bhe=["dangerouslySetInnerHTML","ticks"],Vhe=["id"],Fhe=["domain"],Uhe=["domain"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gb.apply(null,arguments)}function qg(t,e){if(t==null)return{};var n,r,i=zhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Hhe(t){var e=rn();return C.useEffect(()=>(e(Nue(t)),()=>{e(Mue(t))}),[t,e]),null}var $he=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=C.useRef(null),o=C.useRef(null),l=Ce(CE),c=oi(),f=rn(),d="yAxis",p=Ce(k=>Nf(k,d,e,c)),v=Ce(k=>h7(k,e)),m=Ce(k=>pae(k,e)),_=Ce(k=>g7(k,d,e,c)),w=Ce(k=>H9(k,e));if(C.useLayoutEffect(()=>{if(!(r!=="auto"||!v||VA(i)||C.isValidElement(i)||w==null)){var k=a.current;if(k){var B=k.getCalculatedWidth();Math.round(v.width)!==Math.round(B)&&f(kue({id:e,width:B}))}}},[_,v,f,i,e,r,w]),v==null||m==null||w==null)return null;var{dangerouslySetInnerHTML:E,ticks:S}=t,I=qg(t,Bhe),{id:R}=w,M=qg(w,Vhe);return C.createElement(iS,Gb({},I,M,{ref:a,labelRef:o,scale:p,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:pt("recharts-".concat(d," ").concat(d),n),viewBox:l,ticks:_}))},qhe={allowDataOverflow:yi.allowDataOverflow,allowDecimals:yi.allowDecimals,allowDuplicatedCategory:yi.allowDuplicatedCategory,hide:!1,mirror:yi.mirror,orientation:yi.orientation,padding:yi.padding,reversed:yi.reversed,scale:yi.scale,tickCount:yi.tickCount,type:yi.type,width:yi.width,yAxisId:0},Ghe=t=>{var e,n,r,i,a,o=Tr(t,qhe);return C.createElement(C.Fragment,null,C.createElement(Hhe,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),C.createElement($he,o))},Khe=(t,e)=>{var{domain:n}=t,r=qg(t,Fhe),{domain:i}=e,a=qg(e,Uhe);return pf(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:pf({domain:n},{domain:i}):!1},lS=C.memo(Ghe,Khe);lS.displayName="YAxis";var f_={exports:{}},h_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iP;function Whe(){if(iP)return h_;iP=1;var t=gf();function e(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,l=t.useDebugValue;return h_.useSyncExternalStoreWithSelector=function(c,f,d,p,v){var m=i(null);if(m.current===null){var _={hasValue:!1,value:null};m.current=_}else _=m.current;m=o(function(){function E(k){if(!S){if(S=!0,I=k,k=p(k),v!==void 0&&_.hasValue){var B=_.value;if(v(B,k))return R=B}return R=k}if(B=R,n(I,k))return B;var D=p(k);return v!==void 0&&v(B,D)?(I=k,B):(I=k,R=D)}var S=!1,I,R,M=d===void 0?null:d;return[function(){return E(f())},M===null?void 0:function(){return E(M())}]},[f,d,p,v]);var w=r(c,m[0],m[1]);return a(function(){_.hasValue=!0,_.value=w},[w]),l(w),w},h_}var aP;function Xhe(){return aP||(aP=1,f_.exports=Whe()),f_.exports}Xhe();function Yhe(t){t()}function Qhe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Yhe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var oP={notify(){},get:()=>[]};function Zhe(t,e){let n,r=oP,i=0,a=!1;function o(w){d();const E=r.subscribe(w);let S=!1;return()=>{S||(S=!0,E(),p())}}function l(){r.notify()}function c(){_.onStateChange&&_.onStateChange()}function f(){return a}function d(){i++,n||(n=t.subscribe(c),r=Qhe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=oP)}function v(){a||(a=!0,d())}function m(){a&&(a=!1,p())}const _={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:f,trySubscribe:v,tryUnsubscribe:m,getListeners:()=>r};return _}var Jhe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ede=Jhe(),tde=()=>typeof navigator<"u"&&navigator.product==="ReactNative",nde=tde(),rde=()=>ede||nde?C.useLayoutEffect:C.useEffect,ide=rde(),ade=Symbol.for("react-redux-context"),ode=typeof globalThis<"u"?globalThis:{};function sde(){if(!C.createContext)return{};const t=ode[ade]??=new Map;let e=t.get(C.createContext);return e||(e=C.createContext(null),t.set(C.createContext,e)),e}var lde=sde();function ude(t){const{children:e,context:n,serverState:r,store:i}=t,a=C.useMemo(()=>{const c=Zhe(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),o=C.useMemo(()=>i.getState(),[i]);ide(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const l=n||lde;return C.createElement(l.Provider,{value:a},e)}var cde=ude,fde=(t,e)=>e,uS=ne([fde,ut,V9,Qn,R7,rs,xoe,Xn],Aoe),cS=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},Rk=ea("mouseClick"),Pk=r0();Pk.startListening({actionCreator:Rk,effect:(t,e)=>{var n=t.payload,r=uS(e.getState(),cS(n));r?.activeIndex!=null&&e.dispatch(Cae({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Kb=ea("mouseMove"),Dk=r0();Dk.startListening({actionCreator:Kb,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=OA(r,r.tooltip.settings.shared),a=uS(r,cS(n));i==="axis"&&(a?.activeIndex!=null?e.dispatch(E7({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(w7()))}});var sP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},Nk=Ii({name:"rootProps",initialState:sP,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:sP.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),hde=Nk.reducer,{updateOptions:dde}=Nk.actions,Mk=Ii({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:pde}=Mk.actions,gde=Mk.reducer,kk=ea("keyDown"),Lk=ea("focus"),fS=r0();fS.startListening({actionCreator:kk,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(RA(i,kf(n))),l=rs(n);if(a==="Enter"){var c=jg(n,"axis","hover",String(i.index));e.dispatch(Bb({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var f=yae(n),d=f==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,v=o+p*d;if(!(l==null||v>=l.length||v<0)){var m=jg(n,"axis","hover",String(v));e.dispatch(Bb({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});fS.startListening({actionCreator:Lk,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=jg(n,"axis","hover",String(a));e.dispatch(Bb({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var qi=ea("externalEvent"),jk=r0();jk.startListening({actionCreator:qi,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:uoe(n),activeDataKey:M7(n),activeIndex:vl(n),activeLabel:N7(n),activeTooltipIndex:vl(n),isTooltipActive:coe(n)};t.payload.handler(r,t.payload.reactEvent)}}});var vde=ne([Mf],t=>t.tooltipItemPayloads),mde=ne([vde,v0,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,n);return o}}}),Bk=ea("touchMove"),Vk=r0();Vk.startListening({actionCreator:Bk,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=OA(r,r.tooltip.settings.shared);if(i==="axis"){var a=uS(r,cS({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(E7({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var f=c.getAttribute(wM),d=(o=c.getAttribute(EM))!==null&&o!==void 0?o:void 0,p=mde(e.getState(),f,d);e.dispatch(b7({activeDataKey:d,activeIndex:f,activeCoordinate:p}))}}});var yde=WN({brush:rfe,cartesianAxis:Lue,chartData:Foe,errorBars:nce,graphicalItems:tue,layout:xJ,legend:uee,options:koe,polarAxis:yle,polarOptions:gde,referenceElements:cfe,rootProps:hde,tooltip:Iae}),xde=function(e){return $Z({reducer:yde,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([Pk.middleware,Dk.middleware,fS.middleware,jk.middleware,Vk.middleware]),devTools:Tl.devToolsEnabled})};function Fk(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=oi(),a=C.useRef(null);if(i)return n;a.current==null&&(a.current=xde(e));var o=bE;return C.createElement(cde,{context:o,store:a.current},n)}function Uk(t){var{layout:e,width:n,height:r,margin:i}=t,a=rn(),o=oi();return C.useEffect(()=>{o||(a(vJ(e)),a(mJ({width:n,height:r})),a(gJ(i)))},[a,o,e,n,r,i]),null}function zk(t){var e=rn();return C.useEffect(()=>{e(dde(t))},[e,t]),null}var _de=["children"];function bde(t,e){if(t==null)return{};var n,r,i=wde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Gg(){return Gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gg.apply(null,arguments)}var Ede={width:"100%",height:"100%"},Ade=C.forwardRef((t,e)=>{var n=OE(),r=RE(),i=IM();if(!uf(n)||!uf(r))return null;var{children:a,otherAttributes:o,title:l,desc:c}=t,f,d;return typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?d=o.role:d=i?"application":void 0,C.createElement(hE,Gg({},o,{title:l,desc:c,role:d,tabIndex:f,width:n,height:r,style:Ede,ref:e}),a)}),Sde=t=>{var{children:e}=t,n=Ce(Fv);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return C.createElement(hE,{width:r,height:i,x:o,y:a},e)},lP=C.forwardRef((t,e)=>{var{children:n}=t,r=bde(t,_de),i=oi();return i?C.createElement(Sde,null,n):C.createElement(Ade,Gg({ref:e},r),n)});function Tde(){var t=rn(),[e,n]=C.useState(null),r=Ce(WJ);return C.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Ci(a)&&a!==r&&t(yJ(a))}},[e,t,r]),n}function uP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(n),!0).forEach(function(r){Ide(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ide(t,e,n){return(e=Ode(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ode(t){var e=Rde(t,"string");return typeof e=="symbol"?e:e+""}function Rde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pde=C.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:f,onMouseLeave:d,onMouseMove:p,onMouseUp:v,onTouchEnd:m,onTouchMove:_,onTouchStart:w,style:E,width:S}=t,I=rn(),[R,M]=C.useState(null),[k,B]=C.useState(null);Xoe();var D=Tde(),N=C.useCallback(ee=>{D(ee),typeof e=="function"&&e(ee),M(ee),B(ee)},[D,e,M,B]),L=C.useCallback(ee=>{I(Rk(ee)),I(qi({handler:a,reactEvent:ee}))},[I,a]),z=C.useCallback(ee=>{I(Kb(ee)),I(qi({handler:f,reactEvent:ee}))},[I,f]),U=C.useCallback(ee=>{I(w7()),I(qi({handler:d,reactEvent:ee}))},[I,d]),H=C.useCallback(ee=>{I(Kb(ee)),I(qi({handler:p,reactEvent:ee}))},[I,p]),F=C.useCallback(()=>{I(Lk())},[I]),de=C.useCallback(ee=>{I(kk(ee.key))},[I]),be=C.useCallback(ee=>{I(qi({handler:o,reactEvent:ee}))},[I,o]),Y=C.useCallback(ee=>{I(qi({handler:l,reactEvent:ee}))},[I,l]),se=C.useCallback(ee=>{I(qi({handler:c,reactEvent:ee}))},[I,c]),me=C.useCallback(ee=>{I(qi({handler:v,reactEvent:ee}))},[I,v]),Se=C.useCallback(ee=>{I(qi({handler:w,reactEvent:ee}))},[I,w]),Ge=C.useCallback(ee=>{I(Bk(ee)),I(qi({handler:_,reactEvent:ee}))},[I,_]),G=C.useCallback(ee=>{I(qi({handler:m,reactEvent:ee}))},[I,m]);return C.createElement(F7.Provider,{value:R},C.createElement(gN.Provider,{value:k},C.createElement("div",{className:pt("recharts-wrapper",r),style:Cde({position:"relative",cursor:"default",width:S,height:i},E),onClick:L,onContextMenu:be,onDoubleClick:Y,onFocus:F,onKeyDown:de,onMouseDown:se,onMouseEnter:z,onMouseLeave:U,onMouseMove:H,onMouseUp:me,onTouchEnd:G,onTouchMove:Ge,onTouchStart:Se,ref:N},n)))}),Dde=["children","className","width","height","style","compact","title","desc"];function Nde(t,e){if(t==null)return{};var n,r,i=Mde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hk=C.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:a,style:o,compact:l,title:c,desc:f}=t,d=Nde(t,Dde),p=uo(d);return l?C.createElement(lP,{otherAttributes:p,title:c,desc:f},n):C.createElement(Pde,{className:r,style:o,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},C.createElement(lP,{otherAttributes:p,title:c,desc:f,ref:e},C.createElement(hfe,null,n)))}),kde=["width","height"];function Wb(){return Wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wb.apply(null,arguments)}function Lde(t,e){if(t==null)return{};var n,r,i=jde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Bde={top:5,right:5,bottom:5,left:5},Vde={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Bde,reverseStackOrder:!1,syncMethod:"index"},$k=C.forwardRef(function(e,n){var r,i=Tr(e.categoricalChartProps,Vde),{width:a,height:o}=i,l=Lde(i,kde);if(!uf(a)||!uf(o))return null;var{chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,categoricalChartProps:v}=e,m={chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,eventEmitter:void 0};return C.createElement(Fk,{preloadedState:{options:m},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:c},C.createElement(yk,{chartData:v.data}),C.createElement(Uk,{width:a,height:o,layout:i.layout,margin:i.margin}),C.createElement(zk,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),C.createElement(Hk,Wb({},l,{width:a,height:o,ref:n})))}),Fde=["axis"],Ude=C.forwardRef((t,e)=>C.createElement($k,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Fde,tooltipPayloadSearcher:BA,categoricalChartProps:t,ref:e})),zde=["axis","item"],Hde=C.forwardRef((t,e)=>C.createElement($k,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zde,tooltipPayloadSearcher:BA,categoricalChartProps:t,ref:e}));function $de(t){var e=rn();return C.useEffect(()=>{e(pde(t))},[e,t]),null}var qde=["width","height","layout"];function Xb(){return Xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xb.apply(null,arguments)}function Gde(t,e){if(t==null)return{};var n,r,i=Kde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Wde={top:5,right:5,bottom:5,left:5},Xde={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Wde,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Yde=C.forwardRef(function(e,n){var r,i=Tr(e.categoricalChartProps,Xde),{width:a,height:o,layout:l}=i,c=Gde(i,qde);if(!uf(a)||!uf(o))return null;var{chartName:f,defaultTooltipEventType:d,validateTooltipEventTypes:p,tooltipPayloadSearcher:v}=e,m={chartName:f,defaultTooltipEventType:d,validateTooltipEventTypes:p,tooltipPayloadSearcher:v,eventEmitter:void 0};return C.createElement(Fk,{preloadedState:{options:m},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:f},C.createElement(yk,{chartData:i.data}),C.createElement(Uk,{width:a,height:o,layout:l,margin:i.margin}),C.createElement(zk,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),C.createElement($de,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),C.createElement(Hk,Xb({width:a,height:o},c,{ref:n})))}),Qde=["item"],Zde={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},qk=C.forwardRef((t,e)=>{var n=Tr(t,Zde);return C.createElement(Yde,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Qde,tooltipPayloadSearcher:BA,categoricalChartProps:n,ref:e})});const Jde=()=>{const{intakes:t}=Yo(),e=C.useMemo(()=>{const r=new Date,i=[];for(let a=6;a>=0;a--){const o=new Date(r);o.setDate(o.getDate()-a);const l=o.toISOString().split("T")[0],f=t.filter(d=>d.date.startsWith(l)).reduce((d,p)=>d+p.calories,0);i.push({date:`${o.getMonth()+1}/${o.getDate()}`,calories:f})}return i},[t]),n=e.some(r=>r.calories>0);return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"📈 週間カロリー推移"}),n?A.jsx(sm,{width:"100%",height:250,children:A.jsxs(Ude,{data:e,margin:{top:10,right:10,left:-20,bottom:5},children:[A.jsx(aS,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),A.jsx(sS,{dataKey:"date",tick:{fontSize:12},stroke:"#9ca3af"}),A.jsx(lS,{tick:{fontSize:12},stroke:"#9ca3af"}),A.jsx(om,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"},labelStyle:{fontWeight:600,marginBottom:"4px"}}),A.jsx(Ok,{type:"monotone",dataKey:"calories",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"カロリー (kcal)"})]})}):A.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[A.jsx("p",{children:"データがありません"}),A.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"食事記録を追加すると、カロリーの推移が表示されます"})]})]})},e0e=()=>{const{expenses:t}=Qo(),e=C.useMemo(()=>{const r=new Date,i=[];for(let a=5;a>=0;a--){const o=new Date(r.getFullYear(),r.getMonth()-a,1),l=o.getFullYear(),c=o.getMonth()+1,d=t.filter(p=>{const v=new Date(p.date);return v.getFullYear()===l&&v.getMonth()+1===c}).reduce((p,v)=>p+v.amount,0);i.push({month:`${c}月`,amount:d})}return i},[t]),n=e.some(r=>r.amount>0);return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"💰 月間支出推移"}),n?A.jsx(sm,{width:"100%",height:250,children:A.jsxs(Hde,{data:e,margin:{top:10,right:10,left:-20,bottom:5},children:[A.jsx(aS,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),A.jsx(sS,{dataKey:"month",tick:{fontSize:12},stroke:"#9ca3af"}),A.jsx(lS,{tick:{fontSize:12},stroke:"#9ca3af"}),A.jsx(om,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"},labelStyle:{fontWeight:600,marginBottom:"4px"},formatter:r=>`¥${r.toLocaleString()}`}),A.jsx(vk,{dataKey:"amount",fill:"#22c55e",radius:[4,4,0,0],name:"支出額"})]})}):A.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[A.jsx("p",{children:"データがありません"}),A.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"食事記録を追加すると、支出の推移が表示されます"})]})]})},t0e=()=>{const{intakes:t}=Yo(),e=C.useMemo(()=>{const n=new Map;return t.forEach(i=>{const a=n.get(i.name)||0;n.set(i.name,a+1)}),Array.from(n.entries()).sort((i,a)=>a[1]-i[1]).slice(0,5).map(([i,a],o)=>({rank:o+1,name:i,count:a}))},[t]);return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"🏆 よく買う商品 TOP5"}),e.length===0?A.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[A.jsx("p",{children:"データがありません"}),A.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"食事記録を追加すると、よく買う商品が表示されます"})]}):A.jsx("div",{style:{marginTop:"16px"},children:e.map(n=>A.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px 0",borderBottom:n.rank<e.length?"1px solid var(--border)":"none"},children:[A.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:n.rank===1?"linear-gradient(135deg, #ffd700 0%, #ffed4e 100%)":n.rank===2?"linear-gradient(135deg, #c0c0c0 0%, #e8e8e8 100%)":n.rank===3?"linear-gradient(135deg, #cd7f32 0%, #daa06d 100%)":"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.1rem",color:n.rank<=3?"#fff":"#666",marginRight:"16px",flexShrink:0},children:n.rank}),A.jsxs("div",{style:{flex:1,minWidth:0},children:[A.jsx("div",{style:{fontWeight:600,fontSize:"0.95rem",marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.name}),A.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:["購入回数: ",n.count,"回"]})]})]},n.rank))})]})},E1=["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6","#ec4899"],n0e=()=>{const{intakes:t}=Yo(),e=C.useMemo(()=>{const i=new Map;return t.forEach(o=>{const l=o.manufacturer||"その他",c=i.get(l)||0;i.set(l,c+o.price)}),Array.from(i.entries()).sort((o,l)=>l[1]-o[1]).slice(0,6).map(([o,l])=>({name:o,value:l}))},[t]),n=e.reduce((i,a)=>i+a.value,0),r=n>0;return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"🏭 メーカー別支出分析"}),r?A.jsxs(A.Fragment,{children:[A.jsx(sm,{width:"100%",height:250,children:A.jsxs(qk,{children:[A.jsx(QA,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:i=>`${i.name} ${((i.percent||0)*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:e.map((i,a)=>A.jsx(Lf,{fill:E1[a%E1.length]},`cell-${a}`))}),A.jsx(om,{formatter:i=>`¥${i.toLocaleString()}`,contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"}})]})}),A.jsx("div",{style:{marginTop:"16px"},children:e.map((i,a)=>A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:a<e.length-1?"1px solid var(--border)":"none"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[A.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"2px",background:E1[a%E1.length],flexShrink:0}}),A.jsx("span",{style:{fontSize:"0.9rem",fontWeight:500},children:i.name})]}),A.jsxs("div",{style:{fontSize:"0.9rem",fontWeight:600,color:"var(--primary)"},children:["¥",i.value.toLocaleString()]})]},i.name))}),A.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"var(--background)",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsx("span",{style:{fontWeight:600},children:"合計"}),A.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--primary)"},children:["¥",n.toLocaleString()]})]})]}):A.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[A.jsx("p",{children:"データがありません"}),A.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"メーカー情報付きの食事記録を追加すると、分析が表示されます"})]})]})},r0e=()=>A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:"📊 レポート"}),A.jsx(Jde,{}),A.jsx(e0e,{}),A.jsx(t0e,{}),A.jsx(n0e,{})]}),Gk=({selectedYear:t,selectedMonth:e,selectedDate:n,onSelectDate:r,onMonthChange:i,mode:a="month"})=>{const[o,l]=C.useState(t),[c,f]=C.useState(e),d=new Date(o,c,0).getDate(),p=new Date(o,c-1,1).getDay(),v=()=>{let M=c-1,k=o;M<1&&(M=12,k-=1),f(M),l(k),i&&i(k,M)},m=()=>{let M=c+1,k=o;M>12&&(M=1,k+=1),f(M),l(k),i&&i(k,M)},_=M=>{if(a==="date"&&r){const k=new Date(o,c-1,M);r(k)}},w=()=>{a==="month"&&i&&i(o,c)},E=M=>{const k=new Date;return k.getFullYear()===o&&k.getMonth()+1===c&&k.getDate()===M},S=M=>n?n.getFullYear()===o&&n.getMonth()+1===c&&n.getDate()===M:!1,I=[];for(let M=0;M<p;M++)I.push(null);for(let M=1;M<=d;M++)I.push(M);const R=["日","月","火","水","木","金","土"];return A.jsxs("div",{style:{background:"var(--card)",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[A.jsx("button",{onClick:v,style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:A.jsx(pB,{size:24})}),A.jsxs("div",{onClick:w,style:{fontSize:"18px",fontWeight:"bold",cursor:a==="month"?"pointer":"default",padding:a==="month"?"8px 16px":"0",borderRadius:"8px",transition:"background 0.2s",background:a==="month"&&o===t&&c===e?"var(--primary)":"transparent",color:a==="month"&&o===t&&c===e?"white":"var(--text)"},children:[o,"年 ",c,"月"]}),A.jsx("button",{onClick:m,style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:A.jsx(gB,{size:24})})]}),A.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px",marginBottom:"10px"},children:R.map((M,k)=>A.jsx("div",{style:{textAlign:"center",fontSize:"12px",fontWeight:"bold",color:k===0?"#ef4444":k===6?"#3b82f6":"var(--text-secondary)"},children:M},k))}),A.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px"},children:I.map((M,k)=>{if(M===null)return A.jsx("div",{},`empty-${k}`);const B=E(M),D=S(M),N=k%7;return A.jsx("button",{onClick:()=>_(M),disabled:a==="month",style:{aspectRatio:"1",display:"flex",alignItems:"center",justifyContent:"center",border:B?"2px solid var(--primary)":"none",borderRadius:"8px",background:D?"var(--primary)":B?"var(--background)":"transparent",color:D?"white":N===0?"#ef4444":N===6?"#3b82f6":"var(--text)",fontSize:"14px",fontWeight:D||B?"bold":"normal",cursor:a==="date"?"pointer":"default",transition:"all 0.2s"},onMouseEnter:L=>{a==="date"&&!D&&(L.currentTarget.style.background="var(--background)")},onMouseLeave:L=>{a==="date"&&!D&&(L.currentTarget.style.background="transparent")},children:M},M)})}),a==="date"&&A.jsx("div",{style:{marginTop:"15px",fontSize:"12px",color:"var(--text-secondary)",textAlign:"center"},children:n?`選択: ${n.getFullYear()}/${n.getMonth()+1}/${n.getDate()}`:"日付を選択してください"})]})},i0e=({isOpen:t,selectedDate:e,onClose:n,onConfirm:r})=>{const[i,a]=Mr.useState(e);if(Mr.useEffect(()=>{a(e)},[e,t]),!t)return null;const o=()=>{r(i),n()};return A.jsx("div",{className:"modal-backdrop",onClick:n,style:{animation:"fadeIn 0.2s ease"},children:A.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),style:{maxWidth:"400px",animation:"slideUp 0.3s ease"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"1px solid var(--border)"},children:[A.jsx("h3",{style:{margin:0},children:"日付を選択"}),A.jsx("button",{onClick:n,style:{background:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",padding:"5px",display:"flex",alignItems:"center"},children:A.jsx(Zg,{size:24})})]}),A.jsx(Gk,{selectedYear:i.getFullYear(),selectedMonth:i.getMonth()+1,selectedDate:i,onSelectDate:a,mode:"date"}),A.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[A.jsx("button",{onClick:n,style:{flex:1,padding:"12px",background:"var(--background)",color:"var(--text)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px"},children:"キャンセル"}),A.jsxs("button",{onClick:o,className:"submit",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[A.jsx(dB,{size:20}),"決定"]})]})]})})},a0e=()=>{const{addExpense:t}=Qo(),[e,n]=C.useState("food"),[r,i]=C.useState(""),[a,o]=C.useState(""),[l,c]=C.useState(""),[f,d]=C.useState(new Date),[p,v]=C.useState(!1),m=[{value:"food",label:"食費"},{value:"transport",label:"交通費"},{value:"utilities",label:"光熱費"},{value:"entertainment",label:"娯楽"},{value:"health",label:"医療"},{value:"other",label:"その他"}],_=()=>{if(!a||Number(a)<=0){alert("正しい金額を入力してください");return}if(e==="other"&&!r.trim()){alert("カスタムカテゴリ名を入力してください");return}t({category:e,customCategory:e==="other"?r.trim():void 0,amount:Number(a),memo:l||void 0,date:f.toISOString()}),o(""),c(""),i(""),alert("支出を記録しました！")},w=E=>`${E.getFullYear()}年${E.getMonth()+1}月${E.getDate()}日`;return A.jsxs("div",{className:"card",children:[A.jsx("label",{children:"日付"}),A.jsxs("button",{onClick:()=>v(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[A.jsx("span",{children:w(f)}),A.jsx(Yg,{size:20,color:"var(--primary)"})]}),A.jsx("label",{children:"カテゴリ"}),A.jsx("select",{value:e,onChange:E=>n(E.target.value),children:m.map(E=>A.jsx("option",{value:E.value,children:E.label},E.value))}),e==="other"&&A.jsxs(A.Fragment,{children:[A.jsx("label",{children:"カスタムカテゴリ名"}),A.jsx("input",{value:r,onChange:E=>i(E.target.value),placeholder:"例: 趣味、ペット、書籍"})]}),A.jsx("label",{children:"金額(円)"}),A.jsx("input",{type:"number",value:a,onChange:E=>o(E.target.value),placeholder:"1000",min:"0"}),A.jsx("label",{children:"メモ（任意）"}),A.jsx("input",{value:l,onChange:E=>c(E.target.value),placeholder:"例: 昼食"}),A.jsxs("button",{className:"submit",onClick:_,children:[A.jsx(vP,{size:20}),"記録する"]}),A.jsx(i0e,{isOpen:p,selectedDate:f,onClose:()=>v(!1),onConfirm:d})]})},hS=({isOpen:t,selectedYear:e,selectedMonth:n,onClose:r,onConfirm:i})=>{if(!t)return null;const a=(o,l)=>{i(o,l),r()};return A.jsx("div",{className:"modal-backdrop",onClick:r,style:{animation:"fadeIn 0.2s ease"},children:A.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),style:{maxWidth:"400px",animation:"slideUp 0.3s ease"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"1px solid var(--border)"},children:[A.jsx("h3",{style:{margin:0},children:"月を選択"}),A.jsx("button",{onClick:r,style:{background:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",padding:"5px",display:"flex",alignItems:"center"},children:A.jsx(Zg,{size:24})})]}),A.jsx(Gk,{selectedYear:e,selectedMonth:n,onMonthChange:a,mode:"month"}),A.jsx("div",{style:{marginTop:"15px",fontSize:"12px",color:"var(--text-secondary)",textAlign:"center"},children:"年月をタップして選択してください"})]})})},o0e=()=>{const{getTotalByMonth:t}=Qo(),{settings:e}=Qw(),[n,r]=C.useState(new Date().getFullYear()),[i,a]=C.useState(new Date().getMonth()+1),[o,l]=C.useState(!1),c=e.monthlyBudget??3e4,f=t(n,i),d=f/c*100,p=c-f,v=E=>new Intl.NumberFormat("ja-JP").format(E),_=d>=100?{color:"#ef4444",icon:A.jsx(gP,{size:24}),message:"予算超過"}:d>=80?{color:"#f59e0b",icon:A.jsx(iB,{size:24}),message:"予算残りわずか"}:{color:"#10b981",icon:A.jsx(Yb,{size:24}),message:"順調"},w=(E,S)=>{r(E),a(S)};return A.jsxs("div",{className:"card",children:[A.jsx("h3",{style:{marginBottom:"15px"},children:"月次予算"}),A.jsxs("button",{onClick:()=>l(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[A.jsxs("span",{children:[n,"年 ",i,"月"]}),A.jsx(Yg,{size:20,color:"var(--primary)"})]}),A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"15px",background:"var(--background)",borderRadius:"8px",marginBottom:"20px"},children:[A.jsx("div",{style:{color:_.color},children:_.icon}),A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{style:{fontWeight:"bold",color:_.color},children:_.message}),A.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginTop:"4px"},children:p>=0?`残り ¥${v(p)}`:`超過 ¥${v(Math.abs(p))}`})]}),A.jsx("div",{style:{textAlign:"right"},children:A.jsxs("div",{style:{fontSize:"20px",fontWeight:"bold",color:_.color},children:[d.toFixed(1),"%"]})})]}),A.jsxs("div",{style:{background:"var(--background)",borderRadius:"8px",overflow:"hidden",height:"40px",position:"relative",marginBottom:"15px"},children:[A.jsx("div",{style:{background:`linear-gradient(90deg, ${_.color}, ${_.color}dd)`,height:"100%",width:`${Math.min(d,100)}%`,transition:"width 0.3s ease"}}),A.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontWeight:"bold",color:d>50?"white":"var(--text)",fontSize:"14px"},children:["¥",v(f)," / ¥",v(c)]})]}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[A.jsxs("div",{style:{padding:"12px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[A.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"5px"},children:"支出"}),A.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--danger)"},children:["¥",v(f)]})]}),A.jsxs("div",{style:{padding:"12px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[A.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"5px"},children:"予算"}),A.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--primary)"},children:["¥",v(c)]})]})]}),A.jsx(hS,{isOpen:o,selectedYear:n,selectedMonth:i,onClose:()=>l(!1),onConfirm:w})]})},Us=["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#6366f1"],cP=["#ec4899","#14b8a6","#f97316","#a855f7","#06b6d4","#84cc16","#f43f5e","#0ea5e9","#eab308","#22c55e","#d946ef","#64748b"],Kk=t=>{if(!t)return Us[5];let e=0;for(let r=0;r<t.length;r++)e=t.charCodeAt(r)+((e<<5)-e),e=e&e;const n=Math.abs(e)%cP.length;return cP[n]},Wk=t=>({food:Us[0],transport:Us[1],utilities:Us[2],entertainment:Us[3],health:Us[4],other:Us[5]})[t]||Us[5],s0e=()=>{const{getTotalByCategory:t,getExpensesByMonth:e}=Qo(),[n,r]=C.useState(new Date().getFullYear()),[i,a]=C.useState(new Date().getMonth()+1),[o,l]=C.useState(!1),c=[{value:"food",label:"食費"},{value:"transport",label:"交通費"},{value:"utilities",label:"光熱費"},{value:"entertainment",label:"娯楽"},{value:"health",label:"医療"}],f=e(n,i),d=C.useMemo(()=>{const _=new Map;return c.forEach(w=>{const E=t(w.value,n,i);E>0&&_.set(w.value,{name:w.label,value:E,color:Wk(w.value)})}),f.forEach(w=>{if(w.category==="other"&&w.customCategory){const E=`custom_${w.customCategory}`,S=_.get(E);S?S.value+=w.amount:_.set(E,{name:w.customCategory,value:w.amount,color:Kk(w.customCategory)})}}),Array.from(_.values())},[n,i,f,t]),p=d.reduce((_,w)=>_+w.value,0),v=_=>new Intl.NumberFormat("ja-JP").format(_),m=(_,w)=>{r(_),a(w)};return A.jsxs("div",{className:"card",children:[A.jsx("h3",{style:{marginBottom:"15px"},children:"カテゴリ別集計"}),A.jsxs("button",{onClick:()=>l(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[A.jsxs("span",{children:[n,"年 ",i,"月"]}),A.jsx(Yg,{size:20,color:"var(--primary)"})]}),f.length===0?A.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:"この月の支出データがありません"}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{style:{background:"var(--background)",padding:"15px",borderRadius:"8px",marginBottom:"20px",textAlign:"center"},children:[A.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"14px",marginBottom:"5px"},children:"合計支出"}),A.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"var(--danger)"},children:["¥",v(p)]})]}),d.length>0&&A.jsxs(A.Fragment,{children:[A.jsx(sm,{width:"100%",height:250,children:A.jsxs(qk,{children:[A.jsx(QA,{data:d,cx:"50%",cy:"50%",labelLine:!1,label:_=>`${_.name}: ¥${v(_.value)}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:d.map((_,w)=>A.jsx(Lf,{fill:_.color},`cell-${w}`))}),A.jsx(om,{formatter:_=>`¥${v(_)}`,contentStyle:{background:"var(--card)",border:"1px solid var(--border)",borderRadius:"8px"}}),A.jsx(zv,{})]})}),A.jsx("div",{style:{marginTop:"20px"},children:d.map((_,w)=>{const E=(_.value/p*100).toFixed(1);return A.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 0",borderBottom:w<d.length-1?"1px solid var(--border)":"none"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[A.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"4px",background:_.color}}),A.jsx("span",{children:_.name})]}),A.jsxs("div",{style:{textAlign:"right"},children:[A.jsxs("div",{style:{fontWeight:"bold"},children:["¥",v(_.value)]}),A.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:[E,"%"]})]})]},w)})})]})]}),A.jsx(hS,{isOpen:o,selectedYear:n,selectedMonth:i,onClose:()=>l(!1),onConfirm:m})]})},l0e=()=>{const{deleteExpense:t,getExpensesByMonth:e}=Qo(),[n,r]=C.useState(new Date().getFullYear()),[i,a]=C.useState(new Date().getMonth()+1),[o,l]=C.useState(!1),c=e(n,i),f={food:"食費",transport:"交通費",utilities:"光熱費",entertainment:"娯楽",health:"医療",other:"その他"},d=E=>E.category==="other"&&E.customCategory?E.customCategory:f[E.category],p=E=>E.category==="other"&&E.customCategory?Kk(E.customCategory):Wk(E.category),v=E=>{window.confirm("この支出を削除しますか？")&&t(E)},m=E=>{const S=new Date(E);return`${S.getMonth()+1}/${S.getDate()}`},_=E=>new Intl.NumberFormat("ja-JP").format(E),w=(E,S)=>{r(E),a(S)};return A.jsxs("div",{className:"card",children:[A.jsxs("button",{onClick:()=>l(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[A.jsxs("span",{children:[n,"年 ",i,"月"]}),A.jsx(Yg,{size:20,color:"var(--primary)"})]}),c.length===0?A.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:"この月の支出はまだありません"}):A.jsx("div",{className:"list",children:c.sort((E,S)=>new Date(S.date).getTime()-new Date(E.date).getTime()).map(E=>A.jsxs("div",{className:"list-item",children:[A.jsxs("div",{style:{flex:1},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[A.jsx("span",{style:{background:p(E),color:"white",padding:"2px 8px",borderRadius:"4px",fontSize:"12px"},children:d(E)}),A.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"14px"},children:m(E.date)})]}),E.memo&&A.jsx("div",{style:{color:"var(--text)",fontSize:"14px",marginTop:"4px"},children:E.memo})]}),A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[A.jsxs("span",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--danger)"},children:["¥",_(E.amount)]}),A.jsx("button",{className:"delete",onClick:()=>v(E.id),style:{padding:"8px"},children:A.jsx(Fd,{size:20})})]})]},E.id))}),A.jsx(hS,{isOpen:o,selectedYear:n,selectedMonth:i,onClose:()=>l(!1),onConfirm:w})]})},u0e=()=>A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:"家計簿"}),A.jsx(o0e,{}),A.jsx(a0e,{}),A.jsx(s0e,{}),A.jsx("h3",{children:"支出履歴"}),A.jsx(l0e,{})]}),c0e=()=>{const[t,e]=C.useState("home"),n=i=>({home:"健康家計アプリ",meals:"食事記録",barcode:"バーコードスキャン",report:"レポート",settings:"設定",stock:"在庫管理",shopping:"買い物リスト",recipe:"AIレシピ",expense:"家計簿"})[i],r=()=>{switch(t){case"home":return A.jsx(SI,{onNavigate:e});case"meals":return A.jsx(Kq,{});case"barcode":return A.jsx(vY,{onNavigateToStock:()=>e("stock")});case"report":return A.jsx(r0e,{});case"settings":return A.jsx(Jq,{});case"stock":return A.jsx(rG,{});case"shopping":return A.jsx(fG,{});case"recipe":return A.jsx(xG,{});case"expense":return A.jsx(u0e,{});default:return A.jsx(SI,{onNavigate:e})}};return A.jsxs(A.Fragment,{children:[A.jsx(jj,{title:n(t)}),A.jsx("main",{children:r()}),A.jsx(xB,{currentScreen:t,onNavigate:e})]})};function f0e(t){return Be({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}const h0e=({onLoginSuccess:t})=>{const[e,n]=C.useState(!1),[r,i]=C.useState(""),[a,o]=C.useState(""),[l,c]=C.useState(""),[f,d]=C.useState(!1),p=async m=>{m.preventDefault(),c(""),d(!0);try{const _=e?await Xq(r,a):await Wq(r,a);_.error?c(_.error):t()}catch(_){c(_.message||"認証エラーが発生しました")}finally{d(!1)}},v=async()=>{c(""),d(!0);try{const m=await Yq();m.error?c(m.error):t()}catch(m){c(m.message||"認証エラーが発生しました")}finally{d(!1)}};return A.jsxs("div",{className:"login-screen",children:[A.jsxs("div",{className:"login-container",children:[A.jsxs("div",{className:"login-header",children:[A.jsx("h1",{children:"🥗💰 健康家計アプリ"}),A.jsx("p",{children:"AIが健康をサポートする生活管理アプリ"})]}),A.jsxs("div",{className:"login-tabs",children:[A.jsx("button",{className:`login-tab ${e?"":"active"}`,onClick:()=>n(!1),children:"ログイン"}),A.jsx("button",{className:`login-tab ${e?"active":""}`,onClick:()=>n(!0),children:"新規登録"})]}),A.jsxs("form",{onSubmit:p,className:"login-form",children:[A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{children:[A.jsx(oB,{})," メールアドレス"]}),A.jsx("input",{type:"email",value:r,onChange:m=>i(m.target.value),placeholder:"email@example.com",required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{children:[A.jsx(eB,{})," パスワード"]}),A.jsx("input",{type:"password",value:a,onChange:m=>o(m.target.value),placeholder:"6文字以上",minLength:6,required:!0})]}),l&&A.jsx("div",{className:"error-message",children:l}),A.jsx("button",{type:"submit",className:"login-button",disabled:f,children:f?"処理中...":e?A.jsxs(A.Fragment,{children:[A.jsx(mB,{})," 新規登録"]}):A.jsxs(A.Fragment,{children:[A.jsx(tB,{})," ログイン"]})})]}),A.jsx("div",{className:"divider",children:A.jsx("span",{children:"または"})}),A.jsxs("button",{onClick:v,className:"google-login-button",disabled:f,children:[A.jsx(f0e,{})," Googleでログイン"]}),A.jsx("div",{className:"login-footer",children:A.jsxs("p",{children:["※ Firebase Authenticationを使用した安全な認証です",A.jsx("br",{}),"データはFirestoreに安全に保存されます"]})})]}),A.jsx("style",{children:`
        .login-screen {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
          padding: 20px;
        }

        .login-container {
          background: var(--card);
          border-radius: 16px;
          padding: 40px;
          max-width: 450px;
          width: 100%;
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .login-header {
          text-align: center;
          margin-bottom: 32px;
        }

        .login-header h1 {
          color: var(--text);
          font-size: 28px;
          margin: 0 0 8px 0;
        }

        .login-header p {
          color: var(--text-secondary);
          font-size: 14px;
          margin: 0;
        }

        .login-tabs {
          display: flex;
          gap: 8px;
          margin-bottom: 24px;
          background: var(--background);
          padding: 4px;
          border-radius: 8px;
        }

        .login-tab {
          flex: 1;
          padding: 12px;
          border: none;
          background: transparent;
          color: var(--text-secondary);
          font-size: 16px;
          font-weight: 500;
          border-radius: 6px;
          cursor: pointer;
          transition: all 0.3s;
        }

        .login-tab.active {
          background: var(--card);
          color: var(--primary);
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .login-form {
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--background);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .error-message {
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
        }

        .login-button,
        .google-login-button {
          padding: 14px 24px;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
        }

        .login-button {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
        }

        .login-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .login-button:active:not(:disabled) {
          transform: translateY(0);
        }

        .login-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .google-login-button {
          background: white;
          color: #555;
          border: 2px solid #ddd;
        }

        .google-login-button:hover:not(:disabled) {
          background: #f5f5f5;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .google-login-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .divider {
          text-align: center;
          margin: 24px 0;
          position: relative;
        }

        .divider::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 0;
          right: 0;
          height: 1px;
          background: var(--border);
        }

        .divider span {
          background: var(--card);
          padding: 0 16px;
          color: var(--text-secondary);
          font-size: 14px;
          position: relative;
          z-index: 1;
        }

        .login-footer {
          margin-top: 24px;
          text-align: center;
        }

        .login-footer p {
          color: var(--text-secondary);
          font-size: 12px;
          line-height: 1.6;
          margin: 0;
        }

        @media (max-width: 480px) {
          .login-container {
            padding: 24px;
          }

          .login-header h1 {
            font-size: 24px;
          }
        }
      `})]})};function d0e(){const{settings:t}=Qw(),{user:e,loading:n}=H5(),[r,i]=C.useState(!1),a=Yo(),o=Qo(),l=lo(),c=Hu();return C.useEffect(()=>{document.body.classList.toggle("dark-mode",t.darkMode)},[t.darkMode]),C.useEffect(()=>{(async()=>{if(e){i(!0);try{console.log("Syncing data for user:",e.uid),await Promise.all([a.syncWithFirestore(),o.syncWithFirestore(),l.syncWithFirestore(),c.syncWithFirestore()]),console.log("Sync completed for user:",e.uid)}catch(d){console.error("Failed to sync stores with Firestore:",d)}finally{i(!1)}}})()},[e?.uid]),n||r?A.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%)"},children:A.jsx("div",{style:{color:"white",fontSize:"24px",textAlign:"center"},children:n?"ロード中...":"データを同期中..."})}):e?A.jsx(c0e,{}):A.jsx(h0e,{onLoginSuccess:()=>{}})}Lj.createRoot(document.getElementById("root")).render(A.jsx(Mr.StrictMode,{children:A.jsx(d0e,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/life-pwa-react/sw.js").then(t=>{console.log("[SW] Registered:",t.scope),t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&(console.log("[SW] New version available"),confirm("新しいバージョンが利用可能です。更新しますか？")&&(e.postMessage({type:"SKIP_WAITING"}),window.location.reload()))})})}).catch(t=>{console.error("[SW] Registration failed:",t)})});
