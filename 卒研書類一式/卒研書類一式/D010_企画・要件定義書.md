# D010 企画・要件定義書

## 1. プロジェクト概要
### 1.1 アプリケーション名
けんすけ (Kensuke)

### 1.2 目的
ユーザーの健康管理（体重、食事）と家計管理（支出、予算）を統合し、AIとゲーミフィケーション要素を用いて、楽しみながら継続的な生活改善をサポートする。

### 1.3 ターゲットユーザー
- 健康管理と節約を同時に行いたい個人
- 記録が長続きしないユーザー（ゲーミフィケーションで動機付け）
- 多言語対応を必要とするユーザー

## 2. システム構成
### 2.1 技術スタック
- **フロントエンド**: React, TypeScript, Vite, PWA (Progressive Web App)
- **バックエンド**: Firebase (Cloud Functions v2, Firestore)
- **認証**: Firebase Authentication (Email/Password, Google Sign-in)
- **データベース**: Firestore (NoSQL)
- **ストレージ**: Cloud Storage for Firebase
- **ホスティング**: Firebase Hosting
- **AI/ML**:
    - Google Gemini API (レシピ生成、アドバイス、データ分析)
    - CLOVA OCR API (レシート読み取り)
    - Barcode API (商品スキャン)

## 3. 機能要件

### 3.1 認証・ユーザー管理
- **新規登録・ログイン**: メールアドレス/パスワード、Googleアカウント連携。
- **プロフィール管理**: アイコン、表示名、自己紹介、カバー画像の編集。
- **パスワードリセット**: メールによる再設定フロー。

### 3.2 健康管理機能
- **体重記録**: 日々の体重入力、BMI自動計算。
- **グラフ表示**: 体重推移の可視化。
- **Google Fit連携**: 体重データの自動同期（実装予定）。
- **リマインダー**:
    - 週次体重記録リマインダー（月曜朝）。
    - 長期未記録時の段階的リマインダー。

### 3.3 家計管理機能
- **支出記録**: 金額、カテゴリ（食費、交通費など）、メモの入力。
- **予算設定**: 月次/週次予算の設定と進捗バー表示。
- **レシートスキャン**: カメラでレシートを撮影し、店舗名、品目、金額を自動抽出して記録（CLOVA OCR）。

### 3.4 食事・栄養管理
- **食事記録**: 写真、カロリー、メモの記録。
- **バーコードスキャン**: 商品バーコードから商品名とカロリーを取得（外部API/モック）。
- **AIレシピ提案**: 食材や気分に合わせてGeminiがレシピを提案。

### 3.5 在庫管理（パントリー）
- **在庫登録**: 食品・日用品の在庫数、賞味期限管理。
- **期限アラート**: 賞味期限が近い商品をホーム画面や統計で通知。
- **買い物リスト**: 在庫切れ商品をリスト化。

### 3.6 ソーシャル機能
- **タイムライン**: ユーザー間の投稿（テキスト、画像）表示。
- **インタラクション**: いいね、返信機能。
- **通知**: いいねや返信があった際にプッシュ通知。

### 3.7 ゲーミフィケーション
- **デイリーミッション**: 「ログインする」「体重を記録する」などのタスク達成でポイント付与。
- **ポイントシステム**: 獲得ポイントでショップアイテム購入。
- **称号（バッジ）**: 特定条件達成で称号獲得、プロフィールに設定可能。
- **着せ替えショップ**: ポイントを使ってアプリ内のテーマやアイコン枠を購入。

### 3.8 その他
- **多言語対応**: 日本語、英語、中国語（簡体・繁体）、韓国語、ベトナム語、インドネシア語、ロシア語。
- **PWA対応**: インストール可能、オフライン対応（一部キャッシュ）。

## 4. 非機能要件
- **レスポンシブデザイン**: モバイルファースト、PC/タブレット対応。
- **セキュリティ**: Firestoreセキュリティルールによるデータ保護。
- **パフォーマンス**: 画像の遅延読み込み、コード分割による高速化。
