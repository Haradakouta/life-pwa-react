function pB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function ho(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var O2={exports:{}},Xd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s4;function gB(){if(s4)return Xd;s4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Xd.Fragment=e,Xd.jsx=n,Xd.jsxs=n,Xd}var l4;function vB(){return l4||(l4=1,O2.exports=gB()),O2.exports}var b=vB(),R2={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u4;function mB(){if(u4)return Ue;u4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function m(G){return G===null||typeof G!="object"?null:(G=v&&G[v]||G["@@iterator"],typeof G=="function"?G:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,A={};function S(G,ee,ye){this.props=G,this.context=ee,this.refs=A,this.updater=ye||_}S.prototype.isReactComponent={},S.prototype.setState=function(G,ee){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ee,"setState")},S.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function I(){}I.prototype=S.prototype;function O(G,ee,ye){this.props=G,this.context=ee,this.refs=A,this.updater=ye||_}var N=O.prototype=new I;N.constructor=O,w(N,S.prototype),N.isPureReactComponent=!0;var k=Array.isArray;function B(){}var D={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function j(G,ee,ye){var _e=ye.ref;return{$$typeof:t,type:G,key:ee,ref:_e!==void 0?_e:null,props:ye}}function z(G,ee){return j(G.type,ee,G.props)}function F(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function H(G){var ee={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ye){return ee[ye]})}var U=/\/+/g;function he(G,ee){return typeof G=="object"&&G!==null&&G.key!=null?H(""+G.key):ee.toString(36)}function be(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(B,B):(G.status="pending",G.then(function(ee){G.status==="pending"&&(G.status="fulfilled",G.value=ee)},function(ee){G.status==="pending"&&(G.status="rejected",G.reason=ee)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function Y(G,ee,ye,_e,Oe){var He=typeof G;(He==="undefined"||He==="boolean")&&(G=null);var tt=!1;if(G===null)tt=!0;else switch(He){case"bigint":case"string":case"number":tt=!0;break;case"object":switch(G.$$typeof){case t:case e:tt=!0;break;case h:return tt=G._init,Y(tt(G._payload),ee,ye,_e,Oe)}}if(tt)return Oe=Oe(G),tt=_e===""?"."+he(G,0):_e,k(Oe)?(ye="",tt!=null&&(ye=tt.replace(U,"$&/")+"/"),Y(Oe,ee,ye,"",function(Ve){return Ve})):Oe!=null&&(F(Oe)&&(Oe=z(Oe,ye+(Oe.key==null||G&&G.key===Oe.key?"":(""+Oe.key).replace(U,"$&/")+"/")+tt)),ee.push(Oe)),1;tt=0;var pn=_e===""?".":_e+":";if(k(G))for(var pe=0;pe<G.length;pe++)_e=G[pe],He=pn+he(_e,pe),tt+=Y(_e,ee,ye,He,Oe);else if(pe=m(G),typeof pe=="function")for(G=pe.call(G),pe=0;!(_e=G.next()).done;)_e=_e.value,He=pn+he(_e,pe++),tt+=Y(_e,ee,ye,He,Oe);else if(He==="object"){if(typeof G.then=="function")return Y(be(G),ee,ye,_e,Oe);throw ee=String(G),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return tt}function se(G,ee,ye){if(G==null)return G;var _e=[],Oe=0;return Y(G,_e,"","",function(He){return ee.call(ye,He,Oe++)}),_e}function me(G){if(G._status===-1){var ee=G._result;ee=ee(),ee.then(function(ye){(G._status===0||G._status===-1)&&(G._status=1,G._result=ye)},function(ye){(G._status===0||G._status===-1)&&(G._status=2,G._result=ye)}),G._status===-1&&(G._status=0,G._result=ee)}if(G._status===1)return G._result.default;throw G._result}var Se=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},Ge={map:se,forEach:function(G,ee,ye){se(G,function(){ee.apply(this,arguments)},ye)},count:function(G){var ee=0;return se(G,function(){ee++}),ee},toArray:function(G){return se(G,function(ee){return ee})||[]},only:function(G){if(!F(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return Ue.Activity=p,Ue.Children=Ge,Ue.Component=S,Ue.Fragment=n,Ue.Profiler=i,Ue.PureComponent=O,Ue.StrictMode=r,Ue.Suspense=c,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(G){return D.H.useMemoCache(G)}},Ue.cache=function(G){return function(){return G.apply(null,arguments)}},Ue.cacheSignal=function(){return null},Ue.cloneElement=function(G,ee,ye){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var _e=w({},G.props),Oe=G.key;if(ee!=null)for(He in ee.key!==void 0&&(Oe=""+ee.key),ee)!M.call(ee,He)||He==="key"||He==="__self"||He==="__source"||He==="ref"&&ee.ref===void 0||(_e[He]=ee[He]);var He=arguments.length-2;if(He===1)_e.children=ye;else if(1<He){for(var tt=Array(He),pn=0;pn<He;pn++)tt[pn]=arguments[pn+2];_e.children=tt}return j(G.type,Oe,_e)},Ue.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:a,_context:G},G},Ue.createElement=function(G,ee,ye){var _e,Oe={},He=null;if(ee!=null)for(_e in ee.key!==void 0&&(He=""+ee.key),ee)M.call(ee,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Oe[_e]=ee[_e]);var tt=arguments.length-2;if(tt===1)Oe.children=ye;else if(1<tt){for(var pn=Array(tt),pe=0;pe<tt;pe++)pn[pe]=arguments[pe+2];Oe.children=pn}if(G&&G.defaultProps)for(_e in tt=G.defaultProps,tt)Oe[_e]===void 0&&(Oe[_e]=tt[_e]);return j(G,He,Oe)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(G){return{$$typeof:l,render:G}},Ue.isValidElement=F,Ue.lazy=function(G){return{$$typeof:h,_payload:{_status:-1,_result:G},_init:me}},Ue.memo=function(G,ee){return{$$typeof:f,type:G,compare:ee===void 0?null:ee}},Ue.startTransition=function(G){var ee=D.T,ye={};D.T=ye;try{var _e=G(),Oe=D.S;Oe!==null&&Oe(ye,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(B,Se)}catch(He){Se(He)}finally{ee!==null&&ye.types!==null&&(ee.types=ye.types),D.T=ee}},Ue.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ue.use=function(G){return D.H.use(G)},Ue.useActionState=function(G,ee,ye){return D.H.useActionState(G,ee,ye)},Ue.useCallback=function(G,ee){return D.H.useCallback(G,ee)},Ue.useContext=function(G){return D.H.useContext(G)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(G,ee){return D.H.useDeferredValue(G,ee)},Ue.useEffect=function(G,ee){return D.H.useEffect(G,ee)},Ue.useEffectEvent=function(G){return D.H.useEffectEvent(G)},Ue.useId=function(){return D.H.useId()},Ue.useImperativeHandle=function(G,ee,ye){return D.H.useImperativeHandle(G,ee,ye)},Ue.useInsertionEffect=function(G,ee){return D.H.useInsertionEffect(G,ee)},Ue.useLayoutEffect=function(G,ee){return D.H.useLayoutEffect(G,ee)},Ue.useMemo=function(G,ee){return D.H.useMemo(G,ee)},Ue.useOptimistic=function(G,ee){return D.H.useOptimistic(G,ee)},Ue.useReducer=function(G,ee,ye){return D.H.useReducer(G,ee,ye)},Ue.useRef=function(G){return D.H.useRef(G)},Ue.useState=function(G){return D.H.useState(G)},Ue.useSyncExternalStore=function(G,ee,ye){return D.H.useSyncExternalStore(G,ee,ye)},Ue.useTransition=function(){return D.H.useTransition()},Ue.version="19.2.0",Ue}var c4;function Sf(){return c4||(c4=1,R2.exports=mB()),R2.exports}var T=Sf();const kr=ho(T),yB=pB({__proto__:null,default:kr},[T]);var P2={exports:{}},Yd={},D2={exports:{}},N2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f4;function xB(){return f4||(f4=1,(function(t){function e(Y,se){var me=Y.length;Y.push(se);e:for(;0<me;){var Se=me-1>>>1,Ge=Y[Se];if(0<i(Ge,se))Y[Se]=se,Y[me]=Ge,me=Se;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var se=Y[0],me=Y.pop();if(me!==se){Y[0]=me;e:for(var Se=0,Ge=Y.length,G=Ge>>>1;Se<G;){var ee=2*(Se+1)-1,ye=Y[ee],_e=ee+1,Oe=Y[_e];if(0>i(ye,me))_e<Ge&&0>i(Oe,ye)?(Y[Se]=Oe,Y[_e]=me,Se=_e):(Y[Se]=ye,Y[ee]=me,Se=ee);else if(_e<Ge&&0>i(Oe,me))Y[Se]=Oe,Y[_e]=me,Se=_e;else break e}}return se}function i(Y,se){var me=Y.sortIndex-se.sortIndex;return me!==0?me:Y.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],f=[],h=1,p=null,v=3,m=!1,_=!1,w=!1,A=!1,S=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function N(Y){for(var se=n(f);se!==null;){if(se.callback===null)r(f);else if(se.startTime<=Y)r(f),se.sortIndex=se.expirationTime,e(c,se);else break;se=n(f)}}function k(Y){if(w=!1,N(Y),!_)if(n(c)!==null)_=!0,B||(B=!0,H());else{var se=n(f);se!==null&&be(k,se.startTime-Y)}}var B=!1,D=-1,M=5,j=-1;function z(){return A?!0:!(t.unstable_now()-j<M)}function F(){if(A=!1,B){var Y=t.unstable_now();j=Y;var se=!0;try{e:{_=!1,w&&(w=!1,I(D),D=-1),m=!0;var me=v;try{t:{for(N(Y),p=n(c);p!==null&&!(p.expirationTime>Y&&z());){var Se=p.callback;if(typeof Se=="function"){p.callback=null,v=p.priorityLevel;var Ge=Se(p.expirationTime<=Y);if(Y=t.unstable_now(),typeof Ge=="function"){p.callback=Ge,N(Y),se=!0;break t}p===n(c)&&r(c),N(Y)}else r(c);p=n(c)}if(p!==null)se=!0;else{var G=n(f);G!==null&&be(k,G.startTime-Y),se=!1}}break e}finally{p=null,v=me,m=!1}se=void 0}}finally{se?H():B=!1}}}var H;if(typeof O=="function")H=function(){O(F)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,he=U.port2;U.port1.onmessage=F,H=function(){he.postMessage(null)}}else H=function(){S(F,0)};function be(Y,se){D=S(function(){Y(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var se=3;break;default:se=v}var me=v;v=se;try{return Y()}finally{v=me}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=v;v=Y;try{return se()}finally{v=me}},t.unstable_scheduleCallback=function(Y,se,me){var Se=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Se+me:Se):me=Se,Y){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=me+Ge,Y={id:h++,callback:se,priorityLevel:Y,startTime:me,expirationTime:Ge,sortIndex:-1},me>Se?(Y.sortIndex=me,e(f,Y),n(c)===null&&Y===n(f)&&(w?(I(D),D=-1):w=!0,be(k,me-Se))):(Y.sortIndex=Ge,e(c,Y),_||m||(_=!0,B||(B=!0,H()))),Y},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(Y){var se=v;return function(){var me=v;v=se;try{return Y.apply(this,arguments)}finally{v=me}}}})(N2)),N2}var d4;function _B(){return d4||(d4=1,D2.exports=xB()),D2.exports}var M2={exports:{}},Ir={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h4;function bB(){if(h4)return Ir;h4=1;var t=Sf();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ir.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,h)},Ir.flushSync=function(c){var f=o.T,h=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=f,r.p=h,r.d.f()}},Ir.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},Ir.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Ir.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,m=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:m}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:v,fetchPriority:m,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ir.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=l(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},Ir.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ir.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=l(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},Ir.requestFormReset=function(c){r.d.r(c)},Ir.unstable_batchedUpdates=function(c,f){return c(f)},Ir.useFormState=function(c,f,h){return o.H.useFormState(c,f,h)},Ir.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ir.version="19.2.0",Ir}var p4;function XP(){if(p4)return M2.exports;p4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),M2.exports=bB(),M2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g4;function wB(){if(g4)return Yd;g4=1;var t=_B(),e=Sf(),n=XP();function r(s){var u="https://react.dev/errors/"+s;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var u=s,d=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,(u.flags&4098)!==0&&(d=u.return),s=u.return;while(s)}return u.tag===3?d:null}function o(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function l(s){if(s.tag===31){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function c(s){if(a(s)!==s)throw Error(r(188))}function f(s){var u=s.alternate;if(!u){if(u=a(s),u===null)throw Error(r(188));return u!==s?null:s}for(var d=s,g=u;;){var x=d.return;if(x===null)break;var E=x.alternate;if(E===null){if(g=x.return,g!==null){d=g;continue}break}if(x.child===E.child){for(E=x.child;E;){if(E===d)return c(x),s;if(E===g)return c(x),u;E=E.sibling}throw Error(r(188))}if(d.return!==g.return)d=x,g=E;else{for(var R=!1,L=x.child;L;){if(L===d){R=!0,d=x,g=E;break}if(L===g){R=!0,g=x,d=E;break}L=L.sibling}if(!R){for(L=E.child;L;){if(L===d){R=!0,d=E,g=x;break}if(L===g){R=!0,g=E,d=x;break}L=L.sibling}if(!R)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:u}function h(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s;for(s=s.child;s!==null;){if(u=h(s),u!==null)return u;s=s.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),O=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var U=Symbol.for("react.client.reference");function he(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===U?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case S:return"Profiler";case A:return"StrictMode";case k:return"Suspense";case B:return"SuspenseList";case j:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case _:return"Portal";case O:return s.displayName||"Context";case I:return(s._context.displayName||"Context")+".Consumer";case N:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return u=s.displayName||null,u!==null?u:he(s.type)||"Memo";case M:u=s._payload,s=s._init;try{return he(s(u))}catch{}}return null}var be=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Se=[],Ge=-1;function G(s){return{current:s}}function ee(s){0>Ge||(s.current=Se[Ge],Se[Ge]=null,Ge--)}function ye(s,u){Ge++,Se[Ge]=s.current,s.current=u}var _e=G(null),Oe=G(null),He=G(null),tt=G(null);function pn(s,u){switch(ye(He,u),ye(Oe,s),ye(_e,null),u.nodeType){case 9:case 11:s=(s=u.documentElement)&&(s=s.namespaceURI)?R3(s):0;break;default:if(s=u.tagName,u=u.namespaceURI)u=R3(u),s=P3(u,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ee(_e),ye(_e,s)}function pe(){ee(_e),ee(Oe),ee(He)}function Ve(s){s.memoizedState!==null&&ye(tt,s);var u=_e.current,d=P3(u,s.type);u!==d&&(ye(Oe,s),ye(_e,d))}function We(s){Oe.current===s&&(ee(_e),ee(Oe)),tt.current===s&&(ee(tt),qd._currentValue=me)}var de,gn;function Qe(s){if(de===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);de=u&&u[1]||"",gn=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+s+gn}var Fn=!1;function vn(s,u){if(!s||Fn)return"";Fn=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ie){var te=ie}Reflect.construct(s,[],ce)}else{try{ce.call()}catch(ie){te=ie}s.call(ce.prototype)}}else{try{throw Error()}catch(ie){te=ie}(ce=s())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=g.DetermineComponentFrameRoot(),R=E[0],L=E[1];if(R&&L){var q=R.split(`
`),J=L.split(`
`);for(x=g=0;g<q.length&&!q[g].includes("DetermineComponentFrameRoot");)g++;for(;x<J.length&&!J[x].includes("DetermineComponentFrameRoot");)x++;if(g===q.length||x===J.length)for(g=q.length-1,x=J.length-1;1<=g&&0<=x&&q[g]!==J[x];)x--;for(;1<=g&&0<=x;g--,x--)if(q[g]!==J[x]){if(g!==1||x!==1)do if(g--,x--,0>x||q[g]!==J[x]){var oe=`
`+q[g].replace(" at new "," at ");return s.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",s.displayName)),oe}while(1<=g&&0<=x);break}}}finally{Fn=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?Qe(d):""}function di(s,u){switch(s.tag){case 26:case 27:case 5:return Qe(s.type);case 16:return Qe("Lazy");case 13:return s.child!==u&&u!==null?Qe("Suspense Fallback"):Qe("Suspense");case 19:return Qe("SuspenseList");case 0:case 15:return vn(s.type,!1);case 11:return vn(s.type.render,!1);case 1:return vn(s.type,!0);case 31:return Qe("Activity");default:return""}}function fs(s){try{var u="",d=null;do u+=di(s,d),d=s,s=s.return;while(s);return u}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Sn=Object.prototype.hasOwnProperty,Vn=t.unstable_scheduleCallback,ds=t.unstable_cancelCallback,Pm=t.unstable_shouldYield,P0=t.unstable_requestPaint,Fr=t.unstable_now,kl=t.unstable_getCurrentPriorityLevel,Wf=t.unstable_ImmediatePriority,Xf=t.unstable_UserBlockingPriority,hs=t.unstable_NormalPriority,Dm=t.unstable_LowPriority,D0=t.unstable_IdlePriority,N0=t.log,M0=t.unstable_setDisableYieldValue,la=null,fr=null;function Mi(s){if(typeof N0=="function"&&M0(s),fr&&typeof fr.setStrictMode=="function")try{fr.setStrictMode(la,s)}catch{}}var mn=Math.clz32?Math.clz32:j0,k0=Math.log,Ju=Math.LN2;function j0(s){return s>>>=0,s===0?32:31-(k0(s)/Ju|0)|0}var Ra=256,jl=262144,Cn=4194304;function Pa(s){var u=s&42;if(u!==0)return u;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Da(s,u,d){var g=s.pendingLanes;if(g===0)return 0;var x=0,E=s.suspendedLanes,R=s.pingedLanes;s=s.warmLanes;var L=g&134217727;return L!==0?(g=L&~E,g!==0?x=Pa(g):(R&=L,R!==0?x=Pa(R):d||(d=L&~s,d!==0&&(x=Pa(d))))):(L=g&~E,L!==0?x=Pa(L):R!==0?x=Pa(R):d||(d=g&~s,d!==0&&(x=Pa(d)))),x===0?0:u!==0&&u!==x&&(u&E)===0&&(E=x&-x,d=u&-u,E>=d||E===32&&(d&4194048)!==0)?u:x}function ua(s,u){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&u)===0}function Nm(s,u){switch(s){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L0(){var s=Cn;return Cn<<=1,(Cn&62914560)===0&&(Cn=4194304),s}function Na(s){for(var u=[],d=0;31>d;d++)u.push(s);return u}function Ll(s,u){s.pendingLanes|=u,u!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Mm(s,u,d,g,x,E){var R=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var L=s.entanglements,q=s.expirationTimes,J=s.hiddenUpdates;for(d=R&~d;0<d;){var oe=31-mn(d),ce=1<<oe;L[oe]=0,q[oe]=-1;var te=J[oe];if(te!==null)for(J[oe]=null,oe=0;oe<te.length;oe++){var ie=te[oe];ie!==null&&(ie.lane&=-536870913)}d&=~ce}g!==0&&Bl(s,g,0),E!==0&&x===0&&s.tag!==0&&(s.suspendedLanes|=E&~(R&~u))}function Bl(s,u,d){s.pendingLanes|=u,s.suspendedLanes&=~u;var g=31-mn(u);s.entangledLanes|=u,s.entanglements[g]=s.entanglements[g]|1073741824|d&261930}function Yf(s,u){var d=s.entangledLanes|=u;for(s=s.entanglements;d;){var g=31-mn(d),x=1<<g;x&u|s[g]&u&&(s[g]|=u),d&=~x}}function Qf(s,u){var d=u&-u;return d=(d&42)!==0?1:Fl(d),(d&(s.suspendedLanes|u))!==0?0:d}function Fl(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function xo(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function B0(){var s=se.p;return s!==0?s:(s=window.event,s===void 0?32:e4(s.type))}function ca(s,u){var d=se.p;try{return se.p=s,u()}finally{se.p=d}}var fa=Math.random().toString(36).slice(2),Tn="__reactFiber$"+fa,Jn="__reactProps$"+fa,Ma="__reactContainer$"+fa,ec="__reactEvents$"+fa,km="__reactListeners$"+fa,F0="__reactHandles$"+fa,V0="__reactResources$"+fa,ka="__reactMarker$"+fa;function tc(s){delete s[Tn],delete s[Jn],delete s[ec],delete s[km],delete s[F0]}function ja(s){var u=s[Tn];if(u)return u;for(var d=s.parentNode;d;){if(u=d[Ma]||d[Tn]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(s=B3(s);s!==null;){if(d=s[Tn])return d;s=B3(s)}return u}s=d,d=s.parentNode}return null}function ki(s){if(s=s[Tn]||s[Ma]){var u=s.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return s}return null}function hi(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s.stateNode;throw Error(r(33))}function La(s){var u=s[V0];return u||(u=s[V0]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function In(s){s[ka]=!0}var Zf=new Set,Jf={};function Ba(s,u){Fa(s,u),Fa(s+"Capture",u)}function Fa(s,u){for(Jf[s]=u,s=0;s<u.length;s++)Zf.add(u[s])}var ed=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),td={},nd={};function U0(s){return Sn.call(nd,s)?!0:Sn.call(td,s)?!1:ed.test(s)?nd[s]=!0:(td[s]=!0,!1)}function nc(s,u,d){if(U0(u))if(d===null)s.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(u);return}}s.setAttribute(u,""+d)}}function pi(s,u,d){if(d===null)s.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttribute(u,""+d)}}function On(s,u,d,g){if(g===null)s.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(u,d,""+g)}}function er(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ps(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function rd(s,u,d){var g=Object.getOwnPropertyDescriptor(s.constructor.prototype,u);if(!s.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var x=g.get,E=g.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return x.call(this)},set:function(R){d=""+R,E.call(this,R)}}),Object.defineProperty(s,u,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(R){d=""+R},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function Tt(s){if(!s._valueTracker){var u=ps(s)?"checked":"value";s._valueTracker=rd(s,u,""+s[u])}}function Vl(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var d=u.getValue(),g="";return s&&(g=ps(s)?s.checked?"true":"false":s.value),s=g,s!==d?(u.setValue(s),!0):!1}function Va(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ul=/[\n"\\]/g;function Wr(s){return s.replace(Ul,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function rc(s,u,d,g,x,E,R,L){s.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.type=R:s.removeAttribute("type"),u!=null?R==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+er(u)):s.value!==""+er(u)&&(s.value=""+er(u)):R!=="submit"&&R!=="reset"||s.removeAttribute("value"),u!=null?id(s,R,er(u)):d!=null?id(s,R,er(d)):g!=null&&s.removeAttribute("value"),x==null&&E!=null&&(s.defaultChecked=!!E),x!=null&&(s.checked=x&&typeof x!="function"&&typeof x!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?s.name=""+er(L):s.removeAttribute("name")}function z0(s,u,d,g,x,E,R,L){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.type=E),u!=null||d!=null){if(!(E!=="submit"&&E!=="reset"||u!=null)){Tt(s);return}d=d!=null?""+er(d):"",u=u!=null?""+er(u):d,L||u===s.value||(s.value=u),s.defaultValue=u}g=g??x,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=L?s.checked:!!g,s.defaultChecked=!!g,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(s.name=R),Tt(s)}function id(s,u,d){u==="number"&&Va(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function gs(s,u,d,g){if(s=s.options,u){u={};for(var x=0;x<d.length;x++)u["$"+d[x]]=!0;for(d=0;d<s.length;d++)x=u.hasOwnProperty("$"+s[d].value),s[d].selected!==x&&(s[d].selected=x),x&&g&&(s[d].defaultSelected=!0)}else{for(d=""+er(d),u=null,x=0;x<s.length;x++){if(s[x].value===d){s[x].selected=!0,g&&(s[x].defaultSelected=!0);return}u!==null||s[x].disabled||(u=s[x])}u!==null&&(u.selected=!0)}}function H0(s,u,d){if(u!=null&&(u=""+er(u),u!==s.value&&(s.value=u),d==null)){s.defaultValue!==u&&(s.defaultValue=u);return}s.defaultValue=d!=null?""+er(d):""}function vs(s,u,d,g){if(u==null){if(g!=null){if(d!=null)throw Error(r(92));if(be(g)){if(1<g.length)throw Error(r(93));g=g[0]}d=g}d==null&&(d=""),u=d}d=er(u),s.defaultValue=d,g=s.textContent,g===d&&g!==""&&g!==null&&(s.value=g),Tt(s)}function Xr(s,u){if(u){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=u;return}}s.textContent=u}var $0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ad(s,u,d){var g=u.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="":g?s.setProperty(u,d):typeof d!="number"||d===0||$0.has(u)?u==="float"?s.cssFloat=d:s[u]=(""+d).trim():s[u]=d+"px"}function od(s,u,d){if(u!=null&&typeof u!="object")throw Error(r(62));if(s=s.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var x in u)g=u[x],u.hasOwnProperty(x)&&d[x]!==g&&ad(s,x,g)}else for(var E in u)u.hasOwnProperty(E)&&ad(s,E,u[E])}function ic(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var q0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ac(s){return ms.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function da(){}var sd=null;function ji(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ys=null,Ua=null;function zl(s){var u=ki(s);if(u&&(s=u.stateNode)){var d=s[Jn]||null;e:switch(s=u.stateNode,u.type){case"input":if(rc(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),u=d.name,d.type==="radio"&&u!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Wr(""+u)+'"][type="radio"]'),u=0;u<d.length;u++){var g=d[u];if(g!==s&&g.form===s.form){var x=g[Jn]||null;if(!x)throw Error(r(90));rc(g,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(u=0;u<d.length;u++)g=d[u],g.form===s.form&&Vl(g)}break e;case"textarea":H0(s,d.value,d.defaultValue);break e;case"select":u=d.value,u!=null&&gs(s,!!d.multiple,u,!1)}}}var oc=!1;function xs(s,u,d){if(oc)return s(u,d);oc=!0;try{var g=s(u);return g}finally{if(oc=!1,(ys!==null||Ua!==null)&&(Bp(),ys&&(u=ys,s=Ua,Ua=ys=null,zl(u),s)))for(u=0;u<s.length;u++)zl(s[u])}}function ha(s,u){var d=s.stateNode;if(d===null)return null;var g=d[Jn]||null;if(g===null)return null;d=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,u,typeof d));return d}var Li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hl=!1;if(Li)try{var Mt={};Object.defineProperty(Mt,"passive",{get:function(){Hl=!0}}),window.addEventListener("test",Mt,Mt),window.removeEventListener("test",Mt,Mt)}catch{Hl=!1}var za=null,ld=null,$l=null;function ud(){if($l)return $l;var s,u=ld,d=u.length,g,x="value"in za?za.value:za.textContent,E=x.length;for(s=0;s<d&&u[s]===x[s];s++);var R=d-s;for(g=1;g<=R&&u[d-g]===x[E-g];g++);return $l=x.slice(s,1<g?1-g:void 0)}function ql(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function _o(){return!0}function pa(){return!1}function dr(s){function u(d,g,x,E,R){this._reactName=d,this._targetInst=x,this.type=g,this.nativeEvent=E,this.target=R,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(d=s[L],this[L]=d?d(E):E[L]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?_o:pa,this.isPropagationStopped=pa,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=_o)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=_o)},persist:function(){},isPersistent:_o}),u}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=dr(bo),_s=p({},bo,{view:0,detail:0}),cd=dr(_s),bs,sc,$a,lc=p({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==$a&&($a&&s.type==="mousemove"?(bs=s.screenX-$a.screenX,sc=s.screenY-$a.screenY):sc=bs=0,$a=s),bs)},movementY:function(s){return"movementY"in s?s.movementY:sc}}),fd=dr(lc),Gl=p({},lc,{dataTransfer:0}),G0=dr(Gl),K0=p({},_s,{relatedTarget:0}),Kl=dr(K0),dd=p({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),W0=dr(dd),uc=p({},bo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),X0=dr(uc),Y0=p({},bo,{data:0}),qa=dr(Y0),Q0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ep(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=J0[s])?!!u[s]:!1}function ws(){return ep}var Vr=p({},_s,{key:function(s){if(s.key){var u=Q0[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=ql(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Z0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(s){return s.type==="keypress"?ql(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ql(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),tp=dr(Vr),np=p({},lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wo=dr(np),y=p({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),C=dr(y),P=p({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=dr(P),X=p({},lc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),re=dr(X),ge=p({},bo,{newState:0,oldState:0}),$e=dr(ge),yn=[9,13,27,32],yt=Li&&"CompositionEvent"in window,Zt=null;Li&&"documentMode"in document&&(Zt=document.documentMode);var Bi=Li&&"TextEvent"in window&&!Zt,Ga=Li&&(!yt||Zt&&8<Zt&&11>=Zt),ga=" ",va=!1;function Wl(s,u){switch(s){case"keyup":return yn.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cc(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var fc=!1;function Bj(s,u){switch(s){case"compositionend":return cc(u);case"keypress":return u.which!==32?null:(va=!0,ga);case"textInput":return s=u.data,s===ga&&va?null:s;default:return null}}function Fj(s,u){if(fc)return s==="compositionend"||!yt&&Wl(s,u)?(s=ud(),$l=ld=za=null,fc=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ga&&u.locale!=="ko"?null:u.data;default:return null}}var Vj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function US(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!Vj[s.type]:u==="textarea"}function zS(s,u,d,g){ys?Ua?Ua.push(g):Ua=[g]:ys=g,u=qp(u,"onChange"),0<u.length&&(d=new Ha("onChange","change",null,d,g),s.push({event:d,listeners:u}))}var hd=null,pd=null;function Uj(s){A3(s,0)}function rp(s){var u=hi(s);if(Vl(u))return s}function HS(s,u){if(s==="change")return u}var $S=!1;if(Li){var jm;if(Li){var Lm="oninput"in document;if(!Lm){var qS=document.createElement("div");qS.setAttribute("oninput","return;"),Lm=typeof qS.oninput=="function"}jm=Lm}else jm=!1;$S=jm&&(!document.documentMode||9<document.documentMode)}function GS(){hd&&(hd.detachEvent("onpropertychange",KS),pd=hd=null)}function KS(s){if(s.propertyName==="value"&&rp(pd)){var u=[];zS(u,pd,s,ji(s)),xs(Uj,u)}}function zj(s,u,d){s==="focusin"?(GS(),hd=u,pd=d,hd.attachEvent("onpropertychange",KS)):s==="focusout"&&GS()}function Hj(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return rp(pd)}function $j(s,u){if(s==="click")return rp(u)}function qj(s,u){if(s==="input"||s==="change")return rp(u)}function Gj(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var gi=typeof Object.is=="function"?Object.is:Gj;function gd(s,u){if(gi(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var d=Object.keys(s),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var x=d[g];if(!Sn.call(u,x)||!gi(s[x],u[x]))return!1}return!0}function WS(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function XS(s,u){var d=WS(s);s=0;for(var g;d;){if(d.nodeType===3){if(g=s+d.textContent.length,s<=u&&g>=u)return{node:d,offset:u-s};s=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=WS(d)}}function YS(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?YS(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function QS(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var u=Va(s.document);u instanceof s.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)s=u.contentWindow;else break;u=Va(s.document)}return u}function Bm(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}var Kj=Li&&"documentMode"in document&&11>=document.documentMode,dc=null,Fm=null,vd=null,Vm=!1;function ZS(s,u,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Vm||dc==null||dc!==Va(g)||(g=dc,"selectionStart"in g&&Bm(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),vd&&gd(vd,g)||(vd=g,g=qp(Fm,"onSelect"),0<g.length&&(u=new Ha("onSelect","select",null,u,d),s.push({event:u,listeners:g}),u.target=dc)))}function Xl(s,u){var d={};return d[s.toLowerCase()]=u.toLowerCase(),d["Webkit"+s]="webkit"+u,d["Moz"+s]="moz"+u,d}var hc={animationend:Xl("Animation","AnimationEnd"),animationiteration:Xl("Animation","AnimationIteration"),animationstart:Xl("Animation","AnimationStart"),transitionrun:Xl("Transition","TransitionRun"),transitionstart:Xl("Transition","TransitionStart"),transitioncancel:Xl("Transition","TransitionCancel"),transitionend:Xl("Transition","TransitionEnd")},Um={},JS={};Li&&(JS=document.createElement("div").style,"AnimationEvent"in window||(delete hc.animationend.animation,delete hc.animationiteration.animation,delete hc.animationstart.animation),"TransitionEvent"in window||delete hc.transitionend.transition);function Yl(s){if(Um[s])return Um[s];if(!hc[s])return s;var u=hc[s],d;for(d in u)if(u.hasOwnProperty(d)&&d in JS)return Um[s]=u[d];return s}var eC=Yl("animationend"),tC=Yl("animationiteration"),nC=Yl("animationstart"),Wj=Yl("transitionrun"),Xj=Yl("transitionstart"),Yj=Yl("transitioncancel"),rC=Yl("transitionend"),iC=new Map,zm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zm.push("scrollEnd");function ma(s,u){iC.set(s,u),Ba(u,[s])}var ip=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Fi=[],pc=0,Hm=0;function ap(){for(var s=pc,u=Hm=pc=0;u<s;){var d=Fi[u];Fi[u++]=null;var g=Fi[u];Fi[u++]=null;var x=Fi[u];Fi[u++]=null;var E=Fi[u];if(Fi[u++]=null,g!==null&&x!==null){var R=g.pending;R===null?x.next=x:(x.next=R.next,R.next=x),g.pending=x}E!==0&&aC(d,x,E)}}function op(s,u,d,g){Fi[pc++]=s,Fi[pc++]=u,Fi[pc++]=d,Fi[pc++]=g,Hm|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function $m(s,u,d,g){return op(s,u,d,g),sp(s)}function Ql(s,u){return op(s,null,null,u),sp(s)}function aC(s,u,d){s.lanes|=d;var g=s.alternate;g!==null&&(g.lanes|=d);for(var x=!1,E=s.return;E!==null;)E.childLanes|=d,g=E.alternate,g!==null&&(g.childLanes|=d),E.tag===22&&(s=E.stateNode,s===null||s._visibility&1||(x=!0)),s=E,E=E.return;return s.tag===3?(E=s.stateNode,x&&u!==null&&(x=31-mn(d),s=E.hiddenUpdates,g=s[x],g===null?s[x]=[u]:g.push(u),u.lane=d|536870912),E):null}function sp(s){if(50<Bd)throw Bd=0,Jy=null,Error(r(185));for(var u=s.return;u!==null;)s=u,u=s.return;return s.tag===3?s.stateNode:null}var gc={};function Qj(s,u,d,g){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(s,u,d,g){return new Qj(s,u,d,g)}function qm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Eo(s,u){var d=s.alternate;return d===null?(d=vi(s.tag,u,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=u,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,u=s.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function oC(s,u){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=u,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,u=d.dependencies,s.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),s}function lp(s,u,d,g,x,E){var R=0;if(g=s,typeof s=="function")qm(s)&&(R=1);else if(typeof s=="string")R=nB(s,d,_e.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case j:return s=vi(31,d,u,x),s.elementType=j,s.lanes=E,s;case w:return Zl(d.children,x,E,u);case A:R=8,x|=24;break;case S:return s=vi(12,d,u,x|2),s.elementType=S,s.lanes=E,s;case k:return s=vi(13,d,u,x),s.elementType=k,s.lanes=E,s;case B:return s=vi(19,d,u,x),s.elementType=B,s.lanes=E,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:R=10;break e;case I:R=9;break e;case N:R=11;break e;case D:R=14;break e;case M:R=16,g=null;break e}R=29,d=Error(r(130,s===null?"null":typeof s,"")),g=null}return u=vi(R,d,u,x),u.elementType=s,u.type=g,u.lanes=E,u}function Zl(s,u,d,g){return s=vi(7,s,g,u),s.lanes=d,s}function Gm(s,u,d){return s=vi(6,s,null,u),s.lanes=d,s}function sC(s){var u=vi(18,null,null,0);return u.stateNode=s,u}function Km(s,u,d){return u=vi(4,s.children!==null?s.children:[],s.key,u),u.lanes=d,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}var lC=new WeakMap;function Vi(s,u){if(typeof s=="object"&&s!==null){var d=lC.get(s);return d!==void 0?d:(u={value:s,source:u,stack:fs(u)},lC.set(s,u),u)}return{value:s,source:u,stack:fs(u)}}var vc=[],mc=0,up=null,md=0,Ui=[],zi=0,Es=null,Ka=1,Wa="";function Ao(s,u){vc[mc++]=md,vc[mc++]=up,up=s,md=u}function uC(s,u,d){Ui[zi++]=Ka,Ui[zi++]=Wa,Ui[zi++]=Es,Es=s;var g=Ka;s=Wa;var x=32-mn(g)-1;g&=~(1<<x),d+=1;var E=32-mn(u)+x;if(30<E){var R=x-x%5;E=(g&(1<<R)-1).toString(32),g>>=R,x-=R,Ka=1<<32-mn(u)+x|d<<x|g,Wa=E+s}else Ka=1<<E|d<<x|g,Wa=s}function Wm(s){s.return!==null&&(Ao(s,1),uC(s,1,0))}function Xm(s){for(;s===up;)up=vc[--mc],vc[mc]=null,md=vc[--mc],vc[mc]=null;for(;s===Es;)Es=Ui[--zi],Ui[zi]=null,Wa=Ui[--zi],Ui[zi]=null,Ka=Ui[--zi],Ui[zi]=null}function cC(s,u){Ui[zi++]=Ka,Ui[zi++]=Wa,Ui[zi++]=Es,Ka=u.id,Wa=u.overflow,Es=s}var hr=null,Gt=null,st=!1,As=null,Hi=!1,Ym=Error(r(519));function Ss(s){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yd(Vi(u,s)),Ym}function fC(s){var u=s.stateNode,d=s.type,g=s.memoizedProps;switch(u[Tn]=s,u[Jn]=g,d){case"dialog":Je("cancel",u),Je("close",u);break;case"iframe":case"object":case"embed":Je("load",u);break;case"video":case"audio":for(d=0;d<Vd.length;d++)Je(Vd[d],u);break;case"source":Je("error",u);break;case"img":case"image":case"link":Je("error",u),Je("load",u);break;case"details":Je("toggle",u);break;case"input":Je("invalid",u),z0(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Je("invalid",u);break;case"textarea":Je("invalid",u),vs(u,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||u.textContent===""+d||g.suppressHydrationWarning===!0||I3(u.textContent,d)?(g.popover!=null&&(Je("beforetoggle",u),Je("toggle",u)),g.onScroll!=null&&Je("scroll",u),g.onScrollEnd!=null&&Je("scrollend",u),g.onClick!=null&&(u.onclick=da),u=!0):u=!1,u||Ss(s,!0)}function dC(s){for(hr=s.return;hr;)switch(hr.tag){case 5:case 31:case 13:Hi=!1;return;case 27:case 3:Hi=!0;return;default:hr=hr.return}}function yc(s){if(s!==hr)return!1;if(!st)return dC(s),st=!0,!1;var u=s.tag,d;if((d=u!==3&&u!==27)&&((d=u===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||p2(s.type,s.memoizedProps)),d=!d),d&&Gt&&Ss(s),dC(s),u===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Gt=L3(s)}else if(u===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Gt=L3(s)}else u===27?(u=Gt,Fs(s.type)?(s=x2,x2=null,Gt=s):Gt=u):Gt=hr?qi(s.stateNode.nextSibling):null;return!0}function Jl(){Gt=hr=null,st=!1}function Qm(){var s=As;return s!==null&&(Jr===null?Jr=s:Jr.push.apply(Jr,s),As=null),s}function yd(s){As===null?As=[s]:As.push(s)}var Zm=G(null),eu=null,So=null;function Cs(s,u,d){ye(Zm,u._currentValue),u._currentValue=d}function Co(s){s._currentValue=Zm.current,ee(Zm)}function Jm(s,u,d){for(;s!==null;){var g=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),s===d)break;s=s.return}}function ey(s,u,d,g){var x=s.child;for(x!==null&&(x.return=s);x!==null;){var E=x.dependencies;if(E!==null){var R=x.child;E=E.firstContext;e:for(;E!==null;){var L=E;E=x;for(var q=0;q<u.length;q++)if(L.context===u[q]){E.lanes|=d,L=E.alternate,L!==null&&(L.lanes|=d),Jm(E.return,d,s),g||(R=null);break e}E=L.next}}else if(x.tag===18){if(R=x.return,R===null)throw Error(r(341));R.lanes|=d,E=R.alternate,E!==null&&(E.lanes|=d),Jm(R,d,s),R=null}else R=x.child;if(R!==null)R.return=x;else for(R=x;R!==null;){if(R===s){R=null;break}if(x=R.sibling,x!==null){x.return=R.return,R=x;break}R=R.return}x=R}}function xc(s,u,d,g){s=null;for(var x=u,E=!1;x!==null;){if(!E){if((x.flags&524288)!==0)E=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var R=x.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var L=x.type;gi(x.pendingProps.value,R.value)||(s!==null?s.push(L):s=[L])}}else if(x===tt.current){if(R=x.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(s!==null?s.push(qd):s=[qd])}x=x.return}s!==null&&ey(u,s,d,g),u.flags|=262144}function cp(s){for(s=s.firstContext;s!==null;){if(!gi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function tu(s){eu=s,So=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function pr(s){return hC(eu,s)}function fp(s,u){return eu===null&&tu(s),hC(s,u)}function hC(s,u){var d=u._currentValue;if(u={context:u,memoizedValue:d,next:null},So===null){if(s===null)throw Error(r(308));So=u,s.dependencies={lanes:0,firstContext:u},s.flags|=524288}else So=So.next=u;return d}var Zj=typeof AbortController<"u"?AbortController:function(){var s=[],u=this.signal={aborted:!1,addEventListener:function(d,g){s.push(g)}};this.abort=function(){u.aborted=!0,s.forEach(function(d){return d()})}},Jj=t.unstable_scheduleCallback,eL=t.unstable_NormalPriority,Rn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ty(){return{controller:new Zj,data:new Map,refCount:0}}function xd(s){s.refCount--,s.refCount===0&&Jj(eL,function(){s.controller.abort()})}var _d=null,ny=0,_c=0,bc=null;function tL(s,u){if(_d===null){var d=_d=[];ny=0,_c=a2(),bc={status:"pending",value:void 0,then:function(g){d.push(g)}}}return ny++,u.then(pC,pC),u}function pC(){if(--ny===0&&_d!==null){bc!==null&&(bc.status="fulfilled");var s=_d;_d=null,_c=0,bc=null;for(var u=0;u<s.length;u++)(0,s[u])()}}function nL(s,u){var d=[],g={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return s.then(function(){g.status="fulfilled",g.value=u;for(var x=0;x<d.length;x++)(0,d[x])(u)},function(x){for(g.status="rejected",g.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),g}var gC=Y.S;Y.S=function(s,u){ZT=Fr(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&tL(s,u),gC!==null&&gC(s,u)};var nu=G(null);function ry(){var s=nu.current;return s!==null?s:Vt.pooledCache}function dp(s,u){u===null?ye(nu,nu.current):ye(nu,u.pool)}function vC(){var s=ry();return s===null?null:{parent:Rn._currentValue,pool:s}}var wc=Error(r(460)),iy=Error(r(474)),hp=Error(r(542)),pp={then:function(){}};function mC(s){return s=s.status,s==="fulfilled"||s==="rejected"}function yC(s,u,d){switch(d=s[d],d===void 0?s.push(u):d!==u&&(u.then(da,da),u=d),u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,_C(s),s;default:if(typeof u.status=="string")u.then(da,da);else{if(s=Vt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=u,s.status="pending",s.then(function(g){if(u.status==="pending"){var x=u;x.status="fulfilled",x.value=g}},function(g){if(u.status==="pending"){var x=u;x.status="rejected",x.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,_C(s),s}throw iu=u,wc}}function ru(s){try{var u=s._init;return u(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(iu=d,wc):d}}var iu=null;function xC(){if(iu===null)throw Error(r(459));var s=iu;return iu=null,s}function _C(s){if(s===wc||s===hp)throw Error(r(483))}var Ec=null,bd=0;function gp(s){var u=bd;return bd+=1,Ec===null&&(Ec=[]),yC(Ec,s,u)}function wd(s,u){u=u.props.ref,s.ref=u!==void 0?u:null}function vp(s,u){throw u.$$typeof===v?Error(r(525)):(s=Object.prototype.toString.call(u),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s)))}function bC(s){function u(W,K){if(s){var Z=W.deletions;Z===null?(W.deletions=[K],W.flags|=16):Z.push(K)}}function d(W,K){if(!s)return null;for(;K!==null;)u(W,K),K=K.sibling;return null}function g(W){for(var K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function x(W,K){return W=Eo(W,K),W.index=0,W.sibling=null,W}function E(W,K,Z){return W.index=Z,s?(Z=W.alternate,Z!==null?(Z=Z.index,Z<K?(W.flags|=67108866,K):Z):(W.flags|=67108866,K)):(W.flags|=1048576,K)}function R(W){return s&&W.alternate===null&&(W.flags|=67108866),W}function L(W,K,Z,le){return K===null||K.tag!==6?(K=Gm(Z,W.mode,le),K.return=W,K):(K=x(K,Z),K.return=W,K)}function q(W,K,Z,le){var Pe=Z.type;return Pe===w?oe(W,K,Z.props.children,le,Z.key):K!==null&&(K.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===M&&ru(Pe)===K.type)?(K=x(K,Z.props),wd(K,Z),K.return=W,K):(K=lp(Z.type,Z.key,Z.props,null,W.mode,le),wd(K,Z),K.return=W,K)}function J(W,K,Z,le){return K===null||K.tag!==4||K.stateNode.containerInfo!==Z.containerInfo||K.stateNode.implementation!==Z.implementation?(K=Km(Z,W.mode,le),K.return=W,K):(K=x(K,Z.children||[]),K.return=W,K)}function oe(W,K,Z,le,Pe){return K===null||K.tag!==7?(K=Zl(Z,W.mode,le,Pe),K.return=W,K):(K=x(K,Z),K.return=W,K)}function ce(W,K,Z){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Gm(""+K,W.mode,Z),K.return=W,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case m:return Z=lp(K.type,K.key,K.props,null,W.mode,Z),wd(Z,K),Z.return=W,Z;case _:return K=Km(K,W.mode,Z),K.return=W,K;case M:return K=ru(K),ce(W,K,Z)}if(be(K)||H(K))return K=Zl(K,W.mode,Z,null),K.return=W,K;if(typeof K.then=="function")return ce(W,gp(K),Z);if(K.$$typeof===O)return ce(W,fp(W,K),Z);vp(W,K)}return null}function te(W,K,Z,le){var Pe=K!==null?K.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Pe!==null?null:L(W,K,""+Z,le);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:return Z.key===Pe?q(W,K,Z,le):null;case _:return Z.key===Pe?J(W,K,Z,le):null;case M:return Z=ru(Z),te(W,K,Z,le)}if(be(Z)||H(Z))return Pe!==null?null:oe(W,K,Z,le,null);if(typeof Z.then=="function")return te(W,K,gp(Z),le);if(Z.$$typeof===O)return te(W,K,fp(W,Z),le);vp(W,Z)}return null}function ie(W,K,Z,le,Pe){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return W=W.get(Z)||null,L(K,W,""+le,Pe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case m:return W=W.get(le.key===null?Z:le.key)||null,q(K,W,le,Pe);case _:return W=W.get(le.key===null?Z:le.key)||null,J(K,W,le,Pe);case M:return le=ru(le),ie(W,K,Z,le,Pe)}if(be(le)||H(le))return W=W.get(Z)||null,oe(K,W,le,Pe,null);if(typeof le.then=="function")return ie(W,K,Z,gp(le),Pe);if(le.$$typeof===O)return ie(W,K,Z,fp(K,le),Pe);vp(K,le)}return null}function Ae(W,K,Z,le){for(var Pe=null,ht=null,Ie=K,Ke=K=0,rt=null;Ie!==null&&Ke<Z.length;Ke++){Ie.index>Ke?(rt=Ie,Ie=null):rt=Ie.sibling;var pt=te(W,Ie,Z[Ke],le);if(pt===null){Ie===null&&(Ie=rt);break}s&&Ie&&pt.alternate===null&&u(W,Ie),K=E(pt,K,Ke),ht===null?Pe=pt:ht.sibling=pt,ht=pt,Ie=rt}if(Ke===Z.length)return d(W,Ie),st&&Ao(W,Ke),Pe;if(Ie===null){for(;Ke<Z.length;Ke++)Ie=ce(W,Z[Ke],le),Ie!==null&&(K=E(Ie,K,Ke),ht===null?Pe=Ie:ht.sibling=Ie,ht=Ie);return st&&Ao(W,Ke),Pe}for(Ie=g(Ie);Ke<Z.length;Ke++)rt=ie(Ie,W,Ke,Z[Ke],le),rt!==null&&(s&&rt.alternate!==null&&Ie.delete(rt.key===null?Ke:rt.key),K=E(rt,K,Ke),ht===null?Pe=rt:ht.sibling=rt,ht=rt);return s&&Ie.forEach(function($s){return u(W,$s)}),st&&Ao(W,Ke),Pe}function je(W,K,Z,le){if(Z==null)throw Error(r(151));for(var Pe=null,ht=null,Ie=K,Ke=K=0,rt=null,pt=Z.next();Ie!==null&&!pt.done;Ke++,pt=Z.next()){Ie.index>Ke?(rt=Ie,Ie=null):rt=Ie.sibling;var $s=te(W,Ie,pt.value,le);if($s===null){Ie===null&&(Ie=rt);break}s&&Ie&&$s.alternate===null&&u(W,Ie),K=E($s,K,Ke),ht===null?Pe=$s:ht.sibling=$s,ht=$s,Ie=rt}if(pt.done)return d(W,Ie),st&&Ao(W,Ke),Pe;if(Ie===null){for(;!pt.done;Ke++,pt=Z.next())pt=ce(W,pt.value,le),pt!==null&&(K=E(pt,K,Ke),ht===null?Pe=pt:ht.sibling=pt,ht=pt);return st&&Ao(W,Ke),Pe}for(Ie=g(Ie);!pt.done;Ke++,pt=Z.next())pt=ie(Ie,W,Ke,pt.value,le),pt!==null&&(s&&pt.alternate!==null&&Ie.delete(pt.key===null?Ke:pt.key),K=E(pt,K,Ke),ht===null?Pe=pt:ht.sibling=pt,ht=pt);return s&&Ie.forEach(function(hB){return u(W,hB)}),st&&Ao(W,Ke),Pe}function Lt(W,K,Z,le){if(typeof Z=="object"&&Z!==null&&Z.type===w&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:e:{for(var Pe=Z.key;K!==null;){if(K.key===Pe){if(Pe=Z.type,Pe===w){if(K.tag===7){d(W,K.sibling),le=x(K,Z.props.children),le.return=W,W=le;break e}}else if(K.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===M&&ru(Pe)===K.type){d(W,K.sibling),le=x(K,Z.props),wd(le,Z),le.return=W,W=le;break e}d(W,K);break}else u(W,K);K=K.sibling}Z.type===w?(le=Zl(Z.props.children,W.mode,le,Z.key),le.return=W,W=le):(le=lp(Z.type,Z.key,Z.props,null,W.mode,le),wd(le,Z),le.return=W,W=le)}return R(W);case _:e:{for(Pe=Z.key;K!==null;){if(K.key===Pe)if(K.tag===4&&K.stateNode.containerInfo===Z.containerInfo&&K.stateNode.implementation===Z.implementation){d(W,K.sibling),le=x(K,Z.children||[]),le.return=W,W=le;break e}else{d(W,K);break}else u(W,K);K=K.sibling}le=Km(Z,W.mode,le),le.return=W,W=le}return R(W);case M:return Z=ru(Z),Lt(W,K,Z,le)}if(be(Z))return Ae(W,K,Z,le);if(H(Z)){if(Pe=H(Z),typeof Pe!="function")throw Error(r(150));return Z=Pe.call(Z),je(W,K,Z,le)}if(typeof Z.then=="function")return Lt(W,K,gp(Z),le);if(Z.$$typeof===O)return Lt(W,K,fp(W,Z),le);vp(W,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,K!==null&&K.tag===6?(d(W,K.sibling),le=x(K,Z),le.return=W,W=le):(d(W,K),le=Gm(Z,W.mode,le),le.return=W,W=le),R(W)):d(W,K)}return function(W,K,Z,le){try{bd=0;var Pe=Lt(W,K,Z,le);return Ec=null,Pe}catch(Ie){if(Ie===wc||Ie===hp)throw Ie;var ht=vi(29,Ie,null,W.mode);return ht.lanes=le,ht.return=W,ht}finally{}}}var au=bC(!0),wC=bC(!1),Ts=!1;function ay(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oy(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Is(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Os(s,u,d){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(xt&2)!==0){var x=g.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),g.pending=u,u=sp(s),aC(s,null,d),u}return op(s,g,u,d),sp(s)}function Ed(s,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194048)!==0)){var g=u.lanes;g&=s.pendingLanes,d|=g,u.lanes=d,Yf(s,d)}}function sy(s,u){var d=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var x=null,E=null;if(d=d.firstBaseUpdate,d!==null){do{var R={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};E===null?x=E=R:E=E.next=R,d=d.next}while(d!==null);E===null?x=E=u:E=E.next=u}else x=E=u;d={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:E,shared:g.shared,callbacks:g.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=u}var ly=!1;function Ad(){if(ly){var s=bc;if(s!==null)throw s}}function Sd(s,u,d,g){ly=!1;var x=s.updateQueue;Ts=!1;var E=x.firstBaseUpdate,R=x.lastBaseUpdate,L=x.shared.pending;if(L!==null){x.shared.pending=null;var q=L,J=q.next;q.next=null,R===null?E=J:R.next=J,R=q;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,L=oe.lastBaseUpdate,L!==R&&(L===null?oe.firstBaseUpdate=J:L.next=J,oe.lastBaseUpdate=q))}if(E!==null){var ce=x.baseState;R=0,oe=J=q=null,L=E;do{var te=L.lane&-536870913,ie=te!==L.lane;if(ie?(nt&te)===te:(g&te)===te){te!==0&&te===_c&&(ly=!0),oe!==null&&(oe=oe.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Ae=s,je=L;te=u;var Lt=d;switch(je.tag){case 1:if(Ae=je.payload,typeof Ae=="function"){ce=Ae.call(Lt,ce,te);break e}ce=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=je.payload,te=typeof Ae=="function"?Ae.call(Lt,ce,te):Ae,te==null)break e;ce=p({},ce,te);break e;case 2:Ts=!0}}te=L.callback,te!==null&&(s.flags|=64,ie&&(s.flags|=8192),ie=x.callbacks,ie===null?x.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:L.tag,payload:L.payload,callback:L.callback,next:null},oe===null?(J=oe=ie,q=ce):oe=oe.next=ie,R|=te;if(L=L.next,L===null){if(L=x.shared.pending,L===null)break;ie=L,L=ie.next,ie.next=null,x.lastBaseUpdate=ie,x.shared.pending=null}}while(!0);oe===null&&(q=ce),x.baseState=q,x.firstBaseUpdate=J,x.lastBaseUpdate=oe,E===null&&(x.shared.lanes=0),Ms|=R,s.lanes=R,s.memoizedState=ce}}function EC(s,u){if(typeof s!="function")throw Error(r(191,s));s.call(u)}function AC(s,u){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)EC(d[s],u)}var Ac=G(null),mp=G(0);function SC(s,u){s=ko,ye(mp,s),ye(Ac,u),ko=s|u.baseLanes}function uy(){ye(mp,ko),ye(Ac,Ac.current)}function cy(){ko=mp.current,ee(Ac),ee(mp)}var mi=G(null),$i=null;function Rs(s){var u=s.alternate;ye(xn,xn.current&1),ye(mi,s),$i===null&&(u===null||Ac.current!==null||u.memoizedState!==null)&&($i=s)}function fy(s){ye(xn,xn.current),ye(mi,s),$i===null&&($i=s)}function CC(s){s.tag===22?(ye(xn,xn.current),ye(mi,s),$i===null&&($i=s)):Ps()}function Ps(){ye(xn,xn.current),ye(mi,mi.current)}function yi(s){ee(mi),$i===s&&($i=null),ee(xn)}var xn=G(0);function yp(s){for(var u=s;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||m2(d)||y2(d)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var To=0,qe=null,kt=null,Pn=null,xp=!1,Sc=!1,ou=!1,_p=0,Cd=0,Cc=null,rL=0;function cn(){throw Error(r(321))}function dy(s,u){if(u===null)return!1;for(var d=0;d<u.length&&d<s.length;d++)if(!gi(s[d],u[d]))return!1;return!0}function hy(s,u,d,g,x,E){return To=E,qe=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Y.H=s===null||s.memoizedState===null?uT:Iy,ou=!1,E=d(g,x),ou=!1,Sc&&(E=IC(u,d,g,x)),TC(s),E}function TC(s){Y.H=Od;var u=kt!==null&&kt.next!==null;if(To=0,Pn=kt=qe=null,xp=!1,Cd=0,Cc=null,u)throw Error(r(300));s===null||Dn||(s=s.dependencies,s!==null&&cp(s)&&(Dn=!0))}function IC(s,u,d,g){qe=s;var x=0;do{if(Sc&&(Cc=null),Cd=0,Sc=!1,25<=x)throw Error(r(301));if(x+=1,Pn=kt=null,s.updateQueue!=null){var E=s.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}Y.H=cT,E=u(d,g)}while(Sc);return E}function iL(){var s=Y.H,u=s.useState()[0];return u=typeof u.then=="function"?Td(u):u,s=s.useState()[0],(kt!==null?kt.memoizedState:null)!==s&&(qe.flags|=1024),u}function py(){var s=_p!==0;return _p=0,s}function gy(s,u,d){u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~d}function vy(s){if(xp){for(s=s.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}xp=!1}To=0,Pn=kt=qe=null,Sc=!1,Cd=_p=0,Cc=null}function Ur(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?qe.memoizedState=Pn=s:Pn=Pn.next=s,Pn}function _n(){if(kt===null){var s=qe.alternate;s=s!==null?s.memoizedState:null}else s=kt.next;var u=Pn===null?qe.memoizedState:Pn.next;if(u!==null)Pn=u,kt=s;else{if(s===null)throw qe.alternate===null?Error(r(467)):Error(r(310));kt=s,s={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Pn===null?qe.memoizedState=Pn=s:Pn=Pn.next=s}return Pn}function bp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Td(s){var u=Cd;return Cd+=1,Cc===null&&(Cc=[]),s=yC(Cc,s,u),u=qe,(Pn===null?u.memoizedState:Pn.next)===null&&(u=u.alternate,Y.H=u===null||u.memoizedState===null?uT:Iy),s}function wp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Td(s);if(s.$$typeof===O)return pr(s)}throw Error(r(438,String(s)))}function my(s){var u=null,d=qe.updateQueue;if(d!==null&&(u=d.memoCache),u==null){var g=qe.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(x){return x.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),d===null&&(d=bp(),qe.updateQueue=d),d.memoCache=u,d=u.data[u.index],d===void 0)for(d=u.data[u.index]=Array(s),g=0;g<s;g++)d[g]=z;return u.index++,d}function Io(s,u){return typeof u=="function"?u(s):u}function Ep(s){var u=_n();return yy(u,kt,s)}function yy(s,u,d){var g=s.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=d;var x=s.baseQueue,E=g.pending;if(E!==null){if(x!==null){var R=x.next;x.next=E.next,E.next=R}u.baseQueue=x=E,g.pending=null}if(E=s.baseState,x===null)s.memoizedState=E;else{u=x.next;var L=R=null,q=null,J=u,oe=!1;do{var ce=J.lane&-536870913;if(ce!==J.lane?(nt&ce)===ce:(To&ce)===ce){var te=J.revertLane;if(te===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ce===_c&&(oe=!0);else if((To&te)===te){J=J.next,te===_c&&(oe=!0);continue}else ce={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(L=q=ce,R=E):q=q.next=ce,qe.lanes|=te,Ms|=te;ce=J.action,ou&&d(E,ce),E=J.hasEagerState?J.eagerState:d(E,ce)}else te={lane:ce,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(L=q=te,R=E):q=q.next=te,qe.lanes|=ce,Ms|=ce;J=J.next}while(J!==null&&J!==u);if(q===null?R=E:q.next=L,!gi(E,s.memoizedState)&&(Dn=!0,oe&&(d=bc,d!==null)))throw d;s.memoizedState=E,s.baseState=R,s.baseQueue=q,g.lastRenderedState=E}return x===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function xy(s){var u=_n(),d=u.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var g=d.dispatch,x=d.pending,E=u.memoizedState;if(x!==null){d.pending=null;var R=x=x.next;do E=s(E,R.action),R=R.next;while(R!==x);gi(E,u.memoizedState)||(Dn=!0),u.memoizedState=E,u.baseQueue===null&&(u.baseState=E),d.lastRenderedState=E}return[E,g]}function OC(s,u,d){var g=qe,x=_n(),E=st;if(E){if(d===void 0)throw Error(r(407));d=d()}else d=u();var R=!gi((kt||x).memoizedState,d);if(R&&(x.memoizedState=d,Dn=!0),x=x.queue,wy(DC.bind(null,g,x,s),[s]),x.getSnapshot!==u||R||Pn!==null&&Pn.memoizedState.tag&1){if(g.flags|=2048,Tc(9,{destroy:void 0},PC.bind(null,g,x,d,u),null),Vt===null)throw Error(r(349));E||(To&127)!==0||RC(g,u,d)}return d}function RC(s,u,d){s.flags|=16384,s={getSnapshot:u,value:d},u=qe.updateQueue,u===null?(u=bp(),qe.updateQueue=u,u.stores=[s]):(d=u.stores,d===null?u.stores=[s]:d.push(s))}function PC(s,u,d,g){u.value=d,u.getSnapshot=g,NC(u)&&MC(s)}function DC(s,u,d){return d(function(){NC(u)&&MC(s)})}function NC(s){var u=s.getSnapshot;s=s.value;try{var d=u();return!gi(s,d)}catch{return!0}}function MC(s){var u=Ql(s,2);u!==null&&ei(u,s,2)}function _y(s){var u=Ur();if(typeof s=="function"){var d=s;if(s=d(),ou){Mi(!0);try{d()}finally{Mi(!1)}}}return u.memoizedState=u.baseState=s,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:s},u}function kC(s,u,d,g){return s.baseState=d,yy(s,kt,typeof g=="function"?g:Io)}function aL(s,u,d,g,x){if(Cp(s))throw Error(r(485));if(s=u.action,s!==null){var E={payload:x,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){E.listeners.push(R)}};Y.T!==null?d(!0):E.isTransition=!1,g(E),d=u.pending,d===null?(E.next=u.pending=E,jC(u,E)):(E.next=d.next,u.pending=d.next=E)}}function jC(s,u){var d=u.action,g=u.payload,x=s.state;if(u.isTransition){var E=Y.T,R={};Y.T=R;try{var L=d(x,g),q=Y.S;q!==null&&q(R,L),LC(s,u,L)}catch(J){by(s,u,J)}finally{E!==null&&R.types!==null&&(E.types=R.types),Y.T=E}}else try{E=d(x,g),LC(s,u,E)}catch(J){by(s,u,J)}}function LC(s,u,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){BC(s,u,g)},function(g){return by(s,u,g)}):BC(s,u,d)}function BC(s,u,d){u.status="fulfilled",u.value=d,FC(u),s.state=d,u=s.pending,u!==null&&(d=u.next,d===u?s.pending=null:(d=d.next,u.next=d,jC(s,d)))}function by(s,u,d){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=d,FC(u),u=u.next;while(u!==g)}s.action=null}function FC(s){s=s.listeners;for(var u=0;u<s.length;u++)(0,s[u])()}function VC(s,u){return u}function UC(s,u){if(st){var d=Vt.formState;if(d!==null){e:{var g=qe;if(st){if(Gt){t:{for(var x=Gt,E=Hi;x.nodeType!==8;){if(!E){x=null;break t}if(x=qi(x.nextSibling),x===null){x=null;break t}}E=x.data,x=E==="F!"||E==="F"?x:null}if(x){Gt=qi(x.nextSibling),g=x.data==="F!";break e}}Ss(g)}g=!1}g&&(u=d[0])}}return d=Ur(),d.memoizedState=d.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:VC,lastRenderedState:u},d.queue=g,d=oT.bind(null,qe,g),g.dispatch=d,g=_y(!1),E=Ty.bind(null,qe,!1,g.queue),g=Ur(),x={state:u,dispatch:null,action:s,pending:null},g.queue=x,d=aL.bind(null,qe,x,E,d),x.dispatch=d,g.memoizedState=s,[u,d,!1]}function zC(s){var u=_n();return HC(u,kt,s)}function HC(s,u,d){if(u=yy(s,u,VC)[0],s=Ep(Io)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=Td(u)}catch(R){throw R===wc?hp:R}else g=u;u=_n();var x=u.queue,E=x.dispatch;return d!==u.memoizedState&&(qe.flags|=2048,Tc(9,{destroy:void 0},oL.bind(null,x,d),null)),[g,E,s]}function oL(s,u){s.action=u}function $C(s){var u=_n(),d=kt;if(d!==null)return HC(u,d,s);_n(),u=u.memoizedState,d=_n();var g=d.queue.dispatch;return d.memoizedState=s,[u,g,!1]}function Tc(s,u,d,g){return s={tag:s,create:d,deps:g,inst:u,next:null},u=qe.updateQueue,u===null&&(u=bp(),qe.updateQueue=u),d=u.lastEffect,d===null?u.lastEffect=s.next=s:(g=d.next,d.next=s,s.next=g,u.lastEffect=s),s}function qC(){return _n().memoizedState}function Ap(s,u,d,g){var x=Ur();qe.flags|=s,x.memoizedState=Tc(1|u,{destroy:void 0},d,g===void 0?null:g)}function Sp(s,u,d,g){var x=_n();g=g===void 0?null:g;var E=x.memoizedState.inst;kt!==null&&g!==null&&dy(g,kt.memoizedState.deps)?x.memoizedState=Tc(u,E,d,g):(qe.flags|=s,x.memoizedState=Tc(1|u,E,d,g))}function GC(s,u){Ap(8390656,8,s,u)}function wy(s,u){Sp(2048,8,s,u)}function sL(s){qe.flags|=4;var u=qe.updateQueue;if(u===null)u=bp(),qe.updateQueue=u,u.events=[s];else{var d=u.events;d===null?u.events=[s]:d.push(s)}}function KC(s){var u=_n().memoizedState;return sL({ref:u,nextImpl:s}),function(){if((xt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function WC(s,u){return Sp(4,2,s,u)}function XC(s,u){return Sp(4,4,s,u)}function YC(s,u){if(typeof u=="function"){s=s();var d=u(s);return function(){typeof d=="function"?d():u(null)}}if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function QC(s,u,d){d=d!=null?d.concat([s]):null,Sp(4,4,YC.bind(null,u,s),d)}function Ey(){}function ZC(s,u){var d=_n();u=u===void 0?null:u;var g=d.memoizedState;return u!==null&&dy(u,g[1])?g[0]:(d.memoizedState=[s,u],s)}function JC(s,u){var d=_n();u=u===void 0?null:u;var g=d.memoizedState;if(u!==null&&dy(u,g[1]))return g[0];if(g=s(),ou){Mi(!0);try{s()}finally{Mi(!1)}}return d.memoizedState=[g,u],g}function Ay(s,u,d){return d===void 0||(To&1073741824)!==0&&(nt&261930)===0?s.memoizedState=u:(s.memoizedState=d,s=e3(),qe.lanes|=s,Ms|=s,d)}function eT(s,u,d,g){return gi(d,u)?d:Ac.current!==null?(s=Ay(s,d,g),gi(s,u)||(Dn=!0),s):(To&42)===0||(To&1073741824)!==0&&(nt&261930)===0?(Dn=!0,s.memoizedState=d):(s=e3(),qe.lanes|=s,Ms|=s,u)}function tT(s,u,d,g,x){var E=se.p;se.p=E!==0&&8>E?E:8;var R=Y.T,L={};Y.T=L,Ty(s,!1,u,d);try{var q=x(),J=Y.S;if(J!==null&&J(L,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var oe=nL(q,g);Id(s,u,oe,bi(s))}else Id(s,u,g,bi(s))}catch(ce){Id(s,u,{then:function(){},status:"rejected",reason:ce},bi())}finally{se.p=E,R!==null&&L.types!==null&&(R.types=L.types),Y.T=R}}function lL(){}function Sy(s,u,d,g){if(s.tag!==5)throw Error(r(476));var x=nT(s).queue;tT(s,x,u,me,d===null?lL:function(){return rT(s),d(g)})}function nT(s){var u=s.memoizedState;if(u!==null)return u;u={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:me},next:null};var d={};return u.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:d},next:null},s.memoizedState=u,s=s.alternate,s!==null&&(s.memoizedState=u),u}function rT(s){var u=nT(s);u.next===null&&(u=s.alternate.memoizedState),Id(s,u.next.queue,{},bi())}function Cy(){return pr(qd)}function iT(){return _n().memoizedState}function aT(){return _n().memoizedState}function uL(s){for(var u=s.return;u!==null;){switch(u.tag){case 24:case 3:var d=bi();s=Is(d);var g=Os(u,s,d);g!==null&&(ei(g,u,d),Ed(g,u,d)),u={cache:ty()},s.payload=u;return}u=u.return}}function cL(s,u,d){var g=bi();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Cp(s)?sT(u,d):(d=$m(s,u,d,g),d!==null&&(ei(d,s,g),lT(d,u,g)))}function oT(s,u,d){var g=bi();Id(s,u,d,g)}function Id(s,u,d,g){var x={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Cp(s))sT(u,x);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=u.lastRenderedReducer,E!==null))try{var R=u.lastRenderedState,L=E(R,d);if(x.hasEagerState=!0,x.eagerState=L,gi(L,R))return op(s,u,x,0),Vt===null&&ap(),!1}catch{}finally{}if(d=$m(s,u,x,g),d!==null)return ei(d,s,g),lT(d,u,g),!0}return!1}function Ty(s,u,d,g){if(g={lane:2,revertLane:a2(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Cp(s)){if(u)throw Error(r(479))}else u=$m(s,d,g,2),u!==null&&ei(u,s,2)}function Cp(s){var u=s.alternate;return s===qe||u!==null&&u===qe}function sT(s,u){Sc=xp=!0;var d=s.pending;d===null?u.next=u:(u.next=d.next,d.next=u),s.pending=u}function lT(s,u,d){if((d&4194048)!==0){var g=u.lanes;g&=s.pendingLanes,d|=g,u.lanes=d,Yf(s,d)}}var Od={readContext:pr,use:wp,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn};Od.useEffectEvent=cn;var uT={readContext:pr,use:wp,useCallback:function(s,u){return Ur().memoizedState=[s,u===void 0?null:u],s},useContext:pr,useEffect:GC,useImperativeHandle:function(s,u,d){d=d!=null?d.concat([s]):null,Ap(4194308,4,YC.bind(null,u,s),d)},useLayoutEffect:function(s,u){return Ap(4194308,4,s,u)},useInsertionEffect:function(s,u){Ap(4,2,s,u)},useMemo:function(s,u){var d=Ur();u=u===void 0?null:u;var g=s();if(ou){Mi(!0);try{s()}finally{Mi(!1)}}return d.memoizedState=[g,u],g},useReducer:function(s,u,d){var g=Ur();if(d!==void 0){var x=d(u);if(ou){Mi(!0);try{d(u)}finally{Mi(!1)}}}else x=u;return g.memoizedState=g.baseState=x,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:x},g.queue=s,s=s.dispatch=cL.bind(null,qe,s),[g.memoizedState,s]},useRef:function(s){var u=Ur();return s={current:s},u.memoizedState=s},useState:function(s){s=_y(s);var u=s.queue,d=oT.bind(null,qe,u);return u.dispatch=d,[s.memoizedState,d]},useDebugValue:Ey,useDeferredValue:function(s,u){var d=Ur();return Ay(d,s,u)},useTransition:function(){var s=_y(!1);return s=tT.bind(null,qe,s.queue,!0,!1),Ur().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,u,d){var g=qe,x=Ur();if(st){if(d===void 0)throw Error(r(407));d=d()}else{if(d=u(),Vt===null)throw Error(r(349));(nt&127)!==0||RC(g,u,d)}x.memoizedState=d;var E={value:d,getSnapshot:u};return x.queue=E,GC(DC.bind(null,g,E,s),[s]),g.flags|=2048,Tc(9,{destroy:void 0},PC.bind(null,g,E,d,u),null),d},useId:function(){var s=Ur(),u=Vt.identifierPrefix;if(st){var d=Wa,g=Ka;d=(g&~(1<<32-mn(g)-1)).toString(32)+d,u="_"+u+"R_"+d,d=_p++,0<d&&(u+="H"+d.toString(32)),u+="_"}else d=rL++,u="_"+u+"r_"+d.toString(32)+"_";return s.memoizedState=u},useHostTransitionStatus:Cy,useFormState:UC,useActionState:UC,useOptimistic:function(s){var u=Ur();u.memoizedState=u.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=d,u=Ty.bind(null,qe,!0,d),d.dispatch=u,[s,u]},useMemoCache:my,useCacheRefresh:function(){return Ur().memoizedState=uL.bind(null,qe)},useEffectEvent:function(s){var u=Ur(),d={impl:s};return u.memoizedState=d,function(){if((xt&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},Iy={readContext:pr,use:wp,useCallback:ZC,useContext:pr,useEffect:wy,useImperativeHandle:QC,useInsertionEffect:WC,useLayoutEffect:XC,useMemo:JC,useReducer:Ep,useRef:qC,useState:function(){return Ep(Io)},useDebugValue:Ey,useDeferredValue:function(s,u){var d=_n();return eT(d,kt.memoizedState,s,u)},useTransition:function(){var s=Ep(Io)[0],u=_n().memoizedState;return[typeof s=="boolean"?s:Td(s),u]},useSyncExternalStore:OC,useId:iT,useHostTransitionStatus:Cy,useFormState:zC,useActionState:zC,useOptimistic:function(s,u){var d=_n();return kC(d,kt,s,u)},useMemoCache:my,useCacheRefresh:aT};Iy.useEffectEvent=KC;var cT={readContext:pr,use:wp,useCallback:ZC,useContext:pr,useEffect:wy,useImperativeHandle:QC,useInsertionEffect:WC,useLayoutEffect:XC,useMemo:JC,useReducer:xy,useRef:qC,useState:function(){return xy(Io)},useDebugValue:Ey,useDeferredValue:function(s,u){var d=_n();return kt===null?Ay(d,s,u):eT(d,kt.memoizedState,s,u)},useTransition:function(){var s=xy(Io)[0],u=_n().memoizedState;return[typeof s=="boolean"?s:Td(s),u]},useSyncExternalStore:OC,useId:iT,useHostTransitionStatus:Cy,useFormState:$C,useActionState:$C,useOptimistic:function(s,u){var d=_n();return kt!==null?kC(d,kt,s,u):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:my,useCacheRefresh:aT};cT.useEffectEvent=KC;function Oy(s,u,d,g){u=s.memoizedState,d=d(g,u),d=d==null?u:p({},u,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Ry={enqueueSetState:function(s,u,d){s=s._reactInternals;var g=bi(),x=Is(g);x.payload=u,d!=null&&(x.callback=d),u=Os(s,x,g),u!==null&&(ei(u,s,g),Ed(u,s,g))},enqueueReplaceState:function(s,u,d){s=s._reactInternals;var g=bi(),x=Is(g);x.tag=1,x.payload=u,d!=null&&(x.callback=d),u=Os(s,x,g),u!==null&&(ei(u,s,g),Ed(u,s,g))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var d=bi(),g=Is(d);g.tag=2,u!=null&&(g.callback=u),u=Os(s,g,d),u!==null&&(ei(u,s,d),Ed(u,s,d))}};function fT(s,u,d,g,x,E,R){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,E,R):u.prototype&&u.prototype.isPureReactComponent?!gd(d,g)||!gd(x,E):!0}function dT(s,u,d,g){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==s&&Ry.enqueueReplaceState(u,u.state,null)}function su(s,u){var d=u;if("ref"in u){d={};for(var g in u)g!=="ref"&&(d[g]=u[g])}if(s=s.defaultProps){d===u&&(d=p({},d));for(var x in s)d[x]===void 0&&(d[x]=s[x])}return d}function hT(s){ip(s)}function pT(s){console.error(s)}function gT(s){ip(s)}function Tp(s,u){try{var d=s.onUncaughtError;d(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function vT(s,u,d){try{var g=s.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Py(s,u,d){return d=Is(d),d.tag=3,d.payload={element:null},d.callback=function(){Tp(s,u)},d}function mT(s){return s=Is(s),s.tag=3,s}function yT(s,u,d,g){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var E=g.value;s.payload=function(){return x(E)},s.callback=function(){vT(u,d,g)}}var R=d.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(s.callback=function(){vT(u,d,g),typeof x!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var L=g.stack;this.componentDidCatch(g.value,{componentStack:L!==null?L:""})})}function fL(s,u,d,g,x){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=d.alternate,u!==null&&xc(u,d,x,!0),d=mi.current,d!==null){switch(d.tag){case 31:case 13:return $i===null?Fp():d.alternate===null&&fn===0&&(fn=3),d.flags&=-257,d.flags|=65536,d.lanes=x,g===pp?d.flags|=16384:(u=d.updateQueue,u===null?d.updateQueue=new Set([g]):u.add(g),n2(s,g,x)),!1;case 22:return d.flags|=65536,g===pp?d.flags|=16384:(u=d.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=u):(d=u.retryQueue,d===null?u.retryQueue=new Set([g]):d.add(g)),n2(s,g,x)),!1}throw Error(r(435,d.tag))}return n2(s,g,x),Fp(),!1}if(st)return u=mi.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=x,g!==Ym&&(s=Error(r(422),{cause:g}),yd(Vi(s,d)))):(g!==Ym&&(u=Error(r(423),{cause:g}),yd(Vi(u,d))),s=s.current.alternate,s.flags|=65536,x&=-x,s.lanes|=x,g=Vi(g,d),x=Py(s.stateNode,g,x),sy(s,x),fn!==4&&(fn=2)),!1;var E=Error(r(520),{cause:g});if(E=Vi(E,d),Ld===null?Ld=[E]:Ld.push(E),fn!==4&&(fn=2),u===null)return!0;g=Vi(g,d),d=u;do{switch(d.tag){case 3:return d.flags|=65536,s=x&-x,d.lanes|=s,s=Py(d.stateNode,g,s),sy(d,s),!1;case 1:if(u=d.type,E=d.stateNode,(d.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ks===null||!ks.has(E))))return d.flags|=65536,x&=-x,d.lanes|=x,x=mT(x),yT(x,s,d,g),sy(d,x),!1}d=d.return}while(d!==null);return!1}var Dy=Error(r(461)),Dn=!1;function gr(s,u,d,g){u.child=s===null?wC(u,null,d,g):au(u,s.child,d,g)}function xT(s,u,d,g,x){d=d.render;var E=u.ref;if("ref"in g){var R={};for(var L in g)L!=="ref"&&(R[L]=g[L])}else R=g;return tu(u),g=hy(s,u,d,R,E,x),L=py(),s!==null&&!Dn?(gy(s,u,x),Oo(s,u,x)):(st&&L&&Wm(u),u.flags|=1,gr(s,u,g,x),u.child)}function _T(s,u,d,g,x){if(s===null){var E=d.type;return typeof E=="function"&&!qm(E)&&E.defaultProps===void 0&&d.compare===null?(u.tag=15,u.type=E,bT(s,u,E,g,x)):(s=lp(d.type,null,g,u,u.mode,x),s.ref=u.ref,s.return=u,u.child=s)}if(E=s.child,!Vy(s,x)){var R=E.memoizedProps;if(d=d.compare,d=d!==null?d:gd,d(R,g)&&s.ref===u.ref)return Oo(s,u,x)}return u.flags|=1,s=Eo(E,g),s.ref=u.ref,s.return=u,u.child=s}function bT(s,u,d,g,x){if(s!==null){var E=s.memoizedProps;if(gd(E,g)&&s.ref===u.ref)if(Dn=!1,u.pendingProps=g=E,Vy(s,x))(s.flags&131072)!==0&&(Dn=!0);else return u.lanes=s.lanes,Oo(s,u,x)}return Ny(s,u,d,g,x)}function wT(s,u,d,g){var x=g.children,E=s!==null?s.memoizedState:null;if(s===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((u.flags&128)!==0){if(E=E!==null?E.baseLanes|d:d,s!==null){for(g=u.child=s.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;g=x&~E}else g=0,u.child=null;return ET(s,u,E,d,g)}if((d&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},s!==null&&dp(u,E!==null?E.cachePool:null),E!==null?SC(u,E):uy(),CC(u);else return g=u.lanes=536870912,ET(s,u,E!==null?E.baseLanes|d:d,d,g)}else E!==null?(dp(u,E.cachePool),SC(u,E),Ps(),u.memoizedState=null):(s!==null&&dp(u,null),uy(),Ps());return gr(s,u,x,d),u.child}function Rd(s,u){return s!==null&&s.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function ET(s,u,d,g,x){var E=ry();return E=E===null?null:{parent:Rn._currentValue,pool:E},u.memoizedState={baseLanes:d,cachePool:E},s!==null&&dp(u,null),uy(),CC(u),s!==null&&xc(s,u,g,!0),u.childLanes=x,null}function Ip(s,u){return u=Rp({mode:u.mode,children:u.children},s.mode),u.ref=s.ref,s.child=u,u.return=s,u}function AT(s,u,d){return au(u,s.child,null,d),s=Ip(u,u.pendingProps),s.flags|=2,yi(u),u.memoizedState=null,s}function dL(s,u,d){var g=u.pendingProps,x=(u.flags&128)!==0;if(u.flags&=-129,s===null){if(st){if(g.mode==="hidden")return s=Ip(u,g),u.lanes=536870912,Rd(null,s);if(fy(u),(s=Gt)?(s=j3(s,Hi),s=s!==null&&s.data==="&"?s:null,s!==null&&(u.memoizedState={dehydrated:s,treeContext:Es!==null?{id:Ka,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},d=sC(s),d.return=u,u.child=d,hr=u,Gt=null)):s=null,s===null)throw Ss(u);return u.lanes=536870912,null}return Ip(u,g)}var E=s.memoizedState;if(E!==null){var R=E.dehydrated;if(fy(u),x)if(u.flags&256)u.flags&=-257,u=AT(s,u,d);else if(u.memoizedState!==null)u.child=s.child,u.flags|=128,u=null;else throw Error(r(558));else if(Dn||xc(s,u,d,!1),x=(d&s.childLanes)!==0,Dn||x){if(g=Vt,g!==null&&(R=Qf(g,d),R!==0&&R!==E.retryLane))throw E.retryLane=R,Ql(s,R),ei(g,s,R),Dy;Fp(),u=AT(s,u,d)}else s=E.treeContext,Gt=qi(R.nextSibling),hr=u,st=!0,As=null,Hi=!1,s!==null&&cC(u,s),u=Ip(u,g),u.flags|=4096;return u}return s=Eo(s.child,{mode:g.mode,children:g.children}),s.ref=u.ref,u.child=s,s.return=u,s}function Op(s,u){var d=u.ref;if(d===null)s!==null&&s.ref!==null&&(u.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(s===null||s.ref!==d)&&(u.flags|=4194816)}}function Ny(s,u,d,g,x){return tu(u),d=hy(s,u,d,g,void 0,x),g=py(),s!==null&&!Dn?(gy(s,u,x),Oo(s,u,x)):(st&&g&&Wm(u),u.flags|=1,gr(s,u,d,x),u.child)}function ST(s,u,d,g,x,E){return tu(u),u.updateQueue=null,d=IC(u,g,d,x),TC(s),g=py(),s!==null&&!Dn?(gy(s,u,E),Oo(s,u,E)):(st&&g&&Wm(u),u.flags|=1,gr(s,u,d,E),u.child)}function CT(s,u,d,g,x){if(tu(u),u.stateNode===null){var E=gc,R=d.contextType;typeof R=="object"&&R!==null&&(E=pr(R)),E=new d(g,E),u.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Ry,u.stateNode=E,E._reactInternals=u,E=u.stateNode,E.props=g,E.state=u.memoizedState,E.refs={},ay(u),R=d.contextType,E.context=typeof R=="object"&&R!==null?pr(R):gc,E.state=u.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&(Oy(u,d,R,g),E.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(R=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),R!==E.state&&Ry.enqueueReplaceState(E,E.state,null),Sd(u,g,E,x),Ad(),E.state=u.memoizedState),typeof E.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(s===null){E=u.stateNode;var L=u.memoizedProps,q=su(d,L);E.props=q;var J=E.context,oe=d.contextType;R=gc,typeof oe=="object"&&oe!==null&&(R=pr(oe));var ce=d.getDerivedStateFromProps;oe=typeof ce=="function"||typeof E.getSnapshotBeforeUpdate=="function",L=u.pendingProps!==L,oe||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(L||J!==R)&&dT(u,E,g,R),Ts=!1;var te=u.memoizedState;E.state=te,Sd(u,g,E,x),Ad(),J=u.memoizedState,L||te!==J||Ts?(typeof ce=="function"&&(Oy(u,d,ce,g),J=u.memoizedState),(q=Ts||fT(u,d,q,g,te,J,R))?(oe||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(u.flags|=4194308)):(typeof E.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=J),E.props=g,E.state=J,E.context=R,g=q):(typeof E.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{E=u.stateNode,oy(s,u),R=u.memoizedProps,oe=su(d,R),E.props=oe,ce=u.pendingProps,te=E.context,J=d.contextType,q=gc,typeof J=="object"&&J!==null&&(q=pr(J)),L=d.getDerivedStateFromProps,(J=typeof L=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==ce||te!==q)&&dT(u,E,g,q),Ts=!1,te=u.memoizedState,E.state=te,Sd(u,g,E,x),Ad();var ie=u.memoizedState;R!==ce||te!==ie||Ts||s!==null&&s.dependencies!==null&&cp(s.dependencies)?(typeof L=="function"&&(Oy(u,d,L,g),ie=u.memoizedState),(oe=Ts||fT(u,d,oe,g,te,ie,q)||s!==null&&s.dependencies!==null&&cp(s.dependencies))?(J||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(g,ie,q),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(g,ie,q)),typeof E.componentDidUpdate=="function"&&(u.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof E.componentDidUpdate!="function"||R===s.memoizedProps&&te===s.memoizedState||(u.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&te===s.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=ie),E.props=g,E.state=ie,E.context=q,g=oe):(typeof E.componentDidUpdate!="function"||R===s.memoizedProps&&te===s.memoizedState||(u.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&te===s.memoizedState||(u.flags|=1024),g=!1)}return E=g,Op(s,u),g=(u.flags&128)!==0,E||g?(E=u.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:E.render(),u.flags|=1,s!==null&&g?(u.child=au(u,s.child,null,x),u.child=au(u,null,d,x)):gr(s,u,d,x),u.memoizedState=E.state,s=u.child):s=Oo(s,u,x),s}function TT(s,u,d,g){return Jl(),u.flags|=256,gr(s,u,d,g),u.child}var My={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ky(s){return{baseLanes:s,cachePool:vC()}}function jy(s,u,d){return s=s!==null?s.childLanes&~d:0,u&&(s|=_i),s}function IT(s,u,d){var g=u.pendingProps,x=!1,E=(u.flags&128)!==0,R;if((R=E)||(R=s!==null&&s.memoizedState===null?!1:(xn.current&2)!==0),R&&(x=!0,u.flags&=-129),R=(u.flags&32)!==0,u.flags&=-33,s===null){if(st){if(x?Rs(u):Ps(),(s=Gt)?(s=j3(s,Hi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(u.memoizedState={dehydrated:s,treeContext:Es!==null?{id:Ka,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},d=sC(s),d.return=u,u.child=d,hr=u,Gt=null)):s=null,s===null)throw Ss(u);return y2(s)?u.lanes=32:u.lanes=536870912,null}var L=g.children;return g=g.fallback,x?(Ps(),x=u.mode,L=Rp({mode:"hidden",children:L},x),g=Zl(g,x,d,null),L.return=u,g.return=u,L.sibling=g,u.child=L,g=u.child,g.memoizedState=ky(d),g.childLanes=jy(s,R,d),u.memoizedState=My,Rd(null,g)):(Rs(u),Ly(u,L))}var q=s.memoizedState;if(q!==null&&(L=q.dehydrated,L!==null)){if(E)u.flags&256?(Rs(u),u.flags&=-257,u=By(s,u,d)):u.memoizedState!==null?(Ps(),u.child=s.child,u.flags|=128,u=null):(Ps(),L=g.fallback,x=u.mode,g=Rp({mode:"visible",children:g.children},x),L=Zl(L,x,d,null),L.flags|=2,g.return=u,L.return=u,g.sibling=L,u.child=g,au(u,s.child,null,d),g=u.child,g.memoizedState=ky(d),g.childLanes=jy(s,R,d),u.memoizedState=My,u=Rd(null,g));else if(Rs(u),y2(L)){if(R=L.nextSibling&&L.nextSibling.dataset,R)var J=R.dgst;R=J,g=Error(r(419)),g.stack="",g.digest=R,yd({value:g,source:null,stack:null}),u=By(s,u,d)}else if(Dn||xc(s,u,d,!1),R=(d&s.childLanes)!==0,Dn||R){if(R=Vt,R!==null&&(g=Qf(R,d),g!==0&&g!==q.retryLane))throw q.retryLane=g,Ql(s,g),ei(R,s,g),Dy;m2(L)||Fp(),u=By(s,u,d)}else m2(L)?(u.flags|=192,u.child=s.child,u=null):(s=q.treeContext,Gt=qi(L.nextSibling),hr=u,st=!0,As=null,Hi=!1,s!==null&&cC(u,s),u=Ly(u,g.children),u.flags|=4096);return u}return x?(Ps(),L=g.fallback,x=u.mode,q=s.child,J=q.sibling,g=Eo(q,{mode:"hidden",children:g.children}),g.subtreeFlags=q.subtreeFlags&65011712,J!==null?L=Eo(J,L):(L=Zl(L,x,d,null),L.flags|=2),L.return=u,g.return=u,g.sibling=L,u.child=g,Rd(null,g),g=u.child,L=s.child.memoizedState,L===null?L=ky(d):(x=L.cachePool,x!==null?(q=Rn._currentValue,x=x.parent!==q?{parent:q,pool:q}:x):x=vC(),L={baseLanes:L.baseLanes|d,cachePool:x}),g.memoizedState=L,g.childLanes=jy(s,R,d),u.memoizedState=My,Rd(s.child,g)):(Rs(u),d=s.child,s=d.sibling,d=Eo(d,{mode:"visible",children:g.children}),d.return=u,d.sibling=null,s!==null&&(R=u.deletions,R===null?(u.deletions=[s],u.flags|=16):R.push(s)),u.child=d,u.memoizedState=null,d)}function Ly(s,u){return u=Rp({mode:"visible",children:u},s.mode),u.return=s,s.child=u}function Rp(s,u){return s=vi(22,s,null,u),s.lanes=0,s}function By(s,u,d){return au(u,s.child,null,d),s=Ly(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function OT(s,u,d){s.lanes|=u;var g=s.alternate;g!==null&&(g.lanes|=u),Jm(s.return,u,d)}function Fy(s,u,d,g,x,E){var R=s.memoizedState;R===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:x,treeForkCount:E}:(R.isBackwards=u,R.rendering=null,R.renderingStartTime=0,R.last=g,R.tail=d,R.tailMode=x,R.treeForkCount=E)}function RT(s,u,d){var g=u.pendingProps,x=g.revealOrder,E=g.tail;g=g.children;var R=xn.current,L=(R&2)!==0;if(L?(R=R&1|2,u.flags|=128):R&=1,ye(xn,R),gr(s,u,g,d),g=st?md:0,!L&&s!==null&&(s.flags&128)!==0)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&OT(s,d,u);else if(s.tag===19)OT(s,d,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(x){case"forwards":for(d=u.child,x=null;d!==null;)s=d.alternate,s!==null&&yp(s)===null&&(x=d),d=d.sibling;d=x,d===null?(x=u.child,u.child=null):(x=d.sibling,d.sibling=null),Fy(u,!1,x,d,E,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,x=u.child,u.child=null;x!==null;){if(s=x.alternate,s!==null&&yp(s)===null){u.child=x;break}s=x.sibling,x.sibling=d,d=x,x=s}Fy(u,!0,d,null,E,g);break;case"together":Fy(u,!1,null,null,void 0,g);break;default:u.memoizedState=null}return u.child}function Oo(s,u,d){if(s!==null&&(u.dependencies=s.dependencies),Ms|=u.lanes,(d&u.childLanes)===0)if(s!==null){if(xc(s,u,d,!1),(d&u.childLanes)===0)return null}else return null;if(s!==null&&u.child!==s.child)throw Error(r(153));if(u.child!==null){for(s=u.child,d=Eo(s,s.pendingProps),u.child=d,d.return=u;s.sibling!==null;)s=s.sibling,d=d.sibling=Eo(s,s.pendingProps),d.return=u;d.sibling=null}return u.child}function Vy(s,u){return(s.lanes&u)!==0?!0:(s=s.dependencies,!!(s!==null&&cp(s)))}function hL(s,u,d){switch(u.tag){case 3:pn(u,u.stateNode.containerInfo),Cs(u,Rn,s.memoizedState.cache),Jl();break;case 27:case 5:Ve(u);break;case 4:pn(u,u.stateNode.containerInfo);break;case 10:Cs(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,fy(u),null;break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(Rs(u),u.flags|=128,null):(d&u.child.childLanes)!==0?IT(s,u,d):(Rs(u),s=Oo(s,u,d),s!==null?s.sibling:null);Rs(u);break;case 19:var x=(s.flags&128)!==0;if(g=(d&u.childLanes)!==0,g||(xc(s,u,d,!1),g=(d&u.childLanes)!==0),x){if(g)return RT(s,u,d);u.flags|=128}if(x=u.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ye(xn,xn.current),g)break;return null;case 22:return u.lanes=0,wT(s,u,d,u.pendingProps);case 24:Cs(u,Rn,s.memoizedState.cache)}return Oo(s,u,d)}function PT(s,u,d){if(s!==null)if(s.memoizedProps!==u.pendingProps)Dn=!0;else{if(!Vy(s,d)&&(u.flags&128)===0)return Dn=!1,hL(s,u,d);Dn=(s.flags&131072)!==0}else Dn=!1,st&&(u.flags&1048576)!==0&&uC(u,md,u.index);switch(u.lanes=0,u.tag){case 16:e:{var g=u.pendingProps;if(s=ru(u.elementType),u.type=s,typeof s=="function")qm(s)?(g=su(s,g),u.tag=1,u=CT(null,u,s,g,d)):(u.tag=0,u=Ny(null,u,s,g,d));else{if(s!=null){var x=s.$$typeof;if(x===N){u.tag=11,u=xT(null,u,s,g,d);break e}else if(x===D){u.tag=14,u=_T(null,u,s,g,d);break e}}throw u=he(s)||s,Error(r(306,u,""))}}return u;case 0:return Ny(s,u,u.type,u.pendingProps,d);case 1:return g=u.type,x=su(g,u.pendingProps),CT(s,u,g,x,d);case 3:e:{if(pn(u,u.stateNode.containerInfo),s===null)throw Error(r(387));g=u.pendingProps;var E=u.memoizedState;x=E.element,oy(s,u),Sd(u,g,null,d);var R=u.memoizedState;if(g=R.cache,Cs(u,Rn,g),g!==E.cache&&ey(u,[Rn],d,!0),Ad(),g=R.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:R.cache},u.updateQueue.baseState=E,u.memoizedState=E,u.flags&256){u=TT(s,u,g,d);break e}else if(g!==x){x=Vi(Error(r(424)),u),yd(x),u=TT(s,u,g,d);break e}else{switch(s=u.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Gt=qi(s.firstChild),hr=u,st=!0,As=null,Hi=!0,d=wC(u,null,g,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Jl(),g===x){u=Oo(s,u,d);break e}gr(s,u,g,d)}u=u.child}return u;case 26:return Op(s,u),s===null?(d=z3(u.type,null,u.pendingProps,null))?u.memoizedState=d:st||(d=u.type,s=u.pendingProps,g=Gp(He.current).createElement(d),g[Tn]=u,g[Jn]=s,vr(g,d,s),In(g),u.stateNode=g):u.memoizedState=z3(u.type,s.memoizedProps,u.pendingProps,s.memoizedState),null;case 27:return Ve(u),s===null&&st&&(g=u.stateNode=F3(u.type,u.pendingProps,He.current),hr=u,Hi=!0,x=Gt,Fs(u.type)?(x2=x,Gt=qi(g.firstChild)):Gt=x),gr(s,u,u.pendingProps.children,d),Op(s,u),s===null&&(u.flags|=4194304),u.child;case 5:return s===null&&st&&((x=g=Gt)&&(g=HL(g,u.type,u.pendingProps,Hi),g!==null?(u.stateNode=g,hr=u,Gt=qi(g.firstChild),Hi=!1,x=!0):x=!1),x||Ss(u)),Ve(u),x=u.type,E=u.pendingProps,R=s!==null?s.memoizedProps:null,g=E.children,p2(x,E)?g=null:R!==null&&p2(x,R)&&(u.flags|=32),u.memoizedState!==null&&(x=hy(s,u,iL,null,null,d),qd._currentValue=x),Op(s,u),gr(s,u,g,d),u.child;case 6:return s===null&&st&&((s=d=Gt)&&(d=$L(d,u.pendingProps,Hi),d!==null?(u.stateNode=d,hr=u,Gt=null,s=!0):s=!1),s||Ss(u)),null;case 13:return IT(s,u,d);case 4:return pn(u,u.stateNode.containerInfo),g=u.pendingProps,s===null?u.child=au(u,null,g,d):gr(s,u,g,d),u.child;case 11:return xT(s,u,u.type,u.pendingProps,d);case 7:return gr(s,u,u.pendingProps,d),u.child;case 8:return gr(s,u,u.pendingProps.children,d),u.child;case 12:return gr(s,u,u.pendingProps.children,d),u.child;case 10:return g=u.pendingProps,Cs(u,u.type,g.value),gr(s,u,g.children,d),u.child;case 9:return x=u.type._context,g=u.pendingProps.children,tu(u),x=pr(x),g=g(x),u.flags|=1,gr(s,u,g,d),u.child;case 14:return _T(s,u,u.type,u.pendingProps,d);case 15:return bT(s,u,u.type,u.pendingProps,d);case 19:return RT(s,u,d);case 31:return dL(s,u,d);case 22:return wT(s,u,d,u.pendingProps);case 24:return tu(u),g=pr(Rn),s===null?(x=ry(),x===null&&(x=Vt,E=ty(),x.pooledCache=E,E.refCount++,E!==null&&(x.pooledCacheLanes|=d),x=E),u.memoizedState={parent:g,cache:x},ay(u),Cs(u,Rn,x)):((s.lanes&d)!==0&&(oy(s,u),Sd(u,null,null,d),Ad()),x=s.memoizedState,E=u.memoizedState,x.parent!==g?(x={parent:g,cache:g},u.memoizedState=x,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=x),Cs(u,Rn,g)):(g=E.cache,Cs(u,Rn,g),g!==x.cache&&ey(u,[Rn],d,!0))),gr(s,u,u.pendingProps.children,d),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function Ro(s){s.flags|=4}function Uy(s,u,d,g,x){if((u=(s.mode&32)!==0)&&(u=!1),u){if(s.flags|=16777216,(x&335544128)===x)if(s.stateNode.complete)s.flags|=8192;else if(i3())s.flags|=8192;else throw iu=pp,iy}else s.flags&=-16777217}function DT(s,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!K3(u))if(i3())s.flags|=8192;else throw iu=pp,iy}function Pp(s,u){u!==null&&(s.flags|=4),s.flags&16384&&(u=s.tag!==22?L0():536870912,s.lanes|=u,Pc|=u)}function Pd(s,u){if(!st)switch(s.tailMode){case"hidden":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Kt(s){var u=s.alternate!==null&&s.alternate.child===s.child,d=0,g=0;if(u)for(var x=s.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags&65011712,g|=x.flags&65011712,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=g,s.childLanes=d,u}function pL(s,u,d){var g=u.pendingProps;switch(Xm(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(u),null;case 1:return Kt(u),null;case 3:return d=u.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),Co(Rn),pe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(yc(u)?Ro(u):s===null||s.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Qm())),Kt(u),null;case 26:var x=u.type,E=u.memoizedState;return s===null?(Ro(u),E!==null?(Kt(u),DT(u,E)):(Kt(u),Uy(u,x,null,g,d))):E?E!==s.memoizedState?(Ro(u),Kt(u),DT(u,E)):(Kt(u),u.flags&=-16777217):(s=s.memoizedProps,s!==g&&Ro(u),Kt(u),Uy(u,x,s,g,d)),null;case 27:if(We(u),d=He.current,x=u.type,s!==null&&u.stateNode!=null)s.memoizedProps!==g&&Ro(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return Kt(u),null}s=_e.current,yc(u)?fC(u):(s=F3(x,g,d),u.stateNode=s,Ro(u))}return Kt(u),null;case 5:if(We(u),x=u.type,s!==null&&u.stateNode!=null)s.memoizedProps!==g&&Ro(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return Kt(u),null}if(E=_e.current,yc(u))fC(u);else{var R=Gp(He.current);switch(E){case 1:E=R.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:E=R.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":E=R.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":E=R.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":E=R.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof g.is=="string"?R.createElement("select",{is:g.is}):R.createElement("select"),g.multiple?E.multiple=!0:g.size&&(E.size=g.size);break;default:E=typeof g.is=="string"?R.createElement(x,{is:g.is}):R.createElement(x)}}E[Tn]=u,E[Jn]=g;e:for(R=u.child;R!==null;){if(R.tag===5||R.tag===6)E.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===u)break e;for(;R.sibling===null;){if(R.return===null||R.return===u)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}u.stateNode=E;e:switch(vr(E,x,g),x){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Ro(u)}}return Kt(u),Uy(u,u.type,s===null?null:s.memoizedProps,u.pendingProps,d),null;case 6:if(s&&u.stateNode!=null)s.memoizedProps!==g&&Ro(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(r(166));if(s=He.current,yc(u)){if(s=u.stateNode,d=u.memoizedProps,g=null,x=hr,x!==null)switch(x.tag){case 27:case 5:g=x.memoizedProps}s[Tn]=u,s=!!(s.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||I3(s.nodeValue,d)),s||Ss(u,!0)}else s=Gp(s).createTextNode(g),s[Tn]=u,u.stateNode=s}return Kt(u),null;case 31:if(d=u.memoizedState,s===null||s.memoizedState!==null){if(g=yc(u),d!==null){if(s===null){if(!g)throw Error(r(318));if(s=u.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Tn]=u}else Jl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Kt(u),s=!1}else d=Qm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return u.flags&256?(yi(u),u):(yi(u),null);if((u.flags&128)!==0)throw Error(r(558))}return Kt(u),null;case 13:if(g=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(x=yc(u),g!==null&&g.dehydrated!==null){if(s===null){if(!x)throw Error(r(318));if(x=u.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[Tn]=u}else Jl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Kt(u),x=!1}else x=Qm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=x),x=!0;if(!x)return u.flags&256?(yi(u),u):(yi(u),null)}return yi(u),(u.flags&128)!==0?(u.lanes=d,u):(d=g!==null,s=s!==null&&s.memoizedState!==null,d&&(g=u.child,x=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(x=g.alternate.memoizedState.cachePool.pool),E=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(E=g.memoizedState.cachePool.pool),E!==x&&(g.flags|=2048)),d!==s&&d&&(u.child.flags|=8192),Pp(u,u.updateQueue),Kt(u),null);case 4:return pe(),s===null&&u2(u.stateNode.containerInfo),Kt(u),null;case 10:return Co(u.type),Kt(u),null;case 19:if(ee(xn),g=u.memoizedState,g===null)return Kt(u),null;if(x=(u.flags&128)!==0,E=g.rendering,E===null)if(x)Pd(g,!1);else{if(fn!==0||s!==null&&(s.flags&128)!==0)for(s=u.child;s!==null;){if(E=yp(s),E!==null){for(u.flags|=128,Pd(g,!1),s=E.updateQueue,u.updateQueue=s,Pp(u,s),u.subtreeFlags=0,s=d,d=u.child;d!==null;)oC(d,s),d=d.sibling;return ye(xn,xn.current&1|2),st&&Ao(u,g.treeForkCount),u.child}s=s.sibling}g.tail!==null&&Fr()>jp&&(u.flags|=128,x=!0,Pd(g,!1),u.lanes=4194304)}else{if(!x)if(s=yp(E),s!==null){if(u.flags|=128,x=!0,s=s.updateQueue,u.updateQueue=s,Pp(u,s),Pd(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!st)return Kt(u),null}else 2*Fr()-g.renderingStartTime>jp&&d!==536870912&&(u.flags|=128,x=!0,Pd(g,!1),u.lanes=4194304);g.isBackwards?(E.sibling=u.child,u.child=E):(s=g.last,s!==null?s.sibling=E:u.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Fr(),s.sibling=null,d=xn.current,ye(xn,x?d&1|2:d&1),st&&Ao(u,g.treeForkCount),s):(Kt(u),null);case 22:case 23:return yi(u),cy(),g=u.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(d&536870912)!==0&&(u.flags&128)===0&&(Kt(u),u.subtreeFlags&6&&(u.flags|=8192)):Kt(u),d=u.updateQueue,d!==null&&Pp(u,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048),s!==null&&ee(nu),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),u.memoizedState.cache!==d&&(u.flags|=2048),Co(Rn),Kt(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function gL(s,u){switch(Xm(u),u.tag){case 1:return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return Co(Rn),pe(),s=u.flags,(s&65536)!==0&&(s&128)===0?(u.flags=s&-65537|128,u):null;case 26:case 27:case 5:return We(u),null;case 31:if(u.memoizedState!==null){if(yi(u),u.alternate===null)throw Error(r(340));Jl()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 13:if(yi(u),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Jl()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return ee(xn),null;case 4:return pe(),null;case 10:return Co(u.type),null;case 22:case 23:return yi(u),cy(),s!==null&&ee(nu),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 24:return Co(Rn),null;case 25:return null;default:return null}}function NT(s,u){switch(Xm(u),u.tag){case 3:Co(Rn),pe();break;case 26:case 27:case 5:We(u);break;case 4:pe();break;case 31:u.memoizedState!==null&&yi(u);break;case 13:yi(u);break;case 19:ee(xn);break;case 10:Co(u.type);break;case 22:case 23:yi(u),cy(),s!==null&&ee(nu);break;case 24:Co(Rn)}}function Dd(s,u){try{var d=u.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var x=g.next;d=x;do{if((d.tag&s)===s){g=void 0;var E=d.create,R=d.inst;g=E(),R.destroy=g}d=d.next}while(d!==x)}}catch(L){Ot(u,u.return,L)}}function Ds(s,u,d){try{var g=u.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var E=x.next;g=E;do{if((g.tag&s)===s){var R=g.inst,L=R.destroy;if(L!==void 0){R.destroy=void 0,x=u;var q=d,J=L;try{J()}catch(oe){Ot(x,q,oe)}}}g=g.next}while(g!==E)}}catch(oe){Ot(u,u.return,oe)}}function MT(s){var u=s.updateQueue;if(u!==null){var d=s.stateNode;try{AC(u,d)}catch(g){Ot(s,s.return,g)}}}function kT(s,u,d){d.props=su(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(g){Ot(s,u,g)}}function Nd(s,u){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof d=="function"?s.refCleanup=d(g):d.current=g}}catch(x){Ot(s,u,x)}}function Xa(s,u){var d=s.ref,g=s.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(x){Ot(s,u,x)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){Ot(s,u,x)}else d.current=null}function jT(s){var u=s.type,d=s.memoizedProps,g=s.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(x){Ot(s,s.return,x)}}function zy(s,u,d){try{var g=s.stateNode;LL(g,s.type,d,u),g[Jn]=u}catch(x){Ot(s,s.return,x)}}function LT(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Fs(s.type)||s.tag===4}function Hy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||LT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Fs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function $y(s,u,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,u?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,u):(u=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,u.appendChild(s),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=da));else if(g!==4&&(g===27&&Fs(s.type)&&(d=s.stateNode,u=null),s=s.child,s!==null))for($y(s,u,d),s=s.sibling;s!==null;)$y(s,u,d),s=s.sibling}function Dp(s,u,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,u?d.insertBefore(s,u):d.appendChild(s);else if(g!==4&&(g===27&&Fs(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(Dp(s,u,d),s=s.sibling;s!==null;)Dp(s,u,d),s=s.sibling}function BT(s){var u=s.stateNode,d=s.memoizedProps;try{for(var g=s.type,x=u.attributes;x.length;)u.removeAttributeNode(x[0]);vr(u,g,d),u[Tn]=s,u[Jn]=d}catch(E){Ot(s,s.return,E)}}var Po=!1,Nn=!1,qy=!1,FT=typeof WeakSet=="function"?WeakSet:Set,tr=null;function vL(s,u){if(s=s.containerInfo,d2=Jp,s=QS(s),Bm(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var x=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{d.nodeType,E.nodeType}catch{d=null;break e}var R=0,L=-1,q=-1,J=0,oe=0,ce=s,te=null;t:for(;;){for(var ie;ce!==d||x!==0&&ce.nodeType!==3||(L=R+x),ce!==E||g!==0&&ce.nodeType!==3||(q=R+g),ce.nodeType===3&&(R+=ce.nodeValue.length),(ie=ce.firstChild)!==null;)te=ce,ce=ie;for(;;){if(ce===s)break t;if(te===d&&++J===x&&(L=R),te===E&&++oe===g&&(q=R),(ie=ce.nextSibling)!==null)break;ce=te,te=ce.parentNode}ce=ie}d=L===-1||q===-1?null:{start:L,end:q}}else d=null}d=d||{start:0,end:0}}else d=null;for(h2={focusedElem:s,selectionRange:d},Jp=!1,tr=u;tr!==null;)if(u=tr,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,tr=s;else for(;tr!==null;){switch(u=tr,E=u.alternate,s=u.flags,u.tag){case 0:if((s&4)!==0&&(s=u.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)x=s[d],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&E!==null){s=void 0,d=u,x=E.memoizedProps,E=E.memoizedState,g=d.stateNode;try{var Ae=su(d.type,x);s=g.getSnapshotBeforeUpdate(Ae,E),g.__reactInternalSnapshotBeforeUpdate=s}catch(je){Ot(d,d.return,je)}}break;case 3:if((s&1024)!==0){if(s=u.stateNode.containerInfo,d=s.nodeType,d===9)v2(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":v2(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=u.sibling,s!==null){s.return=u.return,tr=s;break}tr=u.return}}function VT(s,u,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:No(s,d),g&4&&Dd(5,d);break;case 1:if(No(s,d),g&4)if(s=d.stateNode,u===null)try{s.componentDidMount()}catch(R){Ot(d,d.return,R)}else{var x=su(d.type,u.memoizedProps);u=u.memoizedState;try{s.componentDidUpdate(x,u,s.__reactInternalSnapshotBeforeUpdate)}catch(R){Ot(d,d.return,R)}}g&64&&MT(d),g&512&&Nd(d,d.return);break;case 3:if(No(s,d),g&64&&(s=d.updateQueue,s!==null)){if(u=null,d.child!==null)switch(d.child.tag){case 27:case 5:u=d.child.stateNode;break;case 1:u=d.child.stateNode}try{AC(s,u)}catch(R){Ot(d,d.return,R)}}break;case 27:u===null&&g&4&&BT(d);case 26:case 5:No(s,d),u===null&&g&4&&jT(d),g&512&&Nd(d,d.return);break;case 12:No(s,d);break;case 31:No(s,d),g&4&&HT(s,d);break;case 13:No(s,d),g&4&&$T(s,d),g&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=SL.bind(null,d),qL(s,d))));break;case 22:if(g=d.memoizedState!==null||Po,!g){u=u!==null&&u.memoizedState!==null||Nn,x=Po;var E=Nn;Po=g,(Nn=u)&&!E?Mo(s,d,(d.subtreeFlags&8772)!==0):No(s,d),Po=x,Nn=E}break;case 30:break;default:No(s,d)}}function UT(s){var u=s.alternate;u!==null&&(s.alternate=null,UT(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&tc(u)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Jt=null,Yr=!1;function Do(s,u,d){for(d=d.child;d!==null;)zT(s,u,d),d=d.sibling}function zT(s,u,d){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(la,d)}catch{}switch(d.tag){case 26:Nn||Xa(d,u),Do(s,u,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Nn||Xa(d,u);var g=Jt,x=Yr;Fs(d.type)&&(Jt=d.stateNode,Yr=!1),Do(s,u,d),zd(d.stateNode),Jt=g,Yr=x;break;case 5:Nn||Xa(d,u);case 6:if(g=Jt,x=Yr,Jt=null,Do(s,u,d),Jt=g,Yr=x,Jt!==null)if(Yr)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(d.stateNode)}catch(E){Ot(d,u,E)}else try{Jt.removeChild(d.stateNode)}catch(E){Ot(d,u,E)}break;case 18:Jt!==null&&(Yr?(s=Jt,M3(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),Fc(s)):M3(Jt,d.stateNode));break;case 4:g=Jt,x=Yr,Jt=d.stateNode.containerInfo,Yr=!0,Do(s,u,d),Jt=g,Yr=x;break;case 0:case 11:case 14:case 15:Ds(2,d,u),Nn||Ds(4,d,u),Do(s,u,d);break;case 1:Nn||(Xa(d,u),g=d.stateNode,typeof g.componentWillUnmount=="function"&&kT(d,u,g)),Do(s,u,d);break;case 21:Do(s,u,d);break;case 22:Nn=(g=Nn)||d.memoizedState!==null,Do(s,u,d),Nn=g;break;default:Do(s,u,d)}}function HT(s,u){if(u.memoizedState===null&&(s=u.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Fc(s)}catch(d){Ot(u,u.return,d)}}}function $T(s,u){if(u.memoizedState===null&&(s=u.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Fc(s)}catch(d){Ot(u,u.return,d)}}function mL(s){switch(s.tag){case 31:case 13:case 19:var u=s.stateNode;return u===null&&(u=s.stateNode=new FT),u;case 22:return s=s.stateNode,u=s._retryCache,u===null&&(u=s._retryCache=new FT),u;default:throw Error(r(435,s.tag))}}function Np(s,u){var d=mL(s);u.forEach(function(g){if(!d.has(g)){d.add(g);var x=CL.bind(null,s,g);g.then(x,x)}})}function Qr(s,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var x=d[g],E=s,R=u,L=R;e:for(;L!==null;){switch(L.tag){case 27:if(Fs(L.type)){Jt=L.stateNode,Yr=!1;break e}break;case 5:Jt=L.stateNode,Yr=!1;break e;case 3:case 4:Jt=L.stateNode.containerInfo,Yr=!0;break e}L=L.return}if(Jt===null)throw Error(r(160));zT(E,R,x),Jt=null,Yr=!1,E=x.alternate,E!==null&&(E.return=null),x.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)qT(u,s),u=u.sibling}var ya=null;function qT(s,u){var d=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Qr(u,s),Zr(s),g&4&&(Ds(3,s,s.return),Dd(3,s),Ds(5,s,s.return));break;case 1:Qr(u,s),Zr(s),g&512&&(Nn||d===null||Xa(d,d.return)),g&64&&Po&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var x=ya;if(Qr(u,s),Zr(s),g&512&&(Nn||d===null||Xa(d,d.return)),g&4){var E=d!==null?d.memoizedState:null;if(g=s.memoizedState,d===null)if(g===null)if(s.stateNode===null){e:{g=s.type,d=s.memoizedProps,x=x.ownerDocument||x;t:switch(g){case"title":E=x.getElementsByTagName("title")[0],(!E||E[ka]||E[Tn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=x.createElement(g),x.head.insertBefore(E,x.querySelector("head > title"))),vr(E,g,d),E[Tn]=s,In(E),g=E;break e;case"link":var R=q3("link","href",x).get(g+(d.href||""));if(R){for(var L=0;L<R.length;L++)if(E=R[L],E.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&E.getAttribute("rel")===(d.rel==null?null:d.rel)&&E.getAttribute("title")===(d.title==null?null:d.title)&&E.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){R.splice(L,1);break t}}E=x.createElement(g),vr(E,g,d),x.head.appendChild(E);break;case"meta":if(R=q3("meta","content",x).get(g+(d.content||""))){for(L=0;L<R.length;L++)if(E=R[L],E.getAttribute("content")===(d.content==null?null:""+d.content)&&E.getAttribute("name")===(d.name==null?null:d.name)&&E.getAttribute("property")===(d.property==null?null:d.property)&&E.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&E.getAttribute("charset")===(d.charSet==null?null:d.charSet)){R.splice(L,1);break t}}E=x.createElement(g),vr(E,g,d),x.head.appendChild(E);break;default:throw Error(r(468,g))}E[Tn]=s,In(E),g=E}s.stateNode=g}else G3(x,s.type,s.stateNode);else s.stateNode=$3(x,g,s.memoizedProps);else E!==g?(E===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):E.count--,g===null?G3(x,s.type,s.stateNode):$3(x,g,s.memoizedProps)):g===null&&s.stateNode!==null&&zy(s,s.memoizedProps,d.memoizedProps)}break;case 27:Qr(u,s),Zr(s),g&512&&(Nn||d===null||Xa(d,d.return)),d!==null&&g&4&&zy(s,s.memoizedProps,d.memoizedProps);break;case 5:if(Qr(u,s),Zr(s),g&512&&(Nn||d===null||Xa(d,d.return)),s.flags&32){x=s.stateNode;try{Xr(x,"")}catch(Ae){Ot(s,s.return,Ae)}}g&4&&s.stateNode!=null&&(x=s.memoizedProps,zy(s,x,d!==null?d.memoizedProps:x)),g&1024&&(qy=!0);break;case 6:if(Qr(u,s),Zr(s),g&4){if(s.stateNode===null)throw Error(r(162));g=s.memoizedProps,d=s.stateNode;try{d.nodeValue=g}catch(Ae){Ot(s,s.return,Ae)}}break;case 3:if(Xp=null,x=ya,ya=Kp(u.containerInfo),Qr(u,s),ya=x,Zr(s),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Fc(u.containerInfo)}catch(Ae){Ot(s,s.return,Ae)}qy&&(qy=!1,GT(s));break;case 4:g=ya,ya=Kp(s.stateNode.containerInfo),Qr(u,s),Zr(s),ya=g;break;case 12:Qr(u,s),Zr(s);break;case 31:Qr(u,s),Zr(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Np(s,g)));break;case 13:Qr(u,s),Zr(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(kp=Fr()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Np(s,g)));break;case 22:x=s.memoizedState!==null;var q=d!==null&&d.memoizedState!==null,J=Po,oe=Nn;if(Po=J||x,Nn=oe||q,Qr(u,s),Nn=oe,Po=J,Zr(s),g&8192)e:for(u=s.stateNode,u._visibility=x?u._visibility&-2:u._visibility|1,x&&(d===null||q||Po||Nn||lu(s)),d=null,u=s;;){if(u.tag===5||u.tag===26){if(d===null){q=d=u;try{if(E=q.stateNode,x)R=E.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{L=q.stateNode;var ce=q.memoizedProps.style,te=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;L.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Ae){Ot(q,q.return,Ae)}}}else if(u.tag===6){if(d===null){q=u;try{q.stateNode.nodeValue=x?"":q.memoizedProps}catch(Ae){Ot(q,q.return,Ae)}}}else if(u.tag===18){if(d===null){q=u;try{var ie=q.stateNode;x?k3(ie,!0):k3(q.stateNode,!1)}catch(Ae){Ot(q,q.return,Ae)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===s)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break e;for(;u.sibling===null;){if(u.return===null||u.return===s)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=s.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Np(s,d))));break;case 19:Qr(u,s),Zr(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Np(s,g)));break;case 30:break;case 21:break;default:Qr(u,s),Zr(s)}}function Zr(s){var u=s.flags;if(u&2){try{for(var d,g=s.return;g!==null;){if(LT(g)){d=g;break}g=g.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var x=d.stateNode,E=Hy(s);Dp(s,E,x);break;case 5:var R=d.stateNode;d.flags&32&&(Xr(R,""),d.flags&=-33);var L=Hy(s);Dp(s,L,R);break;case 3:case 4:var q=d.stateNode.containerInfo,J=Hy(s);$y(s,J,q);break;default:throw Error(r(161))}}catch(oe){Ot(s,s.return,oe)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function GT(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var u=s;GT(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),s=s.sibling}}function No(s,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)VT(s,u.alternate,u),u=u.sibling}function lu(s){for(s=s.child;s!==null;){var u=s;switch(u.tag){case 0:case 11:case 14:case 15:Ds(4,u,u.return),lu(u);break;case 1:Xa(u,u.return);var d=u.stateNode;typeof d.componentWillUnmount=="function"&&kT(u,u.return,d),lu(u);break;case 27:zd(u.stateNode);case 26:case 5:Xa(u,u.return),lu(u);break;case 22:u.memoizedState===null&&lu(u);break;case 30:lu(u);break;default:lu(u)}s=s.sibling}}function Mo(s,u,d){for(d=d&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,x=s,E=u,R=E.flags;switch(E.tag){case 0:case 11:case 15:Mo(x,E,d),Dd(4,E);break;case 1:if(Mo(x,E,d),g=E,x=g.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(J){Ot(g,g.return,J)}if(g=E,x=g.updateQueue,x!==null){var L=g.stateNode;try{var q=x.shared.hiddenCallbacks;if(q!==null)for(x.shared.hiddenCallbacks=null,x=0;x<q.length;x++)EC(q[x],L)}catch(J){Ot(g,g.return,J)}}d&&R&64&&MT(E),Nd(E,E.return);break;case 27:BT(E);case 26:case 5:Mo(x,E,d),d&&g===null&&R&4&&jT(E),Nd(E,E.return);break;case 12:Mo(x,E,d);break;case 31:Mo(x,E,d),d&&R&4&&HT(x,E);break;case 13:Mo(x,E,d),d&&R&4&&$T(x,E);break;case 22:E.memoizedState===null&&Mo(x,E,d),Nd(E,E.return);break;case 30:break;default:Mo(x,E,d)}u=u.sibling}}function Gy(s,u){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(s=u.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&xd(d))}function Ky(s,u){s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&xd(s))}function xa(s,u,d,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)KT(s,u,d,g),u=u.sibling}function KT(s,u,d,g){var x=u.flags;switch(u.tag){case 0:case 11:case 15:xa(s,u,d,g),x&2048&&Dd(9,u);break;case 1:xa(s,u,d,g);break;case 3:xa(s,u,d,g),x&2048&&(s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&xd(s)));break;case 12:if(x&2048){xa(s,u,d,g),s=u.stateNode;try{var E=u.memoizedProps,R=E.id,L=E.onPostCommit;typeof L=="function"&&L(R,u.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(q){Ot(u,u.return,q)}}else xa(s,u,d,g);break;case 31:xa(s,u,d,g);break;case 13:xa(s,u,d,g);break;case 23:break;case 22:E=u.stateNode,R=u.alternate,u.memoizedState!==null?E._visibility&2?xa(s,u,d,g):Md(s,u):E._visibility&2?xa(s,u,d,g):(E._visibility|=2,Ic(s,u,d,g,(u.subtreeFlags&10256)!==0||!1)),x&2048&&Gy(R,u);break;case 24:xa(s,u,d,g),x&2048&&Ky(u.alternate,u);break;default:xa(s,u,d,g)}}function Ic(s,u,d,g,x){for(x=x&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var E=s,R=u,L=d,q=g,J=R.flags;switch(R.tag){case 0:case 11:case 15:Ic(E,R,L,q,x),Dd(8,R);break;case 23:break;case 22:var oe=R.stateNode;R.memoizedState!==null?oe._visibility&2?Ic(E,R,L,q,x):Md(E,R):(oe._visibility|=2,Ic(E,R,L,q,x)),x&&J&2048&&Gy(R.alternate,R);break;case 24:Ic(E,R,L,q,x),x&&J&2048&&Ky(R.alternate,R);break;default:Ic(E,R,L,q,x)}u=u.sibling}}function Md(s,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var d=s,g=u,x=g.flags;switch(g.tag){case 22:Md(d,g),x&2048&&Gy(g.alternate,g);break;case 24:Md(d,g),x&2048&&Ky(g.alternate,g);break;default:Md(d,g)}u=u.sibling}}var kd=8192;function Oc(s,u,d){if(s.subtreeFlags&kd)for(s=s.child;s!==null;)WT(s,u,d),s=s.sibling}function WT(s,u,d){switch(s.tag){case 26:Oc(s,u,d),s.flags&kd&&s.memoizedState!==null&&rB(d,ya,s.memoizedState,s.memoizedProps);break;case 5:Oc(s,u,d);break;case 3:case 4:var g=ya;ya=Kp(s.stateNode.containerInfo),Oc(s,u,d),ya=g;break;case 22:s.memoizedState===null&&(g=s.alternate,g!==null&&g.memoizedState!==null?(g=kd,kd=16777216,Oc(s,u,d),kd=g):Oc(s,u,d));break;default:Oc(s,u,d)}}function XT(s){var u=s.alternate;if(u!==null&&(s=u.child,s!==null)){u.child=null;do u=s.sibling,s.sibling=null,s=u;while(s!==null)}}function jd(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];tr=g,QT(g,s)}XT(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)YT(s),s=s.sibling}function YT(s){switch(s.tag){case 0:case 11:case 15:jd(s),s.flags&2048&&Ds(9,s,s.return);break;case 3:jd(s);break;case 12:jd(s);break;case 22:var u=s.stateNode;s.memoizedState!==null&&u._visibility&2&&(s.return===null||s.return.tag!==13)?(u._visibility&=-3,Mp(s)):jd(s);break;default:jd(s)}}function Mp(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];tr=g,QT(g,s)}XT(s)}for(s=s.child;s!==null;){switch(u=s,u.tag){case 0:case 11:case 15:Ds(8,u,u.return),Mp(u);break;case 22:d=u.stateNode,d._visibility&2&&(d._visibility&=-3,Mp(u));break;default:Mp(u)}s=s.sibling}}function QT(s,u){for(;tr!==null;){var d=tr;switch(d.tag){case 0:case 11:case 15:Ds(8,d,u);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:xd(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,tr=g;else e:for(d=s;tr!==null;){g=tr;var x=g.sibling,E=g.return;if(UT(g),g===d){tr=null;break e}if(x!==null){x.return=E,tr=x;break e}tr=E}}}var yL={getCacheForType:function(s){var u=pr(Rn),d=u.data.get(s);return d===void 0&&(d=s(),u.data.set(s,d)),d},cacheSignal:function(){return pr(Rn).controller.signal}},xL=typeof WeakMap=="function"?WeakMap:Map,xt=0,Vt=null,Ze=null,nt=0,It=0,xi=null,Ns=!1,Rc=!1,Wy=!1,ko=0,fn=0,Ms=0,uu=0,Xy=0,_i=0,Pc=0,Ld=null,Jr=null,Yy=!1,kp=0,ZT=0,jp=1/0,Lp=null,ks=null,Un=0,js=null,Dc=null,jo=0,Qy=0,Zy=null,JT=null,Bd=0,Jy=null;function bi(){return(xt&2)!==0&&nt!==0?nt&-nt:Y.T!==null?a2():B0()}function e3(){if(_i===0)if((nt&536870912)===0||st){var s=jl;jl<<=1,(jl&3932160)===0&&(jl=262144),_i=s}else _i=536870912;return s=mi.current,s!==null&&(s.flags|=32),_i}function ei(s,u,d){(s===Vt&&(It===2||It===9)||s.cancelPendingCommit!==null)&&(Nc(s,0),Ls(s,nt,_i,!1)),Ll(s,d),((xt&2)===0||s!==Vt)&&(s===Vt&&((xt&2)===0&&(uu|=d),fn===4&&Ls(s,nt,_i,!1)),Ya(s))}function t3(s,u,d){if((xt&6)!==0)throw Error(r(327));var g=!d&&(u&127)===0&&(u&s.expiredLanes)===0||ua(s,u),x=g?wL(s,u):t2(s,u,!0),E=g;do{if(x===0){Rc&&!g&&Ls(s,u,0,!1);break}else{if(d=s.current.alternate,E&&!_L(d)){x=t2(s,u,!1),E=!1;continue}if(x===2){if(E=u,s.errorRecoveryDisabledLanes&E)var R=0;else R=s.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){u=R;e:{var L=s;x=Ld;var q=L.current.memoizedState.isDehydrated;if(q&&(Nc(L,R).flags|=256),R=t2(L,R,!1),R!==2){if(Wy&&!q){L.errorRecoveryDisabledLanes|=E,uu|=E,x=4;break e}E=Jr,Jr=x,E!==null&&(Jr===null?Jr=E:Jr.push.apply(Jr,E))}x=R}if(E=!1,x!==2)continue}}if(x===1){Nc(s,0),Ls(s,u,0,!0);break}e:{switch(g=s,E=x,E){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Ls(g,u,_i,!Ns);break e;case 2:Jr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(x=kp+300-Fr(),10<x)){if(Ls(g,u,_i,!Ns),Da(g,0,!0)!==0)break e;jo=u,g.timeoutHandle=D3(n3.bind(null,g,d,Jr,Lp,Yy,u,_i,uu,Pc,Ns,E,"Throttled",-0,0),x);break e}n3(g,d,Jr,Lp,Yy,u,_i,uu,Pc,Ns,E,null,-0,0)}}break}while(!0);Ya(s)}function n3(s,u,d,g,x,E,R,L,q,J,oe,ce,te,ie){if(s.timeoutHandle=-1,ce=u.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:da},WT(u,E,ce);var Ae=(E&62914560)===E?kp-Fr():(E&4194048)===E?ZT-Fr():0;if(Ae=iB(ce,Ae),Ae!==null){jo=E,s.cancelPendingCommit=Ae(c3.bind(null,s,u,E,d,g,x,R,L,q,oe,ce,null,te,ie)),Ls(s,E,R,!J);return}}c3(s,u,E,d,g,x,R,L,q)}function _L(s){for(var u=s;;){var d=u.tag;if((d===0||d===11||d===15)&&u.flags&16384&&(d=u.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var x=d[g],E=x.getSnapshot;x=x.value;try{if(!gi(E(),x))return!1}catch{return!1}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Ls(s,u,d,g){u&=~Xy,u&=~uu,s.suspendedLanes|=u,s.pingedLanes&=~u,g&&(s.warmLanes|=u),g=s.expirationTimes;for(var x=u;0<x;){var E=31-mn(x),R=1<<E;g[E]=-1,x&=~R}d!==0&&Bl(s,d,u)}function Bp(){return(xt&6)===0?(Fd(0),!1):!0}function e2(){if(Ze!==null){if(It===0)var s=Ze.return;else s=Ze,So=eu=null,vy(s),Ec=null,bd=0,s=Ze;for(;s!==null;)NT(s.alternate,s),s=s.return;Ze=null}}function Nc(s,u){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,VL(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),jo=0,e2(),Vt=s,Ze=d=Eo(s.current,null),nt=u,It=0,xi=null,Ns=!1,Rc=ua(s,u),Wy=!1,Pc=_i=Xy=uu=Ms=fn=0,Jr=Ld=null,Yy=!1,(u&8)!==0&&(u|=u&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=u;0<g;){var x=31-mn(g),E=1<<x;u|=s[x],g&=~E}return ko=u,ap(),d}function r3(s,u){qe=null,Y.H=Od,u===wc||u===hp?(u=xC(),It=3):u===iy?(u=xC(),It=4):It=u===Dy?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,xi=u,Ze===null&&(fn=1,Tp(s,Vi(u,s.current)))}function i3(){var s=mi.current;return s===null?!0:(nt&4194048)===nt?$i===null:(nt&62914560)===nt||(nt&536870912)!==0?s===$i:!1}function a3(){var s=Y.H;return Y.H=Od,s===null?Od:s}function o3(){var s=Y.A;return Y.A=yL,s}function Fp(){fn=4,Ns||(nt&4194048)!==nt&&mi.current!==null||(Rc=!0),(Ms&134217727)===0&&(uu&134217727)===0||Vt===null||Ls(Vt,nt,_i,!1)}function t2(s,u,d){var g=xt;xt|=2;var x=a3(),E=o3();(Vt!==s||nt!==u)&&(Lp=null,Nc(s,u)),u=!1;var R=fn;e:do try{if(It!==0&&Ze!==null){var L=Ze,q=xi;switch(It){case 8:e2(),R=6;break e;case 3:case 2:case 9:case 6:mi.current===null&&(u=!0);var J=It;if(It=0,xi=null,Mc(s,L,q,J),d&&Rc){R=0;break e}break;default:J=It,It=0,xi=null,Mc(s,L,q,J)}}bL(),R=fn;break}catch(oe){r3(s,oe)}while(!0);return u&&s.shellSuspendCounter++,So=eu=null,xt=g,Y.H=x,Y.A=E,Ze===null&&(Vt=null,nt=0,ap()),R}function bL(){for(;Ze!==null;)s3(Ze)}function wL(s,u){var d=xt;xt|=2;var g=a3(),x=o3();Vt!==s||nt!==u?(Lp=null,jp=Fr()+500,Nc(s,u)):Rc=ua(s,u);e:do try{if(It!==0&&Ze!==null){u=Ze;var E=xi;t:switch(It){case 1:It=0,xi=null,Mc(s,u,E,1);break;case 2:case 9:if(mC(E)){It=0,xi=null,l3(u);break}u=function(){It!==2&&It!==9||Vt!==s||(It=7),Ya(s)},E.then(u,u);break e;case 3:It=7;break e;case 4:It=5;break e;case 7:mC(E)?(It=0,xi=null,l3(u)):(It=0,xi=null,Mc(s,u,E,7));break;case 5:var R=null;switch(Ze.tag){case 26:R=Ze.memoizedState;case 5:case 27:var L=Ze;if(R?K3(R):L.stateNode.complete){It=0,xi=null;var q=L.sibling;if(q!==null)Ze=q;else{var J=L.return;J!==null?(Ze=J,Vp(J)):Ze=null}break t}}It=0,xi=null,Mc(s,u,E,5);break;case 6:It=0,xi=null,Mc(s,u,E,6);break;case 8:e2(),fn=6;break e;default:throw Error(r(462))}}EL();break}catch(oe){r3(s,oe)}while(!0);return So=eu=null,Y.H=g,Y.A=x,xt=d,Ze!==null?0:(Vt=null,nt=0,ap(),fn)}function EL(){for(;Ze!==null&&!Pm();)s3(Ze)}function s3(s){var u=PT(s.alternate,s,ko);s.memoizedProps=s.pendingProps,u===null?Vp(s):Ze=u}function l3(s){var u=s,d=u.alternate;switch(u.tag){case 15:case 0:u=ST(d,u,u.pendingProps,u.type,void 0,nt);break;case 11:u=ST(d,u,u.pendingProps,u.type.render,u.ref,nt);break;case 5:vy(u);default:NT(d,u),u=Ze=oC(u,ko),u=PT(d,u,ko)}s.memoizedProps=s.pendingProps,u===null?Vp(s):Ze=u}function Mc(s,u,d,g){So=eu=null,vy(u),Ec=null,bd=0;var x=u.return;try{if(fL(s,x,u,d,nt)){fn=1,Tp(s,Vi(d,s.current)),Ze=null;return}}catch(E){if(x!==null)throw Ze=x,E;fn=1,Tp(s,Vi(d,s.current)),Ze=null;return}u.flags&32768?(st||g===1?s=!0:Rc||(nt&536870912)!==0?s=!1:(Ns=s=!0,(g===2||g===9||g===3||g===6)&&(g=mi.current,g!==null&&g.tag===13&&(g.flags|=16384))),u3(u,s)):Vp(u)}function Vp(s){var u=s;do{if((u.flags&32768)!==0){u3(u,Ns);return}s=u.return;var d=pL(u.alternate,u,ko);if(d!==null){Ze=d;return}if(u=u.sibling,u!==null){Ze=u;return}Ze=u=s}while(u!==null);fn===0&&(fn=5)}function u3(s,u){do{var d=gL(s.alternate,s);if(d!==null){d.flags&=32767,Ze=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!u&&(s=s.sibling,s!==null)){Ze=s;return}Ze=s=d}while(s!==null);fn=6,Ze=null}function c3(s,u,d,g,x,E,R,L,q){s.cancelPendingCommit=null;do Up();while(Un!==0);if((xt&6)!==0)throw Error(r(327));if(u!==null){if(u===s.current)throw Error(r(177));if(E=u.lanes|u.childLanes,E|=Hm,Mm(s,d,E,R,L,q),s===Vt&&(Ze=Vt=null,nt=0),Dc=u,js=s,jo=d,Qy=E,Zy=x,JT=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,TL(hs,function(){return g3(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=Y.T,Y.T=null,x=se.p,se.p=2,R=xt,xt|=4;try{vL(s,u,d)}finally{xt=R,se.p=x,Y.T=g}}Un=1,f3(),d3(),h3()}}function f3(){if(Un===1){Un=0;var s=js,u=Dc,d=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||d){d=Y.T,Y.T=null;var g=se.p;se.p=2;var x=xt;xt|=4;try{qT(u,s);var E=h2,R=QS(s.containerInfo),L=E.focusedElem,q=E.selectionRange;if(R!==L&&L&&L.ownerDocument&&YS(L.ownerDocument.documentElement,L)){if(q!==null&&Bm(L)){var J=q.start,oe=q.end;if(oe===void 0&&(oe=J),"selectionStart"in L)L.selectionStart=J,L.selectionEnd=Math.min(oe,L.value.length);else{var ce=L.ownerDocument||document,te=ce&&ce.defaultView||window;if(te.getSelection){var ie=te.getSelection(),Ae=L.textContent.length,je=Math.min(q.start,Ae),Lt=q.end===void 0?je:Math.min(q.end,Ae);!ie.extend&&je>Lt&&(R=Lt,Lt=je,je=R);var W=XS(L,je),K=XS(L,Lt);if(W&&K&&(ie.rangeCount!==1||ie.anchorNode!==W.node||ie.anchorOffset!==W.offset||ie.focusNode!==K.node||ie.focusOffset!==K.offset)){var Z=ce.createRange();Z.setStart(W.node,W.offset),ie.removeAllRanges(),je>Lt?(ie.addRange(Z),ie.extend(K.node,K.offset)):(Z.setEnd(K.node,K.offset),ie.addRange(Z))}}}}for(ce=[],ie=L;ie=ie.parentNode;)ie.nodeType===1&&ce.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ce.length;L++){var le=ce[L];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Jp=!!d2,h2=d2=null}finally{xt=x,se.p=g,Y.T=d}}s.current=u,Un=2}}function d3(){if(Un===2){Un=0;var s=js,u=Dc,d=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||d){d=Y.T,Y.T=null;var g=se.p;se.p=2;var x=xt;xt|=4;try{VT(s,u.alternate,u)}finally{xt=x,se.p=g,Y.T=d}}Un=3}}function h3(){if(Un===4||Un===3){Un=0,P0();var s=js,u=Dc,d=jo,g=JT;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Un=5:(Un=0,Dc=js=null,p3(s,s.pendingLanes));var x=s.pendingLanes;if(x===0&&(ks=null),xo(d),u=u.stateNode,fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(la,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=Y.T,x=se.p,se.p=2,Y.T=null;try{for(var E=s.onRecoverableError,R=0;R<g.length;R++){var L=g[R];E(L.value,{componentStack:L.stack})}}finally{Y.T=u,se.p=x}}(jo&3)!==0&&Up(),Ya(s),x=s.pendingLanes,(d&261930)!==0&&(x&42)!==0?s===Jy?Bd++:(Bd=0,Jy=s):Bd=0,Fd(0)}}function p3(s,u){(s.pooledCacheLanes&=u)===0&&(u=s.pooledCache,u!=null&&(s.pooledCache=null,xd(u)))}function Up(){return f3(),d3(),h3(),g3()}function g3(){if(Un!==5)return!1;var s=js,u=Qy;Qy=0;var d=xo(jo),g=Y.T,x=se.p;try{se.p=32>d?32:d,Y.T=null,d=Zy,Zy=null;var E=js,R=jo;if(Un=0,Dc=js=null,jo=0,(xt&6)!==0)throw Error(r(331));var L=xt;if(xt|=4,YT(E.current),KT(E,E.current,R,d),xt=L,Fd(0,!1),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(la,E)}catch{}return!0}finally{se.p=x,Y.T=g,p3(s,u)}}function v3(s,u,d){u=Vi(d,u),u=Py(s.stateNode,u,2),s=Os(s,u,2),s!==null&&(Ll(s,2),Ya(s))}function Ot(s,u,d){if(s.tag===3)v3(s,s,d);else for(;u!==null;){if(u.tag===3){v3(u,s,d);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ks===null||!ks.has(g))){s=Vi(d,s),d=mT(2),g=Os(u,d,2),g!==null&&(yT(d,g,u,s),Ll(g,2),Ya(g));break}}u=u.return}}function n2(s,u,d){var g=s.pingCache;if(g===null){g=s.pingCache=new xL;var x=new Set;g.set(u,x)}else x=g.get(u),x===void 0&&(x=new Set,g.set(u,x));x.has(d)||(Wy=!0,x.add(d),s=AL.bind(null,s,u,d),u.then(s,s))}function AL(s,u,d){var g=s.pingCache;g!==null&&g.delete(u),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,Vt===s&&(nt&d)===d&&(fn===4||fn===3&&(nt&62914560)===nt&&300>Fr()-kp?(xt&2)===0&&Nc(s,0):Xy|=d,Pc===nt&&(Pc=0)),Ya(s)}function m3(s,u){u===0&&(u=L0()),s=Ql(s,u),s!==null&&(Ll(s,u),Ya(s))}function SL(s){var u=s.memoizedState,d=0;u!==null&&(d=u.retryLane),m3(s,d)}function CL(s,u){var d=0;switch(s.tag){case 31:case 13:var g=s.stateNode,x=s.memoizedState;x!==null&&(d=x.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(u),m3(s,d)}function TL(s,u){return Vn(s,u)}var zp=null,kc=null,r2=!1,Hp=!1,i2=!1,Bs=0;function Ya(s){s!==kc&&s.next===null&&(kc===null?zp=kc=s:kc=kc.next=s),Hp=!0,r2||(r2=!0,OL())}function Fd(s,u){if(!i2&&Hp){i2=!0;do for(var d=!1,g=zp;g!==null;){if(s!==0){var x=g.pendingLanes;if(x===0)var E=0;else{var R=g.suspendedLanes,L=g.pingedLanes;E=(1<<31-mn(42|s)+1)-1,E&=x&~(R&~L),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(d=!0,b3(g,E))}else E=nt,E=Da(g,g===Vt?E:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(E&3)===0||ua(g,E)||(d=!0,b3(g,E));g=g.next}while(d);i2=!1}}function IL(){y3()}function y3(){Hp=r2=!1;var s=0;Bs!==0&&FL()&&(s=Bs);for(var u=Fr(),d=null,g=zp;g!==null;){var x=g.next,E=x3(g,u);E===0?(g.next=null,d===null?zp=x:d.next=x,x===null&&(kc=d)):(d=g,(s!==0||(E&3)!==0)&&(Hp=!0)),g=x}Un!==0&&Un!==5||Fd(s),Bs!==0&&(Bs=0)}function x3(s,u){for(var d=s.suspendedLanes,g=s.pingedLanes,x=s.expirationTimes,E=s.pendingLanes&-62914561;0<E;){var R=31-mn(E),L=1<<R,q=x[R];q===-1?((L&d)===0||(L&g)!==0)&&(x[R]=Nm(L,u)):q<=u&&(s.expiredLanes|=L),E&=~L}if(u=Vt,d=nt,d=Da(s,s===u?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,d===0||s===u&&(It===2||It===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&ds(g),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||ua(s,d)){if(u=d&-d,u===s.callbackPriority)return u;switch(g!==null&&ds(g),xo(d)){case 2:case 8:d=Xf;break;case 32:d=hs;break;case 268435456:d=D0;break;default:d=hs}return g=_3.bind(null,s),d=Vn(d,g),s.callbackPriority=u,s.callbackNode=d,u}return g!==null&&g!==null&&ds(g),s.callbackPriority=2,s.callbackNode=null,2}function _3(s,u){if(Un!==0&&Un!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(Up()&&s.callbackNode!==d)return null;var g=nt;return g=Da(s,s===Vt?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(t3(s,g,u),x3(s,Fr()),s.callbackNode!=null&&s.callbackNode===d?_3.bind(null,s):null)}function b3(s,u){if(Up())return null;t3(s,u,!0)}function OL(){UL(function(){(xt&6)!==0?Vn(Wf,IL):y3()})}function a2(){if(Bs===0){var s=_c;s===0&&(s=Ra,Ra<<=1,(Ra&261888)===0&&(Ra=256)),Bs=s}return Bs}function w3(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ac(""+s)}function E3(s,u){var d=u.ownerDocument.createElement("input");return d.name=u.name,d.value=u.value,s.id&&d.setAttribute("form",s.id),u.parentNode.insertBefore(d,u),s=new FormData(s),d.parentNode.removeChild(d),s}function RL(s,u,d,g,x){if(u==="submit"&&d&&d.stateNode===x){var E=w3((x[Jn]||null).action),R=g.submitter;R&&(u=(u=R[Jn]||null)?w3(u.formAction):R.getAttribute("formAction"),u!==null&&(E=u,R=null));var L=new Ha("action","action",null,g,x);s.push({event:L,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Bs!==0){var q=R?E3(x,R):new FormData(x);Sy(d,{pending:!0,data:q,method:x.method,action:E},null,q)}}else typeof E=="function"&&(L.preventDefault(),q=R?E3(x,R):new FormData(x),Sy(d,{pending:!0,data:q,method:x.method,action:E},E,q))},currentTarget:x}]})}}for(var o2=0;o2<zm.length;o2++){var s2=zm[o2],PL=s2.toLowerCase(),DL=s2[0].toUpperCase()+s2.slice(1);ma(PL,"on"+DL)}ma(eC,"onAnimationEnd"),ma(tC,"onAnimationIteration"),ma(nC,"onAnimationStart"),ma("dblclick","onDoubleClick"),ma("focusin","onFocus"),ma("focusout","onBlur"),ma(Wj,"onTransitionRun"),ma(Xj,"onTransitionStart"),ma(Yj,"onTransitionCancel"),ma(rC,"onTransitionEnd"),Fa("onMouseEnter",["mouseout","mouseover"]),Fa("onMouseLeave",["mouseout","mouseover"]),Fa("onPointerEnter",["pointerout","pointerover"]),Fa("onPointerLeave",["pointerout","pointerover"]),Ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vd));function A3(s,u){u=(u&4)!==0;for(var d=0;d<s.length;d++){var g=s[d],x=g.event;g=g.listeners;e:{var E=void 0;if(u)for(var R=g.length-1;0<=R;R--){var L=g[R],q=L.instance,J=L.currentTarget;if(L=L.listener,q!==E&&x.isPropagationStopped())break e;E=L,x.currentTarget=J;try{E(x)}catch(oe){ip(oe)}x.currentTarget=null,E=q}else for(R=0;R<g.length;R++){if(L=g[R],q=L.instance,J=L.currentTarget,L=L.listener,q!==E&&x.isPropagationStopped())break e;E=L,x.currentTarget=J;try{E(x)}catch(oe){ip(oe)}x.currentTarget=null,E=q}}}}function Je(s,u){var d=u[ec];d===void 0&&(d=u[ec]=new Set);var g=s+"__bubble";d.has(g)||(S3(u,s,2,!1),d.add(g))}function l2(s,u,d){var g=0;u&&(g|=4),S3(d,s,g,u)}var $p="_reactListening"+Math.random().toString(36).slice(2);function u2(s){if(!s[$p]){s[$p]=!0,Zf.forEach(function(d){d!=="selectionchange"&&(NL.has(d)||l2(d,!1,s),l2(d,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[$p]||(u[$p]=!0,l2("selectionchange",!1,u))}}function S3(s,u,d,g){switch(e4(u)){case 2:var x=sB;break;case 8:x=lB;break;default:x=A2}d=x.bind(null,u,d,s),x=void 0,!Hl||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(x=!0),g?x!==void 0?s.addEventListener(u,d,{capture:!0,passive:x}):s.addEventListener(u,d,!0):x!==void 0?s.addEventListener(u,d,{passive:x}):s.addEventListener(u,d,!1)}function c2(s,u,d,g,x){var E=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var R=g.tag;if(R===3||R===4){var L=g.stateNode.containerInfo;if(L===x)break;if(R===4)for(R=g.return;R!==null;){var q=R.tag;if((q===3||q===4)&&R.stateNode.containerInfo===x)return;R=R.return}for(;L!==null;){if(R=ja(L),R===null)return;if(q=R.tag,q===5||q===6||q===26||q===27){g=E=R;continue e}L=L.parentNode}}g=g.return}xs(function(){var J=E,oe=ji(d),ce=[];e:{var te=iC.get(s);if(te!==void 0){var ie=Ha,Ae=s;switch(s){case"keypress":if(ql(d)===0)break e;case"keydown":case"keyup":ie=tp;break;case"focusin":Ae="focus",ie=Kl;break;case"focusout":Ae="blur",ie=Kl;break;case"beforeblur":case"afterblur":ie=Kl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=G0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=C;break;case eC:case tC:case nC:ie=W0;break;case rC:ie=V;break;case"scroll":case"scrollend":ie=cd;break;case"wheel":ie=re;break;case"copy":case"cut":case"paste":ie=X0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=wo;break;case"toggle":case"beforetoggle":ie=$e}var je=(u&4)!==0,Lt=!je&&(s==="scroll"||s==="scrollend"),W=je?te!==null?te+"Capture":null:te;je=[];for(var K=J,Z;K!==null;){var le=K;if(Z=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Z===null||W===null||(le=ha(K,W),le!=null&&je.push(Ud(K,le,Z))),Lt)break;K=K.return}0<je.length&&(te=new ie(te,Ae,null,d,oe),ce.push({event:te,listeners:je}))}}if((u&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ie=s==="mouseout"||s==="pointerout",te&&d!==sd&&(Ae=d.relatedTarget||d.fromElement)&&(ja(Ae)||Ae[Ma]))break e;if((ie||te)&&(te=oe.window===oe?oe:(te=oe.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(Ae=d.relatedTarget||d.toElement,ie=J,Ae=Ae?ja(Ae):null,Ae!==null&&(Lt=a(Ae),je=Ae.tag,Ae!==Lt||je!==5&&je!==27&&je!==6)&&(Ae=null)):(ie=null,Ae=J),ie!==Ae)){if(je=fd,le="onMouseLeave",W="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(je=wo,le="onPointerLeave",W="onPointerEnter",K="pointer"),Lt=ie==null?te:hi(ie),Z=Ae==null?te:hi(Ae),te=new je(le,K+"leave",ie,d,oe),te.target=Lt,te.relatedTarget=Z,le=null,ja(oe)===J&&(je=new je(W,K+"enter",Ae,d,oe),je.target=Z,je.relatedTarget=Lt,le=je),Lt=le,ie&&Ae)t:{for(je=ML,W=ie,K=Ae,Z=0,le=W;le;le=je(le))Z++;le=0;for(var Pe=K;Pe;Pe=je(Pe))le++;for(;0<Z-le;)W=je(W),Z--;for(;0<le-Z;)K=je(K),le--;for(;Z--;){if(W===K||K!==null&&W===K.alternate){je=W;break t}W=je(W),K=je(K)}je=null}else je=null;ie!==null&&C3(ce,te,ie,je,!1),Ae!==null&&Lt!==null&&C3(ce,Lt,Ae,je,!0)}}e:{if(te=J?hi(J):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var ht=HS;else if(US(te))if($S)ht=qj;else{ht=Hj;var Ie=zj}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&ic(J.elementType)&&(ht=HS):ht=$j;if(ht&&(ht=ht(s,J))){zS(ce,ht,d,oe);break e}Ie&&Ie(s,te,J),s==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&id(te,"number",te.value)}switch(Ie=J?hi(J):window,s){case"focusin":(US(Ie)||Ie.contentEditable==="true")&&(dc=Ie,Fm=J,vd=null);break;case"focusout":vd=Fm=dc=null;break;case"mousedown":Vm=!0;break;case"contextmenu":case"mouseup":case"dragend":Vm=!1,ZS(ce,d,oe);break;case"selectionchange":if(Kj)break;case"keydown":case"keyup":ZS(ce,d,oe)}var Ke;if(yt)e:{switch(s){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else fc?Wl(s,d)&&(rt="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(rt="onCompositionStart");rt&&(Ga&&d.locale!=="ko"&&(fc||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&fc&&(Ke=ud()):(za=oe,ld="value"in za?za.value:za.textContent,fc=!0)),Ie=qp(J,rt),0<Ie.length&&(rt=new qa(rt,s,null,d,oe),ce.push({event:rt,listeners:Ie}),Ke?rt.data=Ke:(Ke=cc(d),Ke!==null&&(rt.data=Ke)))),(Ke=Bi?Bj(s,d):Fj(s,d))&&(rt=qp(J,"onBeforeInput"),0<rt.length&&(Ie=new qa("onBeforeInput","beforeinput",null,d,oe),ce.push({event:Ie,listeners:rt}),Ie.data=Ke)),RL(ce,s,J,d,oe)}A3(ce,u)})}function Ud(s,u,d){return{instance:s,listener:u,currentTarget:d}}function qp(s,u){for(var d=u+"Capture",g=[];s!==null;){var x=s,E=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||E===null||(x=ha(s,d),x!=null&&g.unshift(Ud(s,x,E)),x=ha(s,u),x!=null&&g.push(Ud(s,x,E))),s.tag===3)return g;s=s.return}return[]}function ML(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function C3(s,u,d,g,x){for(var E=u._reactName,R=[];d!==null&&d!==g;){var L=d,q=L.alternate,J=L.stateNode;if(L=L.tag,q!==null&&q===g)break;L!==5&&L!==26&&L!==27||J===null||(q=J,x?(J=ha(d,E),J!=null&&R.unshift(Ud(d,J,q))):x||(J=ha(d,E),J!=null&&R.push(Ud(d,J,q)))),d=d.return}R.length!==0&&s.push({event:u,listeners:R})}var kL=/\r\n?/g,jL=/\u0000|\uFFFD/g;function T3(s){return(typeof s=="string"?s:""+s).replace(kL,`
`).replace(jL,"")}function I3(s,u){return u=T3(u),T3(s)===u}function jt(s,u,d,g,x,E){switch(d){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||Xr(s,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&Xr(s,""+g);break;case"className":pi(s,"class",g);break;case"tabIndex":pi(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":pi(s,d,g);break;case"style":od(s,g,E);break;case"data":if(u!=="object"){pi(s,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||d!=="href")){s.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=ac(""+g),s.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(d==="formAction"?(u!=="input"&&jt(s,u,"name",x.name,x,null),jt(s,u,"formEncType",x.formEncType,x,null),jt(s,u,"formMethod",x.formMethod,x,null),jt(s,u,"formTarget",x.formTarget,x,null)):(jt(s,u,"encType",x.encType,x,null),jt(s,u,"method",x.method,x,null),jt(s,u,"target",x.target,x,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=ac(""+g),s.setAttribute(d,g);break;case"onClick":g!=null&&(s.onclick=da);break;case"onScroll":g!=null&&Je("scroll",s);break;case"onScrollEnd":g!=null&&Je("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(x.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}d=ac(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""+g):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":g===!0?s.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,g):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(d,g):s.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(d):s.setAttribute(d,g);break;case"popover":Je("beforetoggle",s),Je("toggle",s),nc(s,"popover",g);break;case"xlinkActuate":On(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":On(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":On(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":On(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":On(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":On(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":On(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":On(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":On(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":nc(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=q0.get(d)||d,nc(s,d,g))}}function f2(s,u,d,g,x,E){switch(d){case"style":od(s,g,E);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(x.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"children":typeof g=="string"?Xr(s,g):(typeof g=="number"||typeof g=="bigint")&&Xr(s,""+g);break;case"onScroll":g!=null&&Je("scroll",s);break;case"onScrollEnd":g!=null&&Je("scrollend",s);break;case"onClick":g!=null&&(s.onclick=da);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jf.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),u=d.slice(2,x?d.length-7:void 0),E=s[Jn]||null,E=E!=null?E[d]:null,typeof E=="function"&&s.removeEventListener(u,E,x),typeof g=="function")){typeof E!="function"&&E!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(u,g,x);break e}d in s?s[d]=g:g===!0?s.setAttribute(d,""):nc(s,d,g)}}}function vr(s,u,d){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",s),Je("load",s);var g=!1,x=!1,E;for(E in d)if(d.hasOwnProperty(E)){var R=d[E];if(R!=null)switch(E){case"src":g=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:jt(s,u,E,R,d,null)}}x&&jt(s,u,"srcSet",d.srcSet,d,null),g&&jt(s,u,"src",d.src,d,null);return;case"input":Je("invalid",s);var L=E=R=x=null,q=null,J=null;for(g in d)if(d.hasOwnProperty(g)){var oe=d[g];if(oe!=null)switch(g){case"name":x=oe;break;case"type":R=oe;break;case"checked":q=oe;break;case"defaultChecked":J=oe;break;case"value":E=oe;break;case"defaultValue":L=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,u));break;default:jt(s,u,g,oe,d,null)}}z0(s,E,L,q,J,R,x,!1);return;case"select":Je("invalid",s),g=R=E=null;for(x in d)if(d.hasOwnProperty(x)&&(L=d[x],L!=null))switch(x){case"value":E=L;break;case"defaultValue":R=L;break;case"multiple":g=L;default:jt(s,u,x,L,d,null)}u=E,d=R,s.multiple=!!g,u!=null?gs(s,!!g,u,!1):d!=null&&gs(s,!!g,d,!0);return;case"textarea":Je("invalid",s),E=x=g=null;for(R in d)if(d.hasOwnProperty(R)&&(L=d[R],L!=null))switch(R){case"value":g=L;break;case"defaultValue":x=L;break;case"children":E=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:jt(s,u,R,L,d,null)}vs(s,g,x,E);return;case"option":for(q in d)if(d.hasOwnProperty(q)&&(g=d[q],g!=null))switch(q){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:jt(s,u,q,g,d,null)}return;case"dialog":Je("beforetoggle",s),Je("toggle",s),Je("cancel",s),Je("close",s);break;case"iframe":case"object":Je("load",s);break;case"video":case"audio":for(g=0;g<Vd.length;g++)Je(Vd[g],s);break;case"image":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"embed":case"source":case"link":Je("error",s),Je("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in d)if(d.hasOwnProperty(J)&&(g=d[J],g!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:jt(s,u,J,g,d,null)}return;default:if(ic(u)){for(oe in d)d.hasOwnProperty(oe)&&(g=d[oe],g!==void 0&&f2(s,u,oe,g,d,void 0));return}}for(L in d)d.hasOwnProperty(L)&&(g=d[L],g!=null&&jt(s,u,L,g,d,null))}function LL(s,u,d,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,E=null,R=null,L=null,q=null,J=null,oe=null;for(ie in d){var ce=d[ie];if(d.hasOwnProperty(ie)&&ce!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":q=ce;default:g.hasOwnProperty(ie)||jt(s,u,ie,null,g,ce)}}for(var te in g){var ie=g[te];if(ce=d[te],g.hasOwnProperty(te)&&(ie!=null||ce!=null))switch(te){case"type":E=ie;break;case"name":x=ie;break;case"checked":J=ie;break;case"defaultChecked":oe=ie;break;case"value":R=ie;break;case"defaultValue":L=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,u));break;default:ie!==ce&&jt(s,u,te,ie,g,ce)}}rc(s,R,L,q,J,oe,E,x);return;case"select":ie=R=L=te=null;for(E in d)if(q=d[E],d.hasOwnProperty(E)&&q!=null)switch(E){case"value":break;case"multiple":ie=q;default:g.hasOwnProperty(E)||jt(s,u,E,null,g,q)}for(x in g)if(E=g[x],q=d[x],g.hasOwnProperty(x)&&(E!=null||q!=null))switch(x){case"value":te=E;break;case"defaultValue":L=E;break;case"multiple":R=E;default:E!==q&&jt(s,u,x,E,g,q)}u=L,d=R,g=ie,te!=null?gs(s,!!d,te,!1):!!g!=!!d&&(u!=null?gs(s,!!d,u,!0):gs(s,!!d,d?[]:"",!1));return;case"textarea":ie=te=null;for(L in d)if(x=d[L],d.hasOwnProperty(L)&&x!=null&&!g.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:jt(s,u,L,null,g,x)}for(R in g)if(x=g[R],E=d[R],g.hasOwnProperty(R)&&(x!=null||E!=null))switch(R){case"value":te=x;break;case"defaultValue":ie=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==E&&jt(s,u,R,x,g,E)}H0(s,te,ie);return;case"option":for(var Ae in d)if(te=d[Ae],d.hasOwnProperty(Ae)&&te!=null&&!g.hasOwnProperty(Ae))switch(Ae){case"selected":s.selected=!1;break;default:jt(s,u,Ae,null,g,te)}for(q in g)if(te=g[q],ie=d[q],g.hasOwnProperty(q)&&te!==ie&&(te!=null||ie!=null))switch(q){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:jt(s,u,q,te,g,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in d)te=d[je],d.hasOwnProperty(je)&&te!=null&&!g.hasOwnProperty(je)&&jt(s,u,je,null,g,te);for(J in g)if(te=g[J],ie=d[J],g.hasOwnProperty(J)&&te!==ie&&(te!=null||ie!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,u));break;default:jt(s,u,J,te,g,ie)}return;default:if(ic(u)){for(var Lt in d)te=d[Lt],d.hasOwnProperty(Lt)&&te!==void 0&&!g.hasOwnProperty(Lt)&&f2(s,u,Lt,void 0,g,te);for(oe in g)te=g[oe],ie=d[oe],!g.hasOwnProperty(oe)||te===ie||te===void 0&&ie===void 0||f2(s,u,oe,te,g,ie);return}}for(var W in d)te=d[W],d.hasOwnProperty(W)&&te!=null&&!g.hasOwnProperty(W)&&jt(s,u,W,null,g,te);for(ce in g)te=g[ce],ie=d[ce],!g.hasOwnProperty(ce)||te===ie||te==null&&ie==null||jt(s,u,ce,te,g,ie)}function O3(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BL(){if(typeof performance.getEntriesByType=="function"){for(var s=0,u=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var x=d[g],E=x.transferSize,R=x.initiatorType,L=x.duration;if(E&&L&&O3(R)){for(R=0,L=x.responseEnd,g+=1;g<d.length;g++){var q=d[g],J=q.startTime;if(J>L)break;var oe=q.transferSize,ce=q.initiatorType;oe&&O3(ce)&&(q=q.responseEnd,R+=oe*(q<L?1:(L-J)/(q-J)))}if(--g,u+=8*(E+R)/(x.duration/1e3),s++,10<s)break}}if(0<s)return u/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var d2=null,h2=null;function Gp(s){return s.nodeType===9?s:s.ownerDocument}function R3(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P3(s,u){if(s===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&u==="foreignObject"?0:s}function p2(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var g2=null;function FL(){var s=window.event;return s&&s.type==="popstate"?s===g2?!1:(g2=s,!0):(g2=null,!1)}var D3=typeof setTimeout=="function"?setTimeout:void 0,VL=typeof clearTimeout=="function"?clearTimeout:void 0,N3=typeof Promise=="function"?Promise:void 0,UL=typeof queueMicrotask=="function"?queueMicrotask:typeof N3<"u"?function(s){return N3.resolve(null).then(s).catch(zL)}:D3;function zL(s){setTimeout(function(){throw s})}function Fs(s){return s==="head"}function M3(s,u){var d=u,g=0;do{var x=d.nextSibling;if(s.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"||d==="/&"){if(g===0){s.removeChild(x),Fc(u);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")zd(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,zd(d);for(var E=d.firstChild;E;){var R=E.nextSibling,L=E.nodeName;E[ka]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&E.rel.toLowerCase()==="stylesheet"||d.removeChild(E),E=R}}else d==="body"&&zd(s.ownerDocument.body);d=x}while(d);Fc(u)}function k3(s,u){var d=s;s=0;do{var g=d.nextSibling;if(d.nodeType===1?u?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(u?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=g}while(d)}function v2(s){var u=s.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var d=u;switch(u=u.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":v2(d),tc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function HL(s,u,d,g){for(;s.nodeType===1;){var x=d;if(s.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[ka])switch(u){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(E=s.getAttribute("rel"),E==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(E!==x.rel||s.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||s.getAttribute("title")!==(x.title==null?null:x.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(E=s.getAttribute("src"),(E!==(x.src==null?null:x.src)||s.getAttribute("type")!==(x.type==null?null:x.type)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&E&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(u==="input"&&s.type==="hidden"){var E=x.name==null?null:""+x.name;if(x.type==="hidden"&&s.getAttribute("name")===E)return s}else return s;if(s=qi(s.nextSibling),s===null)break}return null}function $L(s,u,d){if(u==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=qi(s.nextSibling),s===null))return null;return s}function j3(s,u){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=qi(s.nextSibling),s===null))return null;return s}function m2(s){return s.data==="$?"||s.data==="$~"}function y2(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function qL(s,u){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=u;else if(s.data!=="$?"||d.readyState!=="loading")u();else{var g=function(){u(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function qi(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return s}var x2=null;function L3(s){s=s.nextSibling;for(var u=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(u===0)return qi(s.nextSibling);u--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||u++}s=s.nextSibling}return null}function B3(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(u===0)return s;u--}else d!=="/$"&&d!=="/&"||u++}s=s.previousSibling}return null}function F3(s,u,d){switch(u=Gp(d),s){case"html":if(s=u.documentElement,!s)throw Error(r(452));return s;case"head":if(s=u.head,!s)throw Error(r(453));return s;case"body":if(s=u.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function zd(s){for(var u=s.attributes;u.length;)s.removeAttributeNode(u[0]);tc(s)}var Gi=new Map,V3=new Set;function Kp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Lo=se.d;se.d={f:GL,r:KL,D:WL,C:XL,L:YL,m:QL,X:JL,S:ZL,M:eB};function GL(){var s=Lo.f(),u=Bp();return s||u}function KL(s){var u=ki(s);u!==null&&u.tag===5&&u.type==="form"?rT(u):Lo.r(s)}var jc=typeof document>"u"?null:document;function U3(s,u,d){var g=jc;if(g&&typeof u=="string"&&u){var x=Wr(u);x='link[rel="'+s+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),V3.has(x)||(V3.add(x),s={rel:s,crossOrigin:d,href:u},g.querySelector(x)===null&&(u=g.createElement("link"),vr(u,"link",s),In(u),g.head.appendChild(u)))}}function WL(s){Lo.D(s),U3("dns-prefetch",s,null)}function XL(s,u){Lo.C(s,u),U3("preconnect",s,u)}function YL(s,u,d){Lo.L(s,u,d);var g=jc;if(g&&s&&u){var x='link[rel="preload"][as="'+Wr(u)+'"]';u==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+Wr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+Wr(d.imageSizes)+'"]')):x+='[href="'+Wr(s)+'"]';var E=x;switch(u){case"style":E=Lc(s);break;case"script":E=Bc(s)}Gi.has(E)||(s=p({rel:"preload",href:u==="image"&&d&&d.imageSrcSet?void 0:s,as:u},d),Gi.set(E,s),g.querySelector(x)!==null||u==="style"&&g.querySelector(Hd(E))||u==="script"&&g.querySelector($d(E))||(u=g.createElement("link"),vr(u,"link",s),In(u),g.head.appendChild(u)))}}function QL(s,u){Lo.m(s,u);var d=jc;if(d&&s){var g=u&&typeof u.as=="string"?u.as:"script",x='link[rel="modulepreload"][as="'+Wr(g)+'"][href="'+Wr(s)+'"]',E=x;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Bc(s)}if(!Gi.has(E)&&(s=p({rel:"modulepreload",href:s},u),Gi.set(E,s),d.querySelector(x)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector($d(E)))return}g=d.createElement("link"),vr(g,"link",s),In(g),d.head.appendChild(g)}}}function ZL(s,u,d){Lo.S(s,u,d);var g=jc;if(g&&s){var x=La(g).hoistableStyles,E=Lc(s);u=u||"default";var R=x.get(E);if(!R){var L={loading:0,preload:null};if(R=g.querySelector(Hd(E)))L.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":u},d),(d=Gi.get(E))&&_2(s,d);var q=R=g.createElement("link");In(q),vr(q,"link",s),q._p=new Promise(function(J,oe){q.onload=J,q.onerror=oe}),q.addEventListener("load",function(){L.loading|=1}),q.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Wp(R,u,g)}R={type:"stylesheet",instance:R,count:1,state:L},x.set(E,R)}}}function JL(s,u){Lo.X(s,u);var d=jc;if(d&&s){var g=La(d).hoistableScripts,x=Bc(s),E=g.get(x);E||(E=d.querySelector($d(x)),E||(s=p({src:s,async:!0},u),(u=Gi.get(x))&&b2(s,u),E=d.createElement("script"),In(E),vr(E,"link",s),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(x,E))}}function eB(s,u){Lo.M(s,u);var d=jc;if(d&&s){var g=La(d).hoistableScripts,x=Bc(s),E=g.get(x);E||(E=d.querySelector($d(x)),E||(s=p({src:s,async:!0,type:"module"},u),(u=Gi.get(x))&&b2(s,u),E=d.createElement("script"),In(E),vr(E,"link",s),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(x,E))}}function z3(s,u,d,g){var x=(x=He.current)?Kp(x):null;if(!x)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(u=Lc(d.href),d=La(x).hoistableStyles,g=d.get(u),g||(g={type:"style",instance:null,count:0,state:null},d.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=Lc(d.href);var E=La(x).hoistableStyles,R=E.get(s);if(R||(x=x.ownerDocument||x,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(s,R),(E=x.querySelector(Hd(s)))&&!E._p&&(R.instance=E,R.state.loading=5),Gi.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Gi.set(s,d),E||tB(x,s,d,R.state))),u&&g===null)throw Error(r(528,""));return R}if(u&&g!==null)throw Error(r(529,""));return null;case"script":return u=d.async,d=d.src,typeof d=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Bc(d),d=La(x).hoistableScripts,g=d.get(u),g||(g={type:"script",instance:null,count:0,state:null},d.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Lc(s){return'href="'+Wr(s)+'"'}function Hd(s){return'link[rel="stylesheet"]['+s+"]"}function H3(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function tB(s,u,d,g){s.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=s.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),vr(u,"link",d),In(u),s.head.appendChild(u))}function Bc(s){return'[src="'+Wr(s)+'"]'}function $d(s){return"script[async]"+s}function $3(s,u,d){if(u.count++,u.instance===null)switch(u.type){case"style":var g=s.querySelector('style[data-href~="'+Wr(d.href)+'"]');if(g)return u.instance=g,In(g),g;var x=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),In(g),vr(g,"style",x),Wp(g,d.precedence,s),u.instance=g;case"stylesheet":x=Lc(d.href);var E=s.querySelector(Hd(x));if(E)return u.state.loading|=4,u.instance=E,In(E),E;g=H3(d),(x=Gi.get(x))&&_2(g,x),E=(s.ownerDocument||s).createElement("link"),In(E);var R=E;return R._p=new Promise(function(L,q){R.onload=L,R.onerror=q}),vr(E,"link",g),u.state.loading|=4,Wp(E,d.precedence,s),u.instance=E;case"script":return E=Bc(d.src),(x=s.querySelector($d(E)))?(u.instance=x,In(x),x):(g=d,(x=Gi.get(E))&&(g=p({},d),b2(g,x)),s=s.ownerDocument||s,x=s.createElement("script"),In(x),vr(x,"link",g),s.head.appendChild(x),u.instance=x);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,Wp(g,d.precedence,s));return u.instance}function Wp(s,u,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=g.length?g[g.length-1]:null,E=x,R=0;R<g.length;R++){var L=g[R];if(L.dataset.precedence===u)E=L;else if(E!==x)break}E?E.parentNode.insertBefore(s,E.nextSibling):(u=d.nodeType===9?d.head:d,u.insertBefore(s,u.firstChild))}function _2(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.title==null&&(s.title=u.title)}function b2(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.integrity==null&&(s.integrity=u.integrity)}var Xp=null;function q3(s,u,d){if(Xp===null){var g=new Map,x=Xp=new Map;x.set(d,g)}else x=Xp,g=x.get(d),g||(g=new Map,x.set(d,g));if(g.has(s))return g;for(g.set(s,null),d=d.getElementsByTagName(s),x=0;x<d.length;x++){var E=d[x];if(!(E[ka]||E[Tn]||s==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var R=E.getAttribute(u)||"";R=s+R;var L=g.get(R);L?L.push(E):g.set(R,[E])}}return g}function G3(s,u,d){s=s.ownerDocument||s,s.head.insertBefore(d,u==="title"?s.querySelector("head > title"):null)}function nB(s,u,d){if(d===1||u.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return s=u.disabled,typeof u.precedence=="string"&&s==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function K3(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function rB(s,u,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var x=Lc(g.href),E=u.querySelector(Hd(x));if(E){u=E._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(s.count++,s=Yp.bind(s),u.then(s,s)),d.state.loading|=4,d.instance=E,In(E);return}E=u.ownerDocument||u,g=H3(g),(x=Gi.get(x))&&_2(g,x),E=E.createElement("link"),In(E);var R=E;R._p=new Promise(function(L,q){R.onload=L,R.onerror=q}),vr(E,"link",g),d.instance=E}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,u),(u=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=Yp.bind(s),u.addEventListener("load",d),u.addEventListener("error",d))}}var w2=0;function iB(s,u){return s.stylesheets&&s.count===0&&Zp(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var g=setTimeout(function(){if(s.stylesheets&&Zp(s,s.stylesheets),s.unsuspend){var E=s.unsuspend;s.unsuspend=null,E()}},6e4+u);0<s.imgBytes&&w2===0&&(w2=62500*BL());var x=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Zp(s,s.stylesheets),s.unsuspend)){var E=s.unsuspend;s.unsuspend=null,E()}},(s.imgBytes>w2?50:800)+u);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(g),clearTimeout(x)}}:null}function Yp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zp(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Qp=null;function Zp(s,u){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Qp=new Map,u.forEach(aB,s),Qp=null,Yp.call(s))}function aB(s,u){if(!(u.state.loading&4)){var d=Qp.get(s);if(d)var g=d.get(null);else{d=new Map,Qp.set(s,d);for(var x=s.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<x.length;E++){var R=x[E];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(d.set(R.dataset.precedence,R),g=R)}g&&d.set(null,g)}x=u.instance,R=x.getAttribute("data-precedence"),E=d.get(R)||g,E===g&&d.set(null,x),d.set(R,x),this.count++,g=Yp.bind(this),x.addEventListener("load",g),x.addEventListener("error",g),E?E.parentNode.insertBefore(x,E.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(x,s.firstChild)),u.state.loading|=4}}var qd={$$typeof:O,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function oB(s,u,d,g,x,E,R,L,q){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Na(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.hiddenUpdates=Na(null),this.identifierPrefix=g,this.onUncaughtError=x,this.onCaughtError=E,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function W3(s,u,d,g,x,E,R,L,q,J,oe,ce){return s=new oB(s,u,d,R,q,J,oe,ce,L),u=1,E===!0&&(u|=24),E=vi(3,null,null,u),s.current=E,E.stateNode=s,u=ty(),u.refCount++,s.pooledCache=u,u.refCount++,E.memoizedState={element:g,isDehydrated:d,cache:u},ay(E),s}function X3(s){return s?(s=gc,s):gc}function Y3(s,u,d,g,x,E){x=X3(x),g.context===null?g.context=x:g.pendingContext=x,g=Is(u),g.payload={element:d},E=E===void 0?null:E,E!==null&&(g.callback=E),d=Os(s,g,u),d!==null&&(ei(d,s,u),Ed(d,s,u))}function Q3(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<u?d:u}}function E2(s,u){Q3(s,u),(s=s.alternate)&&Q3(s,u)}function Z3(s){if(s.tag===13||s.tag===31){var u=Ql(s,67108864);u!==null&&ei(u,s,67108864),E2(s,67108864)}}function J3(s){if(s.tag===13||s.tag===31){var u=bi();u=Fl(u);var d=Ql(s,u);d!==null&&ei(d,s,u),E2(s,u)}}var Jp=!0;function sB(s,u,d,g){var x=Y.T;Y.T=null;var E=se.p;try{se.p=2,A2(s,u,d,g)}finally{se.p=E,Y.T=x}}function lB(s,u,d,g){var x=Y.T;Y.T=null;var E=se.p;try{se.p=8,A2(s,u,d,g)}finally{se.p=E,Y.T=x}}function A2(s,u,d,g){if(Jp){var x=S2(g);if(x===null)c2(s,u,g,e1,d),t4(s,g);else if(cB(x,s,u,d,g))g.stopPropagation();else if(t4(s,g),u&4&&-1<uB.indexOf(s)){for(;x!==null;){var E=ki(x);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var R=Pa(E.pendingLanes);if(R!==0){var L=E;for(L.pendingLanes|=2,L.entangledLanes|=2;R;){var q=1<<31-mn(R);L.entanglements[1]|=q,R&=~q}Ya(E),(xt&6)===0&&(jp=Fr()+500,Fd(0))}}break;case 31:case 13:L=Ql(E,2),L!==null&&ei(L,E,2),Bp(),E2(E,2)}if(E=S2(g),E===null&&c2(s,u,g,e1,d),E===x)break;x=E}x!==null&&g.stopPropagation()}else c2(s,u,g,null,d)}}function S2(s){return s=ji(s),C2(s)}var e1=null;function C2(s){if(e1=null,s=ja(s),s!==null){var u=a(s);if(u===null)s=null;else{var d=u.tag;if(d===13){if(s=o(u),s!==null)return s;s=null}else if(d===31){if(s=l(u),s!==null)return s;s=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null)}}return e1=s,null}function e4(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kl()){case Wf:return 2;case Xf:return 8;case hs:case Dm:return 32;case D0:return 268435456;default:return 32}default:return 32}}var T2=!1,Vs=null,Us=null,zs=null,Gd=new Map,Kd=new Map,Hs=[],uB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t4(s,u){switch(s){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":Gd.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kd.delete(u.pointerId)}}function Wd(s,u,d,g,x,E){return s===null||s.nativeEvent!==E?(s={blockedOn:u,domEventName:d,eventSystemFlags:g,nativeEvent:E,targetContainers:[x]},u!==null&&(u=ki(u),u!==null&&Z3(u)),s):(s.eventSystemFlags|=g,u=s.targetContainers,x!==null&&u.indexOf(x)===-1&&u.push(x),s)}function cB(s,u,d,g,x){switch(u){case"focusin":return Vs=Wd(Vs,s,u,d,g,x),!0;case"dragenter":return Us=Wd(Us,s,u,d,g,x),!0;case"mouseover":return zs=Wd(zs,s,u,d,g,x),!0;case"pointerover":var E=x.pointerId;return Gd.set(E,Wd(Gd.get(E)||null,s,u,d,g,x)),!0;case"gotpointercapture":return E=x.pointerId,Kd.set(E,Wd(Kd.get(E)||null,s,u,d,g,x)),!0}return!1}function n4(s){var u=ja(s.target);if(u!==null){var d=a(u);if(d!==null){if(u=d.tag,u===13){if(u=o(d),u!==null){s.blockedOn=u,ca(s.priority,function(){J3(d)});return}}else if(u===31){if(u=l(d),u!==null){s.blockedOn=u,ca(s.priority,function(){J3(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function t1(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var d=S2(s.nativeEvent);if(d===null){d=s.nativeEvent;var g=new d.constructor(d.type,d);sd=g,d.target.dispatchEvent(g),sd=null}else return u=ki(d),u!==null&&Z3(u),s.blockedOn=d,!1;u.shift()}return!0}function r4(s,u,d){t1(s)&&d.delete(u)}function fB(){T2=!1,Vs!==null&&t1(Vs)&&(Vs=null),Us!==null&&t1(Us)&&(Us=null),zs!==null&&t1(zs)&&(zs=null),Gd.forEach(r4),Kd.forEach(r4)}function n1(s,u){s.blockedOn===u&&(s.blockedOn=null,T2||(T2=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fB)))}var r1=null;function i4(s){r1!==s&&(r1=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){r1===s&&(r1=null);for(var u=0;u<s.length;u+=3){var d=s[u],g=s[u+1],x=s[u+2];if(typeof g!="function"){if(C2(g||d)===null)continue;break}var E=ki(d);E!==null&&(s.splice(u,3),u-=3,Sy(E,{pending:!0,data:x,method:d.method,action:g},g,x))}}))}function Fc(s){function u(q){return n1(q,s)}Vs!==null&&n1(Vs,s),Us!==null&&n1(Us,s),zs!==null&&n1(zs,s),Gd.forEach(u),Kd.forEach(u);for(var d=0;d<Hs.length;d++){var g=Hs[d];g.blockedOn===s&&(g.blockedOn=null)}for(;0<Hs.length&&(d=Hs[0],d.blockedOn===null);)n4(d),d.blockedOn===null&&Hs.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var x=d[g],E=d[g+1],R=x[Jn]||null;if(typeof E=="function")R||i4(d);else if(R){var L=null;if(E&&E.hasAttribute("formAction")){if(x=E,R=E[Jn]||null)L=R.formAction;else if(C2(x)!==null)continue}else L=R.action;typeof L=="function"?d[g+1]=L:(d.splice(g,3),g-=3),i4(d)}}}function a4(){function s(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(R){return x=R})},focusReset:"manual",scroll:"manual"})}function u(){x!==null&&(x(),x=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,x=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),x!==null&&(x(),x=null)}}}function I2(s){this._internalRoot=s}i1.prototype.render=I2.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(r(409));var d=u.current,g=bi();Y3(d,g,s,u,null,null)},i1.prototype.unmount=I2.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;Y3(s.current,2,null,s,null,null),Bp(),u[Ma]=null}};function i1(s){this._internalRoot=s}i1.prototype.unstable_scheduleHydration=function(s){if(s){var u=B0();s={blockedOn:null,target:s,priority:u};for(var d=0;d<Hs.length&&u!==0&&u<Hs[d].priority;d++);Hs.splice(d,0,s),d===0&&n4(s)}};var o4=e.version;if(o4!=="19.2.0")throw Error(r(527,o4,"19.2.0"));se.findDOMNode=function(s){var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(u),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var dB={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var a1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!a1.isDisabled&&a1.supportsFiber)try{la=a1.inject(dB),fr=a1}catch{}}return Yd.createRoot=function(s,u){if(!i(s))throw Error(r(299));var d=!1,g="",x=hT,E=pT,R=gT;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(E=u.onCaughtError),u.onRecoverableError!==void 0&&(R=u.onRecoverableError)),u=W3(s,1,!1,null,null,d,g,null,x,E,R,a4),s[Ma]=u.current,u2(s),new I2(u)},Yd.hydrateRoot=function(s,u,d){if(!i(s))throw Error(r(299));var g=!1,x="",E=hT,R=pT,L=gT,q=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(E=d.onUncaughtError),d.onCaughtError!==void 0&&(R=d.onCaughtError),d.onRecoverableError!==void 0&&(L=d.onRecoverableError),d.formState!==void 0&&(q=d.formState)),u=W3(s,1,!0,u,d??null,g,x,q,E,R,L,a4),u.context=X3(null),d=u.current,g=bi(),g=Fl(g),x=Is(g),x.callback=null,Os(d,x,g),d=g,u.current.lanes=d,Ll(u,d),Ya(u),s[Ma]=u.current,u2(s),new i1(u)},Yd.version="19.2.0",Yd}var v4;function EB(){if(v4)return P2.exports;v4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),P2.exports=wB(),P2.exports}var AB=EB();const SB=ho(AB),CB=({title:t})=>b.jsx("header",{children:t});var YP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},m4=kr.createContext&&kr.createContext(YP),TB=["attr","size","title"];function IB(t,e){if(t==null)return{};var n=OB(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OB(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function J1(){return J1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J1.apply(this,arguments)}function y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(n),!0).forEach(function(r){RB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RB(t,e,n){return e=PB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PB(t){var e=DB(t,"string");return typeof e=="symbol"?e:e+""}function DB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QP(t){return t&&t.map((e,n)=>kr.createElement(e.tag,eg({key:n},e.attr),QP(e.child)))}function Me(t){return e=>kr.createElement(NB,J1({attr:eg({},t.attr)},e),QP(t.child))}function NB(t){var e=n=>{var{attr:r,size:i,title:a}=t,o=IB(t,TB),l=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),kr.createElement("svg",J1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:eg(eg({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&kr.createElement("title",null,a),t.children)};return m4!==void 0?kr.createElement(m4.Consumer,null,n=>e(n)):e(YP)}function MB(t){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function kB(t){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(t)}function pv(t){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function jB(t){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function LB(t){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function gv(t){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"},child:[]}]})(t)}function vv(t){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(t)}function mv(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"},child:[]}]})(t)}function yv(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(t)}function BB(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"},child:[]}]})(t)}function Qh(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function FB(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"},child:[]}]})(t)}function VB(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"},child:[]}]})(t)}function UB(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2 11.7V16h-4v-2.3C8.48 12.63 7 11.53 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.49-1.51 3.65-3 4.7z"},child:[]}]})(t)}function Yc(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"},child:[]}]})(t)}function zB(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z"},child:[]}]})(t)}function HB(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(t)}function ZP(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"},child:[]}]})(t)}function $B(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(t)}function xv(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49A1.003 1.003 0 0 0 20 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(t)}function qB(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 18 2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"},child:[]}]})(t)}function JP(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"},child:[]}]})(t)}function eD(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"},child:[]}]})(t)}function tD(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"},child:[]}]})(t)}function GB(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"},child:[]}]})(t)}function yw(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(t)}function KB(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9.5 6.5v3h-3v-3h3M11 5H5v6h6V5zm-1.5 9.5v3h-3v-3h3M11 13H5v6h6v-6zm6.5-6.5v3h-3v-3h3M19 5h-6v6h6V5zm-6 8h1.5v1.5H13V13zm1.5 1.5H16V16h-1.5v-1.5zM16 13h1.5v1.5H16V13zm-3 3h1.5v1.5H13V16zm1.5 1.5H16V19h-1.5v-1.5zM16 16h1.5v1.5H16V16zm1.5-1.5H19V16h-1.5v-1.5zm0 3H19V19h-1.5v-1.5zM22 7h-2V4h-3V2h5v5zm0 15v-5h-2v3h-3v2h5zM2 22h5v-2H4v-3H2v5zM2 2v5h2V4h3V2H2z"},child:[]}]})(t)}function nD(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(t)}function af(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2zm-5 12H9v-2h6v2zm5-7H4V4l16-.02V7z"},child:[]}]})(t)}function rD(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(t)}function WB(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"},child:[]}]})(t)}function XB(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"},child:[]}]})(t)}function YB(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M4 9h4v11H4zM16 13h4v7h-4zM10 4h4v16h-4z"},child:[]}]})(t)}function tg(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"},child:[]}]})(t)}function xw(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m9.4 10.5 4.77-8.26a9.984 9.984 0 0 0-8.49 2.01l3.66 6.35.06-.1zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9h9.66zm.26 1h-7.49l.29.5 4.76 8.25A9.91 9.91 0 0 0 22 12c0-.69-.07-1.35-.2-2zM8.54 12l-3.9-6.75A9.958 9.958 0 0 0 2.2 14h7.49l-1.15-2zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15H2.46zm11.27 0-3.9 6.76a9.984 9.984 0 0 0 8.49-2.01l-3.66-6.35-.93 1.6z"},child:[]}]})(t)}function QB(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(t)}function ZB(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3.2"},child:[]},{tag:"path",attr:{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"},child:[]}]})(t)}function ng(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m8.1 13.34 2.83-2.83L3.91 3.5a4.008 4.008 0 0 0 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z"},child:[]}]})(t)}function _w(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z"},child:[]}]})(t)}function iD(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"},child:[]}]})(t)}function k2(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"},child:[]}]})(t)}function JB(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},child:[]}]})(t)}function eF(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"},child:[]}]})(t)}function tF(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"},child:[]}]})(t)}function _v(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(t)}function nF(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94A5.01 5.01 0 0 0 11 15.9V19H7v2h10v-2h-4v-3.1a5.01 5.01 0 0 0 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2zM5 8V7h2v3.82C5.84 10.4 5 9.3 5 8zm14 0c0 1.3-.84 2.4-2 2.82V7h2v1z"},child:[]}]})(t)}function rF(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 18.69 7.84 6.14 5.27 3.49 4 4.76l2.8 2.8v.01c-.52.99-.8 2.16-.8 3.42v5l-2 2v1h13.73l2 2L21 19.72l-1-1.03zM12 22c1.11 0 2-.89 2-2h-4c0 1.11.89 2 2 2zm6-7.32V11c0-3.08-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68c-.15.03-.29.08-.42.12-.1.03-.2.07-.3.11h-.01c-.01 0-.01 0-.02.01-.23.09-.46.2-.68.31 0 0-.01 0-.01.01L18 14.68z"},child:[]}]})(t)}function iF(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},child:[]}]})(t)}function x4(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(t)}function aF(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"},child:[]}]})(t)}function j_(t){return Me({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},child:[]}]})(t)}const oF=({currentScreen:t,onNavigate:e})=>{const n=[{screen:"home",icon:b.jsx(jB,{size:24}),label:"ホーム"},{screen:"meals",icon:b.jsx(_w,{size:24}),label:"食事"},{screen:"barcode",icon:b.jsx(kB,{size:24}),label:"スキャン"},{screen:"report",icon:b.jsx(MB,{size:24}),label:"レポート"},{screen:"settings",icon:b.jsx(LB,{size:24}),label:"設定"}];return b.jsx("nav",{id:"bottomNav",children:n.map(r=>b.jsxs("button",{className:`nav-item ${t===r.screen?"active":""}`,onClick:()=>e(r.screen),children:[b.jsx("span",{children:r.icon}),b.jsx("span",{children:r.label})]},r.screen))})},_4=t=>{let e;const n=new Set,r=(f,h)=>{const p=typeof f=="function"?f(e):f;if(!Object.is(p,e)){const v=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(m=>m(e,v))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f))},c=e=t(r,i,l);return l},sF=(t=>t?_4(t):_4),lF=t=>t;function uF(t,e=lF){const n=kr.useSyncExternalStore(t.subscribe,kr.useCallback(()=>e(t.getState()),[t,e]),kr.useCallback(()=>e(t.getInitialState()),[t,e]));return kr.useDebugValue(n),n}const b4=t=>{const e=sF(t),n=r=>uF(e,r);return Object.assign(n,e),n},Gu=(t=>t?b4(t):b4);function fl(t,e){try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return console.error(`localStorage取得エラー (${t}):`,n),e}}function Nt(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error(`localStorage保存エラー (${t}):`,n)}}const et={INTAKES:"intakes",EXPENSES:"expenses",STOCKS:"stocks",SHOPPING:"shopping",RECIPE_HISTORY:"recipeHistory",FAVORITE_RECIPES:"favoriteRecipes",SETTINGS:"settings",BADGES:"app-badges"},mr=[];for(let t=0;t<256;++t)mr.push((t+256).toString(16).slice(1));function cF(t,e=0){return(mr[t[e+0]]+mr[t[e+1]]+mr[t[e+2]]+mr[t[e+3]]+"-"+mr[t[e+4]]+mr[t[e+5]]+"-"+mr[t[e+6]]+mr[t[e+7]]+"-"+mr[t[e+8]]+mr[t[e+9]]+"-"+mr[t[e+10]]+mr[t[e+11]]+mr[t[e+12]]+mr[t[e+13]]+mr[t[e+14]]+mr[t[e+15]]).toLowerCase()}let j2;const fF=new Uint8Array(16);function dF(){if(!j2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");j2=crypto.getRandomValues.bind(crypto)}return j2(fF)}const hF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),w4={randomUUID:hF};function pF(t,e,n){t=t||{};const r=t.random??t.rng?.()??dF();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,cF(r)}function gF(t,e,n){return w4.randomUUID&&!t?w4.randomUUID():pF(t)}function rl(){return gF()}const vF=()=>{};var E4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},oD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=a>>2,p=(a&3)<<4|l>>4;let v=(l&15)<<2|f>>6,m=f&63;c||(m=64,o||(v=64)),r.push(n[h],n[p],n[v],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||f==null||p==null)throw new yF;const v=a<<2|l>>4;if(r.push(v),f!==64){const m=l<<4&240|f>>2;if(r.push(m),p!==64){const _=f<<6&192|p;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xF=function(t){const e=aD(t);return oD.encodeByteArray(e,!0)},rg=function(t){return xF(t).replace(/\./g,"")},sD=function(t){try{return oD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=()=>_F().__FIREBASE_DEFAULTS__,wF=()=>{if(typeof process>"u"||typeof E4>"u")return;const t=E4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sD(t[1]);return e&&JSON.parse(e)},bv=()=>{try{return vF()||bF()||wF()||EF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lD=t=>bv()?.emulatorHosts?.[t],uD=t=>{const e=lD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cD=()=>bv()?.config,fD=t=>bv()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[rg(JSON.stringify(n)),rg(JSON.stringify(o)),""].join(".")}const wh={};function CF(){const t={prod:[],emulator:[]};for(const e of Object.keys(wh))wh[e]?t.emulator.push(e):t.prod.push(e);return t}function TF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let A4=!1;function ww(t,e){if(typeof window>"u"||typeof document>"u"||!Al(window.location.host)||wh[t]===e||wh[t]||A4)return;wh[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=CF().prod.length>0;function o(){const v=document.getElementById(r);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,m){v.setAttribute("width","24"),v.setAttribute("id",m),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{A4=!0,o()},v}function h(v,m){v.setAttribute("id",m),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=TF(r),m=n("text"),_=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),A=document.getElementById(w)||document.createElement("a"),S=n("preprendIcon"),I=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const O=v.element;l(O),h(A,w);const N=f();c(I,S),O.append(I,_,A,N),document.body.appendChild(O)}a?(_.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lr())}function OF(){const t=bv()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function DF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NF(){const t=Lr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MF(){return!OF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kF(){try{return typeof indexedDB=="object"}catch{return!1}}function jF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF="FirebaseError";class po extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LF,Object.setPrototypeOf(this,po.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zh.prototype.create)}}class Zh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?BF(a,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new po(i,l,r)}}function BF(t,e){return t.replace(FF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const FF=/\{\$([^}]+)}/g;function VF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Du(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(S4(a)&&S4(o)){if(!Du(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function S4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ch(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function fh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function UF(t,e){const n=new zF(t,e);return n.subscribe.bind(n)}class zF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=L2),i.error===void 0&&(i.error=L2),i.complete===void 0&&(i.complete=L2);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function L2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t){return t&&t._delegate?t._delegate:t}class dl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $F=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GF(e))try{this.getOrInitializeService({instanceIdentifier:hu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=hu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hu){return this.instances.has(e)}getOptions(e=hu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hu){return this.component?this.component.multipleInstances?e:hu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qF(t){return t===hu?void 0:t}function GF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $F(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const WF={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},XF=it.INFO,YF={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},QF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=YF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ew{constructor(e){this.name=e,this._logLevel=XF,this._logHandler=QF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const ZF=(t,e)=>e.some(n=>t instanceof n);let C4,T4;function JF(){return C4||(C4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eV(){return T4||(T4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dD=new WeakMap,L_=new WeakMap,hD=new WeakMap,B2=new WeakMap,Aw=new WeakMap;function tV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(il(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&dD.set(n,t)}).catch(()=>{}),Aw.set(e,t),e}function nV(t){if(L_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});L_.set(t,e)}let B_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return L_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return il(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rV(t){B_=t(B_)}function iV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(F2(this),e,...n);return hD.set(r,e.sort?e.sort():[e]),il(r)}:eV().includes(t)?function(...e){return t.apply(F2(this),e),il(dD.get(this))}:function(...e){return il(t.apply(F2(this),e))}}function aV(t){return typeof t=="function"?iV(t):(t instanceof IDBTransaction&&nV(t),ZF(t,JF())?new Proxy(t,B_):t)}function il(t){if(t instanceof IDBRequest)return tV(t);if(B2.has(t))return B2.get(t);const e=aV(t);return e!==t&&(B2.set(t,e),Aw.set(e,t)),e}const F2=t=>Aw.get(t);function oV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=il(o);return r&&o.addEventListener("upgradeneeded",c=>{r(il(o.result),c.oldVersion,c.newVersion,il(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const sV=["get","getKey","getAll","getAllKeys","count"],lV=["put","add","delete","clear"],V2=new Map;function I4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(V2.get(e))return V2.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sV.includes(n)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return V2.set(e,a),a}rV(t=>({...t,get:(e,n,r)=>I4(e,n)||t.get(e,n,r),has:(e,n)=>!!I4(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cV(t){return t.getComponent()?.type==="VERSION"}const F_="@firebase/app",O4="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=new Ew("@firebase/app"),fV="@firebase/app-compat",dV="@firebase/analytics-compat",hV="@firebase/analytics",pV="@firebase/app-check-compat",gV="@firebase/app-check",vV="@firebase/auth",mV="@firebase/auth-compat",yV="@firebase/database",xV="@firebase/data-connect",_V="@firebase/database-compat",bV="@firebase/functions",wV="@firebase/functions-compat",EV="@firebase/installations",AV="@firebase/installations-compat",SV="@firebase/messaging",CV="@firebase/messaging-compat",TV="@firebase/performance",IV="@firebase/performance-compat",OV="@firebase/remote-config",RV="@firebase/remote-config-compat",PV="@firebase/storage",DV="@firebase/storage-compat",NV="@firebase/firestore",MV="@firebase/ai",kV="@firebase/firestore-compat",jV="firebase",LV="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="[DEFAULT]",BV={[F_]:"fire-core",[fV]:"fire-core-compat",[hV]:"fire-analytics",[dV]:"fire-analytics-compat",[gV]:"fire-app-check",[pV]:"fire-app-check-compat",[vV]:"fire-auth",[mV]:"fire-auth-compat",[yV]:"fire-rtdb",[xV]:"fire-data-connect",[_V]:"fire-rtdb-compat",[bV]:"fire-fn",[wV]:"fire-fn-compat",[EV]:"fire-iid",[AV]:"fire-iid-compat",[SV]:"fire-fcm",[CV]:"fire-fcm-compat",[TV]:"fire-perf",[IV]:"fire-perf-compat",[OV]:"fire-rc",[RV]:"fire-rc-compat",[PV]:"fire-gcs",[DV]:"fire-gcs-compat",[NV]:"fire-fst",[kV]:"fire-fst-compat",[MV]:"fire-vertex","fire-js":"fire-js",[jV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=new Map,FV=new Map,U_=new Map;function R4(t,e){try{t.container.addComponent(e)}catch(n){Xo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nu(t){const e=t.name;if(U_.has(e))return Xo.debug(`There were multiple attempts to register component ${e}.`),!1;U_.set(e,t);for(const n of ig.values())R4(n,t);for(const n of FV.values())R4(n,t);return!0}function wv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ii(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},al=new Zh("app","Firebase",VV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw al.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=LV;function pD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:V_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw al.create("bad-app-name",{appName:String(i)});if(n||(n=cD()),!n)throw al.create("no-options");const a=ig.get(i);if(a){if(Du(n,a.options)&&Du(r,a.config))return a;throw al.create("duplicate-app",{appName:i})}const o=new KF(i);for(const c of U_.values())o.addComponent(c);const l=new UV(n,r,o);return ig.set(i,l),l}function Sw(t=V_){const e=ig.get(t);if(!e&&t===V_&&cD())return pD();if(!e)throw al.create("no-app",{appName:t});return e}function eo(t,e,n){let r=BV[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xo.warn(o.join(" "));return}Nu(new dl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV="firebase-heartbeat-database",HV=1,Rh="firebase-heartbeat-store";let U2=null;function gD(){return U2||(U2=oV(zV,HV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rh)}catch(n){console.warn(n)}}}}).catch(t=>{throw al.create("idb-open",{originalErrorMessage:t.message})})),U2}async function $V(t){try{const n=(await gD()).transaction(Rh),r=await n.objectStore(Rh).get(vD(t));return await n.done,r}catch(e){if(e instanceof po)Xo.warn(e.message);else{const n=al.create("idb-get",{originalErrorMessage:e?.message});Xo.warn(n.message)}}}async function P4(t,e){try{const r=(await gD()).transaction(Rh,"readwrite");await r.objectStore(Rh).put(e,vD(t)),await r.done}catch(n){if(n instanceof po)Xo.warn(n.message);else{const r=al.create("idb-set",{originalErrorMessage:n?.message});Xo.warn(r.message)}}}function vD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=1024,GV=30;class KV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=D4();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>GV){const i=YV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xo.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=D4(),{heartbeatsToSend:n,unsentEntries:r}=WV(this._heartbeatsCache.heartbeats),i=rg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Xo.warn(e),""}}}function D4(){return new Date().toISOString().substring(0,10)}function WV(t,e=qV){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),N4(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),N4(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class XV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kF()?jF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $V(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return P4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return P4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function N4(t){return rg(JSON.stringify({version:2,heartbeats:t})).length}function YV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t){Nu(new dl("platform-logger",e=>new uV(e),"PRIVATE")),Nu(new dl("heartbeat",e=>new KV(e),"PRIVATE")),eo(F_,O4,t),eo(F_,O4,"esm2020"),eo("fire-js","")}QV("");var M4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ol,mD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,M){function j(){}j.prototype=M.prototype,D.F=M.prototype,D.prototype=new j,D.prototype.constructor=D,D.D=function(z,F,H){for(var U=Array(arguments.length-2),he=2;he<arguments.length;he++)U[he-2]=arguments[he];return M.prototype[F].apply(z,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,M,j){j||(j=0);const z=Array(16);if(typeof M=="string")for(var F=0;F<16;++F)z[F]=M.charCodeAt(j++)|M.charCodeAt(j++)<<8|M.charCodeAt(j++)<<16|M.charCodeAt(j++)<<24;else for(F=0;F<16;++F)z[F]=M[j++]|M[j++]<<8|M[j++]<<16|M[j++]<<24;M=D.g[0],j=D.g[1],F=D.g[2];let H=D.g[3],U;U=M+(H^j&(F^H))+z[0]+3614090360&4294967295,M=j+(U<<7&4294967295|U>>>25),U=H+(F^M&(j^F))+z[1]+3905402710&4294967295,H=M+(U<<12&4294967295|U>>>20),U=F+(j^H&(M^j))+z[2]+606105819&4294967295,F=H+(U<<17&4294967295|U>>>15),U=j+(M^F&(H^M))+z[3]+3250441966&4294967295,j=F+(U<<22&4294967295|U>>>10),U=M+(H^j&(F^H))+z[4]+4118548399&4294967295,M=j+(U<<7&4294967295|U>>>25),U=H+(F^M&(j^F))+z[5]+1200080426&4294967295,H=M+(U<<12&4294967295|U>>>20),U=F+(j^H&(M^j))+z[6]+2821735955&4294967295,F=H+(U<<17&4294967295|U>>>15),U=j+(M^F&(H^M))+z[7]+4249261313&4294967295,j=F+(U<<22&4294967295|U>>>10),U=M+(H^j&(F^H))+z[8]+1770035416&4294967295,M=j+(U<<7&4294967295|U>>>25),U=H+(F^M&(j^F))+z[9]+2336552879&4294967295,H=M+(U<<12&4294967295|U>>>20),U=F+(j^H&(M^j))+z[10]+4294925233&4294967295,F=H+(U<<17&4294967295|U>>>15),U=j+(M^F&(H^M))+z[11]+2304563134&4294967295,j=F+(U<<22&4294967295|U>>>10),U=M+(H^j&(F^H))+z[12]+1804603682&4294967295,M=j+(U<<7&4294967295|U>>>25),U=H+(F^M&(j^F))+z[13]+4254626195&4294967295,H=M+(U<<12&4294967295|U>>>20),U=F+(j^H&(M^j))+z[14]+2792965006&4294967295,F=H+(U<<17&4294967295|U>>>15),U=j+(M^F&(H^M))+z[15]+1236535329&4294967295,j=F+(U<<22&4294967295|U>>>10),U=M+(F^H&(j^F))+z[1]+4129170786&4294967295,M=j+(U<<5&4294967295|U>>>27),U=H+(j^F&(M^j))+z[6]+3225465664&4294967295,H=M+(U<<9&4294967295|U>>>23),U=F+(M^j&(H^M))+z[11]+643717713&4294967295,F=H+(U<<14&4294967295|U>>>18),U=j+(H^M&(F^H))+z[0]+3921069994&4294967295,j=F+(U<<20&4294967295|U>>>12),U=M+(F^H&(j^F))+z[5]+3593408605&4294967295,M=j+(U<<5&4294967295|U>>>27),U=H+(j^F&(M^j))+z[10]+38016083&4294967295,H=M+(U<<9&4294967295|U>>>23),U=F+(M^j&(H^M))+z[15]+3634488961&4294967295,F=H+(U<<14&4294967295|U>>>18),U=j+(H^M&(F^H))+z[4]+3889429448&4294967295,j=F+(U<<20&4294967295|U>>>12),U=M+(F^H&(j^F))+z[9]+568446438&4294967295,M=j+(U<<5&4294967295|U>>>27),U=H+(j^F&(M^j))+z[14]+3275163606&4294967295,H=M+(U<<9&4294967295|U>>>23),U=F+(M^j&(H^M))+z[3]+4107603335&4294967295,F=H+(U<<14&4294967295|U>>>18),U=j+(H^M&(F^H))+z[8]+1163531501&4294967295,j=F+(U<<20&4294967295|U>>>12),U=M+(F^H&(j^F))+z[13]+2850285829&4294967295,M=j+(U<<5&4294967295|U>>>27),U=H+(j^F&(M^j))+z[2]+4243563512&4294967295,H=M+(U<<9&4294967295|U>>>23),U=F+(M^j&(H^M))+z[7]+1735328473&4294967295,F=H+(U<<14&4294967295|U>>>18),U=j+(H^M&(F^H))+z[12]+2368359562&4294967295,j=F+(U<<20&4294967295|U>>>12),U=M+(j^F^H)+z[5]+4294588738&4294967295,M=j+(U<<4&4294967295|U>>>28),U=H+(M^j^F)+z[8]+2272392833&4294967295,H=M+(U<<11&4294967295|U>>>21),U=F+(H^M^j)+z[11]+1839030562&4294967295,F=H+(U<<16&4294967295|U>>>16),U=j+(F^H^M)+z[14]+4259657740&4294967295,j=F+(U<<23&4294967295|U>>>9),U=M+(j^F^H)+z[1]+2763975236&4294967295,M=j+(U<<4&4294967295|U>>>28),U=H+(M^j^F)+z[4]+1272893353&4294967295,H=M+(U<<11&4294967295|U>>>21),U=F+(H^M^j)+z[7]+4139469664&4294967295,F=H+(U<<16&4294967295|U>>>16),U=j+(F^H^M)+z[10]+3200236656&4294967295,j=F+(U<<23&4294967295|U>>>9),U=M+(j^F^H)+z[13]+681279174&4294967295,M=j+(U<<4&4294967295|U>>>28),U=H+(M^j^F)+z[0]+3936430074&4294967295,H=M+(U<<11&4294967295|U>>>21),U=F+(H^M^j)+z[3]+3572445317&4294967295,F=H+(U<<16&4294967295|U>>>16),U=j+(F^H^M)+z[6]+76029189&4294967295,j=F+(U<<23&4294967295|U>>>9),U=M+(j^F^H)+z[9]+3654602809&4294967295,M=j+(U<<4&4294967295|U>>>28),U=H+(M^j^F)+z[12]+3873151461&4294967295,H=M+(U<<11&4294967295|U>>>21),U=F+(H^M^j)+z[15]+530742520&4294967295,F=H+(U<<16&4294967295|U>>>16),U=j+(F^H^M)+z[2]+3299628645&4294967295,j=F+(U<<23&4294967295|U>>>9),U=M+(F^(j|~H))+z[0]+4096336452&4294967295,M=j+(U<<6&4294967295|U>>>26),U=H+(j^(M|~F))+z[7]+1126891415&4294967295,H=M+(U<<10&4294967295|U>>>22),U=F+(M^(H|~j))+z[14]+2878612391&4294967295,F=H+(U<<15&4294967295|U>>>17),U=j+(H^(F|~M))+z[5]+4237533241&4294967295,j=F+(U<<21&4294967295|U>>>11),U=M+(F^(j|~H))+z[12]+1700485571&4294967295,M=j+(U<<6&4294967295|U>>>26),U=H+(j^(M|~F))+z[3]+2399980690&4294967295,H=M+(U<<10&4294967295|U>>>22),U=F+(M^(H|~j))+z[10]+4293915773&4294967295,F=H+(U<<15&4294967295|U>>>17),U=j+(H^(F|~M))+z[1]+2240044497&4294967295,j=F+(U<<21&4294967295|U>>>11),U=M+(F^(j|~H))+z[8]+1873313359&4294967295,M=j+(U<<6&4294967295|U>>>26),U=H+(j^(M|~F))+z[15]+4264355552&4294967295,H=M+(U<<10&4294967295|U>>>22),U=F+(M^(H|~j))+z[6]+2734768916&4294967295,F=H+(U<<15&4294967295|U>>>17),U=j+(H^(F|~M))+z[13]+1309151649&4294967295,j=F+(U<<21&4294967295|U>>>11),U=M+(F^(j|~H))+z[4]+4149444226&4294967295,M=j+(U<<6&4294967295|U>>>26),U=H+(j^(M|~F))+z[11]+3174756917&4294967295,H=M+(U<<10&4294967295|U>>>22),U=F+(M^(H|~j))+z[2]+718787259&4294967295,F=H+(U<<15&4294967295|U>>>17),U=j+(H^(F|~M))+z[9]+3951481745&4294967295,D.g[0]=D.g[0]+M&4294967295,D.g[1]=D.g[1]+(F+(U<<21&4294967295|U>>>11))&4294967295,D.g[2]=D.g[2]+F&4294967295,D.g[3]=D.g[3]+H&4294967295}r.prototype.v=function(D,M){M===void 0&&(M=D.length);const j=M-this.blockSize,z=this.C;let F=this.h,H=0;for(;H<M;){if(F==0)for(;H<=j;)i(this,D,H),H+=this.blockSize;if(typeof D=="string"){for(;H<M;)if(z[F++]=D.charCodeAt(H++),F==this.blockSize){i(this,z),F=0;break}}else for(;H<M;)if(z[F++]=D[H++],F==this.blockSize){i(this,z),F=0;break}}this.h=F,this.o+=M},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var M=1;M<D.length-8;++M)D[M]=0;M=this.o*8;for(var j=D.length-8;j<D.length;++j)D[j]=M&255,M/=256;for(this.v(D),D=Array(16),M=0,j=0;j<4;++j)for(let z=0;z<32;z+=8)D[M++]=this.g[j]>>>z&255;return D};function a(D,M){var j=l;return Object.prototype.hasOwnProperty.call(j,D)?j[D]:j[D]=M(D)}function o(D,M){this.h=M;const j=[];let z=!0;for(let F=D.length-1;F>=0;F--){const H=D[F]|0;z&&H==M||(j[F]=H,z=!1)}this.g=j}var l={};function c(D){return-128<=D&&D<128?a(D,function(M){return new o([M|0],M<0?-1:0)}):new o([D|0],D<0?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return p;if(D<0)return A(f(-D));const M=[];let j=1;for(let z=0;D>=j;z++)M[z]=D/j|0,j*=4294967296;return new o(M,0)}function h(D,M){if(D.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(D.charAt(0)=="-")return A(h(D.substring(1),M));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=f(Math.pow(M,8));let z=p;for(let H=0;H<D.length;H+=8){var F=Math.min(8,D.length-H);const U=parseInt(D.substring(H,H+F),M);F<8?(F=f(Math.pow(M,F)),z=z.j(F).add(f(U))):(z=z.j(j),z=z.add(f(U)))}return z}var p=c(0),v=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-A(this).m();let D=0,M=1;for(let j=0;j<this.g.length;j++){const z=this.i(j);D+=(z>=0?z:4294967296+z)*M,M*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(_(this))return"0";if(w(this))return"-"+A(this).toString(D);const M=f(Math.pow(D,6));var j=this;let z="";for(;;){const F=N(j,M).g;j=S(j,F.j(M));let H=((j.g.length>0?j.g[0]:j.h)>>>0).toString(D);if(j=F,_(j))return H+z;for(;H.length<6;)H="0"+H;z=H+z}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function _(D){if(D.h!=0)return!1;for(let M=0;M<D.g.length;M++)if(D.g[M]!=0)return!1;return!0}function w(D){return D.h==-1}t.l=function(D){return D=S(this,D),w(D)?-1:_(D)?0:1};function A(D){const M=D.g.length,j=[];for(let z=0;z<M;z++)j[z]=~D.g[z];return new o(j,~D.h).add(v)}t.abs=function(){return w(this)?A(this):this},t.add=function(D){const M=Math.max(this.g.length,D.g.length),j=[];let z=0;for(let F=0;F<=M;F++){let H=z+(this.i(F)&65535)+(D.i(F)&65535),U=(H>>>16)+(this.i(F)>>>16)+(D.i(F)>>>16);z=U>>>16,H&=65535,U&=65535,j[F]=U<<16|H}return new o(j,j[j.length-1]&-2147483648?-1:0)};function S(D,M){return D.add(A(M))}t.j=function(D){if(_(this)||_(D))return p;if(w(this))return w(D)?A(this).j(A(D)):A(A(this).j(D));if(w(D))return A(this.j(A(D)));if(this.l(m)<0&&D.l(m)<0)return f(this.m()*D.m());const M=this.g.length+D.g.length,j=[];for(var z=0;z<2*M;z++)j[z]=0;for(z=0;z<this.g.length;z++)for(let F=0;F<D.g.length;F++){const H=this.i(z)>>>16,U=this.i(z)&65535,he=D.i(F)>>>16,be=D.i(F)&65535;j[2*z+2*F]+=U*be,I(j,2*z+2*F),j[2*z+2*F+1]+=H*be,I(j,2*z+2*F+1),j[2*z+2*F+1]+=U*he,I(j,2*z+2*F+1),j[2*z+2*F+2]+=H*he,I(j,2*z+2*F+2)}for(D=0;D<M;D++)j[D]=j[2*D+1]<<16|j[2*D];for(D=M;D<2*M;D++)j[D]=0;return new o(j,0)};function I(D,M){for(;(D[M]&65535)!=D[M];)D[M+1]+=D[M]>>>16,D[M]&=65535,M++}function O(D,M){this.g=D,this.h=M}function N(D,M){if(_(M))throw Error("division by zero");if(_(D))return new O(p,p);if(w(D))return M=N(A(D),M),new O(A(M.g),A(M.h));if(w(M))return M=N(D,A(M)),new O(A(M.g),M.h);if(D.g.length>30){if(w(D)||w(M))throw Error("slowDivide_ only works with positive integers.");for(var j=v,z=M;z.l(D)<=0;)j=k(j),z=k(z);var F=B(j,1),H=B(z,1);for(z=B(z,2),j=B(j,2);!_(z);){var U=H.add(z);U.l(D)<=0&&(F=F.add(j),H=U),z=B(z,1),j=B(j,1)}return M=S(D,F.j(M)),new O(F,M)}for(F=p;D.l(M)>=0;){for(j=Math.max(1,Math.floor(D.m()/M.m())),z=Math.ceil(Math.log(j)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),H=f(j),U=H.j(M);w(U)||U.l(D)>0;)j-=z,H=f(j),U=H.j(M);_(H)&&(H=v),F=F.add(H),D=S(D,U)}return new O(F,D)}t.B=function(D){return N(this,D).h},t.and=function(D){const M=Math.max(this.g.length,D.g.length),j=[];for(let z=0;z<M;z++)j[z]=this.i(z)&D.i(z);return new o(j,this.h&D.h)},t.or=function(D){const M=Math.max(this.g.length,D.g.length),j=[];for(let z=0;z<M;z++)j[z]=this.i(z)|D.i(z);return new o(j,this.h|D.h)},t.xor=function(D){const M=Math.max(this.g.length,D.g.length),j=[];for(let z=0;z<M;z++)j[z]=this.i(z)^D.i(z);return new o(j,this.h^D.h)};function k(D){const M=D.g.length+1,j=[];for(let z=0;z<M;z++)j[z]=D.i(z)<<1|D.i(z-1)>>>31;return new o(j,D.h)}function B(D,M){const j=M>>5;M%=32;const z=D.g.length-j,F=[];for(let H=0;H<z;H++)F[H]=M>0?D.i(H+j)>>>M|D.i(H+j+1)<<32-M:D.i(H+j);return new o(F,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,mD=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=h,ol=o}).apply(typeof M4<"u"?M4:typeof self<"u"?self:typeof window<"u"?window:{});var o1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yD,dh,xD,L1,z_,_D,bD,wD;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof o1=="object"&&o1];for(var C=0;C<y.length;++C){var P=y[C];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(y,C){if(C)e:{var P=r;y=y.split(".");for(var V=0;V<y.length-1;V++){var X=y[V];if(!(X in P))break e;P=P[X]}y=y[y.length-1],V=P[y],C=C(V),C!=V&&C!=null&&e(P,y,{configurable:!0,writable:!0,value:C})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(C){var P=[],V;for(V in C)Object.prototype.hasOwnProperty.call(C,V)&&P.push([V,C[V]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(y){var C=typeof y;return C=="object"&&y!=null||C=="function"}function c(y,C,P){return y.call.apply(y.bind,arguments)}function f(y,C,P){return f=c,f.apply(null,arguments)}function h(y,C){var P=Array.prototype.slice.call(arguments,1);return function(){var V=P.slice();return V.push.apply(V,arguments),y.apply(this,V)}}function p(y,C){function P(){}P.prototype=C.prototype,y.Z=C.prototype,y.prototype=new P,y.prototype.constructor=y,y.Ob=function(V,X,re){for(var ge=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ge[$e-2]=arguments[$e];return C.prototype[X].apply(V,ge)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function m(y){const C=y.length;if(C>0){const P=Array(C);for(let V=0;V<C;V++)P[V]=y[V];return P}return[]}function _(y,C){for(let V=1;V<arguments.length;V++){const X=arguments[V];var P=typeof X;if(P=P!="object"?P:X?Array.isArray(X)?"array":P:"null",P=="array"||P=="object"&&typeof X.length=="number"){P=y.length||0;const re=X.length||0;y.length=P+re;for(let ge=0;ge<re;ge++)y[P+ge]=X[ge]}else y.push(X)}}class w{constructor(C,P){this.i=C,this.j=P,this.h=0,this.g=null}get(){let C;return this.h>0?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function A(y){o.setTimeout(()=>{throw y},0)}function S(){var y=D;let C=null;return y.g&&(C=y.g,y.g=y.g.next,y.g||(y.h=null),C.next=null),C}class I{constructor(){this.h=this.g=null}add(C,P){const V=O.get();V.set(C,P),this.h?this.h.next=V:this.g=V,this.h=V}}var O=new w(()=>new N,y=>y.reset());class N{constructor(){this.next=this.g=this.h=null}set(C,P){this.h=C,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let k,B=!1,D=new I,M=()=>{const y=Promise.resolve(void 0);k=()=>{y.then(j)}};function j(){for(var y;y=S();){try{y.h.call(y.g)}catch(P){A(P)}var C=O;C.j(y),C.h<100&&(C.h++,y.next=C.g,C.g=y)}B=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(y,C){this.type=y,this.g=this.target=C,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var y=!1,C=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const P=()=>{};o.addEventListener("test",P,C),o.removeEventListener("test",P,C)}catch{}return y})();function U(y){return/^[\s\xa0]*$/.test(y)}function he(y,C){F.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,C)}p(he,F),he.prototype.init=function(y,C){const P=this.type=y.type,V=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=C,C=y.relatedTarget,C||(P=="mouseover"?C=y.fromElement:P=="mouseout"&&(C=y.toElement)),this.relatedTarget=C,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),Y=0;function se(y,C,P,V,X){this.listener=y,this.proxy=null,this.src=C,this.type=P,this.capture=!!V,this.ha=X,this.key=++Y,this.da=this.fa=!1}function me(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Se(y,C,P){for(const V in y)C.call(P,y[V],V,y)}function Ge(y,C){for(const P in y)C.call(void 0,y[P],P,y)}function G(y){const C={};for(const P in y)C[P]=y[P];return C}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(y,C){let P,V;for(let X=1;X<arguments.length;X++){V=arguments[X];for(P in V)y[P]=V[P];for(let re=0;re<ee.length;re++)P=ee[re],Object.prototype.hasOwnProperty.call(V,P)&&(y[P]=V[P])}}function _e(y){this.src=y,this.g={},this.h=0}_e.prototype.add=function(y,C,P,V,X){const re=y.toString();y=this.g[re],y||(y=this.g[re]=[],this.h++);const ge=He(y,C,V,X);return ge>-1?(C=y[ge],P||(C.fa=!1)):(C=new se(C,this.src,re,!!V,X),C.fa=P,y.push(C)),C};function Oe(y,C){const P=C.type;if(P in y.g){var V=y.g[P],X=Array.prototype.indexOf.call(V,C,void 0),re;(re=X>=0)&&Array.prototype.splice.call(V,X,1),re&&(me(C),y.g[P].length==0&&(delete y.g[P],y.h--))}}function He(y,C,P,V){for(let X=0;X<y.length;++X){const re=y[X];if(!re.da&&re.listener==C&&re.capture==!!P&&re.ha==V)return X}return-1}var tt="closure_lm_"+(Math.random()*1e6|0),pn={};function pe(y,C,P,V,X){if(Array.isArray(C)){for(let re=0;re<C.length;re++)pe(y,C[re],P,V,X);return null}return P=fs(P),y&&y[be]?y.J(C,P,l(V)?!!V.capture:!1,X):Ve(y,C,P,!1,V,X)}function Ve(y,C,P,V,X,re){if(!C)throw Error("Invalid event type");const ge=l(X)?!!X.capture:!!X;let $e=vn(y);if($e||(y[tt]=$e=new _e(y)),P=$e.add(C,P,V,ge,re),P.proxy)return P;if(V=We(),P.proxy=V,V.src=y,V.listener=P,y.addEventListener)H||(X=ge),X===void 0&&(X=!1),y.addEventListener(C.toString(),V,X);else if(y.attachEvent)y.attachEvent(Qe(C.toString()),V);else if(y.addListener&&y.removeListener)y.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return P}function We(){function y(P){return C.call(y.src,y.listener,P)}const C=Fn;return y}function de(y,C,P,V,X){if(Array.isArray(C))for(var re=0;re<C.length;re++)de(y,C[re],P,V,X);else V=l(V)?!!V.capture:!!V,P=fs(P),y&&y[be]?(y=y.i,re=String(C).toString(),re in y.g&&(C=y.g[re],P=He(C,P,V,X),P>-1&&(me(C[P]),Array.prototype.splice.call(C,P,1),C.length==0&&(delete y.g[re],y.h--)))):y&&(y=vn(y))&&(C=y.g[C.toString()],y=-1,C&&(y=He(C,P,V,X)),(P=y>-1?C[y]:null)&&gn(P))}function gn(y){if(typeof y!="number"&&y&&!y.da){var C=y.src;if(C&&C[be])Oe(C.i,y);else{var P=y.type,V=y.proxy;C.removeEventListener?C.removeEventListener(P,V,y.capture):C.detachEvent?C.detachEvent(Qe(P),V):C.addListener&&C.removeListener&&C.removeListener(V),(P=vn(C))?(Oe(P,y),P.h==0&&(P.src=null,C[tt]=null)):me(y)}}}function Qe(y){return y in pn?pn[y]:pn[y]="on"+y}function Fn(y,C){if(y.da)y=!0;else{C=new he(C,this);const P=y.listener,V=y.ha||y.src;y.fa&&gn(y),y=P.call(V,C)}return y}function vn(y){return y=y[tt],y instanceof _e?y:null}var di="__closure_events_fn_"+(Math.random()*1e9>>>0);function fs(y){return typeof y=="function"?y:(y[di]||(y[di]=function(C){return y.handleEvent(C)}),y[di])}function Sn(){z.call(this),this.i=new _e(this),this.M=this,this.G=null}p(Sn,z),Sn.prototype[be]=!0,Sn.prototype.removeEventListener=function(y,C,P,V){de(this,y,C,P,V)};function Vn(y,C){var P,V=y.G;if(V)for(P=[];V;V=V.G)P.push(V);if(y=y.M,V=C.type||C,typeof C=="string")C=new F(C,y);else if(C instanceof F)C.target=C.target||y;else{var X=C;C=new F(V,y),ye(C,X)}X=!0;let re,ge;if(P)for(ge=P.length-1;ge>=0;ge--)re=C.g=P[ge],X=ds(re,V,!0,C)&&X;if(re=C.g=y,X=ds(re,V,!0,C)&&X,X=ds(re,V,!1,C)&&X,P)for(ge=0;ge<P.length;ge++)re=C.g=P[ge],X=ds(re,V,!1,C)&&X}Sn.prototype.N=function(){if(Sn.Z.N.call(this),this.i){var y=this.i;for(const C in y.g){const P=y.g[C];for(let V=0;V<P.length;V++)me(P[V]);delete y.g[C],y.h--}}this.G=null},Sn.prototype.J=function(y,C,P,V){return this.i.add(String(y),C,!1,P,V)},Sn.prototype.K=function(y,C,P,V){return this.i.add(String(y),C,!0,P,V)};function ds(y,C,P,V){if(C=y.i.g[String(C)],!C)return!0;C=C.concat();let X=!0;for(let re=0;re<C.length;++re){const ge=C[re];if(ge&&!ge.da&&ge.capture==P){const $e=ge.listener,yn=ge.ha||ge.src;ge.fa&&Oe(y.i,ge),X=$e.call(yn,V)!==!1&&X}}return X&&!V.defaultPrevented}function Pm(y,C){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(C)>2147483647?-1:o.setTimeout(y,C||0)}function P0(y){y.g=Pm(()=>{y.g=null,y.i&&(y.i=!1,P0(y))},y.l);const C=y.h;y.h=null,y.m.apply(null,C)}class Fr extends z{constructor(C,P){super(),this.m=C,this.l=P,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:P0(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kl(y){z.call(this),this.h=y,this.g={}}p(kl,z);var Wf=[];function Xf(y){Se(y.g,function(C,P){this.g.hasOwnProperty(P)&&gn(C)},y),y.g={}}kl.prototype.N=function(){kl.Z.N.call(this),Xf(this)},kl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hs=o.JSON.stringify,Dm=o.JSON.parse,D0=class{stringify(y){return o.JSON.stringify(y,void 0)}parse(y){return o.JSON.parse(y,void 0)}};function N0(){}function M0(){}var la={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function fr(){F.call(this,"d")}p(fr,F);function Mi(){F.call(this,"c")}p(Mi,F);var mn={},k0=null;function Ju(){return k0=k0||new Sn}mn.Ia="serverreachability";function j0(y){F.call(this,mn.Ia,y)}p(j0,F);function Ra(y){const C=Ju();Vn(C,new j0(C))}mn.STAT_EVENT="statevent";function jl(y,C){F.call(this,mn.STAT_EVENT,y),this.stat=C}p(jl,F);function Cn(y){const C=Ju();Vn(C,new jl(C,y))}mn.Ja="timingevent";function Pa(y,C){F.call(this,mn.Ja,y),this.size=C}p(Pa,F);function Da(y,C){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){y()},C)}function ua(){this.g=!0}ua.prototype.ua=function(){this.g=!1};function Nm(y,C,P,V,X,re){y.info(function(){if(y.g)if(re){var ge="",$e=re.split("&");for(let yt=0;yt<$e.length;yt++){var yn=$e[yt].split("=");if(yn.length>1){const Zt=yn[0];yn=yn[1];const Bi=Zt.split("_");ge=Bi.length>=2&&Bi[1]=="type"?ge+(Zt+"="+yn+"&"):ge+(Zt+"=redacted&")}}}else ge=null;else ge=re;return"XMLHTTP REQ ("+V+") [attempt "+X+"]: "+C+`
`+P+`
`+ge})}function L0(y,C,P,V,X,re,ge){y.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+X+"]: "+C+`
`+P+`
`+re+" "+ge})}function Na(y,C,P,V){y.info(function(){return"XMLHTTP TEXT ("+C+"): "+Mm(y,P)+(V?" "+V:"")})}function Ll(y,C){y.info(function(){return"TIMEOUT: "+C})}ua.prototype.info=function(){};function Mm(y,C){if(!y.g)return C;if(!C)return null;try{const re=JSON.parse(C);if(re){for(y=0;y<re.length;y++)if(Array.isArray(re[y])){var P=re[y];if(!(P.length<2)){var V=P[1];if(Array.isArray(V)&&!(V.length<1)){var X=V[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ge=1;ge<V.length;ge++)V[ge]=""}}}}return hs(re)}catch{return C}}var Bl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qf;function Fl(){}p(Fl,N0),Fl.prototype.g=function(){return new XMLHttpRequest},Qf=new Fl;function xo(y){return encodeURIComponent(String(y))}function B0(y){var C=1;y=y.split(":");const P=[];for(;C>0&&y.length;)P.push(y.shift()),C--;return y.length&&P.push(y.join(":")),P}function ca(y,C,P,V){this.j=y,this.i=C,this.l=P,this.S=V||1,this.V=new kl(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fa}function fa(){this.i=null,this.g="",this.h=!1}var Tn={},Jn={};function Ma(y,C,P){y.M=1,y.A=Vl(On(C)),y.u=P,y.R=!0,ec(y,null)}function ec(y,C){y.F=Date.now(),ka(y),y.B=On(y.A);var P=y.B,V=y.S;Array.isArray(V)||(V=[String(V)]),ic(P.i,"t",V),y.C=0,P=y.j.L,y.h=new fa,y.g=J0(y.j,P?C:null,!y.u),y.P>0&&(y.O=new Fr(f(y.Y,y,y.g),y.P)),C=y.V,P=y.g,V=y.ba;var X="readystatechange";Array.isArray(X)||(X&&(Wf[0]=X.toString()),X=Wf);for(let re=0;re<X.length;re++){const ge=pe(P,X[re],V||C.handleEvent,!1,C.h||C);if(!ge)break;C.g[ge.key]=ge}C=y.J?G(y.J):{},y.u?(y.v||(y.v="POST"),C["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,C)):(y.v="GET",y.g.ea(y.B,y.v,null,C)),Ra(),Nm(y.i,y.v,y.B,y.l,y.S,y.u)}ca.prototype.ba=function(y){y=y.target;const C=this.O;C&&pa(y)==3?C.j():this.Y(y)},ca.prototype.Y=function(y){try{if(y==this.g)e:{const $e=pa(this.g),yn=this.g.ya(),yt=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||dr(this.g)))){this.K||$e!=4||yn==7||(yn==8||yt<=0?Ra(3):Ra(2)),ja(this);var C=this.g.ca();this.X=C;var P=km(this);if(this.o=C==200,L0(this.i,this.v,this.B,this.l,this.S,$e,C),this.o){if(this.U&&!this.L){t:{if(this.g){var V,X=this.g;if((V=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(V)){var re=V;break t}}re=null}if(y=re)Na(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,La(this,y);else{this.o=!1,this.m=3,Cn(12),hi(this),ki(this);break e}}if(this.R){y=!0;let Zt;for(;!this.K&&this.C<P.length;)if(Zt=V0(this,P),Zt==Jn){$e==4&&(this.m=4,Cn(14),y=!1),Na(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==Tn){this.m=4,Cn(15),Na(this.i,this.l,P,"[Invalid Chunk]"),y=!1;break}else Na(this.i,this.l,Zt,null),La(this,Zt);if(F0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||P.length!=0||this.h.h||(this.m=1,Cn(16),y=!1),this.o=this.o&&y,!y)Na(this.i,this.l,P,"[Invalid Chunked Response]"),hi(this),ki(this);else if(P.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),dd(ge),ge.P=!0,Cn(11))}}else Na(this.i,this.l,P,null),La(this,P);$e==4&&hi(this),this.o&&!this.K&&($e==4?X0(this.j,this):(this.o=!1,ka(this)))}else bo(this.g),C==400&&P.indexOf("Unknown SID")>0?(this.m=3,Cn(12)):(this.m=0,Cn(13)),hi(this),ki(this)}}}catch{}finally{}};function km(y){if(!F0(y))return y.g.la();const C=dr(y.g);if(C==="")return"";let P="";const V=C.length,X=pa(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return hi(y),ki(y),"";y.h.i=new o.TextDecoder}for(let re=0;re<V;re++)y.h.h=!0,P+=y.h.i.decode(C[re],{stream:!(X&&re==V-1)});return C.length=0,y.h.g+=P,y.C=0,y.h.g}function F0(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function V0(y,C){var P=y.C,V=C.indexOf(`
`,P);return V==-1?Jn:(P=Number(C.substring(P,V)),isNaN(P)?Tn:(V+=1,V+P>C.length?Jn:(C=C.slice(V,V+P),y.C=V+P,C)))}ca.prototype.cancel=function(){this.K=!0,hi(this)};function ka(y){y.T=Date.now()+y.H,tc(y,y.H)}function tc(y,C){if(y.D!=null)throw Error("WatchDog timer not null");y.D=Da(f(y.aa,y),C)}function ja(y){y.D&&(o.clearTimeout(y.D),y.D=null)}ca.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Ll(this.i,this.B),this.M!=2&&(Ra(),Cn(17)),hi(this),this.m=2,ki(this)):tc(this,this.T-y)};function ki(y){y.j.I==0||y.K||X0(y.j,y)}function hi(y){ja(y);var C=y.O;C&&typeof C.dispose=="function"&&C.dispose(),y.O=null,Xf(y.V),y.g&&(C=y.g,y.g=null,C.abort(),C.dispose())}function La(y,C){try{var P=y.j;if(P.I!=0&&(P.g==y||Fa(P.h,y))){if(!y.L&&Fa(P.h,y)&&P.I==3){try{var V=P.Ba.g.parse(C)}catch{V=null}if(Array.isArray(V)&&V.length==3){var X=V;if(X[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<y.F)uc(P),bs(P);else break e;Kl(P),Cn(18)}}else P.xa=X[1],0<P.xa-P.K&&X[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Da(f(P.Va,P),6e3));Ba(P.h)<=1&&P.ta&&(P.ta=void 0)}else qa(P,11)}else if((y.L||P.g==y)&&uc(P),!U(C))for(X=P.Ba.g.parse(C),C=0;C<X.length;C++){let yt=X[C];const Zt=yt[0];if(!(Zt<=P.K))if(P.K=Zt,yt=yt[1],P.I==2)if(yt[0]=="c"){P.M=yt[1],P.ba=yt[2];const Bi=yt[3];Bi!=null&&(P.ka=Bi,P.j.info("VER="+P.ka));const Ga=yt[4];Ga!=null&&(P.za=Ga,P.j.info("SVER="+P.za));const ga=yt[5];ga!=null&&typeof ga=="number"&&ga>0&&(V=1.5*ga,P.O=V,P.j.info("backChannelRequestTimeoutMs_="+V)),V=P;const va=y.g;if(va){const Wl=va.g?va.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wl){var re=V.h;re.g||Wl.indexOf("spdy")==-1&&Wl.indexOf("quic")==-1&&Wl.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(ed(re,re.h),re.h=null))}if(V.G){const cc=va.g?va.g.getResponseHeader("X-HTTP-Session-Id"):null;cc&&(V.wa=cc,Tt(V.J,V.G,cc))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-y.F,P.j.info("Handshake RTT: "+P.T+"ms")),V=P;var ge=y;if(V.na=Z0(V,V.L?V.ba:null,V.W),ge.L){td(V.h,ge);var $e=ge,yn=V.O;yn&&($e.H=yn),$e.D&&(ja($e),ka($e)),V.g=ge}else K0(V);P.i.length>0&&$a(P)}else yt[0]!="stop"&&yt[0]!="close"||qa(P,7);else P.I==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?qa(P,7):cd(P):yt[0]!="noop"&&P.l&&P.l.qa(yt),P.A=0)}}Ra(4)}catch{}}var In=class{constructor(y,C){this.g=y,this.map=C}};function Zf(y){this.l=y||10,o.PerformanceNavigationTiming?(y=o.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jf(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Ba(y){return y.h?1:y.g?y.g.size:0}function Fa(y,C){return y.h?y.h==C:y.g?y.g.has(C):!1}function ed(y,C){y.g?y.g.add(C):y.h=C}function td(y,C){y.h&&y.h==C?y.h=null:y.g&&y.g.has(C)&&y.g.delete(C)}Zf.prototype.cancel=function(){if(this.i=nd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function nd(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let C=y.i;for(const P of y.g.values())C=C.concat(P.G);return C}return m(y.i)}var U0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nc(y,C){if(y){y=y.split("&");for(let P=0;P<y.length;P++){const V=y[P].indexOf("=");let X,re=null;V>=0?(X=y[P].substring(0,V),re=y[P].substring(V+1)):X=y[P],C(X,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function pi(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let C;y instanceof pi?(this.l=y.l,er(this,y.j),this.o=y.o,this.g=y.g,ps(this,y.u),this.h=y.h,rd(this,q0(y.i)),this.m=y.m):y&&(C=String(y).match(U0))?(this.l=!1,er(this,C[1]||"",!0),this.o=Va(C[2]||""),this.g=Va(C[3]||"",!0),ps(this,C[4]),this.h=Va(C[5]||"",!0),rd(this,C[6]||"",!0),this.m=Va(C[7]||"")):(this.l=!1,this.i=new vs(null,this.l))}pi.prototype.toString=function(){const y=[];var C=this.j;C&&y.push(Ul(C,rc,!0),":");var P=this.g;return(P||C=="file")&&(y.push("//"),(C=this.o)&&y.push(Ul(C,rc,!0),"@"),y.push(xo(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&y.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&y.push("/"),y.push(Ul(P,P.charAt(0)=="/"?id:z0,!0))),(P=this.i.toString())&&y.push("?",P),(P=this.m)&&y.push("#",Ul(P,H0)),y.join("")},pi.prototype.resolve=function(y){const C=On(this);let P=!!y.j;P?er(C,y.j):P=!!y.o,P?C.o=y.o:P=!!y.g,P?C.g=y.g:P=y.u!=null;var V=y.h;if(P)ps(C,y.u);else if(P=!!y.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var X=C.h.lastIndexOf("/");X!=-1&&(V=C.h.slice(0,X+1)+V)}if(X=V,X==".."||X==".")V="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){V=X.lastIndexOf("/",0)==0,X=X.split("/");const re=[];for(let ge=0;ge<X.length;){const $e=X[ge++];$e=="."?V&&ge==X.length&&re.push(""):$e==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),V&&ge==X.length&&re.push("")):(re.push($e),V=!0)}V=re.join("/")}else V=X}return P?C.h=V:P=y.i.toString()!=="",P?rd(C,q0(y.i)):P=!!y.m,P&&(C.m=y.m),C};function On(y){return new pi(y)}function er(y,C,P){y.j=P?Va(C,!0):C,y.j&&(y.j=y.j.replace(/:$/,""))}function ps(y,C){if(C){if(C=Number(C),isNaN(C)||C<0)throw Error("Bad port number "+C);y.u=C}else y.u=null}function rd(y,C,P){C instanceof vs?(y.i=C,ac(y.i,y.l)):(P||(C=Ul(C,gs)),y.i=new vs(C,y.l))}function Tt(y,C,P){y.i.set(C,P)}function Vl(y){return Tt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Va(y,C){return y?C?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Ul(y,C,P){return typeof y=="string"?(y=encodeURI(y).replace(C,Wr),P&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Wr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var rc=/[#\/\?@]/g,z0=/[#\?:]/g,id=/[#\?]/g,gs=/[#\?@]/g,H0=/#/g;function vs(y,C){this.h=this.g=null,this.i=y||null,this.j=!!C}function Xr(y){y.g||(y.g=new Map,y.h=0,y.i&&nc(y.i,function(C,P){y.add(decodeURIComponent(C.replace(/\+/g," ")),P)}))}t=vs.prototype,t.add=function(y,C){Xr(this),this.i=null,y=ms(this,y);let P=this.g.get(y);return P||this.g.set(y,P=[]),P.push(C),this.h+=1,this};function $0(y,C){Xr(y),C=ms(y,C),y.g.has(C)&&(y.i=null,y.h-=y.g.get(C).length,y.g.delete(C))}function ad(y,C){return Xr(y),C=ms(y,C),y.g.has(C)}t.forEach=function(y,C){Xr(this),this.g.forEach(function(P,V){P.forEach(function(X){y.call(C,X,V,this)},this)},this)};function od(y,C){Xr(y);let P=[];if(typeof C=="string")ad(y,C)&&(P=P.concat(y.g.get(ms(y,C))));else for(y=Array.from(y.g.values()),C=0;C<y.length;C++)P=P.concat(y[C]);return P}t.set=function(y,C){return Xr(this),this.i=null,y=ms(this,y),ad(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[C]),this.h+=1,this},t.get=function(y,C){return y?(y=od(this,y),y.length>0?String(y[0]):C):C};function ic(y,C,P){$0(y,C),P.length>0&&(y.i=null,y.g.set(ms(y,C),m(P)),y.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],C=Array.from(this.g.keys());for(let V=0;V<C.length;V++){var P=C[V];const X=xo(P);P=od(this,P);for(let re=0;re<P.length;re++){let ge=X;P[re]!==""&&(ge+="="+xo(P[re])),y.push(ge)}}return this.i=y.join("&")};function q0(y){const C=new vs;return C.i=y.i,y.g&&(C.g=new Map(y.g),C.h=y.h),C}function ms(y,C){return C=String(C),y.j&&(C=C.toLowerCase()),C}function ac(y,C){C&&!y.j&&(Xr(y),y.i=null,y.g.forEach(function(P,V){const X=V.toLowerCase();V!=X&&($0(this,V),ic(this,X,P))},y)),y.j=C}function da(y,C){const P=new ua;if(o.Image){const V=new Image;V.onload=h(ji,P,"TestLoadImage: loaded",!0,C,V),V.onerror=h(ji,P,"TestLoadImage: error",!1,C,V),V.onabort=h(ji,P,"TestLoadImage: abort",!1,C,V),V.ontimeout=h(ji,P,"TestLoadImage: timeout",!1,C,V),o.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=y}else C(!1)}function sd(y,C){const P=new ua,V=new AbortController,X=setTimeout(()=>{V.abort(),ji(P,"TestPingServer: timeout",!1,C)},1e4);fetch(y,{signal:V.signal}).then(re=>{clearTimeout(X),re.ok?ji(P,"TestPingServer: ok",!0,C):ji(P,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(X),ji(P,"TestPingServer: error",!1,C)})}function ji(y,C,P,V,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),V(P)}catch{}}function ys(){this.g=new D0}function Ua(y){this.i=y.Sb||null,this.h=y.ab||!1}p(Ua,N0),Ua.prototype.g=function(){return new zl(this.i,this.h)};function zl(y,C){Sn.call(this),this.H=y,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(zl,Sn),t=zl.prototype,t.open=function(y,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=C,this.readyState=1,ha(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const C={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(C.body=y),(this.H||o).fetch(new Request(this.D,C)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,ha(this)),this.g&&(this.readyState=3,ha(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oc(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function oc(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var C=y.value?y.value:new Uint8Array(0);(C=this.B.decode(C,{stream:!y.done}))&&(this.response=this.responseText+=C)}y.done?xs(this):ha(this),this.readyState==3&&oc(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,xs(this))},t.Na=function(y){this.g&&(this.response=y,xs(this))},t.ga=function(){this.g&&xs(this)};function xs(y){y.readyState=4,y.l=null,y.j=null,y.B=null,ha(y)}t.setRequestHeader=function(y,C){this.A.append(y,C)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],C=this.h.entries();for(var P=C.next();!P.done;)P=P.value,y.push(P[0]+": "+P[1]),P=C.next();return y.join(`\r
`)};function ha(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(zl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Li(y){let C="";return Se(y,function(P,V){C+=V,C+=":",C+=P,C+=`\r
`}),C}function Hl(y,C,P){e:{for(V in P){var V=!1;break e}V=!0}V||(P=Li(P),typeof y=="string"?P!=null&&xo(P):Tt(y,C,P))}function Mt(y){Sn.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Mt,Sn);var za=/^https?$/i,ld=["POST","PUT"];t=Mt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,C,P,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);C=C?C.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qf.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(C,String(y),!0),this.B=!1}catch(re){$l(this,re);return}if(y=P||"",P=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var X in V)P.set(X,V[X]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const re of V.keys())P.set(re,V.get(re));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(P.keys()).find(re=>re.toLowerCase()=="content-type"),X=o.FormData&&y instanceof o.FormData,!(Array.prototype.indexOf.call(ld,C,void 0)>=0)||V||X||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ge]of P)this.g.setRequestHeader(re,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(re){$l(this,re)}};function $l(y,C){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=C,y.o=5,ud(y),_o(y)}function ud(y){y.A||(y.A=!0,Vn(y,"complete"),Vn(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Vn(this,"complete"),Vn(this,"abort"),_o(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_o(this,!0)),Mt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ql(this):this.Xa())},t.Xa=function(){ql(this)};function ql(y){if(y.h&&typeof a<"u"){if(y.v&&pa(y)==4)setTimeout(y.Ca.bind(y),0);else if(Vn(y,"readystatechange"),pa(y)==4){y.h=!1;try{const re=y.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var P;if(!(P=C)){var V;if(V=re===0){let ge=String(y.D).match(U0)[1]||null;!ge&&o.self&&o.self.location&&(ge=o.self.location.protocol.slice(0,-1)),V=!za.test(ge?ge.toLowerCase():"")}P=V}if(P)Vn(y,"complete"),Vn(y,"success");else{y.o=6;try{var X=pa(y)>2?y.g.statusText:""}catch{X=""}y.l=X+" ["+y.ca()+"]",ud(y)}}finally{_o(y)}}}}function _o(y,C){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const P=y.g;y.g=null,C||Vn(y,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function pa(y){return y.g?y.g.readyState:0}t.ca=function(){try{return pa(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var C=this.g.responseText;return y&&C.indexOf(y)==0&&(C=C.substring(y.length)),Dm(C)}};function dr(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function bo(y){const C={};y=(y.g&&pa(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<y.length;V++){if(U(y[V]))continue;var P=B0(y[V]);const X=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const re=C[X]||[];C[X]=re,re.push(P)}Ge(C,function(V){return V.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ha(y,C,P){return P&&P.internalChannelParams&&P.internalChannelParams[y]||C}function _s(y){this.za=0,this.i=[],this.j=new ua,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ha("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ha("baseRetryDelayMs",5e3,y),this.Za=Ha("retryDelaySeedMs",1e4,y),this.Ta=Ha("forwardChannelMaxRetries",2,y),this.va=Ha("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new Zf(y&&y.concurrentRequestLimit),this.Ba=new ys,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=_s.prototype,t.ka=8,t.I=1,t.connect=function(y,C,P,V){Cn(0),this.W=y,this.H=C||{},P&&V!==void 0&&(this.H.OSID=P,this.H.OAID=V),this.F=this.X,this.J=Z0(this,null,this.W),$a(this)};function cd(y){if(sc(y),y.I==3){var C=y.V++,P=On(y.J);if(Tt(P,"SID",y.M),Tt(P,"RID",C),Tt(P,"TYPE","terminate"),Gl(y,P),C=new ca(y,y.j,C),C.M=2,C.A=Vl(On(P)),P=!1,o.navigator&&o.navigator.sendBeacon)try{P=o.navigator.sendBeacon(C.A.toString(),"")}catch{}!P&&o.Image&&(new Image().src=C.A,P=!0),P||(C.g=J0(C.j,null),C.g.ea(C.A)),C.F=Date.now(),ka(C)}Q0(y)}function bs(y){y.g&&(dd(y),y.g.cancel(),y.g=null)}function sc(y){bs(y),y.v&&(o.clearTimeout(y.v),y.v=null),uc(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&o.clearTimeout(y.m),y.m=null)}function $a(y){if(!Jf(y.h)&&!y.m){y.m=!0;var C=y.Ea;k||M(),B||(k(),B=!0),D.add(C,y),y.D=0}}function lc(y,C){return Ba(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=C.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=Da(f(y.Ea,y,C),Y0(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const X=new ca(this,this.j,y);let re=this.o;if(this.U&&(re?(re=G(re),ye(re,this.U)):re=this.U),this.u!==null||this.R||(X.J=re,re=null),this.S)e:{for(var C=0,P=0;P<this.i.length;P++){t:{var V=this.i[P];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(C+=V,C>4096){C=P;break e}if(C===4096||P===this.i.length-1){C=P+1;break e}}C=1e3}else C=1e3;C=G0(this,X,C),P=On(this.J),Tt(P,"RID",y),Tt(P,"CVER",22),this.G&&Tt(P,"X-HTTP-Session-Id",this.G),Gl(this,P),re&&(this.R?C="headers="+xo(Li(re))+"&"+C:this.u&&Hl(P,this.u,re)),ed(this.h,X),this.Ra&&Tt(P,"TYPE","init"),this.S?(Tt(P,"$req",C),Tt(P,"SID","null"),X.U=!0,Ma(X,P,null)):Ma(X,P,C),this.I=2}}else this.I==3&&(y?fd(this,y):this.i.length==0||Jf(this.h)||fd(this))};function fd(y,C){var P;C?P=C.l:P=y.V++;const V=On(y.J);Tt(V,"SID",y.M),Tt(V,"RID",P),Tt(V,"AID",y.K),Gl(y,V),y.u&&y.o&&Hl(V,y.u,y.o),P=new ca(y,y.j,P,y.D+1),y.u===null&&(P.J=y.o),C&&(y.i=C.G.concat(y.i)),C=G0(y,P,1e3),P.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),ed(y.h,P),Ma(P,V,C)}function Gl(y,C){y.H&&Se(y.H,function(P,V){Tt(C,V,P)}),y.l&&Se({},function(P,V){Tt(C,V,P)})}function G0(y,C,P){P=Math.min(y.i.length,P);const V=y.l?f(y.l.Ka,y.l,y):null;e:{var X=y.i;let $e=-1;for(;;){const yn=["count="+P];$e==-1?P>0?($e=X[0].g,yn.push("ofs="+$e)):$e=0:yn.push("ofs="+$e);let yt=!0;for(let Zt=0;Zt<P;Zt++){var re=X[Zt].g;const Bi=X[Zt].map;if(re-=$e,re<0)$e=Math.max(0,X[Zt].g-100),yt=!1;else try{re="req"+re+"_"||"";try{var ge=Bi instanceof Map?Bi:Object.entries(Bi);for(const[Ga,ga]of ge){let va=ga;l(ga)&&(va=hs(ga)),yn.push(re+Ga+"="+encodeURIComponent(va))}}catch(Ga){throw yn.push(re+"type="+encodeURIComponent("_badmap")),Ga}}catch{V&&V(Bi)}}if(yt){ge=yn.join("&");break e}}ge=void 0}return y=y.i.splice(0,P),C.G=y,ge}function K0(y){if(!y.g&&!y.v){y.Y=1;var C=y.Da;k||M(),B||(k(),B=!0),D.add(C,y),y.A=0}}function Kl(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=Da(f(y.Da,y),Y0(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,W0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=Da(f(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Cn(10),bs(this),W0(this))};function dd(y){y.B!=null&&(o.clearTimeout(y.B),y.B=null)}function W0(y){y.g=new ca(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var C=On(y.na);Tt(C,"RID","rpc"),Tt(C,"SID",y.M),Tt(C,"AID",y.K),Tt(C,"CI",y.F?"0":"1"),!y.F&&y.ia&&Tt(C,"TO",y.ia),Tt(C,"TYPE","xmlhttp"),Gl(y,C),y.u&&y.o&&Hl(C,y.u,y.o),y.O&&(y.g.H=y.O);var P=y.g;y=y.ba,P.M=1,P.A=Vl(On(C)),P.u=null,P.R=!0,ec(P,y)}t.Va=function(){this.C!=null&&(this.C=null,bs(this),Kl(this),Cn(19))};function uc(y){y.C!=null&&(o.clearTimeout(y.C),y.C=null)}function X0(y,C){var P=null;if(y.g==C){uc(y),dd(y),y.g=null;var V=2}else if(Fa(y.h,C))P=C.G,td(y.h,C),V=1;else return;if(y.I!=0){if(C.o)if(V==1){P=C.u?C.u.length:0,C=Date.now()-C.F;var X=y.D;V=Ju(),Vn(V,new Pa(V,P)),$a(y)}else K0(y);else if(X=C.m,X==3||X==0&&C.X>0||!(V==1&&lc(y,C)||V==2&&Kl(y)))switch(P&&P.length>0&&(C=y.h,C.i=C.i.concat(P)),X){case 1:qa(y,5);break;case 4:qa(y,10);break;case 3:qa(y,6);break;default:qa(y,2)}}}function Y0(y,C){let P=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(P*=2),P*C}function qa(y,C){if(y.j.info("Error code "+C),C==2){var P=f(y.bb,y),V=y.Ua;const X=!V;V=new pi(V||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||er(V,"https"),Vl(V),X?da(V.toString(),P):sd(V.toString(),P)}else Cn(2);y.I=0,y.l&&y.l.pa(C),Q0(y),sc(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Cn(2)):(this.j.info("Failed to ping google.com"),Cn(1))};function Q0(y){if(y.I=0,y.ja=[],y.l){const C=nd(y.h);(C.length!=0||y.i.length!=0)&&(_(y.ja,C),_(y.ja,y.i),y.h.i.length=0,m(y.i),y.i.length=0),y.l.oa()}}function Z0(y,C,P){var V=P instanceof pi?On(P):new pi(P);if(V.g!="")C&&(V.g=C+"."+V.g),ps(V,V.u);else{var X=o.location;V=X.protocol,C=C?C+"."+X.hostname:X.hostname,X=+X.port;const re=new pi(null);V&&er(re,V),C&&(re.g=C),X&&ps(re,X),P&&(re.h=P),V=re}return P=y.G,C=y.wa,P&&C&&Tt(V,P,C),Tt(V,"VER",y.ka),Gl(y,V),V}function J0(y,C,P){if(C&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return C=y.Aa&&!y.ma?new Mt(new Ua({ab:P})):new Mt(y.ma),C.Fa(y.L),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ep(){}t=ep.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ws(){}ws.prototype.g=function(y,C){return new Vr(y,C)};function Vr(y,C){Sn.call(this),this.g=new _s(C),this.l=y,this.h=C&&C.messageUrlParams||null,y=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(y?y["X-WebChannel-Content-Type"]=C.messageContentType:y={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.sa&&(y?y["X-WebChannel-Client-Profile"]=C.sa:y={"X-WebChannel-Client-Profile":C.sa}),this.g.U=y,(y=C&&C.Qb)&&!U(y)&&(this.g.u=y),this.A=C&&C.supportsCrossDomainXhr||!1,this.v=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!U(C)&&(this.g.G=C,y=this.h,y!==null&&C in y&&(y=this.h,C in y&&delete y[C])),this.j=new wo(this)}p(Vr,Sn),Vr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vr.prototype.close=function(){cd(this.g)},Vr.prototype.o=function(y){var C=this.g;if(typeof y=="string"){var P={};P.__data__=y,y=P}else this.v&&(P={},P.__data__=hs(y),y=P);C.i.push(new In(C.Ya++,y)),C.I==3&&$a(C)},Vr.prototype.N=function(){this.g.l=null,delete this.j,cd(this.g),delete this.g,Vr.Z.N.call(this)};function tp(y){fr.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var C=y.__sm__;if(C){e:{for(const P in C){y=P;break e}y=void 0}(this.i=y)&&(y=this.i,C=C!==null&&y in C?C[y]:void 0),this.data=C}else this.data=y}p(tp,fr);function np(){Mi.call(this),this.status=1}p(np,Mi);function wo(y){this.g=y}p(wo,ep),wo.prototype.ra=function(){Vn(this.g,"a")},wo.prototype.qa=function(y){Vn(this.g,new tp(y))},wo.prototype.pa=function(y){Vn(this.g,new np)},wo.prototype.oa=function(){Vn(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,Vr.prototype.send=Vr.prototype.o,Vr.prototype.open=Vr.prototype.m,Vr.prototype.close=Vr.prototype.close,wD=function(){return new ws},bD=function(){return Ju()},_D=mn,z_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Bl.NO_ERROR=0,Bl.TIMEOUT=8,Bl.HTTP_ERROR=6,L1=Bl,Yf.COMPLETE="complete",xD=Yf,M0.EventType=la,la.OPEN="a",la.CLOSE="b",la.ERROR="c",la.MESSAGE="d",Sn.prototype.listen=Sn.prototype.J,dh=M0,Mt.prototype.listenOnce=Mt.prototype.K,Mt.prototype.getLastError=Mt.prototype.Ha,Mt.prototype.getLastErrorCode=Mt.prototype.ya,Mt.prototype.getStatus=Mt.prototype.ca,Mt.prototype.getResponseJson=Mt.prototype.La,Mt.prototype.getResponseText=Mt.prototype.la,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Fa,yD=Mt}).apply(typeof o1<"u"?o1:typeof self<"u"?self:typeof window<"u"?window:{});const k4="@firebase/firestore",j4="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dr.UNAUTHENTICATED=new Dr(null),Dr.GOOGLE_CREDENTIALS=new Dr("google-credentials-uid"),Dr.FIRST_PARTY=new Dr("first-party-uid"),Dr.MOCK_USER=new Dr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=new Ew("@firebase/firestore");function Hc(){return Mu.logLevel}function we(t,...e){if(Mu.logLevel<=it.DEBUG){const n=e.map(Cw);Mu.debug(`Firestore (${Tf}): ${t}`,...n)}}function Yo(t,...e){if(Mu.logLevel<=it.ERROR){const n=e.map(Cw);Mu.error(`Firestore (${Tf}): ${t}`,...n)}}function of(t,...e){if(Mu.logLevel<=it.WARN){const n=e.map(Cw);Mu.warn(`Firestore (${Tf}): ${t}`,...n)}}function Cw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ED(t,r,n)}function ED(t,e,n){let r=`FIRESTORE (${Tf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Yo(r),new Error(r)}function Ct(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||ED(e,i,r)}function ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends po{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Dr.UNAUTHENTICATED)))}shutdown(){}}class JV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class eU{constructor(e){this.t=e,this.currentUser=Dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ct(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new qo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new qo,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qo)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct(typeof r.accessToken=="string",31837,{l:r}),new AD(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string",2055,{h:e}),new Dr(e)}}class tU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Dr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new tU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Dr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class L4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ct(this.o===void 0,3512);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new L4(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new L4(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=iU(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function at(t,e){return t<e?-1:t>e?1:0}function H_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return z2(i)===z2(a)?at(i,a):z2(i)?1:-1}return at(t.length,e.length)}const aU=55296,oU=57343;function z2(t){const e=t.charCodeAt(0);return e>=aU&&e<=oU}function sf(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4="__name__";class Qa{constructor(e,n,r){n===void 0?n=0:n>e.length&&Be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Qa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Qa.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return at(e.length,n.length)}static compareSegments(e,n){const r=Qa.isNumericId(e),i=Qa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Qa.extractNumericId(e).compare(Qa.extractNumericId(n)):H_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ol.fromString(e.substring(4,e.length-2))}}class Ht extends Qa{construct(e,n,r){return new Ht(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ht(n)}static emptyPath(){return new Ht([])}}const sU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Er extends Qa{construct(e,n,r){return new Er(e,n,r)}static isValidIdentifier(e){return sU.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Er.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B4}static keyField(){return new Er([B4])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new xe(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new xe(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new xe(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(a(),i++)}if(a(),o)throw new xe(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Er(n)}static emptyPath(){return new Er([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Ht.fromString(e))}static fromName(e){return new De(Ht.fromString(e).popFirst(5))}static empty(){return new De(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t,e,n){if(!n)throw new xe(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lU(t,e,n,r){if(e===!0&&r===!0)throw new xe(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function F4(t){if(!De.isDocumentKey(t))throw new xe(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function V4(t){if(De.isDocumentKey(t))throw new xe(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function CD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ev(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function li(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ev(t);throw new xe(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t,e){const n={typeString:t};return e&&(n.value=e),n}function e0(t,e){if(!CD(t))throw new xe(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new xe(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=-62135596800,z4=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*z4);return new Qt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<U4)throw new xe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z4}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(e0(e,Qt._jsonSchema))return new Qt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U4;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qt._jsonSchemaVersion="firestore/timestamp/1.0",Qt._jsonSchema={type:jn("string",Qt._jsonSchemaVersion),seconds:jn("number"),nanoseconds:jn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Qt(0,0))}static max(){return new Fe(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=-1;function uU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new Qt(n+1,0):new Qt(n,r));return new hl(i,De.empty(),e)}function cU(t){return new hl(t.readTime,t.key,Ph)}class hl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new hl(Fe.min(),De.empty(),Ph)}static max(){return new hl(Fe.max(),De.empty(),Ph)}}function fU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:at(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function If(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==dU)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,r)=>{n(e)}))}static reject(e){return new fe(((n,r)=>{r(e)}))}static waitFor(e){return new fe(((n,r)=>{let i=0,a=0,o=!1;e.forEach((l=>{++i,l.next((()=>{++a,o&&a===i&&n()}),(c=>r(c)))})),o=!0,a===i&&n()}))}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next((i=>i?fe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new fe(((r,i)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const f=c;n(e[f]).next((h=>{o[f]=h,++l,l===a&&r(o)}),(h=>i(h)))}}))}static doWhile(e,n){return new fe(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function pU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Of(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Av.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=-1;function Sv(t){return t==null}function ag(t){return t===0&&1/t==-1/0}function gU(t){return typeof t=="number"&&Number.isInteger(t)&&!ag(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="";function vU(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=H4(e)),e=mU(t.get(n),e);return H4(e)}function mU(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case TD:n+="";break;default:n+=a}}return n}function H4(t){return t+TD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ID(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n){this.comparator=e,this.root=n||br.EMPTY}insert(e,n){return new sn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,br.BLACK,null,null))}remove(e){return new sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,br.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new s1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new s1(this.root,e,this.comparator,!1)}getReverseIterator(){return new s1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new s1(this.root,e,this.comparator,!0)}}class s1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class br{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??br.RED,this.left=i??br.EMPTY,this.right=a??br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new br(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return br.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}br.EMPTY=null,br.RED=!0,br.BLACK=!1;br.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new br(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.comparator=e,this.data=new sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new q4(this.data.getIterator())}getIteratorFrom(e){return new q4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Xn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xn(this.comparator);return n.data=e,n}}class q4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.fields=e,e.sort(Er.comparator)}static empty(){return new Ti([])}unionWith(e){let n=new Xn(Er.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sf(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new OD("Invalid base64 string: "+a):a}})(e);return new Sr(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new Sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sr.EMPTY_BYTE_STRING=new Sr("");const yU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pl(t){if(Ct(!!t,39018),typeof t=="string"){let e=0;const n=yU.exec(t);if(Ct(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wn(t.seconds),nanos:wn(t.nanos)}}function wn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gl(t){return typeof t=="string"?Sr.fromBase64String(t):Sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="server_timestamp",PD="__type__",DD="__previous_value__",ND="__local_write_time__";function Ow(t){return(t?.mapValue?.fields||{})[PD]?.stringValue===RD}function Cv(t){const e=t.mapValue.fields[DD];return Ow(e)?Cv(e):e}function Dh(t){const e=pl(t.mapValue.fields[ND].timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n,r,i,a,o,l,c,f,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h}}const og="(default)";class Nh{constructor(e,n){this.projectId=e,this.database=n||og}static empty(){return new Nh("","")}get isDefaultDatabase(){return this.database===og}isEqual(e){return e instanceof Nh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="__type__",_U="__max__",l1={mapValue:{}},kD="__vector__",sg="value";function vl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ow(t)?4:wU(t)?9007199254740991:bU(t)?10:11:Be(28295,{value:t})}function so(t,e){if(t===e)return!0;const n=vl(t);if(n!==vl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dh(t).isEqual(Dh(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=pl(i.timestampValue),l=pl(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return gl(i.bytesValue).isEqual(gl(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return wn(i.geoPointValue.latitude)===wn(a.geoPointValue.latitude)&&wn(i.geoPointValue.longitude)===wn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return wn(i.integerValue)===wn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=wn(i.doubleValue),l=wn(a.doubleValue);return o===l?ag(o)===ag(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return sf(t.arrayValue.values||[],e.arrayValue.values||[],so);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if($4(o)!==$4(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!so(o[c],l[c])))return!1;return!0})(t,e);default:return Be(52216,{left:t})}}function Mh(t,e){return(t.values||[]).find((n=>so(n,e)))!==void 0}function lf(t,e){if(t===e)return 0;const n=vl(t),r=vl(e);if(n!==r)return at(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return at(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const l=wn(a.integerValue||a.doubleValue),c=wn(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return G4(t.timestampValue,e.timestampValue);case 4:return G4(Dh(t),Dh(e));case 5:return H_(t.stringValue,e.stringValue);case 6:return(function(a,o){const l=gl(a),c=gl(o);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const l=a.split("/"),c=o.split("/");for(let f=0;f<l.length&&f<c.length;f++){const h=at(l[f],c[f]);if(h!==0)return h}return at(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const l=at(wn(a.latitude),wn(o.latitude));return l!==0?l:at(wn(a.longitude),wn(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return K4(t.arrayValue,e.arrayValue);case 10:return(function(a,o){const l=a.fields||{},c=o.fields||{},f=l[sg]?.arrayValue,h=c[sg]?.arrayValue,p=at(f?.values?.length||0,h?.values?.length||0);return p!==0?p:K4(f,h)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===l1.mapValue&&o===l1.mapValue)return 0;if(a===l1.mapValue)return 1;if(o===l1.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),f=o.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const v=H_(c[p],h[p]);if(v!==0)return v;const m=lf(l[c[p]],f[h[p]]);if(m!==0)return m}return at(c.length,h.length)})(t.mapValue,e.mapValue);default:throw Be(23264,{he:n})}}function G4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return at(t,e);const n=pl(t),r=pl(e),i=at(n.seconds,r.seconds);return i!==0?i:at(n.nanos,r.nanos)}function K4(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=lf(n[i],r[i]);if(a)return a}return at(n.length,r.length)}function uf(t){return $_(t)}function $_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=pl(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return gl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return De.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=$_(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${$_(n.fields[o])}`;return i+"}"})(t.mapValue):Be(61005,{value:t})}function B1(t){switch(vl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cv(t);return e?16+B1(e):16;case 5:return 2*t.stringValue.length;case 6:return gl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+B1(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Sl(r.fields,((a,o)=>{i+=a.length+B1(o)})),i})(t.mapValue);default:throw Be(13486,{value:t})}}function W4(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function q_(t){return!!t&&"integerValue"in t}function Rw(t){return!!t&&"arrayValue"in t}function X4(t){return!!t&&"nullValue"in t}function Y4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function F1(t){return!!t&&"mapValue"in t}function bU(t){return(t?.mapValue?.fields||{})[MD]?.stringValue===kD}function Eh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Sl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Eh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Eh(t.arrayValue.values[n]);return e}return{...t}}function wU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_U}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!F1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eh(n)}setAll(e){let n=Er.emptyPath(),r={},i=[];e.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Eh(o):i.push(l.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());F1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return so(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];F1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Sl(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new ai(Eh(this.value))}}function jD(t){const e=[];return Sl(t.fields,((n,r)=>{const i=new Er([n]);if(F1(r)){const a=jD(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Ti(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,r,i,a,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Nr(e,0,Fe.min(),Fe.min(),Fe.min(),ai.empty(),0)}static newFoundDocument(e,n,r,i){return new Nr(e,1,n,Fe.min(),r,i,0)}static newNoDocument(e,n){return new Nr(e,2,n,Fe.min(),Fe.min(),ai.empty(),0)}static newUnknownDocument(e,n){return new Nr(e,3,n,Fe.min(),Fe.min(),ai.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){this.position=e,this.inclusive=n}}function Q4(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=De.comparator(De.fromName(o.referenceValue),n.key):r=lf(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Z4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!so(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n="asc"){this.field=e,this.dir=n}}function EU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{}class kn extends LD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new SU(e,n,r):n==="array-contains"?new IU(e,r):n==="in"?new OU(e,r):n==="not-in"?new RU(e,r):n==="array-contains-any"?new PU(e,r):new kn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new CU(e,r):new TU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lf(n,this.value)):n!==null&&vl(this.value)===vl(n)&&this.matchesComparison(lf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ia extends LD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ia(e,n)}matches(e){return BD(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BD(t){return t.op==="and"}function FD(t){return AU(t)&&BD(t)}function AU(t){for(const e of t.filters)if(e instanceof Ia)return!1;return!0}function G_(t){if(t instanceof kn)return t.field.canonicalString()+t.op.toString()+uf(t.value);if(FD(t))return t.filters.map((e=>G_(e))).join(",");{const e=t.filters.map((n=>G_(n))).join(",");return`${t.op}(${e})`}}function VD(t,e){return t instanceof kn?(function(r,i){return i instanceof kn&&r.op===i.op&&r.field.isEqual(i.field)&&so(r.value,i.value)})(t,e):t instanceof Ia?(function(r,i){return i instanceof Ia&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,l)=>a&&VD(o,i.filters[l])),!0):!1})(t,e):void Be(19439)}function UD(t){return t instanceof kn?(function(n){return`${n.field.canonicalString()} ${n.op} ${uf(n.value)}`})(t):t instanceof Ia?(function(n){return n.op.toString()+" {"+n.getFilters().map(UD).join(" ,")+"}"})(t):"Filter"}class SU extends kn{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class CU extends kn{constructor(e,n){super(e,"in",n),this.keys=zD("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class TU extends kn{constructor(e,n){super(e,"not-in",n),this.keys=zD("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function zD(t,e){return(e.arrayValue?.values||[]).map((n=>De.fromName(n.referenceValue)))}class IU extends kn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rw(n)&&Mh(n.arrayValue,this.value)}}class OU extends kn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mh(this.value.arrayValue,n)}}class RU extends kn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mh(this.value.arrayValue,n)}}class PU extends kn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rw(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Mh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e,n=null,r=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function J4(t,e=null,n=[],r=[],i=null,a=null,o=null){return new DU(t,e,n,r,i,a,o)}function Pw(t){const e=ze(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>G_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Sv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>uf(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>uf(r))).join(",")),e.Te=n}return e.Te}function Dw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!EU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Z4(t.startAt,e.startAt)&&Z4(t.endAt,e.endAt)}function K_(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n=null,r=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NU(t,e,n,r,i,a,o,l){return new Rf(t,e,n,r,i,a,o,l)}function Tv(t){return new Rf(t)}function eI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HD(t){return t.collectionGroup!==null}function Ah(t){const e=ze(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Xn(Er.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new kh(a,r))})),n.has(Er.keyField().canonicalString())||e.Ie.push(new kh(Er.keyField(),r))}return e.Ie}function to(t){const e=ze(t);return e.Ee||(e.Ee=MU(e,Ah(t))),e.Ee}function MU(t,e){if(t.limitType==="F")return J4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new kh(i.field,a)}));const n=t.endAt?new lg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lg(t.startAt.position,t.startAt.inclusive):null;return J4(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function W_(t,e){const n=t.filters.concat([e]);return new Rf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function X_(t,e,n){return new Rf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Iv(t,e){return Dw(to(t),to(e))&&t.limitType===e.limitType}function $D(t){return`${Pw(to(t))}|lt:${t.limitType}`}function $c(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>UD(i))).join(", ")}]`),Sv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>uf(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>uf(i))).join(",")),`Target(${r})`})(to(t))}; limitType=${t.limitType})`}function Ov(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):De.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Ah(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,l,c){const f=Q4(o,l,c);return o.inclusive?f<=0:f<0})(r.startAt,Ah(r),i)||r.endAt&&!(function(o,l,c){const f=Q4(o,l,c);return o.inclusive?f>=0:f>0})(r.endAt,Ah(r),i))})(t,e)}function kU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qD(t){return(e,n)=>{let r=!1;for(const i of Ah(t)){const a=jU(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function jU(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):(function(a,o,l){const c=o.data.field(a),f=l.data.field(a);return c!==null&&f!==null?lf(c,f):Be(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sl(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return ID(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=new sn(De.comparator);function Qo(){return LU}const GD=new sn(De.comparator);function hh(...t){let e=GD;for(const n of t)e=e.insert(n.key,n);return e}function KD(t){let e=GD;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function yu(){return Sh()}function WD(){return Sh()}function Sh(){return new Ku((t=>t.toString()),((t,e)=>t.isEqual(e)))}const BU=new sn(De.comparator),FU=new Xn(De.comparator);function ot(...t){let e=FU;for(const n of t)e=e.add(n);return e}const VU=new Xn(at);function UU(){return VU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ag(e)?"-0":e}}function XD(t){return{integerValue:""+t}}function zU(t,e){return gU(e)?XD(e):Nw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this._=void 0}}function HU(t,e,n){return t instanceof ug?(function(i,a){const o={fields:{[PD]:{stringValue:RD},[ND]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Ow(a)&&(a=Cv(a)),a&&(o.fields[DD]=a),{mapValue:o}})(n,e):t instanceof jh?QD(t,e):t instanceof Lh?ZD(t,e):(function(i,a){const o=YD(i,a),l=tI(o)+tI(i.Ae);return q_(o)&&q_(i.Ae)?XD(l):Nw(i.serializer,l)})(t,e)}function $U(t,e,n){return t instanceof jh?QD(t,e):t instanceof Lh?ZD(t,e):n}function YD(t,e){return t instanceof cg?(function(r){return q_(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class ug extends Rv{}class jh extends Rv{constructor(e){super(),this.elements=e}}function QD(t,e){const n=JD(e);for(const r of t.elements)n.some((i=>so(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Lh extends Rv{constructor(e){super(),this.elements=e}}function ZD(t,e){let n=JD(e);for(const r of t.elements)n=n.filter((i=>!so(i,r)));return{arrayValue:{values:n}}}class cg extends Rv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function tI(t){return wn(t.integerValue||t.doubleValue)}function JD(t){return Rw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function qU(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof jh&&i instanceof jh||r instanceof Lh&&i instanceof Lh?sf(r.elements,i.elements,so):r instanceof cg&&i instanceof cg?so(r.Ae,i.Ae):r instanceof ug&&i instanceof ug})(t.transform,e.transform)}class GU{constructor(e,n){this.version=e,this.transformResults=n}}class na{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new na}static exists(e){return new na(void 0,e)}static updateTime(e){return new na(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function V1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pv{}function eN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mw(t.key,na.none()):new t0(t.key,t.data,na.none());{const n=t.data,r=ai.empty();let i=new Xn(Er.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new Cl(t.key,r,new Ti(i.toArray()),na.none())}}function KU(t,e,n){t instanceof t0?(function(i,a,o){const l=i.value.clone(),c=rI(i.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Cl?(function(i,a,o){if(!V1(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=rI(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(tN(i)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Ch(t,e,n,r){return t instanceof t0?(function(a,o,l,c){if(!V1(a.precondition,o))return l;const f=a.value.clone(),h=iI(a.fieldTransforms,c,o);return f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Cl?(function(a,o,l,c){if(!V1(a.precondition,o))return l;const f=iI(a.fieldTransforms,c,o),h=o.data;return h.setAll(tN(a)),h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,o,l){return V1(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,n)}function WU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=YD(r.transform,i||null);a!=null&&(n===null&&(n=ai.empty()),n.set(r.field,a))}return n||null}function nI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&sf(r,i,((a,o)=>qU(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class t0 extends Pv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Cl extends Pv{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function tN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function rI(t,e,n){const r=new Map;Ct(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);r.set(a.field,$U(o,l,n[i]))}return r}function iI(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,HU(a,o,e))}return r}class Mw extends Pv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XU extends Pv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&KU(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ch(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ch(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WD();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=n.has(i.key)?null:l;const c=eN(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Fe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ot())}isEqual(e){return this.batchId===e.batchId&&sf(this.mutations,e.mutations,((n,r)=>nI(n,r)))&&sf(this.baseMutations,e.baseMutations,((n,r)=>nI(n,r)))}}class kw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ct(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return BU})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new kw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn,lt;function JU(t){switch(t){case ue.OK:return Be(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function nN(t){if(t===void 0)return Yo("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Mn.OK:return ue.OK;case Mn.CANCELLED:return ue.CANCELLED;case Mn.UNKNOWN:return ue.UNKNOWN;case Mn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Mn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Mn.INTERNAL:return ue.INTERNAL;case Mn.UNAVAILABLE:return ue.UNAVAILABLE;case Mn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Mn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Mn.NOT_FOUND:return ue.NOT_FOUND;case Mn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Mn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Mn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Mn.ABORTED:return ue.ABORTED;case Mn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Mn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Mn.DATA_LOSS:return ue.DATA_LOSS;default:return Be(39323,{code:t})}}(lt=Mn||(Mn={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=new ol([4294967295,4294967295],0);function aI(t){const e=ez().encode(t),n=new mD;return n.update(e),new Uint8Array(n.digest())}function oI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ol([n,r],0),new ol([i,a],0)]}class jw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ph(`Invalid padding: ${n}`);if(r<0)throw new ph(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ph(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ph(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ol.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ol.fromNumber(r)));return i.compare(tz)===1&&(i=new ol([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=aI(e),[r,i]=oI(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new jw(a,i,n);return r.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const n=aI(e),[r,i]=oI(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ph extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,n0.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Dv(Fe.min(),i,new sn(at),Qo(),ot())}}class n0{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new n0(r,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class rN{constructor(e,n){this.targetId=e,this.Ce=n}}class iN{constructor(e,n,r=Sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class sI{constructor(){this.ve=0,this.Fe=lI(),this.Me=Sr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ot(),n=ot(),r=ot();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Be(38017,{changeType:a})}})),new n0(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=lI()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class nz{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qo(),this.Je=u1(),this.He=u1(),this.Ye=new sn(at)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(K_(a))if(r===0){const o=new De(a.path);this.et(n,o,Nr.newNoDocument(o,Fe.min()))}else Ct(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,l;try{o=gl(r).toUint8Array()}catch(c){if(c instanceof OD)return of("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new jw(o,i,a)}catch(c){return of(c instanceof ph?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,o)=>{const l=this.ot(o);if(l){if(a.current&&K_(l.target)){const c=new De(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Nr.newNoDocument(c,e))}a.Be&&(n.set(o,a.ke()),a.qe())}}));let r=ot();this.He.forEach(((a,o)=>{let l=!0;o.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new Dv(e,n,this.Ye,this.je,r);return this.je=Qo(),this.Je=u1(),this.He=u1(),this.Ye=new sn(at),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new sI,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Xn(at),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Xn(at),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sI),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function u1(){return new sn(De.comparator)}function lI(){return new sn(De.comparator)}const rz={asc:"ASCENDING",desc:"DESCENDING"},iz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},az={and:"AND",or:"OR"};class oz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Y_(t,e){return t.useProto3Json||Sv(e)?e:{value:e}}function fg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sz(t,e){return fg(t,e.toTimestamp())}function no(t){return Ct(!!t,49232),Fe.fromTimestamp((function(n){const r=pl(n);return new Qt(r.seconds,r.nanos)})(t))}function Lw(t,e){return Q_(t,e).canonicalString()}function Q_(t,e){const n=(function(i){return new Ht(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function oN(t){const e=Ht.fromString(t);return Ct(fN(e),10190,{key:e.toString()}),e}function Z_(t,e){return Lw(t.databaseId,e.path)}function H2(t,e){const n=oN(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(lN(n))}function sN(t,e){return Lw(t.databaseId,e)}function lz(t){const e=oN(t);return e.length===4?Ht.emptyPath():lN(e)}function J_(t){return new Ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lN(t){return Ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function uI(t,e,n){return{name:Z_(t,e),fields:n.value.mapValue.fields}}function uz(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Be(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,h){return f.useProto3Json?(Ct(h===void 0||typeof h=="string",58123),Sr.fromBase64String(h||"")):(Ct(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Sr.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(f){const h=f.code===void 0?ue.UNKNOWN:nN(f.code);return new xe(h,f.message||"")})(o);n=new iN(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=H2(t,r.document.name),a=no(r.document.updateTime),o=r.document.createTime?no(r.document.createTime):Fe.min(),l=new ai({mapValue:{fields:r.document.fields}}),c=Nr.newFoundDocument(i,a,o,l),f=r.targetIds||[],h=r.removedTargetIds||[];n=new U1(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=H2(t,r.document),a=r.readTime?no(r.readTime):Fe.min(),o=Nr.newNoDocument(i,a),l=r.removedTargetIds||[];n=new U1([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=H2(t,r.document),a=r.removedTargetIds||[];n=new U1([],a,i,null)}else{if(!("filter"in e))return Be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new ZU(i,a),l=r.targetId;n=new rN(l,o)}}return n}function cz(t,e){let n;if(e instanceof t0)n={update:uI(t,e.key,e.value)};else if(e instanceof Mw)n={delete:Z_(t,e.key)};else if(e instanceof Cl)n={update:uI(t,e.key,e.data),updateMask:xz(e.fieldMask)};else{if(!(e instanceof XU))return Be(16599,{Vt:e.type});n={verify:Z_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,o){const l=o.transform;if(l instanceof ug)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof jh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Lh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof cg)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw Be(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:sz(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Be(27497)})(t,e.precondition)),n}function fz(t,e){return t&&t.length>0?(Ct(e!==void 0,14353),t.map((n=>(function(i,a){let o=i.updateTime?no(i.updateTime):no(a);return o.isEqual(Fe.min())&&(o=no(a)),new GU(o,i.transformResults||[])})(n,e)))):[]}function dz(t,e){return{documents:[sN(t,e.path)]}}function hz(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sN(t,i);const a=(function(f){if(f.length!==0)return cN(Ia.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const o=(function(f){if(f.length!==0)return f.map((h=>(function(v){return{field:qc(v.field),direction:vz(v.dir)}})(h)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Y_(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function pz(t){let e=lz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ct(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=(function(p){const v=uN(p);return v instanceof Ia&&FD(v)?v.getFilters():[v]})(n.where));let o=[];n.orderBy&&(o=(function(p){return p.map((v=>(function(_){return new kh(Gc(_.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(v)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let v;return v=typeof p=="object"?p.value:p,Sv(v)?null:v})(n.limit));let c=null;n.startAt&&(c=(function(p){const v=!!p.before,m=p.values||[];return new lg(m,v)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const v=!p.before,m=p.values||[];return new lg(m,v)})(n.endAt)),NU(e,i,o,a,l,"F",c,f)}function gz(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uN(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Gc(n.unaryFilter.field);return kn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Gc(n.unaryFilter.field);return kn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Gc(n.unaryFilter.field);return kn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Gc(n.unaryFilter.field);return kn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return kn.create(Gc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ia.create(n.compositeFilter.filters.map((r=>uN(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Be(1026)}})(n.compositeFilter.op))})(t):Be(30097,{filter:t})}function vz(t){return rz[t]}function mz(t){return iz[t]}function yz(t){return az[t]}function qc(t){return{fieldPath:t.canonicalString()}}function Gc(t){return Er.fromServerFormat(t.fieldPath)}function cN(t){return t instanceof kn?(function(n){if(n.op==="=="){if(Y4(n.value))return{unaryFilter:{field:qc(n.field),op:"IS_NAN"}};if(X4(n.value))return{unaryFilter:{field:qc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Y4(n.value))return{unaryFilter:{field:qc(n.field),op:"IS_NOT_NAN"}};if(X4(n.value))return{unaryFilter:{field:qc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qc(n.field),op:mz(n.op),value:n.value}}})(t):t instanceof Ia?(function(n){const r=n.getFilters().map((i=>cN(i)));return r.length===1?r[0]:{compositeFilter:{op:yz(n.op),filters:r}}})(t):Be(54877,{filter:t})}function xz(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function fN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n,r,i,a=Fe.min(),o=Fe.min(),l=Sr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new nl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new nl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e){this.yt=e}}function bz(t){const e=pz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?X_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(){this.Cn=new Ez}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(hl.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(hl.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class Ez{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xn(Ht.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xn(Ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dN=41943040;class ri{static withCacheSize(e){return new ri(e,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri.DEFAULT_COLLECTION_PERCENTILE=10,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ri.DEFAULT=new ri(dN,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ri.DISABLED=new ri(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new cf(0)}static cr(){return new cf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="LruGarbageCollector",Az=1048576;function dI([t,e],[n,r]){const i=at(t,n);return i===0?at(e,r):i}class Sz{constructor(e){this.Ir=e,this.buffer=new Xn(dI),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Cz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){we(fI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Of(n)?we(fI,"Ignoring IndexedDB error during garbage collection: ",n):await If(n)}await this.Vr(3e5)}))}}class Tz{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(Av.ce);const r=new Sz(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(cI)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cI):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,l,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,l=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),Hc()<=it.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function Iz(t,e){return new Tz(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(){this.changes=new Ku((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Ch(r.mutation,i,Ti.empty(),Qt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ot()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ot()){const i=yu();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let o=hh();return a.forEach(((l,c)=>{o=o.insert(l,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=yu();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ot())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(e,n,r,i){let a=Qo();const o=Sh(),l=(function(){return Sh()})();return n.forEach(((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof Cl)?a=a.insert(f.key,f):h!==void 0?(o.set(f.key,h.mutation.getFieldMask()),Ch(h.mutation,f,h.mutation.getFieldMask(),Qt.now())):o.set(f.key,Ti.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((f,h)=>o.set(f,h))),n.forEach(((f,h)=>l.set(f,new Rz(h,o.get(f)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=Sh();let i=new sn(((o,l)=>o-l)),a=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const l of o)l.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||Ti.empty();h=l.applyToLocalView(f,h),r.set(c,h);const p=(i.get(l.batchId)||ot()).add(c);i=i.insert(l.batchId,p)}))})).next((()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,h=c.value,p=WD();h.forEach((v=>{if(!a.has(v)){const m=eN(n.get(v),r.get(v));m!==null&&p.set(v,m),a=a.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,f,p))}return fe.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return De.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):fe.resolve(yu());let l=Ph,c=a;return o.next((f=>fe.forEach(f,((h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),a.get(h)?fe.resolve():this.remoteDocumentCache.getEntry(e,h).next((v=>{c=c.insert(h,v)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,c,f,ot()))).next((h=>({batchId:l,changes:KD(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next((r=>{let i=hh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=hh();return this.indexManager.getCollectionParents(e,a).next((l=>fe.forEach(l,(c=>{const f=(function(p,v){return new Rf(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((h=>{h.forEach(((p,v)=>{o=o.insert(p,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((o=>{a.forEach(((c,f)=>{const h=f.getKey();o.get(h)===null&&(o=o.insert(h,Nr.newInvalidDocument(h)))}));let l=hh();return o.forEach(((c,f)=>{const h=a.get(c);h!==void 0&&Ch(h.mutation,f,Ti.empty(),Qt.now()),Ov(n,f)&&(l=l.insert(c,f))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:no(i.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:bz(i.bundledQuery),readTime:no(i.readTime)}})(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(){this.overlays=new sn(De.comparator),this.qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yu();return fe.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const i=yu(),a=n.length+1,o=new De(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new sn(((f,h)=>f-h));const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=a.get(f.largestBatchId);h===null&&(h=yu(),a=a.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=yu(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>l.set(f,h))),!(l.size()>=i)););return fe.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new QU(n,r));let a=this.qr.get(n);a===void 0&&(a=ot(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(){this.sessionToken=Sr.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.Qr=new Xn(ir.$r),this.Ur=new Xn(ir.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ir(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new ir(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new De(new Ht([])),r=new ir(n,e),i=new ir(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new De(new Ht([])),r=new ir(n,e),i=new ir(n,e+1);let a=ot();return this.Ur.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const n=new ir(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ir{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return De.comparator(e.key,n.key)||at(e.Yr,n.Yr)}static Kr(e,n){return at(e.Yr,n.Yr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xn(ir.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new YU(a,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new ir(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return fe.resolve(o)}lookupMutationBatch(e,n){return fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return fe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Iw:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ir(n,0),i=new ir(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(o=>{const l=this.Xr(o.Yr);a.push(l)})),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xn(at);return n.forEach((i=>{const a=new ir(i,0),o=new ir(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(l=>{r=r.add(l.Yr)}))})),fe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;De.isDocumentKey(a)||(a=a.child(""));const o=new ir(new De(a),0);let l=new Xn(at);return this.Zr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.Yr)),!0)}),o),fe.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return fe.forEach(n.mutations,(i=>{const a=new ir(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new ir(n,0),i=this.Zr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(e){this.ri=e,this.docs=(function(){return new sn(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():Nr.newInvalidDocument(n))}getEntries(e,n){let r=Qo();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Nr.newInvalidDocument(i))})),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Qo();const o=n.path,l=new De(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||fU(cU(h),r)<=0||(i.has(h.key)||Ov(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return fe.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Be(9500)}ii(e,n){return fe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Lz(this)}getSize(e){return fe.resolve(this.size)}}class Lz extends Oz{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e){this.persistence=e,this.si=new Ku((n=>Pw(n)),Dw),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new Bw,this.targetCount=0,this.ai=cf.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new cf(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Pr(n),fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),fe.waitFor(a).next((()=>i))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),fe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.ui={},this.overlays={},this.ci=new Av(0),this.li=!1,this.li=!0,this.hi=new Mz,this.referenceDelegate=e(this),this.Pi=new Bz(this),this.indexManager=new wz,this.remoteDocumentCache=(function(i){return new jz(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new _z(n),this.Ii=new Dz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Nz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new kz(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new Fz(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return fe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Fz extends hU{constructor(e){super(),this.currentSequenceNumber=e}}class Fw{constructor(e){this.persistence=e,this.Ri=new Bw,this.Vi=null}static mi(e){return new Fw(e)}get fi(){if(this.Vi)return this.Vi;throw Be(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(r=>{const i=De.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Fe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class dg{constructor(e,n){this.persistence=e,this.pi=new Ku((r=>vU(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Iz(this,n)}static mi(e,n){return new dg(e,n)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return fe.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?fe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((l=>{l||(r++,a.removeEntry(o,Fe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=B1(e.data.value)),n}br(e,n,r){return fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ot(),i=ot();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Vw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MF()?8:pU(Lr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new Vz;return this.Ss(e,n,o).next((l=>{if(a.result=l,this.Vs)return this.bs(e,n,o,l.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Hc()<=it.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",$c(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(Hc()<=it.DEBUG&&we("QueryEngine","Query:",$c(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Hc()<=it.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",$c(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,to(n))):fe.resolve())}ys(e,n){if(eI(n))return fe.resolve(null);let r=to(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=X_(n,null,"F"),r=to(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=ot(...a);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.Ds(n,l);return this.Cs(n,f,o,c.readTime)?this.ys(e,X_(n,null,"F")):this.vs(e,f,n,c)}))))})))))}ws(e,n,r,i){return eI(n)||i.isEqual(Fe.min())?fe.resolve(null):this.ps.getDocuments(e,r).next((a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?fe.resolve(null):(Hc()<=it.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$c(n)),this.vs(e,o,n,uU(i,Ph)).next((l=>l)))}))}Ds(e,n){let r=new Xn(qD(e));return n.forEach(((i,a)=>{Ov(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Hc()<=it.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",$c(n)),this.ps.getDocumentsMatchingQuery(e,n,hl.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="LocalStore",zz=3e8;class Hz{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new sn(at),this.xs=new Ku((a=>Pw(a)),Dw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pz(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function $z(t,e,n,r){return new Hz(t,e,n,r)}async function pN(t,e){const n=ze(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],l=[];let c=ot();for(const f of i){o.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of a){l.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ls:f,removedBatchIds:o,addedBatchIds:l})))}))}))}function qz(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,f,h){const p=f.batch,v=p.keys();let m=fe.resolve();return v.forEach((_=>{m=m.next((()=>h.getEntry(c,_))).next((w=>{const A=f.docVersions.get(_);Ct(A!==null,48541),w.version.compareTo(A)<0&&(p.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),h.addEntry(w)))}))})),m.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=ot();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function gN(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Gz(t,e){const n=ze(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((h,p)=>{const v=i.get(p);if(!v)return;l.push(n.Pi.removeMatchingKeys(a,h.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(a,h.addedDocuments,p))));let m=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(Sr.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),(function(w,A,S){return w.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=zz?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(v,m,h)&&l.push(n.Pi.updateTargetData(a,m))}));let c=Qo(),f=ot();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))})),l.push(Kz(a,o,e.documentUpdates).next((h=>{c=h.ks,f=h.qs}))),!r.isEqual(Fe.min())){const h=n.Pi.getLastRemoteSnapshotVersion(a).next((p=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));l.push(h)}return fe.waitFor(l).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,c,f))).next((()=>c))})).then((a=>(n.Ms=i,a)))}function Kz(t,e,n){let r=ot(),i=ot();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let o=Qo();return n.forEach(((l,c)=>{const f=a.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Fe.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):we(Uw,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)})),{ks:o,qs:i}}))}function Wz(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Iw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Xz(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,fe.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new nl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function eb(t,e,n){const r=ze(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Of(o))throw o;we(Uw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function hI(t,e,n){const r=ze(t);let i=Fe.min(),a=ot();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,f,h){const p=ze(c),v=p.xs.get(h);return v!==void 0?fe.resolve(p.Ms.get(v)):p.Pi.getTargetData(f,h)})(r,o,to(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next((c=>{a=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Fe.min(),n?a:ot()))).next((l=>(Yz(r,kU(e),l),{documents:l,Qs:a})))))}function Yz(t,e,n){let r=t.Os.get(e)||Fe.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class pI{constructor(){this.activeTargetIds=UU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qz{constructor(){this.Mo=new pI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new pI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="ConnectivityMonitor";class vI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){we(gI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){we(gI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c1=null;function tb(){return c1===null?c1=(function(){return 268435456+Math.round(2147483648*Math.random())})():c1++,"0x"+c1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="RestConnection",Jz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eH{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===og?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=tb(),l=this.zo(e,n.toUriEncodedString());we($2,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:f}=new URL(l),h=Al(f);return this.Jo(e,l,c,r,h).then((p=>(we($2,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw of($2,`RPC '${e}' ${o} failed with error: `,p,"url: ",l,"request:",r),p}))}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=Jz[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="WebChannelConnection";class nH extends eH{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=tb();return new Promise(((l,c)=>{const f=new yD;f.setWithCredentials(!0),f.listenOnce(xD.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case L1.NO_ERROR:const p=f.getResponseJson();we(Or,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case L1.TIMEOUT:we(Or,`RPC '${e}' ${o} timed out`),c(new xe(ue.DEADLINE_EXCEEDED,"Request time out"));break;case L1.HTTP_ERROR:const v=f.getStatus();if(we(Or,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let m=f.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m?.error;if(_&&_.status&&_.message){const w=(function(S){const I=S.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(I)>=0?I:ue.UNKNOWN})(_.status);c(new xe(w,_.message))}else c(new xe(ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new xe(ue.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:o,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{we(Or,`RPC '${e}' ${o} completed.`)}}));const h=JSON.stringify(i);we(Or,`RPC '${e}' ${o} sending request:`,i),f.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=tb(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=wD(),l=bD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=a.join("");we(Or,`Creating RPC '${e}' stream ${i}: ${h}`,c);const p=o.createWebChannel(h,c);this.I_(p);let v=!1,m=!1;const _=new tH({Yo:A=>{m?we(Or,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(v||(we(Or,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),we(Or,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Zo:()=>p.close()}),w=(A,S,I)=>{A.listen(S,(O=>{try{I(O)}catch(N){setTimeout((()=>{throw N}),0)}}))};return w(p,dh.EventType.OPEN,(()=>{m||(we(Or,`RPC '${e}' stream ${i} transport opened.`),_.o_())})),w(p,dh.EventType.CLOSE,(()=>{m||(m=!0,we(Or,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(p))})),w(p,dh.EventType.ERROR,(A=>{m||(m=!0,of(Or,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),_.a_(new xe(ue.UNAVAILABLE,"The operation could not be completed")))})),w(p,dh.EventType.MESSAGE,(A=>{if(!m){const S=A.data[0];Ct(!!S,16349);const I=S,O=I?.error||I[0]?.error;if(O){we(Or,`RPC '${e}' stream ${i} received error:`,O);const N=O.status;let k=(function(M){const j=Mn[M];if(j!==void 0)return nN(j)})(N),B=O.message;k===void 0&&(k=ue.INTERNAL,B="Unknown error status: "+N+" with message "+O.message),m=!0,_.a_(new xe(k,B)),p.close()}else we(Or,`RPC '${e}' stream ${i} received:`,S),_.u_(S)}})),w(l,_D.STAT_EVENT,(A=>{A.stat===z_.PROXY?we(Or,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===z_.NOPROXY&&we(Or,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function q2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t){return new oz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="PersistentStream";class mN{constructor(e,n,r,i,a,o,l,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Yo(n.toString()),Yo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new xe(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(mI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(we(mI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rH extends mN{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=uz(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Fe.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Fe.min():o.readTime?no(o.readTime):Fe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=J_(this.serializer),n.addTarget=(function(a,o){let l;const c=o.target;if(l=K_(c)?{documents:dz(a,c)}:{query:hz(a,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=aN(a,o.resumeToken);const f=Y_(a,o.expectedCount);f!==null&&(l.expectedCount=f)}else if(o.snapshotVersion.compareTo(Fe.min())>0){l.readTime=fg(a,o.snapshotVersion.toTimestamp());const f=Y_(a,o.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,e);const r=gz(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=J_(this.serializer),n.removeTarget=e,this.q_(n)}}class iH extends mN{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=fz(e.writeResults,e.commitTime),r=no(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=J_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>cz(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{}class oH extends aH{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new xe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,Q_(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(ue.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,Q_(n,r),i,o,l,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(ue.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yo(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku="RemoteStore";class lH{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Wu(this)&&(we(ku,"Restarting streams for network reachability change."),await(async function(c){const f=ze(c);f.Ea.add(4),await r0(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Mv(f)})(this))}))})),this.Ra=new sH(r,i)}}async function Mv(t){if(Wu(t))for(const e of t.da)await e(!0)}async function r0(t){for(const e of t.da)await e(!1)}function yN(t,e){const n=ze(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qw(n)?$w(n):Pf(n).O_()&&Hw(n,e))}function zw(t,e){const n=ze(t),r=Pf(n);n.Ia.delete(e),r.O_()&&xN(n,e),n.Ia.size===0&&(r.O_()?r.L_():Wu(n)&&n.Ra.set("Unknown"))}function Hw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pf(t).Y_(e)}function xN(t,e){t.Va.Ue(e),Pf(t).Z_(e)}function $w(t){t.Va=new nz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Pf(t).start(),t.Ra.ua()}function qw(t){return Wu(t)&&!Pf(t).x_()&&t.Ia.size>0}function Wu(t){return ze(t).Ea.size===0}function _N(t){t.Va=void 0}async function uH(t){t.Ra.set("Online")}async function cH(t){t.Ia.forEach(((e,n)=>{Hw(t,e)}))}async function fH(t,e){_N(t),qw(t)?(t.Ra.ha(e),$w(t)):t.Ra.set("Unknown")}async function dH(t,e,n){if(t.Ra.set("Online"),e instanceof iN&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){we(ku,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hg(t,r)}else if(e instanceof U1?t.Va.Ze(e):e instanceof rN?t.Va.st(e):t.Va.tt(e),!n.isEqual(Fe.min()))try{const r=await gN(t.localStore);n.compareTo(r)>=0&&await(function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.Ia.get(f);h&&a.Ia.set(f,h.withResumeToken(c.resumeToken,o))}})),l.targetMismatches.forEach(((c,f)=>{const h=a.Ia.get(c);if(!h)return;a.Ia.set(c,h.withResumeToken(Sr.EMPTY_BYTE_STRING,h.snapshotVersion)),xN(a,c);const p=new nl(h.target,c,f,h.sequenceNumber);Hw(a,p)})),a.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){we(ku,"Failed to raise snapshot:",r),await hg(t,r)}}async function hg(t,e,n){if(!Of(e))throw e;t.Ea.add(1),await r0(t),t.Ra.set("Offline"),n||(n=()=>gN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(ku,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Mv(t)}))}function bN(t,e){return e().catch((n=>hg(t,n,e)))}async function kv(t){const e=ze(t),n=ml(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Iw;for(;hH(e);)try{const i=await Wz(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,pH(e,i)}catch(i){await hg(e,i)}wN(e)&&EN(e)}function hH(t){return Wu(t)&&t.Ta.length<10}function pH(t,e){t.Ta.push(e);const n=ml(t);n.O_()&&n.X_&&n.ea(e.mutations)}function wN(t){return Wu(t)&&!ml(t).x_()&&t.Ta.length>0}function EN(t){ml(t).start()}async function gH(t){ml(t).ra()}async function vH(t){const e=ml(t);for(const n of t.Ta)e.ea(n.mutations)}async function mH(t,e,n){const r=t.Ta.shift(),i=kw.from(r,e,n);await bN(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await kv(t)}async function yH(t,e){e&&ml(t).X_&&await(async function(r,i){if((function(o){return JU(o)&&o!==ue.ABORTED})(i.code)){const a=r.Ta.shift();ml(r).B_(),await bN(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await kv(r)}})(t,e),wN(t)&&EN(t)}async function yI(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),we(ku,"RemoteStore received new credentials");const r=Wu(n);n.Ea.add(3),await r0(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Mv(n)}async function xH(t,e){const n=ze(t);e?(n.Ea.delete(2),await Mv(n)):e||(n.Ea.add(2),await r0(n),n.Ra.set("Unknown"))}function Pf(t){return t.ma||(t.ma=(function(n,r,i){const a=ze(n);return a.sa(),new rH(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:uH.bind(null,t),t_:cH.bind(null,t),r_:fH.bind(null,t),H_:dH.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),qw(t)?$w(t):t.Ra.set("Unknown")):(await t.ma.stop(),_N(t))}))),t.ma}function ml(t){return t.fa||(t.fa=(function(n,r,i){const a=ze(n);return a.sa(),new iH(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:gH.bind(null,t),r_:yH.bind(null,t),ta:vH.bind(null,t),na:mH.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await kv(t)):(await t.fa.stop(),t.Ta.length>0&&(we(ku,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new qo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,l=new Gw(e,n,o,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kw(t,e){if(Yo("AsyncQueue",`${e}: ${t}`),Of(t))return new xe(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{static emptySet(e){return new Qc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=hh(),this.sortedSet=new sn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.ga=new sn(De.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ff{constructor(e,n,r,i,a,o,l,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new ff(e,n,Qc.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Iv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class bH{constructor(){this.queries=_I(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ze(n),a=i.queries;i.queries=_I(),a.forEach(((o,l)=>{for(const c of l.Sa)c.onError(r)}))})(this,new xe(ue.ABORTED,"Firestore shutting down"))}}function _I(){return new Ku((t=>$D(t)),Iv)}async function Ww(t,e){const n=ze(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new _H,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Kw(o,`Initialization of query '${$c(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Yw(n)}async function Xw(t,e){const n=ze(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function wH(t,e){const n=ze(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&Yw(n)}function EH(t,e,n){const r=ze(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function Yw(t){t.Ca.forEach((e=>{e.next()}))}var nb,bI;(bI=nb||(nb={})).Ma="default",bI.Cache="cache";class Qw{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ff(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ff.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==nb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.key=e}}class SN{constructor(e){this.key=e}}class AH{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ot(),this.mutatedKeys=ot(),this.eu=qD(e),this.tu=new Qc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new xI,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const v=i.get(h),m=Ov(this.query,p)?p:null,_=!!v&&this.mutatedKeys.has(v.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let A=!1;v&&m?v.data.isEqual(m.data)?_!==w&&(r.track({type:3,doc:m}),A=!0):this.su(v,m)||(r.track({type:2,doc:m}),A=!0,(c&&this.eu(m,c)>0||f&&this.eu(m,f)<0)&&(l=!0)):!v&&m?(r.track({type:0,doc:m}),A=!0):v&&!m&&(r.track({type:1,doc:v}),A=!0,(c||f)&&(l=!0)),A&&(m?(o=o.add(m),a=w?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:l,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((h,p)=>(function(m,_){const w=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Rt:A})}};return w(m)-w(_)})(h.type,p.type)||this.eu(h.doc,p.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,f=c!==this.Za;return this.Za=c,o.length!==0||f?{snapshot:new ff(this.query,e.tu,a,o,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ot(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new SN(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new AN(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ot();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ff.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zw="SyncEngine";class SH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class CH{constructor(e){this.key=e,this.hu=!1}}class TH{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ku((l=>$D(l)),Iv),this.Iu=new Map,this.Eu=new Set,this.du=new sn(De.comparator),this.Au=new Map,this.Ru=new Bw,this.Vu={},this.mu=new Map,this.fu=cf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function IH(t,e,n=!0){const r=PN(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await CN(r,e,n,!0),i}async function OH(t,e){const n=PN(t);await CN(n,e,!0,!1)}async function CN(t,e,n,r){const i=await Xz(t.localStore,to(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await RH(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&yN(t.remoteStore,i),l}async function RH(t,e,n,r,i){t.pu=(p,v,m)=>(async function(w,A,S,I){let O=A.view.ru(S);O.Cs&&(O=await hI(w.localStore,A.query,!1).then((({documents:D})=>A.view.ru(D,O))));const N=I&&I.targetChanges.get(A.targetId),k=I&&I.targetMismatches.get(A.targetId)!=null,B=A.view.applyChanges(O,w.isPrimaryClient,N,k);return EI(w,A.targetId,B.au),B.snapshot})(t,p,v,m);const a=await hI(t.localStore,e,!0),o=new AH(e,a.Qs),l=o.ru(a.documents),c=n0.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=o.applyChanges(l,t.isPrimaryClient,c);EI(t,n,f.au);const h=new SH(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function PH(t,e,n){const r=ze(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!Iv(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await eb(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&zw(r.remoteStore,i.targetId),rb(r,i.targetId)})).catch(If)):(rb(r,i.targetId),await eb(r.localStore,i.targetId,!0))}async function DH(t,e){const n=ze(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zw(n.remoteStore,r.targetId))}async function NH(t,e,n){const r=VH(t);try{const i=await(function(o,l){const c=ze(o),f=Qt.now(),h=l.reduce(((m,_)=>m.add(_.key)),ot());let p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",(m=>{let _=Qo(),w=ot();return c.Ns.getEntries(m,h).next((A=>{_=A,_.forEach(((S,I)=>{I.isValidDocument()||(w=w.add(S))}))})).next((()=>c.localDocuments.getOverlayedDocuments(m,_))).next((A=>{p=A;const S=[];for(const I of l){const O=WU(I,p.get(I.key).overlayedDocument);O!=null&&S.push(new Cl(I.key,O,jD(O.value.mapValue),na.exists(!0)))}return c.mutationQueue.addMutationBatch(m,f,S,l)})).next((A=>{v=A;const S=A.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(m,A.batchId,S)}))})).then((()=>({batchId:v.batchId,changes:KD(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,l,c){let f=o.Vu[o.currentUser.toKey()];f||(f=new sn(at)),f=f.insert(l,c),o.Vu[o.currentUser.toKey()]=f})(r,i.batchId,n),await i0(r,i.changes),await kv(r.remoteStore)}catch(i){const a=Kw(i,"Failed to persist write");n.reject(a)}}async function TN(t,e){const n=ze(t);try{const r=await Gz(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=n.Au.get(a);o&&(Ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ct(o.hu,14607):i.removedDocuments.size>0&&(Ct(o.hu,42227),o.hu=!1))})),await i0(n,r,e)}catch(r){await If(r)}}function wI(t,e,n){const r=ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(o,l){const c=ze(o);c.onlineState=l;let f=!1;c.queries.forEach(((h,p)=>{for(const v of p.Sa)v.va(l)&&(f=!0)})),f&&Yw(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function MH(t,e,n){const r=ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new sn(De.comparator);o=o.insert(a,Nr.newNoDocument(a,Fe.min()));const l=ot().add(a),c=new Dv(Fe.min(),new Map,new sn(at),o,l);await TN(r,c),r.du=r.du.remove(a),r.Au.delete(e),Jw(r)}else await eb(r.localStore,e,!1).then((()=>rb(r,e,n))).catch(If)}async function kH(t,e){const n=ze(t),r=e.batch.batchId;try{const i=await qz(n.localStore,e);ON(n,r,null),IN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await i0(n,i)}catch(i){await If(i)}}async function jH(t,e,n){const r=ze(t);try{const i=await(function(o,l){const c=ze(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,l).next((p=>(Ct(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(r.localStore,e);ON(r,e,n),IN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await i0(r,i)}catch(i){await If(i)}}function IN(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function ON(t,e,n){const r=ze(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function rb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||RN(t,r)}))}function RN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(zw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Jw(t))}function EI(t,e,n){for(const r of n)r instanceof AN?(t.Ru.addReference(r.key,e),LH(t,r)):r instanceof SN?(we(Zw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||RN(t,r.key)):Be(19791,{wu:r})}function LH(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(we(Zw,"New document in limbo: "+n),t.Eu.add(r),Jw(t))}function Jw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new De(Ht.fromString(e)),r=t.fu.next();t.Au.set(r,new CH(n)),t.du=t.du.insert(n,r),yN(t.remoteStore,new nl(to(Tv(n.path)),r,"TargetPurposeLimboResolution",Av.ce))}}async function i0(t,e,n){const r=ze(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{o.push(r.pu(c,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const h=f?!f.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(f){i.push(f);const h=Vw.As(c.targetId,f);a.push(h)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(c,f){const h=ze(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>fe.forEach(f,(v=>fe.forEach(v.Es,(m=>h.persistence.referenceDelegate.addReference(p,v.targetId,m))).next((()=>fe.forEach(v.ds,(m=>h.persistence.referenceDelegate.removeReference(p,v.targetId,m)))))))))}catch(p){if(!Of(p))throw p;we(Uw,"Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const m=h.Ms.get(v),_=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(_);h.Ms=h.Ms.insert(v,w)}}})(r.localStore,a))}async function BH(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){we(Zw,"User change. New user:",e.toKey());const r=await pN(n.localStore,e);n.currentUser=e,(function(a,o){a.mu.forEach((l=>{l.forEach((c=>{c.reject(new xe(ue.CANCELLED,o))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await i0(n,r.Ls)}}function FH(t,e){const n=ze(t),r=n.Au.get(e);if(r&&r.hu)return ot().add(r.key);{let i=ot();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const l=n.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function PN(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MH.bind(null,e),e.Pu.H_=wH.bind(null,e.eventManager),e.Pu.yu=EH.bind(null,e.eventManager),e}function VH(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jH.bind(null,e),e}class pg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $z(this.persistence,new Uz,e.initialUser,this.serializer)}Cu(e){return new hN(Fw.mi,this.serializer)}Du(e){return new Qz}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pg.provider={build:()=>new pg};class UH extends pg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ct(this.persistence.referenceDelegate instanceof dg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Cz(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ri.withCacheSize(this.cacheSizeBytes):ri.DEFAULT;return new hN((r=>dg.mi(r,n)),this.serializer)}}class ib{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BH.bind(null,this.syncEngine),await xH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bH})()}createDatastore(e){const n=Nv(e.databaseInfo.databaseId),r=(function(a){return new nH(a)})(e.databaseInfo);return(function(a,o,l,c){return new oH(a,o,l,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,o,l){return new lH(r,i,a,o,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>wI(this.syncEngine,n,0)),(function(){return vI.v()?new vI:new Zz})())}createSyncEngine(e,n){return(function(i,a,o,l,c,f,h){const p=new TH(i,a,o,l,c,f);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ze(n);we(ku,"RemoteStore shutting down."),r.Ea.add(5),await r0(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ib.provider={build:()=>new ib};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="FirestoreClient";class zH{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dr.UNAUTHENTICATED,this.clientId=Tw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{we(yl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(we(yl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Kw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function G2(t,e){t.asyncQueue.verifyOperationInProgress(),we(yl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await pN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function AI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await HH(t);we(yl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>yI(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>yI(e.remoteStore,i))),t._onlineComponents=e}async function HH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(yl,"Using user provided OfflineComponentProvider");try{await G2(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;of("Error using user provided cache. Falling back to memory cache: "+n),await G2(t,new pg)}}else we(yl,"Using default OfflineComponentProvider"),await G2(t,new UH(void 0));return t._offlineComponents}async function DN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(yl,"Using user provided OnlineComponentProvider"),await AI(t,t._uninitializedComponentsProvider._online)):(we(yl,"Using default OnlineComponentProvider"),await AI(t,new ib))),t._onlineComponents}function $H(t){return DN(t).then((e=>e.syncEngine))}async function gg(t){const e=await DN(t),n=e.eventManager;return n.onListen=IH.bind(null,e.syncEngine),n.onUnlisten=PH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=DH.bind(null,e.syncEngine),n}function qH(t,e,n={}){const r=new qo;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,c,f){const h=new eE({next:v=>{h.Nu(),o.enqueueAndForget((()=>Xw(a,p)));const m=v.docs.has(l);!m&&v.fromCache?f.reject(new xe(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&v.fromCache&&c&&c.source==="server"?f.reject(new xe(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new Qw(Tv(l.path),h,{includeMetadataChanges:!0,qa:!0});return Ww(a,p)})(await gg(t),t.asyncQueue,e,n,r))),r.promise}function GH(t,e,n={}){const r=new qo;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,c,f){const h=new eE({next:v=>{h.Nu(),o.enqueueAndForget((()=>Xw(a,p))),v.fromCache&&c.source==="server"?f.reject(new xe(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new Qw(l,h,{includeMetadataChanges:!0,qa:!0});return Ww(a,p)})(await gg(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="firestore.googleapis.com",CI=!0;class TI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MN,this.ssl=CI}else this.host=e.host,this.ssl=e.ssl??CI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Az)throw new xe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NN(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ZV;switch(r.type){case"firstParty":return new nU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=SI.get(n);r&&(we("ComponentProvider","Removing Datastore"),SI.delete(n),r.terminate())})(this),Promise.resolve()}}function KH(t,e,n,r={}){t=li(t,jv);const i=Al(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(bw(`https://${l}`),ww("Firestore",!0)),a.host!==MN&&a.host!==l&&of("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:r};if(!Du(c,o)&&(t._setSettings(c),r.mockUserToken)){let f,h;if(typeof r.mockUserToken=="string")f=r.mockUserToken,h=Dr.MOCK_USER;else{f=SF(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new xe(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Dr(p)}t._authCredentials=new JV(new AD(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Tl(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}toJSON(){return{type:hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(e0(n,hn._jsonSchema))return new hn(e,r||null,new De(Ht.fromString(n.referencePath)))}}hn._jsonSchemaVersion="firestore/documentReference/1.0",hn._jsonSchema={type:jn("string",hn._jsonSchemaVersion),referencePath:jn("string")};class sl extends Tl{constructor(e,n,r){super(e,n,Tv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new De(e))}withConverter(e){return new sl(this.firestore,e,this._path)}}function En(t,e,...n){if(t=on(t),SD("collection","path",e),t instanceof jv){const r=Ht.fromString(e,...n);return V4(r),new sl(t,null,r)}{if(!(t instanceof hn||t instanceof sl))throw new xe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ht.fromString(e,...n));return V4(r),new sl(t.firestore,null,r)}}function ui(t,e,...n){if(t=on(t),arguments.length===1&&(e=Tw.newId()),SD("doc","path",e),t instanceof jv){const r=Ht.fromString(e,...n);return F4(r),new hn(t,null,new De(r))}{if(!(t instanceof hn||t instanceof sl))throw new xe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ht.fromString(e,...n));return F4(r),new hn(t.firestore,t instanceof sl?t.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="AsyncQueue";class OI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vN(this,"async_queue_retry"),this._c=()=>{const r=q2();r&&we(II,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=q2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=q2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Of(e))throw e;we(II,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Yo("INTERNAL UNHANDLED ERROR: ",RI(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Gw.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Be(47125,{Pc:RI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function RI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Zo extends jv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new OI,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new OI(e),this._firestoreClient=void 0,await e}}}function WH(t,e){const n=typeof t=="object"?t:Sw(),r=typeof t=="string"?t:og,i=wv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=uD("firestore");a&&KH(i,...a)}return i}function Lv(t){if(t._terminated)throw new xe(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||XH(t),t._firestoreClient}function XH(t){const e=t._freezeSettings(),n=(function(i,a,o,l){return new xU(i,a,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,NN(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new zH(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ji(Sr.fromBase64String(e))}catch(n){throw new xe(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ji(Sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ji._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(e0(e,Ji._jsonSchema))return Ji.fromBase64String(e.bytes)}}Ji._jsonSchemaVersion="firestore/bytes/1.0",Ji._jsonSchema={type:jn("string",Ji._jsonSchemaVersion),bytes:jn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ro._jsonSchemaVersion}}static fromJSON(e){if(e0(e,ro._jsonSchema))return new ro(e.latitude,e.longitude)}}ro._jsonSchemaVersion="firestore/geoPoint/1.0",ro._jsonSchema={type:jn("string",ro._jsonSchemaVersion),latitude:jn("number"),longitude:jn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:io._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(e0(e,io._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new io(e.vectorValues);throw new xe(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}io._jsonSchemaVersion="firestore/vectorValue/1.0",io._jsonSchema={type:jn("string",io._jsonSchemaVersion),vectorValues:jn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH=/^__.*__$/;class QH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Cl(e,this.data,this.fieldMask,n,this.fieldTransforms):new t0(e,this.data,n,this.fieldTransforms)}}class kN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Cl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ac:t})}}class nE{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new nE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(jN(this.Ac)&&YH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nv(e)}Cc(e,n,r,i=!1){return new nE({Ac:e,methodName:n,Dc:r,path:Er.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fv(t){const e=t._freezeSettings(),n=Nv(t._databaseId);return new ZH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LN(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);rE("Data must be an object, but it was:",o,r);const l=BN(r,o);let c,f;if(a.merge)c=new Ti(o.fieldMask),f=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const p of a.mergeFields){const v=ab(e,p,n);if(!o.contains(v))throw new xe(ue.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);VN(h,v)||h.push(v)}c=new Ti(h),f=o.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,f=o.fieldTransforms;return new QH(new ai(l),c,f)}class Vv extends tE{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vv}}function JH(t,e,n,r){const i=t.Cc(1,e,n);rE("Data must be an object, but it was:",i,r);const a=[],o=ai.empty();Sl(r,((c,f)=>{const h=iE(e,c,n);f=on(f);const p=i.yc(h);if(f instanceof Vv)a.push(h);else{const v=a0(f,p);v!=null&&(a.push(h),o.set(h,v))}}));const l=new Ti(a);return new kN(o,l,i.fieldTransforms)}function e$(t,e,n,r,i,a){const o=t.Cc(1,e,n),l=[ab(e,r,n)],c=[i];if(a.length%2!=0)throw new xe(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)l.push(ab(e,a[v])),c.push(a[v+1]);const f=[],h=ai.empty();for(let v=l.length-1;v>=0;--v)if(!VN(f,l[v])){const m=l[v];let _=c[v];_=on(_);const w=o.yc(m);if(_ instanceof Vv)f.push(m);else{const A=a0(_,w);A!=null&&(f.push(m),h.set(m,A))}}const p=new Ti(f);return new kN(h,p,o.fieldTransforms)}function t$(t,e,n,r=!1){return a0(n,t.Cc(r?4:3,e))}function a0(t,e){if(FN(t=on(t)))return rE("Unsupported field value:",e,t),BN(t,e);if(t instanceof tE)return(function(r,i){if(!jN(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const l of r){let c=a0(l,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=on(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Qt.fromDate(r);return{timestampValue:fg(i.serializer,a)}}if(r instanceof Qt){const a=new Qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fg(i.serializer,a)}}if(r instanceof ro)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ji)return{bytesValue:aN(i.serializer,r._byteString)};if(r instanceof hn){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Lw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof io)return(function(o,l){return{mapValue:{fields:{[MD]:{stringValue:kD},[sg]:{arrayValue:{values:o.toArray().map((f=>{if(typeof f!="number")throw l.Sc("VectorValues must only contain numeric values.");return Nw(l.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Ev(r)}`)})(t,e)}function BN(t,e){const n={};return ID(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sl(t,((r,i)=>{const a=a0(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function FN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qt||t instanceof ro||t instanceof Ji||t instanceof hn||t instanceof tE||t instanceof io)}function rE(t,e,n){if(!FN(n)||!CD(n)){const r=Ev(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ab(t,e,n){if((e=on(e))instanceof Bv)return e._internalPath;if(typeof e=="string")return iE(t,e);throw vg("Field path arguments must be of type string or ",t,!1,void 0,n)}const n$=new RegExp("[~\\*/\\[\\]]");function iE(t,e,n){if(e.search(n$)>=0)throw vg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bv(...e.split("."))._internalPath}catch{throw vg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vg(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new xe(ue.INVALID_ARGUMENT,l+t+c)}function VN(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(aE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class r$ extends UN{data(){return super.data()}}function aE(t,e){return typeof e=="string"?iE(t,e):e instanceof Bv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oE{}class HN extends oE{}function Ii(t,e,...n){let r=[];e instanceof oE&&r.push(e),r=r.concat(n),(function(a){const o=a.filter((c=>c instanceof lE)).length,l=a.filter((c=>c instanceof sE)).length;if(o>1||o>0&&l>0)throw new xe(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class sE extends HN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sE(e,n,r)}_apply(e){const n=this._parse(e);return $N(e._query,n),new Tl(e.firestore,e.converter,W_(e._query,n))}_parse(e){const n=Fv(e.firestore);return(function(a,o,l,c,f,h,p){let v;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new xe(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){NI(p,h);const _=[];for(const w of p)_.push(DI(c,a,w));v={arrayValue:{values:_}}}else v=DI(c,a,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||NI(p,h),v=t$(l,o,p,h==="in"||h==="not-in");return kn.create(f,h,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class lE extends oE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lE(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ia.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let o=i;const l=a.getFlattenedFilters();for(const c of l)$N(o,c),o=W_(o,c)})(e._query,n),new Tl(e.firestore,e.converter,W_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class uE extends HN{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new uE(e,n)}_apply(e){const n=(function(i,a,o){if(i.startAt!==null)throw new xe(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new xe(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kh(a,o)})(e._query,this._field,this._direction);return new Tl(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new Rf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function lo(t,e="asc"){const n=e,r=aE("orderBy",t);return uE._create(r,n)}function DI(t,e,n){if(typeof(n=on(n))=="string"){if(n==="")throw new xe(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HD(e)&&n.indexOf("/")!==-1)throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ht.fromString(n));if(!De.isDocumentKey(r))throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return W4(t,new De(r))}if(n instanceof hn)return W4(t,n._key);throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ev(n)}.`)}function NI(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $N(t,e){const n=(function(i,a){for(const o of i)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new xe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class i${convertValue(e,n="none"){switch(vl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Sl(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[sg].arrayValue?.values?.map((r=>wn(r.doubleValue)));return new io(n)}convertGeoPoint(e){return new ro(wn(e.latitude),wn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dh(e));default:return null}}convertTimestamp(e){const n=pl(e);return new Qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ht.fromString(e);Ct(fN(r),9688,{name:e});const i=new Nh(r.get(1),r.get(3)),a=new De(r.popFirst(5));return i.isEqual(n)||Yo(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class gh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Su extends UN{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new z1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(aE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Su._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Su._jsonSchemaVersion="firestore/documentSnapshot/1.0",Su._jsonSchema={type:jn("string",Su._jsonSchemaVersion),bundleSource:jn("string","DocumentSnapshot"),bundleName:jn("string"),bundle:jn("string")};class z1 extends Su{data(e={}){return super.data(e)}}class Cu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new gh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new z1(this._firestore,this._userDataWriter,r.key,r,new gh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((l=>{const c=new z1(i._firestore,i._userDataWriter,l.doc.key,l.doc,new gh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const c=new z1(i._firestore,i._userDataWriter,l.doc.key,l.doc,new gh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return l.type!==0&&(f=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:a$(l.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function a$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t){t=li(t,hn);const e=li(t.firestore,Zo);return qH(Lv(e),t._key).then((n=>GN(e,t,n)))}Cu._jsonSchemaVersion="firestore/querySnapshot/1.0",Cu._jsonSchema={type:jn("string",Cu._jsonSchemaVersion),bundleSource:jn("string","QuerySnapshot"),bundleName:jn("string"),bundle:jn("string")};class cE extends i${constructor(e){super(),this.firestore=e}convertBytes(e){return new Ji(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function ju(t){t=li(t,Tl);const e=li(t.firestore,Zo),n=Lv(e),r=new cE(e);return zN(t._query),GH(n,t._query).then((i=>new Cu(e,r,t,i)))}function s$(t,e,n){t=li(t,hn);const r=li(t.firestore,Zo),i=qN(t.converter,e);return Uv(r,[LN(Fv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,na.none())])}function Df(t,e,n,...r){t=li(t,hn);const i=li(t.firestore,Zo),a=Fv(i);let o;return o=typeof(e=on(e))=="string"||e instanceof Bv?e$(a,"updateDoc",t._key,e,n,r):JH(a,"updateDoc",t._key,e),Uv(i,[o.toMutation(t._key,na.exists(!0))])}function Lu(t){return Uv(li(t.firestore,Zo),[new Mw(t._key,na.none())])}function Nf(t,e){const n=li(t.firestore,Zo),r=ui(t),i=qN(t.converter,e);return Uv(n,[LN(Fv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,na.exists(!1))]).then((()=>r))}function Mf(t,...e){t=on(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||PI(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(PI(e[r])){const c=e[r];e[r]=c.next?.bind(c),e[r+1]=c.error?.bind(c),e[r+2]=c.complete?.bind(c)}let a,o,l;if(t instanceof hn)o=li(t.firestore,Zo),l=Tv(t._key.path),a={next:c=>{e[r]&&e[r](GN(o,t,c))},error:e[r+1],complete:e[r+2]};else{const c=li(t,Tl);o=li(c.firestore,Zo),l=c._query;const f=new cE(o);a={next:h=>{e[r]&&e[r](new Cu(o,f,c,h))},error:e[r+1],complete:e[r+2]},zN(t._query)}return(function(f,h,p,v){const m=new eE(v),_=new Qw(h,m,p);return f.asyncQueue.enqueueAndForget((async()=>Ww(await gg(f),_))),()=>{m.Nu(),f.asyncQueue.enqueueAndForget((async()=>Xw(await gg(f),_)))}})(Lv(o),l,i,a)}function Uv(t,e){return(function(r,i){const a=new qo;return r.asyncQueue.enqueueAndForget((async()=>NH(await $H(r),i,a))),a.promise})(Lv(t),e)}function GN(t,e,n){const r=n.docs.get(e._key),i=new cE(t);return new Su(t,i,e._key,r,new gh(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Tf=i})(Cf),Nu(new dl("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),l=new Zo(new eU(r.getProvider("auth-internal")),new rU(o,r.getProvider("app-check-internal")),(function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new xe(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nh(f.options.projectId,h)})(o,i),o);return a={useFetchStreams:n,...a},l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),eo(k4,j4,e),eo(k4,j4,"esm2020")})();var l$="firebase",u$="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */eo(l$,u$,"app");function KN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c$=KN,WN=new Zh("auth","Firebase",KN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg=new Ew("@firebase/auth");function f$(t,...e){mg.logLevel<=it.WARN&&mg.warn(`Auth (${Cf}): ${t}`,...e)}function H1(t,...e){mg.logLevel<=it.ERROR&&mg.error(`Auth (${Cf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t,...e){throw dE(t,...e)}function Ta(t,...e){return dE(t,...e)}function fE(t,e,n){const r={...c$(),[e]:n};return new Zh("auth","Firebase",r).create(e,{appName:t.name})}function Go(t){return fE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ia(t,"argument-error"),fE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return WN.create(t,...e)}function Le(t,e,...n){if(!t)throw dE(e,...n)}function Uo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw H1(e),new Error(e)}function Jo(t,e){t||Uo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(){return typeof self<"u"&&self.location?.href||""}function h$(){return MI()==="http:"||MI()==="https:"}function MI(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h$()||PF()||"connection"in navigator)?navigator.onLine:!0}function g$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jo(n>e,"Short delay should be less than long delay!"),this.isMobile=IF()||DF()}get(){return p$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(t,e){Jo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Uo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Uo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Uo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],y$=new o0(3e4,6e4);function Il(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function is(t,e,n,r,i={}){return YN(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const l=Jh({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...a};return RF()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Al(t.emulatorConfig.host)&&(f.credentials="include"),XN.fetch()(await QN(t,t.config.apiHost,n,l),f)})}async function YN(t,e,n){t._canInitEmulator=!1;const r={...v$,...e};try{const i=new _$(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw f1(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw f1(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw f1(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw f1(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw fE(t,h,f);ia(t,h)}}catch(i){if(i instanceof po)throw i;ia(t,"network-request-failed",{message:String(i)})}}async function s0(t,e,n,r,i={}){const a=await is(t,e,n,r,i);return"mfaPendingCredential"in a&&ia(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function QN(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?hE(t.config,i):`${t.config.apiScheme}://${i}`;return m$.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function x$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ta(this.auth,"network-request-failed")),y$.get())})}}function f1(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ta(t,e,r);return i.customData._tokenResponse=n,i}function kI(t){return t!==void 0&&t.enterprise!==void 0}class b${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return x$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function w$(t,e){return is(t,"GET","/v2/recaptchaConfig",Il(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E$(t,e){return is(t,"POST","/v1/accounts:delete",e)}async function yg(t,e){return is(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function A$(t,e=!1){const n=on(t),r=await n.getIdToken(e),i=pE(r);Le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:Th(K2(i.auth_time)),issuedAtTime:Th(K2(i.iat)),expirationTime:Th(K2(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function K2(t){return Number(t)*1e3}function pE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return H1("JWT malformed, contained fewer than 3 sections"),null;try{const i=sD(n);return i?JSON.parse(i):(H1("Failed to decode base64 JWT payload"),null)}catch(i){return H1("Caught error parsing JWT payload as JSON",i?.toString()),null}}function jI(t){const e=pE(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof po&&S$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function S$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Th(this.lastLoginAt),this.creationTime=Th(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xg(t){const e=t.auth,n=await t.getIdToken(),r=await df(t,yg(e,{idToken:n}));Le(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?ZN(i.providerUserInfo):[],o=I$(t.providerData,a),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!o?.length,f=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new sb(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function T$(t){const e=on(t);await xg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function I$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O$(t,e){const n=await YN(t,{},async()=>{const r=Jh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await QN(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Al(t.emulatorConfig.host)&&(c.credentials="include"),XN.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function R$(t,e){return is(t,"POST","/v2/accounts:revokeToken",Il(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=jI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await O$(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Zc;return r&&(Le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Le(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Le(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zc,this.toJSON())}_performRefresh(){return Uo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ca{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new C$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new sb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await df(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return A$(this,e)}reload(){return T$(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ca({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(Go(this.auth));const e=await this.getIdToken();return await df(this,E$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,f=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:m,providerData:_,stsTokenManager:w}=n;Le(p&&w,e,"internal-error");const A=Zc.fromJSON(this.name,w);Le(typeof p=="string",e,"internal-error"),qs(r,e.name),qs(i,e.name),Le(typeof v=="boolean",e,"internal-error"),Le(typeof m=="boolean",e,"internal-error"),qs(a,e.name),qs(o,e.name),qs(l,e.name),qs(c,e.name),qs(f,e.name),qs(h,e.name);const S=new Ca({uid:p,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:A,createdAt:f,lastLoginAt:h});return _&&Array.isArray(_)&&(S.providerData=_.map(I=>({...I}))),c&&(S._redirectEventId=c),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new Zc;i.updateFromServerResponse(n);const a=new Ca({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await xg(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Le(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?ZN(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!a?.length,l=new Zc;l.updateFromIdToken(r);const c=new Ca({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new sb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=new Map;function zo(t){Jo(t instanceof Function,"Expected a class definition");let e=LI.get(t);return e?(Jo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,LI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JN.type="NONE";const BI=JN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t,e,n){return`firebase:${t}:${e}:${n}`}class Jc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=$1(this.userKey,i.apiKey,a),this.fullPersistenceKey=$1("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yg(this.auth,{idToken:e}).catch(()=>{});return n?Ca._fromGetAccountInfoResponse(this.auth,n,e):null}return Ca._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Jc(zo(BI),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||zo(BI);const o=$1(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const h=await f._get(o);if(h){let p;if(typeof h=="string"){const v=await yg(e,{idToken:h}).catch(()=>{});if(!v)break;p=await Ca._fromGetAccountInfoResponse(e,v,h)}else p=Ca._fromJSON(e,h);f!==a&&(l=p),a=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Jc(a,e,r):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(o)}catch{}})),new Jc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(r5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(e5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(a5(e))return"Blackberry";if(o5(e))return"Webos";if(t5(e))return"Safari";if((e.includes("chrome/")||n5(e))&&!e.includes("edge/"))return"Chrome";if(i5(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function e5(t=Lr()){return/firefox\//i.test(t)}function t5(t=Lr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function n5(t=Lr()){return/crios\//i.test(t)}function r5(t=Lr()){return/iemobile/i.test(t)}function i5(t=Lr()){return/android/i.test(t)}function a5(t=Lr()){return/blackberry/i.test(t)}function o5(t=Lr()){return/webos/i.test(t)}function gE(t=Lr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function P$(t=Lr()){return gE(t)&&!!window.navigator?.standalone}function D$(){return NF()&&document.documentMode===10}function s5(t=Lr()){return gE(t)||i5(t)||o5(t)||a5(t)||/windows phone/i.test(t)||r5(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t,e=[]){let n;switch(t){case"Browser":n=FI(Lr());break;case"Worker":n=`${FI(Lr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cf}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M$(t,e={}){return is(t,"GET","/v2/passwordPolicy",Il(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$=6;class j${constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??k$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VI(this),this.idTokenSubscription=new VI(this),this.beforeStateQueue=new N$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zo(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Jc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yg(this,{idToken:e}),r=await Ca._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ii(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,o=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&l?.user&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=g$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(Go(this));const n=e?on(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(Go(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(Go(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await M$(this),n=new j$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await R$(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zo(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await Jc.create(this,[zo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&f$(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ol(t){return on(t)}class VI{constructor(e){this.auth=e,this.observer=null,this.addObserver=UF(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B$(t){zv=t}function u5(t){return zv.loadJS(t)}function F$(){return zv.recaptchaEnterpriseScript}function V$(){return zv.gapiScript}function U$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class z${constructor(){this.enterprise=new H$}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class H${ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const $$="recaptcha-enterprise",c5="NO_RECAPTCHA";class q${constructor(e){this.type=$$,this.auth=Ol(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{w$(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new b$(c);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,o(f.siteKey)}}).catch(c=>{l(c)})})}function i(a,o,l){const c=window.grecaptcha;kI(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(f=>{o(f)}).catch(()=>{o(c5)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new z$().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(l=>{if(!n&&kI(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=F$();c.length!==0&&(c+=l),u5(c).then(()=>{i(l,a,o)}).catch(f=>{o(f)})}}).catch(l=>{o(l)})})}}async function UI(t,e,n,r=!1,i=!1){const a=new q$(t);let o;if(i)o=c5;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function lb(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await UI(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await UI(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(t,e){const n=wv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Du(a,e??{}))return i;ia(i,"already-initialized")}return n.initialize({options:e})}function K$(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(zo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function W$(t,e,n){const r=Ol(t);Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=f5(e),{host:o,port:l}=X$(e),c=l===null?"":`:${l}`,f={url:`${a}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Le(Du(f,r.config.emulator)&&Du(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Al(o)?(bw(`${a}//${o}${c}`),ww("Auth",!0)):Y$()}function f5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function X$(t){const e=f5(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:zI(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:zI(o)}}}function zI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Y$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Uo("not implemented")}_getIdTokenResponse(e){return Uo("not implemented")}_linkToIdToken(e,n){return Uo("not implemented")}_getReauthenticationResolver(e){return Uo("not implemented")}}async function Q$(t,e){return is(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z$(t,e){return s0(t,"POST","/v1/accounts:signInWithPassword",Il(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J$(t,e){return s0(t,"POST","/v1/accounts:signInWithEmailLink",Il(t,e))}async function eq(t,e){return s0(t,"POST","/v1/accounts:signInWithEmailLink",Il(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends vE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Bh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lb(e,n,"signInWithPassword",Z$);case"emailLink":return J$(e,{email:this._email,oobCode:this._password});default:ia(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lb(e,r,"signUpPassword",Q$);case"emailLink":return eq(e,{idToken:n,email:this._email,oobCode:this._password});default:ia(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ef(t,e){return s0(t,"POST","/v1/accounts:signInWithIdp",Il(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq="http://localhost";class Bu extends vE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ia("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new Bu(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ef(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ef(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ef(e,n)}buildRequest(){const e={requestUri:tq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rq(t){const e=ch(fh(t)).link,n=e?ch(fh(e)).deep_link_id:null,r=ch(fh(t)).deep_link_id;return(r?ch(fh(r)).link:null)||r||n||e||t}class mE{constructor(e){const n=ch(fh(e)),r=n.apiKey??null,i=n.oobCode??null,a=nq(n.mode??null);Le(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=rq(e);try{return new mE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(){this.providerId=kf.PROVIDER_ID}static credential(e,n){return Bh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=mE.parseLink(n);return Le(r,"argument-error"),Bh._fromEmailAndCode(e,r.code,r.tenantId)}}kf.PROVIDER_ID="password";kf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0 extends yE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends l0{constructor(){super("facebook.com")}static credential(e){return Bu._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends l0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bu._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Bo.credential(n,r)}catch{return null}}}Bo.GOOGLE_SIGN_IN_METHOD="google.com";Bo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends l0{constructor(){super("github.com")}static credential(e){return Bu._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends l0{constructor(){super("twitter.com")}static credential(e,n){return Bu._fromParams({providerId:el.PROVIDER_ID,signInMethod:el.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return el.credentialFromTaggedObject(e)}static credentialFromError(e){return el.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return el.credential(n,r)}catch{return null}}}el.TWITTER_SIGN_IN_METHOD="twitter.com";el.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iq(t,e){return s0(t,"POST","/v1/accounts:signUp",Il(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Ca._fromIdTokenResponse(e,r,i),o=HI(r);return new Fu({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=HI(r);return new Fu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function HI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g extends po{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_g.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new _g(e,n,r,i)}}function d5(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?_g._fromErrorAndOperation(t,a,e,r):a})}async function aq(t,e,n=!1){const r=await df(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oq(t,e,n=!1){const{auth:r}=t;if(ii(r.app))return Promise.reject(Go(r));const i="reauthenticate";try{const a=await df(t,d5(r,i,e,t),n);Le(a.idToken,r,"internal-error");const o=pE(a.idToken);Le(o,r,"internal-error");const{sub:l}=o;return Le(t.uid===l,r,"user-mismatch"),Fu._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&ia(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5(t,e,n=!1){if(ii(t.app))return Promise.reject(Go(t));const r="signIn",i=await d5(t,r,e),a=await Fu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function sq(t,e){return h5(Ol(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p5(t){const e=Ol(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lq(t,e,n){if(ii(t.app))return Promise.reject(Go(t));const r=Ol(t),o=await lb(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iq).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&p5(t),c}),l=await Fu._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function uq(t,e,n){return ii(t.app)?Promise.reject(Go(t)):sq(on(t),kf.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&p5(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cq(t,e){return is(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fq(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=on(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await df(r,cq(r.auth,a));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function dq(t,e,n,r){return on(t).onIdTokenChanged(e,n,r)}function hq(t,e,n){return on(t).beforeAuthStateChanged(e,n)}function pq(t,e,n,r){return on(t).onAuthStateChanged(e,n,r)}function gq(t){return on(t).signOut()}const bg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bg,"1"),this.storage.removeItem(bg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vq=1e3,mq=10;class v5 extends g5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=s5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);D$()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,mq):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}v5.type="LOCAL";const yq=v5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5 extends g5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}m5.type="SESSION";const y5=m5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Hv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async f=>f(n.origin,a)),c=await xq(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const f=xE("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(v.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(){return window}function bq(t){ao().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(){return typeof ao().WorkerGlobalScope<"u"&&typeof ao().importScripts=="function"}async function wq(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Eq(){return navigator?.serviceWorker?.controller||null}function Aq(){return x5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5="firebaseLocalStorageDb",Sq=1,wg="firebaseLocalStorage",b5="fbase_key";class u0{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $v(t,e){return t.transaction([wg],e?"readwrite":"readonly").objectStore(wg)}function Cq(){const t=indexedDB.deleteDatabase(_5);return new u0(t).toPromise()}function ub(){const t=indexedDB.open(_5,Sq);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wg,{keyPath:b5})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wg)?e(r):(r.close(),await Cq(),e(await ub()))})})}async function $I(t,e,n){const r=$v(t,!0).put({[b5]:e,value:n});return new u0(r).toPromise()}async function Tq(t,e){const n=$v(t,!1).get(e),r=await new u0(n).toPromise();return r===void 0?null:r.value}function qI(t,e){const n=$v(t,!0).delete(e);return new u0(n).toPromise()}const Iq=800,Oq=3;class w5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ub(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Oq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hv._getInstance(Aq()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wq(),!this.activeServiceWorker)return;this.sender=new _q(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Eq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ub();return await $I(e,bg,"1"),await qI(e,bg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$I(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Tq(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=$v(i,!1).getAll();return new u0(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Iq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}w5.type="LOCAL";const Rq=w5;new o0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t,e){return e?zo(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E extends vE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ef(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ef(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ef(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Pq(t){return h5(t.auth,new _E(t),t.bypassAuthState)}function Dq(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),oq(n,new _E(t),t.bypassAuthState)}async function Nq(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),aq(n,new _E(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Pq;case"linkViaPopup":case"linkViaRedirect":return Nq;case"reauthViaPopup":case"reauthViaRedirect":return Dq;default:ia(this.auth,"internal-error")}}resolve(e){Jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mq=new o0(2e3,1e4);async function kq(t,e,n){if(ii(t.app))return Promise.reject(Ta(t,"operation-not-supported-in-this-environment"));const r=Ol(t);d$(t,e,yE);const i=E5(r,n);return new xu(r,"signInViaPopup",e,i).executeNotNull()}class xu extends A5{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,xu.currentPopupAction&&xu.currentPopupAction.cancel(),xu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Jo(this.filter.length===1,"Popup operations only handle one event");const e=xE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ta(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ta(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ta(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Mq.get())};e()}}xu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq="pendingRedirect",q1=new Map;class Lq extends A5{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=q1.get(this.auth._key());if(!e){try{const r=await Bq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}q1.set(this.auth._key(),e)}return this.bypassAuthState||q1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Bq(t,e){const n=Uq(e),r=Vq(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Fq(t,e){q1.set(t._key(),e)}function Vq(t){return zo(t._redirectPersistence)}function Uq(t){return $1(jq,t.config.apiKey,t.name)}async function zq(t,e,n=!1){if(ii(t.app))return Promise.reject(Go(t));const r=Ol(t),i=E5(r,e),o=await new Lq(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq=600*1e3;class $q{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!S5(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ta(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Hq&&this.cachedEventUids.clear(),this.cachedEventUids.has(GI(e))}saveEventToCache(e){this.cachedEventUids.add(GI(e)),this.lastProcessedEventTime=Date.now()}}function GI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function S5({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function qq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S5(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gq(t,e={}){return is(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wq=/^https?/;async function Xq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Gq(t);for(const n of e)try{if(Yq(n))return}catch{}ia(t,"unauthorized-domain")}function Yq(t){const e=ob(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Wq.test(n))return!1;if(Kq.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq=new o0(3e4,6e4);function KI(){const t=ao().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Zq(t){return new Promise((e,n)=>{function r(){KI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KI(),n(Ta(t,"network-request-failed"))},timeout:Qq.get()})}if(ao().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ao().gapi?.load)r();else{const i=U$("iframefcb");return ao()[i]=()=>{gapi.load?r():n(Ta(t,"network-request-failed"))},u5(`${V$()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw G1=null,e})}let G1=null;function Jq(t){return G1=G1||Zq(t),G1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eG=new o0(5e3,15e3),tG="__/auth/iframe",nG="emulator/auth/iframe",rG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aG(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hE(e,nG):`https://${t.config.authDomain}/${tG}`,r={apiKey:e.apiKey,appName:t.name,v:Cf},i=iG.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Jh(r).slice(1)}`}async function oG(t){const e=await Jq(t),n=ao().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:aG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rG,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Ta(t,"network-request-failed"),l=ao().setTimeout(()=>{a(o)},eG.get());function c(){ao().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lG=500,uG=600,cG="_blank",fG="http://localhost";class WI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dG(t,e,n,r=lG,i=uG){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...sG,width:r.toString(),height:i.toString(),top:a,left:o},f=Lr().toLowerCase();n&&(l=n5(f)?cG:n),e5(f)&&(e=e||fG,c.scrollbars="yes");const h=Object.entries(c).reduce((v,[m,_])=>`${v}${m}=${_},`,"");if(P$(f)&&l!=="_self")return hG(e||"",l),new WI(null);const p=window.open(e||"",l,h);Le(p,t,"popup-blocked");try{p.focus()}catch{}return new WI(p)}function hG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pG="__/auth/handler",gG="emulator/auth/handler",vG=encodeURIComponent("fac");async function XI(t,e,n,r,i,a){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Cf,eventId:i};if(e instanceof yE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",VF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof l0){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),f=c?`#${vG}=${encodeURIComponent(c)}`:"";return`${mG(t)}?${Jh(l).slice(1)}${f}`}function mG({config:t}){return t.emulator?hE(t,gG):`https://${t.authDomain}/${pG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="webStorageSupport";class yG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y5,this._completeRedirectFn=zq,this._overrideRedirectResult=Fq}async _openPopup(e,n,r,i){Jo(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await XI(e,n,r,ob(),i);return dG(e,a,xE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await XI(e,n,r,ob(),i);return bq(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Jo(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oG(e),r=new $q(e);return n.register("authEvent",i=>(Le(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(W2,{type:W2},i=>{const a=i?.[0]?.[W2];a!==void 0&&n(!!a),ia(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Xq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return s5()||t5()||gE()}}const xG=yG;var YI="@firebase/auth",QI="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wG(t){Nu(new dl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l5(t)},f=new L$(r,i,a,c);return K$(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Nu(new dl("auth-internal",e=>{const n=Ol(e.getProvider("auth").getImmediate());return(r=>new _G(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),eo(YI,QI,bG(t)),eo(YI,QI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG=300,AG=fD("authIdTokenMaxAge")||EG;let ZI=null;const SG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AG)return;const i=n?.token;ZI!==i&&(ZI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function CG(t=Sw()){const e=wv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=G$(t,{popupRedirectResolver:xG,persistence:[Rq,yq,y5]}),r=fD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=SG(a.toString());hq(n,o,()=>o(n.currentUser)),dq(n,l=>o(l))}}const i=lD("auth");return i&&W$(n,`http://${i}`),n}function TG(){return document.getElementsByTagName("head")?.[0]??document}B$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Ta("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",TG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wG("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IG="type.googleapis.com/google.protobuf.Int64Value",OG="type.googleapis.com/google.protobuf.UInt64Value";function C5(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Eg(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Eg(e));if(typeof t=="function"||typeof t=="object")return C5(t,e=>Eg(e));throw new Error("Data cannot be encoded in JSON: "+t)}function hf(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case IG:case OG:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>hf(e)):typeof t=="function"||typeof t=="object"?C5(t,e=>hf(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Gr extends po{constructor(e,n,r){super(`${bE}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Gr.prototype)}}function RG(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Ag(t,e){let n=RG(t),r=n,i;try{const a=e&&e.error;if(a){const o=a.status;if(typeof o=="string"){if(!JI[o])return new Gr("internal","internal");n=JI[o],r=o}const l=a.message;typeof l=="string"&&(r=l),i=a.details,i!==void 0&&(i=hf(i))}}catch{}return n==="ok"?null:new Gr(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,ii(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(a=>this.auth=a,()=>{}),this.messaging||r.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i?.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="us-central1",DG=/^data: (.*?)(?:\n|$)/;function NG(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Gr("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class MG{constructor(e,n,r,i,a=cb,o=(...l)=>fetch(...l)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new PG(e,n,r,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(a);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=cb}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function kG(t,e,n){const r=Al(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(bw(t.emulatorOrigin+"/backends"),ww("Functions",!0))}function jG(t,e,n){const r=i=>BG(t,e,i,n||{});return r.stream=(i,a)=>VG(t,e,i,a),r}function T5(t){return t.emulatorOrigin&&Al(t.emulatorOrigin)?"include":void 0}async function LG(t,e,n,r,i){n["Content-Type"]="application/json";let a;try{a=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:T5(i)})}catch{return{status:0,json:null}}let o=null;try{o=await a.json()}catch{}return{status:a.status,json:o}}async function I5(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function BG(t,e,n,r){const i=t._url(e);return FG(t,i,n,r)}async function FG(t,e,n,r){n=Eg(n);const i={data:n},a=await I5(t,r),o=r.timeout||7e4,l=NG(o),c=await Promise.race([LG(e,i,a,t.fetchImpl,t),l.promise,t.cancelAllRequests]);if(l.cancel(),!c)throw new Gr("cancelled","Firebase Functions instance was deleted.");const f=Ag(c.status,c.json);if(f)throw f;if(!c.json)throw new Gr("internal","Response is not valid JSON object.");let h=c.json.data;if(typeof h>"u"&&(h=c.json.result),typeof h>"u")throw new Gr("internal","Response is missing data field.");return{data:hf(h)}}function VG(t,e,n,r){const i=t._url(e);return UG(t,i,n,r||{})}async function UG(t,e,n,r){n=Eg(n);const i={data:n},a=await I5(t,r);a["Content-Type"]="application/json",a.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:a,signal:r?.signal,credentials:T5(t)})}catch(v){if(v instanceof Error&&v.name==="AbortError"){const _=new Gr("cancelled","Request was cancelled.");return{data:Promise.reject(_),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(_)}}}}}}const m=Ag(0,null);return{data:Promise.reject(m),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(m)}}}}}}let l,c;const f=new Promise((v,m)=>{l=v,c=m});r?.signal?.addEventListener("abort",()=>{const v=new Gr("cancelled","Request was cancelled.");c(v)});const h=o.body.getReader(),p=zG(h,l,c,r?.signal);return{stream:{[Symbol.asyncIterator](){const v=p.getReader();return{async next(){const{value:m,done:_}=await v.read();return{value:m,done:_}},async return(){return await v.cancel(),{done:!0,value:void 0}}}}},data:f}}function zG(t,e,n,r){const i=(o,l)=>{const c=o.match(DG);if(!c)return;const f=c[1];try{const h=JSON.parse(f);if("result"in h){e(hf(h.result));return}if("message"in h){l.enqueue(hf(h.message));return}if("error"in h){const p=Ag(0,h);l.error(p),n(p);return}}catch(h){if(h instanceof Gr){l.error(h),n(h);return}}},a=new TextDecoder;return new ReadableStream({start(o){let l="";return c();async function c(){if(r?.aborted){const f=new Gr("cancelled","Request was cancelled");return o.error(f),n(f),Promise.resolve()}try{const{value:f,done:h}=await t.read();if(h){l.trim()&&i(l.trim(),o),o.close();return}if(r?.aborted){const v=new Gr("cancelled","Request was cancelled");o.error(v),n(v),await t.cancel();return}l+=a.decode(f,{stream:!0});const p=l.split(`
`);l=p.pop()||"";for(const v of p)v.trim()&&i(v.trim(),o);return c()}catch(f){const h=f instanceof Gr?f:Ag(0,null);o.error(h),n(h)}}},cancel(){return t.cancel()}})}const eO="@firebase/functions",tO="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG="auth-internal",$G="app-check-internal",qG="messaging-internal";function GG(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),a=n.getProvider(HG),o=n.getProvider(qG),l=n.getProvider($G);return new MG(i,a,o,l,r)};Nu(new dl(bE,e,"PUBLIC").setMultipleInstances(!0)),eo(eO,tO,t),eo(eO,tO,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(t=Sw(),e=cb){const r=wv(on(t),bE).getImmediate({identifier:e}),i=uD("functions");return i&&R5(r,...i),r}function R5(t,e,n){kG(on(t),e,n)}function KG(t,e,n){return jG(on(t),e,n)}GG();const wE=Object.freeze(Object.defineProperty({__proto__:null,FunctionsError:Gr,connectFunctionsEmulator:R5,getFunctions:O5,httpsCallable:KG},Symbol.toStringTag,{value:"Module"})),WG={apiKey:"AIzaSyB_23qGagKyn6SqpNh1u7_EMqJWMN9MZuo",authDomain:"oshi-para.firebaseapp.com",projectId:"oshi-para",storageBucket:"oshi-para.firebasestorage.app",messagingSenderId:"123159056695",appId:"1:123159056695:web:b2226933dc6f6095220ab2"},qv=pD(WG),Et=CG(qv),dt=WH(qv);O5(qv);const EE=Object.freeze(Object.defineProperty({__proto__:null,auth:Et,db:dt,default:qv},Symbol.toStringTag,{value:"Module"})),At={INTAKES:"intakes",EXPENSES:"expenses",STOCKS:"stocks",SHOPPING:"shopping",RECIPES:"recipes",SETTINGS:"settings"},St=(t,e)=>`users/${t}/${e}`,Qd={getAll:async t=>{const e=Ii(En(dt,St(t,At.INTAKES)),lo("createdAt","desc"));return(await ju(e)).docs.map(r=>({id:r.id,...r.data()}))},add:async(t,e)=>(await Nf(En(dt,St(t,At.INTAKES)),e)).id,update:async(t,e,n)=>{const r=ui(dt,St(t,At.INTAKES),e);await Df(r,n)},delete:async(t,e)=>{const n=ui(dt,St(t,At.INTAKES),e);await Lu(n)},subscribe:(t,e)=>{const n=Ii(En(dt,St(t,At.INTAKES)),lo("createdAt","desc"));return Mf(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},X2={getAll:async t=>{const e=Ii(En(dt,St(t,At.EXPENSES)),lo("createdAt","desc"));return(await ju(e)).docs.map(r=>({id:r.id,...r.data()}))},add:async(t,e)=>(await Nf(En(dt,St(t,At.EXPENSES)),e)).id,update:async(t,e,n)=>{const r=ui(dt,St(t,At.EXPENSES),e);await Df(r,n)},delete:async(t,e)=>{const n=ui(dt,St(t,At.EXPENSES),e);await Lu(n)},subscribe:(t,e)=>{const n=Ii(En(dt,St(t,At.EXPENSES)),lo("createdAt","desc"));return Mf(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},d1={getAll:async t=>{const e=Ii(En(dt,St(t,At.STOCKS)),lo("createdAt","desc"));return(await ju(e)).docs.map(r=>({id:r.id,...r.data()}))},add:async(t,e)=>(await Nf(En(dt,St(t,At.STOCKS)),e)).id,update:async(t,e,n)=>{const r=ui(dt,St(t,At.STOCKS),e);await Df(r,n)},delete:async(t,e)=>{const n=ui(dt,St(t,At.STOCKS),e);await Lu(n)},subscribe:(t,e)=>{const n=Ii(En(dt,St(t,At.STOCKS)),lo("createdAt","desc"));return Mf(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},Zd={getAll:async t=>{const e=Ii(En(dt,St(t,At.SHOPPING)),lo("createdAt","desc"));return(await ju(e)).docs.map(r=>({id:r.id,...r.data()}))},add:async(t,e)=>(await Nf(En(dt,St(t,At.SHOPPING)),e)).id,update:async(t,e,n)=>{const r=ui(dt,St(t,At.SHOPPING),e);await Df(r,n)},delete:async(t,e)=>{const n=ui(dt,St(t,At.SHOPPING),e);await Lu(n)},subscribe:(t,e)=>{const n=Ii(En(dt,St(t,At.SHOPPING)),lo("createdAt","desc"));return Mf(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},h1={getAll:async t=>{const e=Ii(En(dt,St(t,At.RECIPES)),lo("createdAt","desc"));return(await ju(e)).docs.map(r=>({id:r.id,...r.data()}))},add:async(t,e)=>(await Nf(En(dt,St(t,At.RECIPES)),e)).id,update:async(t,e,n)=>{const r=ui(dt,St(t,At.RECIPES),e);await Df(r,n)},delete:async(t,e)=>{const n=ui(dt,St(t,At.RECIPES),e);await Lu(n)},subscribe:(t,e)=>{const n=Ii(En(dt,St(t,At.RECIPES)),lo("createdAt","desc"));return Mf(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},p1={get:async t=>{const e=Ii(En(dt,St(t,At.SETTINGS))),n=await ju(e);return n.empty?null:n.docs[0].data()},set:async(t,e)=>{const n=Ii(En(dt,St(t,At.SETTINGS))),r=await ju(n);if(r.empty)return(await Nf(En(dt,St(t,At.SETTINGS)),e)).id;{const i=ui(dt,St(t,At.SETTINGS),r.docs[0].id);return await Df(i,e),r.docs[0].id}},subscribe:(t,e)=>{const n=Ii(En(dt,St(t,At.SETTINGS)));return Mf(n,r=>{if(r.empty)e(null);else{const i=r.docs[0].data();e(i)}})}},go=Gu((t,e)=>({intakes:fl(et.INTAKES,[]),loading:!1,initialized:!1,unsubscribe:null,setIntakes:n=>t({intakes:n}),setLoading:n=>t({loading:n}),setInitialized:n=>t({initialized:n}),addIntake:async n=>{const r=Et.currentUser,i={id:rl(),...n,date:new Date().toISOString(),createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.intakes,i];return Nt(et.INTAKES,o),{intakes:o}}),r)try{await Qd.add(r.uid,i)}catch(a){console.error("Failed to add intake to Firestore:",a)}},updateIntake:async(n,r)=>{const i=Et.currentUser,a={...r,updatedAt:new Date().toISOString()};if(t(o=>{const l=o.intakes.map(c=>c.id===n?{...c,...a}:c);return Nt(et.INTAKES,l),{intakes:l}}),i)try{await Qd.update(i.uid,n,a)}catch(o){console.error("Failed to update intake in Firestore:",o)}},deleteIntake:async n=>{const r=Et.currentUser;if(t(i=>{const a=i.intakes.filter(o=>o.id!==n);return Nt(et.INTAKES,a),{intakes:a}}),r)try{await Qd.delete(r.uid,n)}catch(i){console.error("Failed to delete intake from Firestore:",i)}},getIntakesByDate:n=>e().intakes.filter(i=>i.date.startsWith(n)),getTotalCaloriesByDate:n=>e().getIntakesByDate(n).reduce((i,a)=>i+a.calories,0),getTotalPriceByDate:n=>e().getIntakesByDate(n).reduce((i,a)=>i+a.price,0),syncWithFirestore:async()=>{const n=Et.currentUser;if(n)try{t({loading:!0}),console.log(`[IntakeStore] Syncing data for user: ${n.uid}`);const r=await Qd.getAll(n.uid);console.log(`[IntakeStore] Loaded ${r.length} intakes from Firestore`),t({intakes:r,loading:!1,initialized:!0}),Nt(et.INTAKES,r)}catch(r){console.error("Failed to sync intakes with Firestore:",r),t({loading:!1})}},subscribeToFirestore:()=>{const n=Et.currentUser;if(!n)return;const r=e().unsubscribe;r&&r(),console.log(`[IntakeStore] Starting realtime sync for user: ${n.uid}`);const i=Qd.subscribe(n.uid,a=>{console.log(`[IntakeStore] Realtime update: ${a.length} intakes`),t({intakes:a}),Nt(et.INTAKES,a)});t({unsubscribe:i})},unsubscribeFromFirestore:()=>{const n=e().unsubscribe;n&&(console.log("[IntakeStore] Stopping realtime sync"),n(),t({unsubscribe:null}))}})),vo=Gu((t,e)=>({expenses:fl(et.EXPENSES,[]),loading:!1,initialized:!1,setExpenses:n=>t({expenses:n}),addExpense:async n=>{const r=Et.currentUser,i={id:rl(),...n,date:n.date||new Date().toISOString(),createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.expenses,i];return Nt(et.EXPENSES,o),{expenses:o}}),r)try{await X2.add(r.uid,i)}catch(a){console.error("Failed to add expense to Firestore:",a)}},deleteExpense:async n=>{const r=Et.currentUser;if(t(i=>{const a=i.expenses.filter(o=>o.id!==n);return Nt(et.EXPENSES,a),{expenses:a}}),r)try{await X2.delete(r.uid,n)}catch(i){console.error("Failed to delete expense from Firestore:",i)}},getExpensesByMonth:(n,r)=>e().expenses.filter(a=>{const o=new Date(a.date);return o.getFullYear()===n&&o.getMonth()+1===r}),getTotalByMonth:(n,r)=>e().getExpensesByMonth(n,r).reduce((a,o)=>a+o.amount,0),getTotalByCategory:(n,r,i)=>e().getExpensesByMonth(r,i).filter(o=>o.category===n).reduce((o,l)=>o+l.amount,0),syncWithFirestore:async()=>{const n=Et.currentUser;if(n)try{t({loading:!0});const r=await X2.getAll(n.uid);t({expenses:r,loading:!1,initialized:!0}),Nt(et.EXPENSES,r)}catch(r){console.error("Failed to sync expenses with Firestore:",r),t({loading:!1})}}})),mo=Gu((t,e)=>({stocks:fl(et.STOCKS,[]),loading:!1,initialized:!1,setStocks:n=>t({stocks:n}),addStock:async n=>{const r=Et.currentUser,i={id:rl(),...n,createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.stocks,i];return Nt(et.STOCKS,o),{stocks:o}}),r)try{await d1.add(r.uid,i)}catch(a){console.error("Failed to add stock to Firestore:",a)}},updateStock:async(n,r)=>{const i=Et.currentUser,a={...r,updatedAt:new Date().toISOString()};if(t(o=>{const l=o.stocks.map(c=>c.id===n?{...c,...a}:c);return Nt(et.STOCKS,l),{stocks:l}}),i)try{await d1.update(i.uid,n,a)}catch(o){console.error("Failed to update stock in Firestore:",o)}},deleteStock:async n=>{const r=Et.currentUser;if(t(i=>{const a=i.stocks.filter(o=>o.id!==n);return Nt(et.STOCKS,a),{stocks:a}}),r)try{await d1.delete(r.uid,n)}catch(i){console.error("Failed to delete stock from Firestore:",i)}},getExpiringStocks:n=>e().stocks.filter(i=>i.daysRemaining<=n),getStockIngredients:()=>e().stocks.map(r=>r.name),syncWithFirestore:async()=>{const n=Et.currentUser;if(n)try{t({loading:!0});const r=await d1.getAll(n.uid);t({stocks:r,loading:!1,initialized:!0}),Nt(et.STOCKS,r)}catch(r){console.error("Failed to sync stocks with Firestore:",r),t({loading:!1})}}})),XG=[{name:"米",quantity:1,category:"staple"},{name:"卵",quantity:10,category:"protein"},{name:"牛乳",quantity:1,category:"dairy"},{name:"パン",quantity:1,category:"staple"},{name:"鶏肉",quantity:1,category:"protein"},{name:"豚肉",quantity:1,category:"protein"},{name:"玉ねぎ",quantity:3,category:"vegetable"},{name:"にんじん",quantity:3,category:"vegetable"},{name:"じゃがいも",quantity:3,category:"vegetable"},{name:"トマト",quantity:3,category:"vegetable"},{name:"バナナ",quantity:1,category:"fruit"},{name:"ヨーグルト",quantity:1,category:"dairy"},{name:"醤油",quantity:1,category:"seasoning"},{name:"塩",quantity:1,category:"seasoning"}],Xu=Gu((t,e)=>({items:fl(et.SHOPPING,[]),loading:!1,initialized:!1,setItems:n=>t({items:n}),addItem:async n=>{const r=Et.currentUser;if(e().items.find(o=>o.name===n.name&&!o.checked))return;const a={id:rl(),...n,checked:!1,createdAt:new Date().toISOString()};if(t(o=>{const l=[...o.items,a];return Nt(et.SHOPPING,l),{items:l}}),r)try{await Zd.add(r.uid,a)}catch(o){console.error("Failed to add shopping item to Firestore:",o)}},toggleItem:async n=>{const r=Et.currentUser;if(t(i=>{const a=i.items.map(o=>o.id===n?{...o,checked:!o.checked,updatedAt:new Date().toISOString()}:o);return Nt(et.SHOPPING,a),{items:a}}),r)try{const i=e().items.find(a=>a.id===n);i&&await Zd.update(r.uid,n,{checked:i.checked,updatedAt:new Date().toISOString()})}catch(i){console.error("Failed to toggle shopping item in Firestore:",i)}},deleteItem:async n=>{const r=Et.currentUser;if(t(i=>{const a=i.items.filter(o=>o.id!==n);return Nt(et.SHOPPING,a),{items:a}}),r)try{await Zd.delete(r.uid,n)}catch(i){console.error("Failed to delete shopping item from Firestore:",i)}},clearCompleted:async()=>{const n=Et.currentUser,r=e().items.filter(i=>i.checked).map(i=>i.id);if(t(i=>{const a=i.items.filter(o=>!o.checked);return Nt(et.SHOPPING,a),{items:a}}),n)try{await Promise.all(r.map(i=>Zd.delete(n.uid,i)))}catch(i){console.error("Failed to clear completed items from Firestore:",i)}},addWeeklyEssentials:()=>{t(n=>{const r=n.items,i=[...r];return XG.forEach(a=>{r.find(l=>l.name===a.name&&!l.checked)||i.push({id:rl(),name:a.name,quantity:a.quantity,category:a.category,checked:!1,createdAt:new Date().toISOString()})}),Nt(et.SHOPPING,i),{items:i}})},addLowStockItems:n=>{t(r=>{const i=r.items,a=[...i];return n.forEach(o=>{i.find(c=>c.name===o.name&&!c.checked)||a.push({id:rl(),name:o.name,quantity:1,category:o.category,checked:!1,createdAt:new Date().toISOString()})}),Nt(et.SHOPPING,a),{items:a}})},syncWithFirestore:async()=>{const n=Et.currentUser;if(n)try{t({loading:!0});const r=await Zd.getAll(n.uid);t({items:r,loading:!1,initialized:!0}),Nt(et.SHOPPING,r)}catch(r){console.error("Failed to sync shopping items with Firestore:",r),t({loading:!1})}}})),YG=10,c0=Gu((t,e)=>({recipeHistory:fl(et.RECIPE_HISTORY,[]),favoriteRecipes:fl(et.FAVORITE_RECIPES,[]),loading:!1,initialized:!1,setRecipes:(n,r)=>t({recipeHistory:n,favoriteRecipes:r}),addToHistory:async n=>{const r=Et.currentUser,i={id:rl(),recipe:n,generatedAt:new Date().toISOString()};if(t(a=>{const o=[i,...a.recipeHistory].slice(0,YG);return Nt(et.RECIPE_HISTORY,o),{recipeHistory:o}}),r)try{await h1.add(r.uid,i)}catch(a){console.error("Failed to add recipe history to Firestore:",a)}},addToFavorites:async n=>{const r=Et.currentUser;if(e().favoriteRecipes.find(o=>o.id===n.id))return;const a={...n,isFavorite:!0};if(t(o=>{const l=[a,...o.favoriteRecipes];return Nt(et.FAVORITE_RECIPES,l),{favoriteRecipes:l}}),r)try{await h1.add(r.uid,a)}catch(o){console.error("Failed to add favorite recipe to Firestore:",o)}},removeFromFavorites:async n=>{const r=Et.currentUser;if(t(i=>{const a=i.favoriteRecipes.filter(o=>o.id!==n);return Nt(et.FAVORITE_RECIPES,a),{favoriteRecipes:a}}),r)try{await h1.delete(r.uid,n)}catch(i){console.error("Failed to delete favorite recipe from Firestore:",i)}},isFavorite:n=>e().favoriteRecipes.some(i=>i.id===n),syncWithFirestore:async()=>{const n=Et.currentUser;if(n)try{t({loading:!0}),console.log(`[RecipeStore] Syncing data for user: ${n.uid}`);const i=await h1.getAll(n.uid),a=[];console.log(`[RecipeStore] Loaded ${i.length} recipes from Firestore`),t({recipeHistory:a,favoriteRecipes:i,loading:!1,initialized:!0}),Nt(et.RECIPE_HISTORY,a),Nt(et.FAVORITE_RECIPES,i)}catch(r){console.error("Failed to sync recipes with Firestore:",r),t({loading:!1})}}})),nO={monthlyBudget:3e4,darkMode:!1,notifications:{enabled:!0,breakfast:{enabled:!0,time:"07:00"},lunch:{enabled:!0,time:"12:00"},dinner:{enabled:!0,time:"18:00"}},firstTime:!0},Fh=Gu((t,e)=>({settings:{...nO,...fl(et.SETTINGS,nO)},loading:!1,initialized:!1,updateSettings:async n=>{const r=Et.currentUser;if(t(i=>{const a={...i.settings,...n};return Nt(et.SETTINGS,a),"darkMode"in n&&document.body.classList.toggle("dark-mode",n.darkMode),{settings:a}}),r)try{const i=e().settings;await p1.set(r.uid,i)}catch(i){console.error("Failed to update settings in Firestore:",i)}},toggleDarkMode:async()=>{const n=Et.currentUser,r=!e().settings.darkMode;if(t(i=>{const a={...i.settings,darkMode:r};return Nt(et.SETTINGS,a),document.body.classList.toggle("dark-mode",r),{settings:a}}),n)try{const i=e().settings;await p1.set(n.uid,i)}catch(i){console.error("Failed to toggle dark mode in Firestore:",i)}},setFirstTime:n=>t(r=>{const i={...r.settings,firstTime:n};return Nt(et.SETTINGS,i),{settings:i}}),syncWithFirestore:async()=>{const n=Et.currentUser;if(n)try{t({loading:!0}),console.log(`[SettingsStore] Syncing data for user: ${n.uid}`);const r=await p1.get(n.uid);if(r)console.log("[SettingsStore] Loaded settings from Firestore"),t({settings:r,loading:!1,initialized:!0}),Nt(et.SETTINGS,r),document.body.classList.toggle("dark-mode",r.darkMode);else{console.log("[SettingsStore] No settings found, using defaults");const i=e().settings;await p1.set(n.uid,i),t({loading:!1,initialized:!0})}}catch(r){console.error("Failed to sync settings with Firestore:",r),t({loading:!1})}}})),Sg=[{id:"streak-3",name:"3日連続記録",description:"3日間連続で食事を記録しました",icon:"🔥",category:"streak",requirement:"3日間連続で食事記録",checkCondition:t=>t.consecutiveDays>=3},{id:"streak-7",name:"1週間継続",description:"7日間連続で食事を記録しました",icon:"🎯",category:"streak",requirement:"7日間連続で食事記録",checkCondition:t=>t.consecutiveDays>=7},{id:"streak-14",name:"2週間チャンピオン",description:"14日間連続で食事を記録しました",icon:"🏆",category:"streak",requirement:"14日間連続で食事記録",checkCondition:t=>t.consecutiveDays>=14},{id:"streak-30",name:"1ヶ月マスター",description:"30日間連続で食事を記録しました",icon:"👑",category:"streak",requirement:"30日間連続で食事記録",checkCondition:t=>t.consecutiveDays>=30},{id:"milestone-10-intakes",name:"記録の第一歩",description:"食事記録が10件に達しました",icon:"📝",category:"milestone",requirement:"食事記録10件",checkCondition:t=>t.intakesCount>=10},{id:"milestone-50-intakes",name:"記録マスター",description:"食事記録が50件に達しました",icon:"📚",category:"milestone",requirement:"食事記録50件",checkCondition:t=>t.intakesCount>=50},{id:"milestone-100-intakes",name:"記録の達人",description:"食事記録が100件に達しました",icon:"🎓",category:"milestone",requirement:"食事記録100件",checkCondition:t=>t.intakesCount>=100},{id:"goal-budget-first",name:"節約家デビュー",description:"先月の支出が予算内に収まりました！",icon:"💰",category:"goal",requirement:"月次予算達成（毎月1日に先月分を判定）",checkCondition:t=>t.budgetAchieved},{id:"feature-recipe-first",name:"AIシェフデビュー",description:"初めてAIレシピを生成しました",icon:"👨‍🍳",category:"feature",requirement:"AIレシピ生成1回",checkCondition:t=>t.recipesGenerated>=1},{id:"feature-recipe-10",name:"レシピマスター",description:"AIレシピを10回生成しました",icon:"🍳",category:"feature",requirement:"AIレシピ生成10回",checkCondition:t=>t.recipesGenerated>=10},{id:"feature-barcode-first",name:"スキャナーデビュー",description:"初めてバーコードをスキャンしました",icon:"📱",category:"feature",requirement:"バーコードスキャン1回",checkCondition:t=>t.barcodesScanned>=1},{id:"feature-barcode-10",name:"スキャンマスター",description:"バーコードを10回スキャンしました",icon:"🔍",category:"feature",requirement:"バーコードスキャン10回",checkCondition:t=>t.barcodesScanned>=10},{id:"milestone-all-features",name:"フル活用マスター",description:"すべての機能を使いこなしています",icon:"⭐",category:"milestone",requirement:"全機能の使用",checkCondition:t=>t.intakesCount>=5&&t.expensesCount>=5&&t.stocksCount>=3&&t.recipesGenerated>=1&&t.barcodesScanned>=1}];function QG(t){return Sg.find(e=>e.id===t)}const AE=Gu((t,e)=>({badges:fl(et.BADGES,[]),newBadges:[],loading:!1,checkAndUnlockBadges:n=>{const r=e().badges,i=r.map(o=>o.id),a=[];return Sg.forEach(o=>{if(!i.includes(o.id)&&o.checkCondition(n)){const l={id:o.id,name:o.name,description:o.description,icon:o.icon,category:o.category,requirement:o.requirement,unlockedAt:new Date().toISOString()};r.push(l),a.push(o.id)}}),a.length>0&&(t({badges:r,newBadges:a}),Nt(et.BADGES,r)),a},clearNewBadges:()=>{t({newBadges:[]})},getBadge:n=>e().badges.find(r=>r.id===n),isUnlocked:n=>e().badges.some(r=>r.id===n),getUnlockedCount:()=>e().badges.length,getTotalCount:()=>Sg.length})),ZG=()=>{const{getTotalCaloriesByDate:t}=go(),{getTotalByMonth:e}=vo(),n=T.useMemo(()=>{const i=new Date().toISOString().split("T")[0];return t(i)},[t]),r=T.useMemo(()=>{const i=new Date;return e(i.getFullYear(),i.getMonth()+1)},[e]);return b.jsxs("div",{className:"summary-box",children:[b.jsxs("div",{className:"summary-row",children:[b.jsx("span",{className:"summary-label",children:"今日のカロリー"}),b.jsxs("span",{className:"summary-value",children:[n," kcal"]})]}),b.jsxs("div",{className:"summary-row",children:[b.jsx("span",{className:"summary-label",children:"今月の支出"}),b.jsxs("span",{className:"summary-value positive",children:["¥",r.toLocaleString()]})]})]})},JG=({onNavigate:t})=>{const e=[{screen:"meals",icon:b.jsx(_w,{size:32}),label:"食事記録",color:"#3b82f6"},{screen:"barcode",icon:b.jsx(xw,{size:32}),label:"スキャン",color:"#8b5cf6"},{screen:"expense",icon:b.jsx(XB,{size:32}),label:"家計簿",color:"#10b981"},{screen:"stock",icon:b.jsx(af,{size:32}),label:"在庫管理",color:"#f59e0b"},{screen:"recipe",icon:b.jsx(ng,{size:32}),label:"AIレシピ",color:"#ef4444"},{screen:"shopping",icon:b.jsx(xv,{size:32}),label:"買い物",color:"#06b6d4"},{screen:"report",icon:b.jsx(YB,{size:32}),label:"レポート",color:"#6366f1"},{screen:"badges",icon:b.jsx(nF,{size:32}),label:"バッジ",color:"#f59e0b"},{screen:"settings",icon:b.jsx($B,{size:32}),label:"設定",color:"#64748b"}],n=r=>{r.onClick?r.onClick():r.screen&&t(r.screen)};return b.jsx("div",{className:"function-grid",children:e.map((r,i)=>b.jsxs("button",{className:"function-card",style:{"--card-color":r.color},onClick:()=>n(r),children:[b.jsx("div",{className:"function-icon",style:{color:r.color},children:r.icon}),b.jsx("div",{className:"function-label",children:r.label})]},i))})},rO=({onNavigate:t})=>b.jsxs("section",{className:"screen active",children:[b.jsx("h2",{children:"ホーム"}),b.jsx(ZG,{}),b.jsx(JG,{onNavigate:t})]}),eK=()=>{const{addIntake:t}=go(),[e,n]=T.useState(""),[r,i]=T.useState(""),[a,o]=T.useState(""),l=()=>{if(!e||!r||!a){alert("すべての項目を入力してください");return}t({name:e,calories:Number(r),price:Number(a)}),n(""),i(""),o(""),alert("食事を記録しました！")};return b.jsxs("div",{className:"card",children:[b.jsx("label",{children:"食品名"}),b.jsx("input",{value:e,onChange:c=>n(c.target.value),placeholder:"例: 牛乳"}),b.jsx("label",{children:"カロリー(kcal)"}),b.jsx("input",{type:"number",value:r,onChange:c=>i(c.target.value),placeholder:"200"}),b.jsx("label",{children:"金額(円)"}),b.jsx("input",{type:"number",value:a,onChange:c=>o(c.target.value),placeholder:"150"}),b.jsx("button",{className:"submit",onClick:l,children:"記録する"})]})},tK=()=>{const{intakes:t,deleteIntake:e,getTotalCaloriesByDate:n,getTotalPriceByDate:r}=go(),i=T.useMemo(()=>{const f=new Date().toISOString().split("T")[0];return t.filter(h=>h.date.startsWith(f))},[t]),a=new Date().toISOString().split("T")[0],o=n(a),l=r(a),c=f=>{confirm("この記録を削除しますか？")&&e(f)};return b.jsxs("div",{className:"card",children:[b.jsx("h3",{children:"今日の記録"}),i.length===0?b.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"まだ記録がありません"}):b.jsxs(b.Fragment,{children:[b.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:i.map(f=>b.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[b.jsxs("div",{style:{flex:1},children:[b.jsx("div",{style:{fontWeight:500,marginBottom:"4px"},children:f.name}),b.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:[f.calories," kcal · ¥",f.price]})]}),b.jsx("button",{onClick:()=>c(f.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},children:b.jsx(Qh,{size:20})})]},f.id))}),b.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"var(--card)",borderRadius:"8px",display:"flex",justifyContent:"space-between"},children:[b.jsxs("span",{children:[b.jsx("strong",{children:"合計カロリー:"})," ",o," kcal"]}),b.jsxs("span",{children:[b.jsx("strong",{children:"合計金額:"})," ¥",l]})]})]})]})},nK=()=>b.jsxs("section",{className:"screen active",children:[b.jsx("h2",{children:"食事記録"}),b.jsx(eK,{}),b.jsx(tK,{})]}),rK=async(t,e)=>{try{return{user:(await uq(Et,t,e)).user,error:null}}catch(n){return{user:null,error:n.message}}},iK=async()=>{const t=new Bo;try{return{user:(await kq(Et,t)).user,error:null}}catch(e){return{user:null,error:e.message}}},aK=async()=>{try{return await gq(Et),localStorage.clear(),{error:null}}catch(t){return{error:t.message}}},oK=t=>pq(Et,t),P5=()=>{const[t,e]=T.useState(null),[n,r]=T.useState(!0);return T.useEffect(()=>{const i=oK(a=>{e(a),r(!1)});return()=>i()},[]),{user:t,loading:n}};async function sK(){return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission!=="denied"?await Notification.requestPermission()==="granted":!1:(console.warn("このブラウザは通知をサポートしていません"),!1)}function lK(t,e){"Notification"in window&&Notification.permission==="granted"&&new Notification(t,{icon:"/icon-192.png",badge:"/icon-192.png",...e})}function uK(t){const e={breakfast:"朝食",lunch:"昼食",dinner:"夕食"};lK(`${{breakfast:"🍳",lunch:"🍱",dinner:"🍽️"}[t]} ${e[t]}の記録をお忘れなく！`,{body:"食事の記録を追加して、健康管理を続けましょう",tag:`meal-reminder-${t}`,requireInteraction:!1})}function cK(t){if(!t.enabled){iO();return}iO(),t.breakfast.enabled&&K1("breakfast",t.breakfast.time),t.lunch.enabled&&K1("lunch",t.lunch.time),t.dinner.enabled&&K1("dinner",t.dinner.time)}function K1(t,e){const[n,r]=e.split(":").map(Number),i=new Date,a=new Date(i.getFullYear(),i.getMonth(),i.getDate(),n,r,0);a<=i&&a.setDate(a.getDate()+1);const o=a.getTime()-i.getTime(),l=setTimeout(()=>{uK(t),K1(t,e)},o);fK(t,l)}function iO(){D5().forEach(e=>clearTimeout(e)),localStorage.removeItem("notification-schedules")}function fK(t,e){const n=D5();n.push(e),localStorage.setItem("notification-schedules",JSON.stringify(n))}function D5(){const t=localStorage.getItem("notification-schedules");return t?JSON.parse(t):[]}function dK(){return"Notification"in window}function hK(){return"Notification"in window?Notification.permission:null}function pK(){const{settings:t,updateSettings:e}=Fh(),[n,r]=T.useState(hK());T.useEffect(()=>{t.notifications.enabled&&n==="granted"&&cK(t.notifications)},[t.notifications,n]);const i=async()=>{if(!dK()){alert("このブラウザは通知をサポートしていません");return}if(!t.notifications.enabled){const l=await sK();if(r(l?"granted":"denied"),!l){alert("通知を有効にするには、ブラウザの設定で通知を許可してください");return}}await e({notifications:{...t.notifications,enabled:!t.notifications.enabled}})},a=async l=>{const c={...t.notifications,[l]:{...t.notifications[l],enabled:!t.notifications[l].enabled}};await e({notifications:c})},o=async(l,c)=>{const f={...t.notifications,[l]:{...t.notifications[l],time:c}};await e({notifications:f})};return b.jsx("div",{className:"notification-settings",children:b.jsxs("div",{className:"setting-section",children:[b.jsxs("div",{className:"setting-header",children:[b.jsxs("h3",{children:[t.notifications.enabled?b.jsx(iF,{size:24}):b.jsx(rF,{size:24}),"食事記録リマインダー"]}),b.jsx("p",{className:"setting-description",children:"指定した時間に食事記録の入力を促す通知を送信します"})]}),b.jsxs("div",{className:"setting-item",children:[b.jsx("div",{className:"setting-label",children:b.jsx("span",{children:"通知を有効化"})}),b.jsxs("label",{className:"toggle-switch",children:[b.jsx("input",{type:"checkbox",checked:t.notifications.enabled,onChange:i}),b.jsx("span",{className:"toggle-slider"})]})]}),n==="denied"&&b.jsx("div",{className:"notification-warning",children:b.jsx("p",{children:"⚠️ 通知が拒否されています。ブラウザの設定で通知を許可してください。"})}),t.notifications.enabled&&n==="granted"&&b.jsxs("div",{className:"meal-notifications",children:[b.jsxs("div",{className:"meal-notification-item",children:[b.jsxs("div",{className:"meal-header",children:[b.jsxs("div",{className:"meal-info",children:[b.jsx("span",{className:"meal-icon",children:"🍳"}),b.jsx("span",{className:"meal-name",children:"朝食"})]}),b.jsxs("label",{className:"toggle-switch",children:[b.jsx("input",{type:"checkbox",checked:t.notifications.breakfast.enabled,onChange:()=>a("breakfast")}),b.jsx("span",{className:"toggle-slider"})]})]}),t.notifications.breakfast.enabled&&b.jsx("div",{className:"time-input-wrapper",children:b.jsx("input",{type:"time",value:t.notifications.breakfast.time,onChange:l=>o("breakfast",l.target.value),className:"time-input"})})]}),b.jsxs("div",{className:"meal-notification-item",children:[b.jsxs("div",{className:"meal-header",children:[b.jsxs("div",{className:"meal-info",children:[b.jsx("span",{className:"meal-icon",children:"🍱"}),b.jsx("span",{className:"meal-name",children:"昼食"})]}),b.jsxs("label",{className:"toggle-switch",children:[b.jsx("input",{type:"checkbox",checked:t.notifications.lunch.enabled,onChange:()=>a("lunch")}),b.jsx("span",{className:"toggle-slider"})]})]}),t.notifications.lunch.enabled&&b.jsx("div",{className:"time-input-wrapper",children:b.jsx("input",{type:"time",value:t.notifications.lunch.time,onChange:l=>o("lunch",l.target.value),className:"time-input"})})]}),b.jsxs("div",{className:"meal-notification-item",children:[b.jsxs("div",{className:"meal-header",children:[b.jsxs("div",{className:"meal-info",children:[b.jsx("span",{className:"meal-icon",children:"🍽️"}),b.jsx("span",{className:"meal-name",children:"夕食"})]}),b.jsxs("label",{className:"toggle-switch",children:[b.jsx("input",{type:"checkbox",checked:t.notifications.dinner.enabled,onChange:()=>a("dinner")}),b.jsx("span",{className:"toggle-slider"})]})]}),t.notifications.dinner.enabled&&b.jsx("div",{className:"time-input-wrapper",children:b.jsx("input",{type:"time",value:t.notifications.dinner.time,onChange:l=>o("dinner",l.target.value),className:"time-input"})})]})]})]})})}const gK=()=>{const{settings:t,updateSettings:e,toggleDarkMode:n}=Fh(),{intakes:r}=go(),{expenses:i}=vo(),{stocks:a}=mo(),{user:o}=P5(),[l,c]=T.useState((t.monthlyBudget??3e4).toString()),f=()=>{e({monthlyBudget:Number(l)}),alert("設定を保存しました！")},h=()=>{const m=["種類,名前,カロリー,金額,日付",...r.map(A=>`食事記録,${A.name},${A.calories},${A.price},${A.date}`)].join(`
`),_=new Blob([m],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a");w.href=URL.createObjectURL(_),w.download=`健康家計アプリ_${new Date().toISOString().split("T")[0]}.csv`,w.click()},p=()=>{const m={intakes:r,expenses:i,stocks:a,settings:t,exportedAt:new Date().toISOString()},_=new Blob([JSON.stringify(m,null,2)],{type:"application/json"}),w=document.createElement("a");w.href=URL.createObjectURL(_),w.download=`健康家計アプリ_${new Date().toISOString().split("T")[0]}.json`,w.click()},v=async()=>{if(window.confirm("ログアウトしますか？")){const m=await aK();m.error&&alert("ログアウトに失敗しました: "+m.error)}};return b.jsxs("section",{className:"screen active",children:[b.jsx("h2",{children:"設定"}),b.jsxs("div",{className:"card",children:[b.jsx("h3",{children:"月間予算"}),b.jsx("input",{type:"number",value:l,onChange:m=>c(m.target.value),placeholder:"30000"}),b.jsxs("button",{className:"submit",onClick:f,children:[b.jsx(rD,{size:18,style:{marginRight:"8px"}}),"保存"]})]}),b.jsxs("div",{className:"card",children:[b.jsx("h3",{children:"外観"}),b.jsxs("div",{className:"setting-item",children:[b.jsxs("div",{className:"setting-item-left",children:[b.jsx("div",{className:"setting-icon",children:b.jsx(WB,{size:24})}),b.jsx("span",{className:"setting-label",children:"ダークモード"})]}),b.jsxs("label",{className:"toggle-switch",children:[b.jsx("input",{type:"checkbox",checked:t.darkMode,onChange:n}),b.jsx("span",{className:"toggle-slider"})]})]})]}),b.jsx("div",{className:"card",children:b.jsx(pK,{})}),b.jsxs("div",{className:"card",children:[b.jsx("h3",{children:"データエクスポート"}),b.jsxs("div",{style:{display:"flex",gap:"8px"},children:[b.jsxs("button",{className:"submit",onClick:h,style:{flex:1},children:[b.jsx(FB,{size:18,style:{marginRight:"8px"}}),"CSV"]}),b.jsxs("button",{className:"submit",onClick:p,style:{flex:1},children:[b.jsx(BB,{size:18,style:{marginRight:"8px"}}),"JSON"]})]})]}),b.jsxs("div",{className:"card",children:[b.jsx("h3",{children:"データ統計"}),b.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)"},children:[b.jsxs("p",{children:["食事記録: ",r.length,"件"]}),b.jsxs("p",{children:["支出記録: ",i.length,"件"]}),b.jsxs("p",{children:["在庫アイテム: ",a.length,"件"]})]})]}),b.jsxs("div",{className:"card",children:[b.jsx("h3",{children:"アカウント"}),b.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)",marginBottom:"12px"},children:b.jsxs("p",{children:["ログイン: ",o?.email]})}),b.jsxs("button",{className:"submit",onClick:v,style:{background:"linear-gradient(135deg, #f44336 0%, #d32f2f 100%)",width:"100%"},children:[b.jsx(HB,{size:18,style:{marginRight:"8px"}}),"ログアウト"]})]})]})},vK=()=>{const{addStock:t}=mo(),[e,n]=T.useState(""),[r,i]=T.useState(""),[a,o]=T.useState("1"),l=()=>{if(!e||!r){alert("品目名と残り日数を入力してください");return}t({name:e,daysRemaining:Number(r),quantity:Number(a)}),n(""),i(""),o("1"),alert("在庫を追加しました！")};return b.jsxs("div",{className:"card",children:[b.jsx("h3",{children:"手動で追加"}),b.jsx("label",{children:"品目"}),b.jsx("input",{value:e,onChange:c=>n(c.target.value),placeholder:"例: 牛乳"}),b.jsx("label",{children:"残り日数"}),b.jsx("input",{type:"number",value:r,onChange:c=>i(c.target.value),placeholder:"例: 3"}),b.jsx("label",{children:"数量"}),b.jsx("input",{type:"number",value:a,onChange:c=>o(c.target.value),placeholder:"1"}),b.jsx("button",{className:"submit",onClick:l,children:"在庫に登録"})]})},mK=()=>{const{stocks:t,deleteStock:e}=mo(),{addItem:n}=Xu(),r=l=>{confirm("この在庫を削除しますか？")&&e(l)},i=(l,c)=>{n({name:l,quantity:c}),alert(`「${l}」を買い物リストに追加しました！`)},a=l=>l<=0?"#ef4444":l<=1?"#f59e0b":l<=3?"#eab308":"#10b981",o=l=>l<=0?"期限切れ！":l===1?"明日期限":`残り${l}日`;return b.jsxs("div",{className:"card",children:[b.jsx("h3",{children:"在庫一覧"}),t.length===0?b.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"在庫がありません"}):b.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:t.map(l=>b.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[b.jsxs("div",{style:{flex:1},children:[b.jsxs("div",{style:{fontWeight:500,marginBottom:"4px"},children:[l.name,l.quantity>1&&b.jsxs("span",{style:{fontSize:"0.85rem",color:"#666",marginLeft:"8px"},children:["x",l.quantity]})]}),b.jsx("div",{style:{fontSize:"0.85rem",color:a(l.daysRemaining),fontWeight:600},children:o(l.daysRemaining)})]}),b.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[b.jsx("button",{onClick:()=>i(l.name,l.quantity),className:"delete-btn",style:{background:"transparent",border:"none",color:"#3b82f6",cursor:"pointer",fontSize:"18px"},title:"買い物リストに追加",children:b.jsx(xv,{size:20})}),b.jsx("button",{onClick:()=>r(l.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},title:"削除",children:b.jsx(Qh,{size:20})})]})]},l.id))})]})},yK=()=>{const{getExpiringStocks:t}=mo(),{addItem:e}=Xu(),n=T.useMemo(()=>t(0),[t]),r=T.useMemo(()=>t(1),[t]),i=()=>{const a=[...n,...r];a.length!==0&&confirm(`期限切れ間近の商品 ${a.length}個を買い物リストに追加しますか？`)&&(a.forEach(o=>{e({name:o.name,quantity:o.quantity})}),alert(`${a.length}個の商品を買い物リストに追加しました！`))};return n.length===0&&r.length===0?null:b.jsxs(b.Fragment,{children:[n.length>0&&b.jsxs("div",{className:"card",style:{background:"#fee2e2",borderLeft:"4px solid #ef4444",color:"#991b1b"},children:[b.jsx("h3",{style:{margin:"0 0 8px 0",color:"#ef4444"},children:"🚨 今日使うべき食材"}),b.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:n.map(a=>b.jsx("li",{children:a.name},a.id))})]}),r.length>0&&b.jsxs("div",{className:"card",style:{background:"#fef3c7",borderLeft:"4px solid #f59e0b",color:"#92400e"},children:[b.jsx("h3",{style:{margin:"0 0 8px 0",color:"#f59e0b"},children:"⏰ 明日期限切れ"}),b.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:r.map(a=>b.jsx("li",{children:a.name},a.id))})]}),b.jsx("div",{className:"card",style:{padding:"12px"},children:b.jsxs("button",{onClick:i,className:"submit",style:{background:"#3b82f6",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"12px"},children:[b.jsx(xv,{size:20}),"期限切れ間近の商品を買い物リストに追加"]})})]})},xK=()=>b.jsxs("section",{className:"screen active",children:[b.jsx("h2",{children:"在庫管理"}),b.jsx(yK,{}),b.jsx(vK,{}),b.jsx(mK,{})]}),_K=()=>{const{addWeeklyEssentials:t,addLowStockItems:e}=Xu(),{getExpiringStocks:n}=mo(),r=()=>{t(),alert("1週間分の買い物リストを追加しました！")},i=()=>{const a=n(2);if(a.length===0){alert("在庫が少ない商品はありません");return}e(a.map(o=>({name:o.name,category:o.category}))),alert(`${a.length}件の商品を追加しました！`)};return b.jsxs("div",{className:"card",children:[b.jsx("h3",{children:"🔰 初心者向けサポート"}),b.jsx("button",{className:"submit",onClick:r,style:{background:"linear-gradient(135deg, #3b82f6, #2563eb)",marginBottom:"8px"},children:"📅 1週間分の買い物リストを生成"}),b.jsx("button",{className:"submit",onClick:i,style:{background:"linear-gradient(135deg, #f59e0b, #d97706)"},children:"⚠️ 在庫が少ない商品を追加"})]})},bK=[{keywords:["ポテトチップス","チップス","スナック菓子","かっぱえびせん","ドリトス"],category:"スナック菓子",reason:"高カロリー・高脂質で、塩分も多く含まれています。",alternatives:["素焼きアーモンド","無塩ミックスナッツ","焼き野菜チップス","ドライフルーツ"]},{keywords:["コーラ","サイダー","炭酸飲料","ファンタ","ペプシ","ソーダ"],category:"清涼飲料水",reason:"糖分が非常に多く、虫歯や肥満の原因になります。",alternatives:["炭酸水","無糖の紅茶","麦茶","フレーバーウォーター（無糖）"]},{keywords:["カップラーメン","カップ麺","インスタントラーメン","カップ焼きそば"],category:"インスタント食品",reason:"塩分・脂質が多く、栄養バランスが偏りがちです。",alternatives:["生麺","冷凍うどん","乾麺（そば・パスタ）","低塩分インスタント麺"]},{keywords:["チョコレート","チョコ","ポッキー","きのこの山","たけのこの里"],category:"チョコレート菓子",reason:"糖分・脂質が多く、カロリーが高めです。",alternatives:["高カカオチョコレート（カカオ70%以上）","ドライフルーツ","ナッツ"]},{keywords:["唐揚げ","フライドチキン","とんかつ","天ぷら","フライドポテト","コロッケ"],category:"揚げ物",reason:"高カロリー・高脂質で、酸化した油が健康に悪影響を及ぼす可能性があります。",alternatives:["グリルチキン","蒸し鶏","焼き魚","ノンフライ調理品"]},{keywords:["ハンバーガー","ピザ","フライドポテト","ドーナツ"],category:"ファストフード",reason:"高カロリー・高脂質・高塩分で、栄養バランスが偏ります。",alternatives:["サンドイッチ（全粒粉パン）","サラダラップ","手作りピザ（薄皮）"]},{keywords:["アイスクリーム","アイス","ジェラート","ソフトクリーム"],category:"アイスクリーム",reason:"糖分・脂質が多く、食べ過ぎは肥満の原因になります。",alternatives:["フローズンヨーグルト","シャーベット","果物（冷凍）","低脂肪アイス"]},{keywords:["ケーキ","シュークリーム","ドーナツ","タルト","パウンドケーキ"],category:"洋菓子",reason:"糖分・脂質が非常に多く、カロリーが高いです。",alternatives:["和菓子（どら焼き、大福）","フルーツ","ヨーグルト","低糖質スイーツ"]},{keywords:["ベーコン","ソーセージ","ハム","サラミ","ウインナー"],category:"加工肉",reason:"塩分・添加物が多く、WHO（世界保健機関）が発がん性を指摘しています。",alternatives:["生肉（鶏むね肉、豚ヒレ肉）","魚","豆腐","納豆"]},{keywords:["エナジードリンク","レッドブル","モンスター","リアルゴールド"],category:"エナジードリンク",reason:"カフェイン・糖分が多く、心臓への負担や不眠の原因になります。",alternatives:["ブラックコーヒー","緑茶","麦茶","スポーツドリンク（無糖）"]},{keywords:["缶詰","缶コーン","缶ピーチ","フルーツ缶"],category:"缶詰（シロップ漬け）",reason:"シロップに糖分が多く含まれています。",alternatives:["生のフルーツ","冷凍フルーツ","水煮缶","ドライフルーツ"]},{keywords:["マヨネーズ","マーガリン","バター","ラード"],category:"高脂質調味料",reason:"脂質・カロリーが非常に高く、使いすぎは肥満の原因になります。",alternatives:["オリーブオイル","ごま油（少量）","低脂肪マヨネーズ","酢","レモン汁"]}];function wK(t){const e=t.toLowerCase();for(const n of bK)for(const r of n.keywords)if(e.includes(r.toLowerCase()))return{type:"warning",category:n.category,reason:n.reason,alternatives:n.alternatives};return null}async function EK(t,e){try{const n=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`「${t}」という商品の健康面での懸念点を分析し、より健康的な代替案を3つ提案してください。

以下のJSON形式で回答してください：
{
  "category": "商品カテゴリ",
  "reason": "健康面での懸念点（簡潔に）",
  "alternatives": ["代替案1", "代替案2", "代替案3"]
}

懸念点がない場合は null を返してください。`}]}]})});if(!n.ok)throw new Error("AI分析に失敗しました");const i=(await n.json()).candidates?.[0]?.content?.parts?.[0]?.text;if(!i)return null;const a=i.match(/\{[\s\S]*\}/);if(!a)return null;const o=JSON.parse(a[0]);return!o||o===null?null:{type:"warning",category:o.category||"不明",reason:o.reason||"",alternatives:o.alternatives||[]}}catch(n){return console.error("AI健康分析エラー:",n),null}}const AK=({productName:t,warning:e,onClose:n,onAddAlternative:r,onContinueAnyway:i})=>{const[a,o]=T.useState(!1),[l,c]=T.useState(null),[f,h]=T.useState(!1),p=async()=>{h(!0);const _=await EK(t,"AIzaSyBSqmtDaNAqF09NTYYKQsTKm-3fLl1LMr0");c(_),o(!0),h(!1)},v=a&&l?l:e;return b.jsx("div",{className:"modal",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:n,children:b.jsxs("div",{className:"modal-content",style:{background:"var(--card)",borderRadius:"16px",padding:"24px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflowY:"auto",position:"relative",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)"},onClick:m=>m.stopPropagation(),children:[b.jsx("button",{onClick:n,style:{position:"absolute",top:"16px",right:"16px",background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--text-secondary)"},children:b.jsx(_v,{size:24})}),b.jsxs("div",{style:{marginBottom:"20px"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[b.jsx(tD,{size:32,color:"#f59e0b"}),b.jsx("h3",{style:{margin:0,fontSize:"1.25rem"},children:"健康アドバイス"})]}),b.jsxs("p",{style:{margin:0,fontSize:"0.9rem",color:"var(--text-secondary)"},children:["「",b.jsx("strong",{children:t}),"」について"]})]}),b.jsxs("div",{style:{background:"#fef3c7",padding:"16px",borderRadius:"12px",marginBottom:"20px",borderLeft:"4px solid #f59e0b"},children:[b.jsxs("h4",{style:{margin:"0 0 8px 0",fontSize:"1rem",color:"#92400e"},children:["📊 カテゴリ: ",v.category]}),b.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#78350f",lineHeight:"1.6"},children:v.reason})]}),b.jsxs("div",{style:{marginBottom:"20px"},children:[b.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:"1rem",display:"flex",alignItems:"center",gap:"8px"},children:[b.jsx(UB,{size:20,color:"#10b981"}),"より健康的な代替案"]}),b.jsx("div",{style:{display:"grid",gap:"8px"},children:v.alternatives.map((m,_)=>b.jsxs("button",{onClick:()=>r(m),style:{background:"#f0fdf4",border:"2px solid #10b981",borderRadius:"8px",padding:"12px",cursor:"pointer",textAlign:"left",fontSize:"0.9rem",color:"#15803d",fontWeight:500,transition:"all 0.2s"},onMouseEnter:w=>{w.currentTarget.style.background="#dcfce7",w.currentTarget.style.transform="translateX(4px)"},onMouseLeave:w=>{w.currentTarget.style.background="#f0fdf4",w.currentTarget.style.transform="translateX(0)"},children:["✓ ",m]},_))})]}),!a&&b.jsxs("button",{onClick:p,disabled:f,style:{width:"100%",padding:"12px",background:"linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)",color:"white",border:"none",borderRadius:"8px",cursor:f?"not-allowed":"pointer",fontSize:"0.9rem",fontWeight:600,marginBottom:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",opacity:f?.6:1},children:[b.jsx(tg,{size:20}),f?"AI分析中...":"AIで詳しく分析する"]}),b.jsxs("div",{style:{display:"grid",gap:"8px"},children:[b.jsx("button",{onClick:i,style:{padding:"12px",background:"var(--primary)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:600},children:"このまま追加する"}),b.jsx("button",{onClick:n,style:{padding:"12px",background:"transparent",color:"var(--text-secondary)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem"},children:"キャンセル"})]})]})})},SK=()=>{const{addItem:t}=Xu(),[e,n]=T.useState(""),[r,i]=T.useState("1"),[a,o]=T.useState(null),[l,c]=T.useState(null),f=()=>{if(!e){alert("商品名を入力してください");return}const _=wK(e);if(_){o(_),c({name:e,quantity:Number(r)});return}h(e,Number(r))},h=(_,w)=>{t({name:_,quantity:w}),n(""),i("1")},p=()=>{o(null),c(null)},v=_=>{l&&h(_,l.quantity),p()},m=()=>{l&&h(l.name,l.quantity),p()};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"card",children:[b.jsx("h3",{children:"手動で追加"}),b.jsx("label",{children:"商品名"}),b.jsx("input",{value:e,onChange:_=>n(_.target.value),placeholder:"例: 牛乳",onKeyDown:_=>_.key==="Enter"&&f()}),b.jsx("label",{children:"数量"}),b.jsx("input",{type:"number",value:r,onChange:_=>i(_.target.value),placeholder:"1"}),b.jsx("button",{className:"submit",onClick:f,children:"リストに追加"})]}),a&&l&&b.jsx(AK,{productName:l.name,warning:a,onClose:p,onAddAlternative:v,onContinueAnyway:m})]})},CK=()=>{const{items:t,toggleItem:e,deleteItem:n,clearCompleted:r}=Xu(),{addStock:i}=mo(),[a,o]=T.useState(!1),l=()=>{confirm("チェック済みのアイテムをすべて削除しますか？")&&r()},c=()=>{const f=t.filter(h=>h.checked);if(f.length===0){alert("チェック済みのアイテムがありません");return}confirm(`チェック済みのアイテム ${f.length}個を在庫に追加しますか？
（賞味期限は7日後に設定されます）`)&&(f.forEach(h=>{i({name:h.name,quantity:h.quantity,daysRemaining:7})}),r(),o(!0),setTimeout(()=>{o(!1)},3e3))};return b.jsxs("div",{className:"card",children:[b.jsx("h3",{children:"買い物リスト"}),t.length===0?b.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"リストが空です"}):b.jsxs(b.Fragment,{children:[b.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:t.map(f=>b.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[b.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},children:[b.jsx("input",{type:"checkbox",checked:f.checked,onChange:()=>e(f.id),style:{width:"18px",height:"18px"}}),b.jsx("div",{style:{flex:1},children:b.jsxs("div",{style:{fontWeight:500,textDecoration:f.checked?"line-through":"none",color:f.checked?"#999":"inherit"},children:[f.name,f.quantity>1&&b.jsxs("span",{style:{fontSize:"0.85rem",color:"#666",marginLeft:"8px"},children:["x",f.quantity]})]})})]}),b.jsx("button",{onClick:()=>n(f.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},children:b.jsx(Qh,{size:20})})]},f.id))}),t.some(f=>f.checked)&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{style:{marginTop:"16px",padding:"16px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",color:"white",fontSize:"0.9rem",fontWeight:500},children:[b.jsx(af,{size:20}),b.jsx("span",{children:"買い物完了後はこちら！"})]}),b.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"0.85rem",margin:"0 0 12px 0",lineHeight:"1.5"},children:["チェックした商品を在庫に一括追加できます。",b.jsx("br",{}),"賞味期限は自動で7日後に設定されます。"]}),b.jsxs("button",{className:"submit",onClick:c,style:{background:"white",color:"#10b981",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"1rem",fontWeight:600,padding:"14px",border:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[b.jsx(af,{size:22}),"在庫に追加（",t.filter(f=>f.checked).length,"個）"]})]}),b.jsx("button",{className:"submit",onClick:l,style:{background:"transparent",color:"#ef4444",border:"2px solid #ef4444",marginTop:"8px",width:"100%"},children:"チェック済みをクリア"})]}),a&&b.jsxs("div",{style:{position:"fixed",top:"80px",left:"50%",transform:"translateX(-50%)",background:"#10b981",color:"white",padding:"16px 24px",borderRadius:"12px",boxShadow:"0 4px 16px rgba(16, 185, 129, 0.4)",display:"flex",alignItems:"center",gap:"12px",zIndex:1e3,animation:"slideDown 0.3s ease-out",fontSize:"1rem",fontWeight:600},children:[b.jsx(yv,{size:28}),b.jsx("span",{children:"在庫に追加しました！"})]})]})]})},TK=()=>b.jsxs("section",{className:"screen active",children:[b.jsx("h2",{children:"買い物リスト"}),b.jsx(_K,{}),b.jsx(SK,{}),b.jsx(CK,{})]}),tf="AIzaSyBSqmtDaNAqF09NTYYKQsTKm-3fLl1LMr0",N5=tf!=="YOUR_GEMINI_API_KEY_HERE";let Vc=[];function SE(t){const e=Date.now();Vc.push({type:t,timestamp:e}),Vc=Vc.filter(a=>e-a.timestamp<6e4);const n=Vc.filter(a=>a.type==="recipe").length,r=Vc.filter(a=>a.type==="receipt").length,i=Vc.length;console.log(`[API Usage] 直近1分間の合計リクエスト数: ${i}回`),console.log(`  - レシピ生成: ${n}回`),console.log(`  - レシートOCR: ${r}回`),console.log(`  - 残り制限枠: ${15-i}回 (Free Tier: 15回/分)`)}async function IK(t,e="none",n="none",r=""){if(console.log("[Gemini] API呼び出し開始",{ingredients:t,dietaryRestriction:e,difficulty:n,customRequest:r,API_ENABLED:N5,apiKeyPrefix:tf.substring(0,10)+"..."}),!t||t.length===0)throw new Error("材料を指定してください。");try{const i=e==="vegetarian"?"ベジタリアン":e==="vegan"?"ヴィーガン":"";let a="";n==="super_easy"?a=`

**重要**: 料理初心者でも絶対に失敗しない超簡単なレシピにしてください。調理工程は3ステップ以内、特別な道具や技術は不要にしてください。`:n==="under_5min"?a=`

**重要**: 調理時間5分以内で完成するレシピにしてください。`:n==="under_10min"?a=`

**重要**: 調理時間10分以内で完成するレシピにしてください。`:n==="no_fire"&&(a=`

**重要**: 火を使わずに作れるレシピにしてください（電子レンジやトースターは可）。`);const o=r?`

**追加のリクエスト**: ${r}`:"",l=`
あなたは日本語で答えるプロの料理アドバイザーです。
必ず日本語で回答してください。英語は使わないでください。

次の食材を使った${i}向けの家庭向けレシピを1つ提案してください。
料理名・材料・手順・ポイントを含めて出力してください。${a}${o}

食材: ${t.join("、")}

出力フォーマットは以下の形式でお願いします：

---
【料理名】
（料理名）

【材料】
（材料一覧）

【作り方】
1.
2.
3.

【ポイント】
（料理のコツやアドバイス）
---
`.trim(),c=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${tf}`;SE("recipe"),console.log("[Gemini] APIリクエスト送信",{url:c.replace(tf,"HIDDEN")});const f=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:l}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}})});if(console.log("[Gemini] APIレスポンス受信",{status:f.status,ok:f.ok}),console.log("[Gemini] Rate Limit Info:",{limit:f.headers.get("x-ratelimit-limit"),remaining:f.headers.get("x-ratelimit-remaining"),reset:f.headers.get("x-ratelimit-reset"),retryAfter:f.headers.get("retry-after")}),!f.ok){const p=await f.text();let v;try{v=JSON.parse(p)}catch{v={rawError:p}}console.error("[Gemini] APIエラー詳細",{status:f.status,statusText:f.statusText,errorData:v});let m=`Gemini API エラー (${f.status})`;throw v.error?.message&&(m+=`: ${v.error.message}`),new Error(m)}const h=await f.json();if(console.log("[Gemini] レスポンスデータ",h),h.candidates&&h.candidates.length>0){const p=h.candidates[0];if(p.content?.parts&&p.content.parts.length>0){const v=p.content.parts[0].text;return console.log("[Gemini] レシピ生成成功"),v.trim()}}throw console.error("[Gemini] レスポンス形式が不正",h),new Error("Gemini APIからレシピを取得できませんでした。")}catch(i){return console.error("[Gemini] エラー発生:",i),console.warn("[Gemini] モックデータを使用します。"),console.info("[Gemini] 新しいAPIキーが必要な場合: https://aistudio.google.com/app/apikey"),i instanceof Error&&i.message.includes("403")&&console.error("[Gemini] 403エラー: APIキーが無効または期限切れです。新しいキーを取得してください。"),PK(t,e,n)}}async function OK(t){console.log("[Gemini Text] テキスト生成開始");try{const e=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${tf}`;SE("recipe"),console.log("[Gemini Text] APIリクエスト送信");const n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:t}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:2048}})});if(console.log("[Gemini Text] APIレスポンス受信",{status:n.status}),!n.ok){const i=await n.text();throw console.error("[Gemini Text] APIエラー",i),new Error(`Gemini API エラー: ${n.status}`)}const r=await n.json();if(console.log("[Gemini Text] レスポンスデータ受信"),r.candidates&&r.candidates.length>0){const i=r.candidates[0];if(i.content?.parts&&i.content.parts.length>0){const a=i.content.parts[0].text.trim();return console.log("[Gemini Text] テキスト生成成功"),a}}throw new Error("テキストを生成できませんでした")}catch(e){throw console.error("[Gemini Text] エラー:",e),e}}const RK=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const a=r.result.split(",")[1];e(a)},r.onerror=n,r.readAsDataURL(t)});let aO=0;const oO=5e3;async function sO(t){console.log("[Gemini Receipt] OCR処理開始",{fileName:t.name,fileSize:t.size,API_ENABLED:N5});const e=Date.now(),n=e-aO;if(n<oO){const r=Math.ceil((oO-n)/1e3);throw new Error(`レート制限: ${r}秒後に再試行してください`)}try{aO=e;const r=await RK(t),i=`
あなたは日本語のレシート解析の専門家です。
このレシート画像から商品名と価格を正確に抽出してください。

以下のJSON形式で出力してください：
{
  "storeName": "店舗名（わかれば）",
  "date": "日付（YYYY-MM-DD形式、わかれば）",
  "total": 合計金額（数値、わかれば）,
  "items": [
    {
      "name": "商品名",
      "price": 価格（数値）,
      "quantity": 数量（数値、デフォルトは1）
    }
  ]
}

**重要な指示:**
1. 商品名と価格は必ず正確に抽出してください
2. 価格は数値のみ（円記号やカンマは除く）
3. 同じ商品が複数ある場合はquantityで表現
4. 合計金額や税金などの行は除外
5. 不明な項目は省略してOK
6. 必ずJSONのみを返してください（説明文は不要）
`.trim(),a=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-lite:generateContent?key=${tf}`;SE("receipt"),console.log("[Gemini Receipt] APIリクエスト送信");const o=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:i},{inlineData:{mimeType:t.type||"image/jpeg",data:r}}]}],generationConfig:{temperature:.1,topK:32,topP:1,maxOutputTokens:2048}})});if(console.log("[Gemini Receipt] APIレスポンス受信",{status:o.status}),console.log("[Gemini Receipt] Rate Limit Info:",{limit:o.headers.get("x-ratelimit-limit"),remaining:o.headers.get("x-ratelimit-remaining"),reset:o.headers.get("x-ratelimit-reset"),retryAfter:o.headers.get("retry-after")}),!o.ok){const c=await o.text();throw console.error("[Gemini Receipt] APIエラー",c),o.status===429?new Error("レート制限に達しました。数秒後に再試行してください。"):new Error(`Gemini API エラー: ${o.status}`)}const l=await o.json();if(console.log("[Gemini Receipt] レスポンスデータ",l),l.candidates&&l.candidates.length>0){const c=l.candidates[0];if(c.content?.parts&&c.content.parts.length>0){const f=c.content.parts[0].text.trim();console.log("[Gemini Receipt] 抽出テキスト:",f);let h=f;const p=f.match(/```json\s*([\s\S]*?)\s*```/);if(p)h=p[1];else if(f.includes("```")){const _=f.match(/```\s*([\s\S]*?)\s*```/);_&&(h=_[1])}const v=JSON.parse(h),m={items:v.items||[],total:v.total,storeName:v.storeName,date:v.date,rawText:f};return console.log("[Gemini Receipt] OCR成功",m),m}}throw new Error("レシートからテキストを抽出できませんでした")}catch(r){throw console.error("[Gemini Receipt] エラー:",r),r}}function PK(t,e,n="none"){const r=e==="vegetarian"?"ベジタリアン":e==="vegan"?"ヴィーガン":"",i=n==="super_easy"?"（超簡単）":n==="under_5min"?"（5分）":n==="under_10min"?"（10分）":n==="no_fire"?"（火を使わない）":"";return`
【料理名】
${t.join("と")}の${r}炒め${i}

【材料】
${t.map(a=>`・${a} 適量`).join(`
`)}
・塩、こしょう 少々
・サラダ油 大さじ1

【作り方】
1. ${t[0]||"材料"}を食べやすい大きさに切ります。
2. フライパンに油を熱し、材料を炒めます。
3. 塩、こしょうで味を調えて完成です。

【ポイント】
シンプルな炒め物なので、お好みで醤油やにんにくを加えても美味しいです。
野菜の食感を残すため、強火でサッと炒めるのがコツです。

※ このレシピはデモ用のモックデータです。実際のGemini APIキーを設定すると、AIが本格的なレシピを生成します。
※ 403エラーが発生しています。新しいAPIキーを https://aistudio.google.com/app/apikey で取得してください。
`.trim()}function Gv(t){return Me({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16a.5.5 0 0 1-.5-.5v-1.293l-.646.647a.5.5 0 0 1-.707-.708L7.5 12.793V8.866l-3.4 1.963-.496 1.85a.5.5 0 1 1-.966-.26l.237-.882-1.12.646a.5.5 0 0 1-.5-.866l1.12-.646-.884-.237a.5.5 0 1 1 .26-.966l1.848.495L7 8 3.6 6.037l-1.85.495a.5.5 0 0 1-.258-.966l.883-.237-1.12-.646a.5.5 0 1 1 .5-.866l1.12.646-.237-.883a.5.5 0 1 1 .966-.258l.495 1.849L7.5 7.134V3.207L6.147 1.854a.5.5 0 1 1 .707-.708l.646.647V.5a.5.5 0 1 1 1 0v1.293l.647-.647a.5.5 0 1 1 .707.708L8.5 3.207v3.927l3.4-1.963.496-1.85a.5.5 0 1 1 .966.26l-.236.882 1.12-.646a.5.5 0 0 1 .5.866l-1.12.646.883.237a.5.5 0 1 1-.26.966l-1.848-.495L9 8l3.4 1.963 1.849-.495a.5.5 0 0 1 .259.966l-.883.237 1.12.646a.5.5 0 0 1-.5.866l-1.12-.646.236.883a.5.5 0 1 1-.966.258l-.495-1.849-3.4-1.963v3.927l1.353 1.353a.5.5 0 0 1-.707.708l-.647-.647V15.5a.5.5 0 0 1-.5.5z"},child:[]}]})(t)}const DK=({onRecipeGenerated:t,isLoading:e,setIsLoading:n})=>{const{stocks:r}=mo(),{addToHistory:i}=c0(),[a,o]=T.useState(""),[l,c]=T.useState("none"),[f,h]=T.useState("none"),[p,v]=T.useState(""),m=[{value:"none",label:"指定なし",icon:b.jsx(tg,{size:16})},{value:"super_easy",label:"超簡単",icon:b.jsx(gv,{size:16})},{value:"under_5min",label:"5分以内",icon:b.jsx(vv,{size:16})},{value:"under_10min",label:"10分以内",icon:b.jsx(pv,{size:16})},{value:"no_fire",label:"火を使わない",icon:b.jsx(Gv,{size:16})}],_=[{value:"none",label:"指定なし",icon:b.jsx(ng,{size:16})},{value:"vegetarian",label:"ベジタリアン",icon:b.jsx("span",{children:"🥗"})},{value:"vegan",label:"ヴィーガン",icon:b.jsx("span",{children:"🌱"})}],w=()=>{const S=r.filter(I=>I.quantity>0).map(I=>I.name).slice(0,10).join(", ");o(S)},A=async()=>{if(!a.trim()){alert("材料を入力してください");return}n(!0);try{const S=a.split(/[,、]/).map(N=>N.trim()).filter(N=>N.length>0),I=await IK(S,f,l,p),O={id:rl(),title:`${S.slice(0,3).join("、")}を使ったレシピ`,content:I,ingredients:S,difficulty:l,dietaryRestriction:f,customRequest:p,isFavorite:!1,createdAt:new Date().toISOString()};i(O),t(O)}catch(S){console.error("レシピ生成エラー:",S),alert("レシピの生成に失敗しました。もう一度お試しください。")}finally{n(!1)}};return b.jsxs("div",{className:"card",children:[b.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[b.jsx(ng,{size:20}),"レシピを生成"]}),b.jsx("label",{children:"材料（カンマ区切り）"}),b.jsx("input",{value:a,onChange:S=>o(S.target.value),placeholder:"例: 鶏肉, じゃがいも, 玉ねぎ",disabled:e}),b.jsxs("button",{onClick:w,style:{background:"#10b981",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",marginBottom:"16px"},disabled:e,children:[b.jsx(af,{size:18,style:{marginRight:"6px"}}),"在庫の材料を使う"]}),b.jsx("label",{children:"難易度"}),b.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},children:m.map(S=>b.jsx("button",{onClick:()=>c(S.value),style:{padding:"8px 16px",borderRadius:"20px",border:`2px solid ${l===S.value?"var(--primary)":"var(--border)"}`,background:l===S.value?"var(--primary)":"var(--card)",color:l===S.value?"white":"var(--text)",cursor:"pointer",fontSize:"0.85rem",fontWeight:l===S.value?600:400},disabled:e,children:b.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[S.icon," ",S.label]})},S.value))}),b.jsx("label",{children:"食事制限"}),b.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},children:_.map(S=>b.jsx("button",{onClick:()=>h(S.value),style:{padding:"8px 16px",borderRadius:"20px",border:`2px solid ${f===S.value?"var(--primary)":"var(--border)"}`,background:f===S.value?"var(--primary)":"var(--card)",color:f===S.value?"white":"var(--text)",cursor:"pointer",fontSize:"0.85rem",fontWeight:f===S.value?600:400},disabled:e,children:b.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[S.icon," ",S.label]})},S.value))}),b.jsx("label",{children:"カスタムリクエスト（任意）"}),b.jsx("textarea",{value:p,onChange:S=>v(S.target.value),placeholder:"例: 辛めに作りたい、子供向けに優しい味で",rows:3,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--card)",color:"var(--text)",fontSize:"1rem",fontFamily:"inherit",resize:"vertical"},disabled:e}),b.jsxs("button",{className:"submit",onClick:A,disabled:e,children:[b.jsx(tg,{size:18,style:{marginRight:"8px"}}),"レシピを生成する"]})]})},NK=({recipe:t})=>{const{addToHistory:e,addToFavorites:n,removeFromFavorites:r,favoriteRecipes:i}=c0(),{addStock:a}=mo(),{addItem:o}=Xu(),l=i.some(p=>p.id===t.id),c=()=>{l?r(t.id):(n(t),e(t))},f=()=>{confirm(`材料 ${t.ingredients.length} 個を在庫に追加しますか？
（賞味期限は7日後に設定されます）`)&&(t.ingredients.forEach(p=>{a({name:p,quantity:1,daysRemaining:7})}),alert(`${t.ingredients.length}個の材料を在庫に追加しました！`))},h=()=>{confirm(`材料 ${t.ingredients.length} 個を買い物リストに追加しますか？`)&&(t.ingredients.forEach(p=>{o({name:p,quantity:1})}),alert(`${t.ingredients.length}個の材料を買い物リストに追加しました！`))};return b.jsxs("div",{className:"card",children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[b.jsx("h3",{children:t.title}),b.jsx("button",{onClick:c,style:{background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",padding:"4px",color:l?"#fbbf24":"var(--text-secondary)"},title:l?"お気に入りから削除":"お気に入りに追加",children:l?b.jsx(j_,{size:28}):b.jsx(aF,{size:28})})]}),b.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"12px"},children:[t.difficulty&&t.difficulty!=="none"&&b.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",background:"#f0fdf4",color:"#15803d",fontSize:"0.85rem",fontWeight:500},children:b.jsx("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:{super_easy:b.jsxs(b.Fragment,{children:[b.jsx(gv,{size:14})," 超簡単"]}),under_5min:b.jsxs(b.Fragment,{children:[b.jsx(vv,{size:14})," 5分以内"]}),under_10min:b.jsxs(b.Fragment,{children:[b.jsx(pv,{size:14})," 10分以内"]}),no_fire:b.jsxs(b.Fragment,{children:[b.jsx(Gv,{size:14})," 火を使わない"]}),none:""}[t.difficulty]})}),t.dietaryRestriction&&t.dietaryRestriction!=="none"&&b.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",background:"#fef3c7",color:"#92400e",fontSize:"0.85rem",fontWeight:500},children:{vegetarian:"🥗 ベジタリアン",vegan:"🌱 ヴィーガン",none:""}[t.dietaryRestriction]})]}),b.jsx("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"12px",marginBottom:"16px",whiteSpace:"pre-wrap",fontSize:"0.95rem",lineHeight:"1.6"},children:t.content}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[b.jsxs("button",{onClick:f,style:{background:"#10b981",color:"white",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[b.jsx(af,{size:18})," 在庫に追加"]}),b.jsxs("button",{onClick:h,style:{background:"#3b82f6",color:"white",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[b.jsx(xv,{size:18})," 買い物リストへ"]})]})]})},MK=({onRecipeSelect:t})=>{const{recipeHistory:e}=c0();if(e.length===0)return null;const n=r=>{const i=new Date(r),o=new Date().getTime()-i.getTime(),l=Math.floor(o/6e4),c=Math.floor(o/36e5),f=Math.floor(o/864e5);return l<1?"たった今":l<60?`${l}分前`:c<24?`${c}時間前`:f<7?`${f}日前`:i.toLocaleDateString("ja-JP",{month:"short",day:"numeric"})};return b.jsxs("div",{className:"card",children:[b.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[b.jsx(VB,{size:20}),"レシピ履歴"]}),b.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.map(r=>b.jsxs("div",{onClick:()=>t(r.recipe),style:{padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",cursor:"pointer",transition:"all 0.2s ease",background:"var(--card)"},onMouseEnter:i=>{i.currentTarget.style.background="var(--background)",i.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:i=>{i.currentTarget.style.background="var(--card)",i.currentTarget.style.transform="translateY(0)"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"6px"},children:[b.jsx("div",{style:{fontWeight:500,fontSize:"0.95rem",flex:1},children:r.recipe.title}),b.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary, #999)",whiteSpace:"nowrap",marginLeft:"8px"},children:n(r.generatedAt)})]}),b.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary, #666)",display:"flex",gap:"4px",flexWrap:"wrap"},children:[r.recipe.ingredients&&r.recipe.ingredients.slice(0,3).map((i,a)=>b.jsxs("span",{children:[i,a<Math.min((r.recipe.ingredients?.length||0)-1,2)?"、":""]},a)),r.recipe.ingredients&&r.recipe.ingredients.length>3&&b.jsxs("span",{style:{color:"var(--text-secondary, #999)"},children:["他",r.recipe.ingredients.length-3,"個"]})]}),(r.recipe.difficulty!=="none"||r.recipe.dietaryRestriction!=="none")&&b.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"6px",flexWrap:"wrap"},children:[r.recipe.difficulty&&r.recipe.difficulty!=="none"&&b.jsx("span",{style:{padding:"2px 8px",borderRadius:"8px",background:"#f0fdf4",color:"#15803d",fontSize:"0.75rem"},children:{super_easy:b.jsx(gv,{size:12}),under_5min:b.jsx(vv,{size:12}),under_10min:b.jsx(pv,{size:12}),no_fire:b.jsx(Gv,{size:12}),none:""}[r.recipe.difficulty]}),r.recipe.dietaryRestriction&&r.recipe.dietaryRestriction!=="none"&&b.jsx("span",{style:{padding:"2px 8px",borderRadius:"8px",background:"#fef3c7",color:"#92400e",fontSize:"0.75rem"},children:{vegetarian:"🥗",vegan:"🌱",none:""}[r.recipe.dietaryRestriction]})]})]},r.id))})]})},kK=({onRecipeSelect:t})=>{const{favoriteRecipes:e,removeFromFavorites:n}=c0();if(e.length===0)return null;const r=(i,a)=>{i.stopPropagation(),confirm("お気に入りから削除しますか？")&&n(a)};return b.jsxs("div",{className:"card",children:[b.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[b.jsx(j_,{size:20,color:"#fbbf24"}),"お気に入りレシピ"]}),b.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"12px"},children:e.map(i=>b.jsxs("div",{onClick:()=>t(i),style:{padding:"16px",borderRadius:"12px",border:"2px solid var(--border)",cursor:"pointer",transition:"all 0.2s ease",background:"var(--card)",position:"relative"},onMouseEnter:a=>{a.currentTarget.style.background="var(--background)",a.currentTarget.style.borderColor="var(--primary)",a.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:a=>{a.currentTarget.style.background="var(--card)",a.currentTarget.style.borderColor="var(--border)",a.currentTarget.style.transform="translateY(0)"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[b.jsx("div",{style:{fontWeight:600,fontSize:"1rem",flex:1},children:i.title}),b.jsx("button",{onClick:a=>r(a,i.id),style:{background:"transparent",border:"none",fontSize:"20px",cursor:"pointer",padding:"0 4px",color:"#fbbf24"},title:"お気に入りから削除",children:b.jsx(j_,{size:24})})]}),b.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)",marginBottom:"8px",display:"flex",gap:"6px",flexWrap:"wrap"},children:[b.jsx("span",{style:{fontWeight:500},children:"材料:"}),i.ingredients&&i.ingredients.slice(0,4).map((a,o)=>b.jsxs("span",{children:[a,o<Math.min((i.ingredients?.length||0)-1,3)?"、":""]},o)),i.ingredients&&i.ingredients.length>4&&b.jsxs("span",{style:{color:"var(--text-secondary, #999)"},children:["他",i.ingredients.length-4,"個"]})]}),(i.difficulty&&i.difficulty!=="none"||i.dietaryRestriction&&i.dietaryRestriction!=="none")&&b.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px",flexWrap:"wrap"},children:[i.difficulty&&i.difficulty!=="none"&&b.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",background:"#f0fdf4",color:"#15803d",fontSize:"0.8rem",fontWeight:500},children:b.jsx("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:{super_easy:b.jsxs(b.Fragment,{children:[b.jsx(gv,{size:14})," 超簡単"]}),under_5min:b.jsxs(b.Fragment,{children:[b.jsx(vv,{size:14})," 5分以内"]}),under_10min:b.jsxs(b.Fragment,{children:[b.jsx(pv,{size:14})," 10分以内"]}),no_fire:b.jsxs(b.Fragment,{children:[b.jsx(Gv,{size:14})," 火を使わない"]}),none:""}[i.difficulty]})}),i.dietaryRestriction&&i.dietaryRestriction!=="none"&&b.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",background:"#fef3c7",color:"#92400e",fontSize:"0.8rem",fontWeight:500},children:{vegetarian:"🥗 ベジタリアン",vegan:"🌱 ヴィーガン",none:""}[i.dietaryRestriction]})]}),i.customRequest&&b.jsxs("div",{style:{marginTop:"8px",fontSize:"0.85rem",color:"var(--text-secondary, #666)",fontStyle:"italic",padding:"6px 10px",background:"var(--background)",borderRadius:"6px",display:"flex",alignItems:"flex-start",gap:"6px"},children:[b.jsx(GB,{size:14,style:{marginTop:"2px",flexShrink:0}}),i.customRequest]})]},i.id))})]})},jK=()=>{const[t,e]=T.useState(null),[n,r]=T.useState(!1);return b.jsxs("section",{className:"screen active",children:[b.jsx("h2",{children:"AIレシピ生成"}),b.jsx(DK,{onRecipeGenerated:e,isLoading:n,setIsLoading:r}),n&&b.jsxs("div",{className:"card",style:{textAlign:"center",padding:"32px"},children:[b.jsx("div",{style:{fontSize:"48px",marginBottom:"12px",color:"var(--primary)"},children:b.jsx(ng,{size:48})}),b.jsx("div",{style:{fontWeight:600,marginBottom:"8px"},children:"レシピを生成中..."}),b.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)"},children:"AIがレシピを考えています"})]}),t&&!n&&b.jsx(NK,{recipe:t}),b.jsx(MK,{onRecipeSelect:e}),b.jsx(kK,{onRecipeSelect:e})]})};function LK(t,e){var n=Object.setPrototypeOf;n?n(t,e):t.__proto__=e}function BK(t,e){e===void 0&&(e=t.constructor);var n=Error.captureStackTrace;n&&n(t,e)}var FK=(function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},t(n,r)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),VK=(function(t){FK(e,t);function e(n,r){var i=this.constructor,a=t.call(this,n,r)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),LK(a,i.prototype),BK(a),a}return e})(Error),UK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ci=(function(t){UK(e,t);function e(n){n===void 0&&(n=void 0);var r=t.call(this,n)||this;return r.message=n,r}return e.prototype.getKind=function(){var n=this.constructor;return n.kind},e.kind="Exception",e})(VK),zK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ba=(function(t){zK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e})(ci),HK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ke=(function(t){HK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(ci),$K=(function(){function t(e){if(this.binarizer=e,e===null)throw new ke("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,n){return this.binarizer.getBlackRow(e,n)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,n,r,i){var a=this.binarizer.getLuminanceSource().crop(e,n,r,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t})(),qK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),or=(function(t){qK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(ci),GK=(function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t})(),$t=(function(){function t(){}return t.arraycopy=function(e,n,r,i,a){for(;a--;)r[i++]=e[n++]},t.currentTimeMillis=function(){return Date.now()},t})(),KK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),CE=(function(t){KK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(ci),WK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),lO=(function(t){WK(e,t);function e(n,r){n===void 0&&(n=void 0),r===void 0&&(r=void 0);var i=t.call(this,r)||this;return i.index=n,i.message=r,i}return e.kind="ArrayIndexOutOfBoundsException",e})(CE),XK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kn=(function(){function t(){}return t.fill=function(e,n){for(var r=0,i=e.length;r<i;r++)e[r]=n},t.fillWithin=function(e,n,r,i){t.rangeCheck(e.length,n,r);for(var a=n;a<r;a++)e[a]=i},t.rangeCheck=function(e,n,r){if(n>r)throw new ke("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new lO(n);if(r>e)throw new lO(r)},t.asList=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e},t.create=function(e,n,r){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:n}).fill(r)})},t.createInt32Array=function(e,n,r){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:n}).fill(r)})},t.equals=function(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]!==n[r])return!1;return!0},t.hashCode=function(e){var n,r;if(e===null)return 0;var i=1;try{for(var a=XK(e),o=a.next();!o.done;o=a.next()){var l=o.value;i=31*i+l}}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},t.fillUint8Array=function(e,n){for(var r=0;r!==e.length;r++)e[r]=n},t.copyOf=function(e,n){return e.slice(0,n)},t.copyOfUint8Array=function(e,n){if(e.length<=n){var r=new Uint8Array(n);return r.set(e),r}return e.slice(0,n)},t.copyOfRange=function(e,n,r){var i=r-n,a=new Int32Array(i);return $t.arraycopy(e,n,a,0,i),a},t.binarySearch=function(e,n,r){r===void 0&&(r=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,l=r(n,e[o]);if(l>0)i=o+1;else if(l<0)a=o-1;else return o}return-i-1},t.numberComparator=function(e,n){return e-n},t})(),Ye=(function(){function t(){}return t.numberOfTrailingZeros=function(e){var n;if(e===0)return 32;var r=31;return n=e<<16,n!==0&&(r-=16,e=n),n=e<<8,n!==0&&(r-=8,e=n),n=e<<4,n!==0&&(r-=4,e=n),n=e<<2,n!==0&&(r-=2,e=n),r-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,n){return Math.trunc(e/n)},t.parseInt=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),sr=(function(){function t(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=t.makeArray(e):this.bits=n)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var n=t.makeArray(e);$t.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var n=this.size;if(e>=n)return n;var r=this.bits,i=Math.floor(e/32),a=r[i];a&=~((1<<(e&31))-1);for(var o=r.length;a===0;){if(++i===o)return n;a=r[i]}var l=i*32+Ye.numberOfTrailingZeros(a);return l>n?n:l},t.prototype.getNextUnset=function(e){var n=this.size;if(e>=n)return n;var r=this.bits,i=Math.floor(e/32),a=~r[i];a&=~((1<<(e&31))-1);for(var o=r.length;a===0;){if(++i===o)return n;a=~r[i]}var l=i*32+Ye.numberOfTrailingZeros(a);return l>n?n:l},t.prototype.setBulk=function(e,n){this.bits[Math.floor(e/32)]=n},t.prototype.setRange=function(e,n){if(n<e||e<0||n>this.size)throw new ke;if(n!==e){n--;for(var r=Math.floor(e/32),i=Math.floor(n/32),a=this.bits,o=r;o<=i;o++){var l=o>r?0:e&31,c=o<i?31:n&31,f=(2<<c)-(1<<l);a[o]|=f}}},t.prototype.clear=function(){for(var e=this.bits.length,n=this.bits,r=0;r<e;r++)n[r]=0},t.prototype.isRange=function(e,n,r){if(n<e||e<0||n>this.size)throw new ke;if(n===e)return!0;n--;for(var i=Math.floor(e/32),a=Math.floor(n/32),o=this.bits,l=i;l<=a;l++){var c=l>i?0:e&31,f=l<a?31:n&31,h=(2<<f)-(1<<c)&4294967295;if((o[l]&h)!==(r?h:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,n){if(n<0||n>32)throw new ke("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(var r=n;r>0;r--)this.appendBit((e>>r-1&1)===1)},t.prototype.appendBitArray=function(e){var n=e.size;this.ensureCapacity(this.size+n);for(var r=0;r<n;r++)this.appendBit(e.get(r))},t.prototype.xor=function(e){if(this.size!==e.size)throw new ke("Sizes don't match");for(var n=this.bits,r=0,i=n.length;r<i;r++)n[r]^=e.bits[r]},t.prototype.toBytes=function(e,n,r,i){for(var a=0;a<i;a++){for(var o=0,l=0;l<8;l++)this.get(e)&&(o|=1<<7-l),e++;n[r+a]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,i=this.bits,a=0;a<r;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[n-a]=o}if(this.size!==r*32){for(var l=r*32-this.size,c=e[0]>>>l,a=1;a<r;a++){var f=e[a];c|=f<<32-l,e[a-1]=c,c=f>>>l}e[r-1]=c}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.size===n.size&&Kn.equals(this.bits,n.bits)},t.prototype.hashCode=function(){return 31*this.size+Kn.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",n=0,r=this.size;n<r;n++)(n&7)===0&&(e+=" "),e+=this.get(n)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],n=0,r=this.size;n<r;n++)e.push(this.get(n));return e},t})(),fb;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(fb||(fb={}));const tn=fb;var YK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ve=(function(t){YK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(ci),QK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rt;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(Rt||(Rt={}));var Gn=(function(){function t(e,n,r){for(var i,a,o=[],l=3;l<arguments.length;l++)o[l-3]=arguments[l];this.valueIdentifier=e,this.name=r,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(r,this);for(var c=this.values,f=0,h=c.length;f!==h;f++){var p=c[f];t.VALUES_TO_ECI.set(p,this)}try{for(var v=QK(o),m=v.next();!m.done;m=v.next()){var _=m.value;t.NAME_TO_ECI.set(_,this)}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new ve("incorect value");var n=t.VALUES_TO_ECI.get(e);if(n===void 0)throw new ve("incorect value");return n},t.getCharacterSetECIByName=function(e){var n=t.NAME_TO_ECI.get(e);if(n===void 0)throw new ve("incorect value");return n},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.getName()===n.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(Rt.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(Rt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(Rt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(Rt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(Rt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(Rt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(Rt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(Rt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(Rt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(Rt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(Rt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(Rt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(Rt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(Rt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(Rt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(Rt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(Rt.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(Rt.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(Rt.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(Rt.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(Rt.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(Rt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(Rt.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(Rt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(Rt.Big5,28,"Big5"),t.GB18030=new t(Rt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(Rt.EUC_KR,30,"EUC_KR","EUC-KR"),t})(),ZK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),W1=(function(t){ZK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(ci),ra=(function(){function t(){}return t.decode=function(e,n){var r=this.encodingName(n);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,n){var r=this.encodingName(n);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Gn?e:Gn.getCharacterSetECIByName(e)},t.decodeFallback=function(e,n){var r=this.encodingCharacterSet(n);if(t.isDecodeFallbackSupported(r)){for(var i="",a=0,o=e.length;a<o;a++){var l=e[a].toString(16);l.length<2&&(l="0"+l),i+="%"+l}return decodeURIComponent(i)}if(r.equals(Gn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new W1("Encoding "+this.encodingName(n)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Gn.UTF8)||e.equals(Gn.ISO8859_1)||e.equals(Gn.ASCII)},t.encodeFallback=function(e){for(var n=btoa(unescape(encodeURIComponent(e))),r=n.split(""),i=[],a=0;a<r.length;a++)i.push(r[a].charCodeAt(0));return new Uint8Array(i)},t})(),ut=(function(){function t(){}return t.castAsNonUtf8Char=function(e,n){n===void 0&&(n=null);var r=n?n.getName():this.ISO88591;return ra.decode(new Uint8Array([e]),r)},t.guessEncoding=function(e,n){if(n!=null&&n.get(tn.CHARACTER_SET)!==void 0)return n.get(tn.CHARACTER_SET).toString();for(var r=e.length,i=!0,a=!0,o=!0,l=0,c=0,f=0,h=0,p=0,v=0,m=0,_=0,w=0,A=0,S=0,I=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,O=0;O<r&&(i||a||o);O++){var N=e[O]&255;o&&(l>0?(N&128)===0?o=!1:l--:(N&128)!==0&&((N&64)===0?o=!1:(l++,(N&32)===0?c++:(l++,(N&16)===0?f++:(l++,(N&8)===0?h++:o=!1))))),i&&(N>127&&N<160?i=!1:N>159&&(N<192||N===215||N===247)&&S++),a&&(p>0?N<64||N===127||N>252?a=!1:p--:N===128||N===160||N>239?a=!1:N>160&&N<224?(v++,_=0,m++,m>w&&(w=m)):N>127?(p++,m=0,_++,_>A&&(A=_)):(m=0,_=0))}return o&&l>0&&(o=!1),a&&p>0&&(a=!1),o&&(I||c+f+h>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||w>=3||A>=3)?t.SHIFT_JIS:i&&a?w===2&&v===2||S*10>=r?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=-1;function a(l,c,f,h,p,v){if(l==="%%")return"%";if(n[++i]!==void 0){l=h?parseInt(h.substr(1)):void 0;var m=p?parseInt(p.substr(1)):void 0,_;switch(v){case"s":_=n[i];break;case"c":_=n[i][0];break;case"f":_=parseFloat(n[i]).toFixed(l);break;case"p":_=parseFloat(n[i]).toPrecision(l);break;case"e":_=parseFloat(n[i]).toExponential(l);break;case"x":_=parseInt(n[i]).toString(m||16);break;case"d":_=parseFloat(parseInt(n[i],m||10).toPrecision(l)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(m);for(var w=parseInt(f),A=f&&f[0]+""=="0"?"0":" ";_.length<w;)_=c!==void 0?_+A:A+_;return _}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.getBytes=function(e,n){return ra.encode(e,n)},t.getCharCode=function(e,n){return n===void 0&&(n=0),e.charCodeAt(n)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Gn.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Gn.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Gn.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t})(),Xe=(function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ut.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,n,r){for(var i=n;n<n+r;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)},t.prototype.substring=function(e,n){return this.value.substring(e,n)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,n){this.value=this.value.substring(0,e)+n+this.value.substring(e)},t})(),uo=(function(){function t(e,n,r,i){if(this.width=e,this.height=n,this.rowSize=r,this.bits=i,n==null&&(n=e),this.height=n,e<1||n<1)throw new ke("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var n=e.length,r=e[0].length,i=new t(r,n),a=0;a<n;a++)for(var o=e[a],l=0;l<r;l++)o[l]&&i.set(l,a);return i},t.parseFromString=function(e,n,r){if(e===null)throw new ke("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,l=-1,c=0,f=0;f<e.length;)if(e.charAt(f)===`
`||e.charAt(f)==="\r"){if(a>o){if(l===-1)l=a-o;else if(a-o!==l)throw new ke("row lengths do not match");o=a,c++}f++}else if(e.substring(f,f+n.length)===n)f+=n.length,i[a]=!0,a++;else if(e.substring(f,f+r.length)===r)f+=r.length,i[a]=!1,a++;else throw new ke("illegal character encountered: "+e.substring(f));if(a>o){if(l===-1)l=a-o;else if(a-o!==l)throw new ke("row lengths do not match");c++}for(var h=new t(l,c),p=0;p<a;p++)i[p]&&h.set(Math.floor(p%l),Math.floor(p/l));return h},t.prototype.get=function(e,n){var r=n*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0},t.prototype.set=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new ke("input matrix dimensions do not match");for(var n=new sr(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var l=a*r,c=e.getRow(a,n).getBitArray(),f=0;f<r;f++)i[l+f]^=c[f]},t.prototype.clear=function(){for(var e=this.bits,n=e.length,r=0;r<n;r++)e[r]=0},t.prototype.setRegion=function(e,n,r,i){if(n<0||e<0)throw new ke("Left and top must be nonnegative");if(i<1||r<1)throw new ke("Height and width must be at least 1");var a=e+r,o=n+i;if(o>this.height||a>this.width)throw new ke("The region must fit inside the matrix");for(var l=this.rowSize,c=this.bits,f=n;f<o;f++)for(var h=f*l,p=e;p<a;p++)c[h+Math.floor(p/32)]|=1<<(p&31)&4294967295},t.prototype.getRow=function(e,n){n==null||n.getSize()<this.width?n=new sr(this.width):n.clear();for(var r=this.rowSize,i=this.bits,a=e*r,o=0;o<r;o++)n.setBulk(o*32,i[a+o]);return n},t.prototype.setRow=function(e,n){$t.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),n=this.getHeight(),r=new sr(e),i=new sr(e),a=0,o=Math.floor((n+1)/2);a<o;a++)r=this.getRow(a,r),i=this.getRow(n-1-a,i),r.reverse(),i.reverse(),this.setRow(a,i),this.setRow(n-1-a,r)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,n=this.height,r=this.rowSize,i=this.bits,a=e,o=n,l=-1,c=-1,f=0;f<n;f++)for(var h=0;h<r;h++){var p=i[f*r+h];if(p!==0){if(f<o&&(o=f),f>c&&(c=f),h*32<a){for(var v=0;(p<<31-v&4294967295)===0;)v++;h*32+v<a&&(a=h*32+v)}if(h*32+31>l){for(var v=31;!(p>>>v);)v--;h*32+v>l&&(l=h*32+v)}}}return l<a||c<o?null:Int32Array.from([a,o,l-a+1,c-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,n=this.bits,r=0;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;for(var i=r/e,a=r%e*32,o=n[r],l=0;(o<<31-l&4294967295)===0;)l++;return a+=l,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,n=this.bits,r=n.length-1;r>=0&&n[r]===0;)r--;if(r<0)return null;for(var i=Math.floor(r/e),a=Math.floor(r%e)*32,o=n[r],l=31;!(o>>>l);)l--;return a+=l,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&Kn.equals(this.bits,n.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Kn.hashCode(this.bits),e},t.prototype.toString=function(e,n,r){return e===void 0&&(e="X "),n===void 0&&(n="  "),r===void 0&&(r=`
`),this.buildToString(e,n,r)},t.prototype.buildToString=function(e,n,r){for(var i=new Xe,a=0,o=this.height;a<o;a++){for(var l=0,c=this.width;l<c;l++)i.append(this.get(l,a)?e:n);i.append(r)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t})(),JK=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ae=(function(t){JK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(ci),eW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),tW=(function(t){eW(e,t);function e(n){var r=t.call(this,n)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return e.prototype.getBlackRow=function(n,r){var i=this.getLuminanceSource(),a=i.getWidth();r==null||r.getSize()<a?r=new sr(a):r.clear(),this.initArrays(a);for(var o=i.getRow(n,this.luminances),l=this.buckets,c=0;c<a;c++)l[(o[c]&255)>>e.LUMINANCE_SHIFT]++;var f=e.estimateBlackPoint(l);if(a<3)for(var c=0;c<a;c++)(o[c]&255)<f&&r.set(c);else for(var h=o[0]&255,p=o[1]&255,c=1;c<a-1;c++){var v=o[c+1]&255;(p*4-h-v)/2<f&&r.set(c),h=p,p=v}return r},e.prototype.getBlackMatrix=function(){var n=this.getLuminanceSource(),r=n.getWidth(),i=n.getHeight(),a=new uo(r,i);this.initArrays(r);for(var o=this.buckets,l=1;l<5;l++)for(var c=Math.floor(i*l/5),f=n.getRow(c,this.luminances),h=Math.floor(r*4/5),p=Math.floor(r/5);p<h;p++){var v=f[p]&255;o[v>>e.LUMINANCE_SHIFT]++}for(var m=e.estimateBlackPoint(o),_=n.getMatrix(),l=0;l<i;l++)for(var w=l*r,p=0;p<r;p++){var v=_[w+p]&255;v<m&&a.set(p,l)}return a},e.prototype.createBinarizer=function(n){return new e(n)},e.prototype.initArrays=function(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));for(var r=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)r[i]=0},e.estimateBlackPoint=function(n){for(var r=n.length,i=0,a=0,o=0,l=0;l<r;l++)n[l]>o&&(a=l,o=n[l]),n[l]>i&&(i=n[l]);for(var c=0,f=0,l=0;l<r;l++){var h=l-a,p=n[l]*h*h;p>f&&(c=l,f=p)}if(a>c){var v=a;a=c,c=v}if(c-a<=r/16)throw new ae;for(var m=c-1,_=-1,l=c-1;l>a;l--){var w=l-a,p=w*w*(c-l)*(i-n[l]);p>_&&(m=l,_=p)}return m<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(GK),nW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),rW=(function(t){nW(e,t);function e(n){var r=t.call(this,n)||this;return r.matrix=null,r}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var n=this.getLuminanceSource(),r=n.getWidth(),i=n.getHeight();if(r>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=n.getMatrix(),o=r>>e.BLOCK_SIZE_POWER;(r&e.BLOCK_SIZE_MASK)!==0&&o++;var l=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&l++;var c=e.calculateBlackPoints(a,o,l,r,i),f=new uo(r,i);e.calculateThresholdForBlock(a,o,l,r,i,c,f),this.matrix=f}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(n){return new e(n)},e.calculateThresholdForBlock=function(n,r,i,a,o,l,c){for(var f=o-e.BLOCK_SIZE,h=a-e.BLOCK_SIZE,p=0;p<i;p++){var v=p<<e.BLOCK_SIZE_POWER;v>f&&(v=f);for(var m=e.cap(p,2,i-3),_=0;_<r;_++){var w=_<<e.BLOCK_SIZE_POWER;w>h&&(w=h);for(var A=e.cap(_,2,r-3),S=0,I=-2;I<=2;I++){var O=l[m+I];S+=O[A-2]+O[A-1]+O[A]+O[A+1]+O[A+2]}var N=S/25;e.thresholdBlock(n,w,v,N,a,c)}}},e.cap=function(n,r,i){return n<r?r:n>i?i:n},e.thresholdBlock=function(n,r,i,a,o,l){for(var c=0,f=i*o+r;c<e.BLOCK_SIZE;c++,f+=o)for(var h=0;h<e.BLOCK_SIZE;h++)(n[f+h]&255)<=a&&l.set(r+h,i+c)},e.calculateBlackPoints=function(n,r,i,a,o){for(var l=o-e.BLOCK_SIZE,c=a-e.BLOCK_SIZE,f=new Array(i),h=0;h<i;h++){f[h]=new Int32Array(r);var p=h<<e.BLOCK_SIZE_POWER;p>l&&(p=l);for(var v=0;v<r;v++){var m=v<<e.BLOCK_SIZE_POWER;m>c&&(m=c);for(var _=0,w=255,A=0,S=0,I=p*a+m;S<e.BLOCK_SIZE;S++,I+=a){for(var O=0;O<e.BLOCK_SIZE;O++){var N=n[I+O]&255;_+=N,N<w&&(w=N),N>A&&(A=N)}if(A-w>e.MIN_DYNAMIC_RANGE)for(S++,I+=a;S<e.BLOCK_SIZE;S++,I+=a)for(var O=0;O<e.BLOCK_SIZE;O++)_+=n[I+O]&255}var k=_>>e.BLOCK_SIZE_POWER*2;if(A-w<=e.MIN_DYNAMIC_RANGE&&(k=w/2,h>0&&v>0)){var B=(f[h-1][v]+2*f[h][v-1]+f[h-1][v-1])/4;w<B&&(k=B)}f[h][v]=k}}return f},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(tW),Kv=(function(){function t(e,n){this.width=e,this.height=n}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,n,r,i){throw new W1("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new W1("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new W1("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),n=new Xe,r=0;r<this.height;r++){for(var i=this.getRow(r,e),a=0;a<this.width;a++){var o=i[a]&255,l=void 0;o<64?l="#":o<128?l="+":o<192?l=".":l=" ",n.append(l)}n.append(`
`)}return n.toString()},t})(),iW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),TE=(function(t){iW(e,t);function e(n){var r=t.call(this,n.getWidth(),n.getHeight())||this;return r.delegate=n,r}return e.prototype.getRow=function(n,r){for(var i=this.delegate.getRow(n,r),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var n=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r),a=0;a<r;a++)i[a]=255-(n[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(n,r,i,a){return new e(this.delegate.crop(n,r,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(Kv),aW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),oW=(function(t){aW(e,t);function e(n,r){r===void 0&&(r=!1);var i=t.call(this,n.width,n.height)||this;return i.canvas=n,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(n,r),i}return e.makeBufferFromCanvasImageData=function(n,r){r===void 0&&(r=!1);var i=n.getContext("2d").getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(i.data,n.width,n.height,r)},e.toGrayscaleBuffer=function(n,r,i,a){a===void 0&&(a=!1);var o=new Uint8ClampedArray(r*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var l=0,c=0,f=n.length;l<f;l+=4,c++){var h=void 0,p=n[l+3];if(p===0)h=255;else{var v=n[l],m=n[l+1],_=n[l+2];h=306*v+601*m+117*_+512>>10}o[c]=h}else for(var l=0,c=0,w=n.length;l<w;l+=4,c++){var h=void 0,p=n[l+3];if(p===0)h=255;else{var v=n[l],m=n[l+1],_=n[l+2];h=306*v+601*m+117*_+512>>10}o[c]=255-h}return o},e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new ke("Requested row is outside the image: "+n);var i=this.getWidth(),a=n*i;return r===null?r=this.buffer.slice(a,a+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(a,a+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,a){return t.prototype.crop.call(this,n,r,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var r=this.getTempCanvasElement(),i=r.getContext("2d"),a=n*e.DEGREE_TO_RADIANS,o=this.canvas.width,l=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*l),f=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*l);return r.width=c,r.height=f,i.translate(c/2,f/2),i.rotate(a),i.drawImage(this.canvas,o/-2,l/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new TE(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(Kv),sW=(function(){function t(e,n,r){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t})(),zr=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(h){try{f(r.next(h))}catch(p){o(p)}}function c(h){try{f(r.throw(h))}catch(p){o(p)}}function f(h){h.done?a(h.value):i(h.value).then(l,c)}f((r=r.apply(t,e||[])).next())})},Hr=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(h){return c([f,h])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(h){f=[6,h],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},lW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jf=(function(){function t(e,n,r){n===void 0&&(n=500),this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return zr(this,void 0,void 0,function(){var e,n,r,i,a,o,l,c,f,h,p,v;return Hr(this,function(m){switch(m.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=m.sent(),n=[];try{for(r=lW(e),i=r.next();!i.done;i=r.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(l=a.deviceId||a.id,c=a.label||"Video device "+(n.length+1),f=a.groupId,h={deviceId:l,label:c,kind:o,groupId:f},n.push(h))}catch(_){p={error:_}}finally{try{i&&!i.done&&(v=r.return)&&v.call(r)}finally{if(p)throw p.error}}return[2,n]}})})},t.prototype.getVideoInputDevices=function(){return zr(this,void 0,void 0,function(){var e;return Hr(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=n.sent(),[2,e.map(function(r){return new sW(r.deviceId,r.label)})]}})})},t.prototype.findDeviceById=function(e){return zr(this,void 0,void 0,function(){var n;return Hr(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return n=r.sent(),n?[2,n.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,n){return zr(this,void 0,void 0,function(){return Hr(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,n)];case 1:return[2,r.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,n){return zr(this,void 0,void 0,function(){var r,i;return Hr(this,function(a){switch(a.label){case 0:return this.reset(),e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,n)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,n){return zr(this,void 0,void 0,function(){var r;return Hr(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,n)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,n){return zr(this,void 0,void 0,function(){var r,i;return Hr(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return r=a.sent(),[4,this.decodeOnce(r)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,n,r){return zr(this,void 0,void 0,function(){return Hr(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,n,r)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,n,r){return zr(this,void 0,void 0,function(){var i,a;return Hr(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,n,r)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,n,r){return zr(this,void 0,void 0,function(){var i;return Hr(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,n,r)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,n,r){return zr(this,void 0,void 0,function(){var i;return Hr(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,r)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,n){return zr(this,void 0,void 0,function(){var r;return Hr(this,function(i){switch(i.label){case 0:return r=this.prepareVideoElement(n),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return i.sent(),[2,r]}})})},t.prototype.playVideoOnLoadAsync=function(e){var n=this;return new Promise(function(r,i){return n.playVideoOnLoad(e,function(){return r()})})},t.prototype.playVideoOnLoad=function(e,n){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return zr(this,void 0,void 0,function(){return Hr(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[3,4];case 3:return n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,n){var r=document.getElementById(e);if(!r)throw new ba("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new ba("element with id '"+e+"' must be an "+n+" element");return r},t.prototype.decodeFromImage=function(e,n){if(!e&&!n)throw new ba("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,n){if(!e&&!n)throw new ba("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,n,r){if(e===void 0&&n===void 0)throw new ba("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(e,r)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new ba("An image element must be provided.");this.reset();var n=this.prepareImageElement(e);this.imageElement=n;var r;return this.isImageLoaded(n)?r=this.decodeOnce(n,!1,!0):r=this._decodeOnLoadImage(n),r},t.prototype.decodeFromVideoElement=function(e){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)},t.prototype.decodeFromVideoElementContinuously=function(e,n){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,n)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new ba("A video element must be provided.");this.reset();var n=this.prepareVideoElement(e);return this.videoElement=n,n},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new ba("An URL must be provided.");this.reset();var n=this.prepareImageElement();this.imageElement=n;var r=this._decodeOnLoadImage(n);return n.src=e,r},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new ba("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=e,r},t.prototype.decodeFromVideoUrlContinuously=function(e,n){if(!e)throw new ba("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,n);return r.src=e,i},t.prototype._decodeOnLoadImage=function(e){var n=this;return new Promise(function(r,i){n.imageLoadedListener=function(){return n.decodeOnce(e,!1,!0).then(r,i)},e.addEventListener("load",n.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return zr(this,void 0,void 0,function(){return Hr(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),[4,this.decodeOnce(e)];case 2:return[2,n.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,n){return zr(this,void 0,void 0,function(){return Hr(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,n),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n},t.prototype.prepareVideoElement=function(e){var n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},t.prototype.decodeOnce=function(e,n,r){var i=this;n===void 0&&(n=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var a=function(o,l){if(i._stopAsyncDecode){l(new ae("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var c=i.decode(e);o(c)}catch(v){var f=n&&v instanceof ae,h=v instanceof or||v instanceof ve,p=h&&r;if(f||p)return setTimeout(a,i._timeBetweenDecodingAttempts,o,l);l(v)}};return new Promise(function(o,l){return a(o,l)})},t.prototype.decodeContinuously=function(e,n){var r=this;this._stopContinuousDecode=!1;var i=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var a=r.decode(e);n(a,null),setTimeout(i,r.timeBetweenScansMillis)}catch(c){n(null,c);var o=c instanceof or||c instanceof ve,l=c instanceof ae;(o||l)&&setTimeout(i,r._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var n=this.createBinaryBitmap(e);return this.decodeBitmap(n)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var n=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),n=!0):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),i=new oW(r,n),a=new rW(i);return new $K(a)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var n=this.getCaptureCanvas(e),r=void 0;try{r=n.getContext("2d",{willReadFrequently:!0})}catch{r=n.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,n,r){n===void 0&&(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},t.prototype.drawImageOnCanvas=function(e,n,r){n===void 0&&(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var n=document.createElement("canvas"),r,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),n.style.width=r+"px",n.style.height=i+"px",n.width=r,n.height=i,n},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t})(),Br=(function(){function t(e,n,r,i,a,o){r===void 0&&(r=n==null?0:8*n.length),o===void 0&&(o=$t.currentTimeMillis()),this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=n,r==null?this.numBits=n==null?0:8*n.length:this.numBits=r,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=$t.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){var r=new Array(n.length+e.length);$t.arraycopy(n,0,r,0,n.length),$t.arraycopy(e,0,r,n.length,e.length),this.resultPoints=r}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t})(),db;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(db||(db={}));const Ne=db;var hb;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(hb||(hb={}));const Ar=hb;var Wv=(function(){function t(e,n,r,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t})(),vh=(function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new ke;return this.logTable[e]},t.addOrSubtract=function(e,n){return e^n},t})(),ll=(function(){function t(e,n){if(n.length===0)throw new ke;this.field=e;var r=n.length;if(r>1&&n[0]===0){for(var i=1;i<r&&n[i]===0;)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),$t.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var n=this.coefficients,r;if(e===1){r=0;for(var i=0,a=n.length;i!==a;i++){var o=n[i];r=vh.addOrSubtract(r,o)}return r}r=n[0];for(var l=n.length,c=this.field,i=1;i<l;i++)r=vh.addOrSubtract(c.multiply(e,r),n[i]);return r},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new ke("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var i=n;n=r,r=i}var a=new Int32Array(r.length),o=r.length-n.length;$t.arraycopy(r,0,a,0,o);for(var l=o;l<r.length;l++)a[l]=vh.addOrSubtract(n[l-o],r[l]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new ke("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var n=this.coefficients,r=n.length,i=e.coefficients,a=i.length,o=new Int32Array(r+a-1),l=this.field,c=0;c<r;c++)for(var f=n[c],h=0;h<a;h++)o[c+h]=vh.addOrSubtract(o[c+h],l.multiply(f,i[h]));return new t(l,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var n=this.coefficients.length,r=this.field,i=new Int32Array(n),a=this.coefficients,o=0;o<n;o++)i[o]=r.multiply(a[o],e);return new t(r,i)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new ke;if(n===0)return this.field.getZero();for(var r=this.coefficients,i=r.length,a=new Int32Array(i+e),o=this.field,l=0;l<i;l++)a[l]=o.multiply(r[l],n);return new t(o,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new ke("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new ke("Divide by 0");for(var n=this.field,r=n.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=n.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var l=i.getDegree()-e.getDegree(),c=n.multiply(i.getCoefficient(i.getDegree()),o),f=e.multiplyByMonomial(l,c),h=n.buildMonomial(l,c);r=r.addOrSubtract(h),i=i.addOrSubtract(f)}return[r,i]},t.prototype.toString=function(){for(var e="",n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),n===0||r!==1){var i=this.field.log(r);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e},t})(),uW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),M5=(function(t){uW(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(ci),cW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),oi=(function(t){cW(e,t);function e(n,r,i){var a=t.call(this)||this;a.primitive=n,a.size=r,a.generatorBase=i;for(var o=new Int32Array(r),l=1,c=0;c<r;c++)o[c]=l,l*=2,l>=r&&(l^=n,l&=r-1);a.expTable=o;for(var f=new Int32Array(r),c=0;c<r-1;c++)f[o[c]]=c;return a.logTable=f,a.zero=new ll(a,Int32Array.from([0])),a.one=new ll(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,r){if(n<0)throw new ke;if(r===0)return this.zero;var i=new Int32Array(n+1);return i[0]=r,new ll(this,i)},e.prototype.inverse=function(n){if(n===0)throw new M5;return this.expTable[this.size-this.logTable[n]-1]},e.prototype.multiply=function(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Ye.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(n){return n===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(vh),fW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),g1=(function(t){fW(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(ci),dW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),f0=(function(t){dW(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(ci),Xv=(function(){function t(e){this.field=e}return t.prototype.decode=function(e,n){for(var r=this.field,i=new ll(r,e),a=new Int32Array(n),o=!0,l=0;l<n;l++){var c=i.evaluateAt(r.exp(l+r.getGeneratorBase()));a[a.length-1-l]=c,c!==0&&(o=!1)}if(!o)for(var f=new ll(r,a),h=this.runEuclideanAlgorithm(r.buildMonomial(n,1),f,n),p=h[0],v=h[1],m=this.findErrorLocations(p),_=this.findErrorMagnitudes(v,m),l=0;l<m.length;l++){var w=e.length-1-r.log(m[l]);if(w<0)throw new g1("Bad error location");e[w]=oi.addOrSubtract(e[w],_[l])}},t.prototype.runEuclideanAlgorithm=function(e,n,r){if(e.getDegree()<n.getDegree()){var i=e;e=n,n=i}for(var a=this.field,o=e,l=n,c=a.getZero(),f=a.getOne();l.getDegree()>=(r/2|0);){var h=o,p=c;if(o=l,c=f,o.isZero())throw new g1("r_{i-1} was zero");l=h;for(var v=a.getZero(),m=o.getCoefficient(o.getDegree()),_=a.inverse(m);l.getDegree()>=o.getDegree()&&!l.isZero();){var w=l.getDegree()-o.getDegree(),A=a.multiply(l.getCoefficient(l.getDegree()),_);v=v.addOrSubtract(a.buildMonomial(w,A)),l=l.addOrSubtract(o.multiplyByMonomial(w,A))}if(f=v.multiply(c).addOrSubtract(p),l.getDegree()>=o.getDegree())throw new f0("Division algorithm failed to reduce polynomial?")}var S=f.getCoefficient(0);if(S===0)throw new g1("sigmaTilde(0) was zero");var I=a.inverse(S),O=f.multiplyScalar(I),N=l.multiplyScalar(I);return[O,N]},t.prototype.findErrorLocations=function(e){var n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(n),i=0,a=this.field,o=1;o<a.getSize()&&i<n;o++)e.evaluateAt(o)===0&&(r[i]=a.inverse(o),i++);if(i!==n)throw new g1("Error locator degree does not match number of roots");return r},t.prototype.findErrorMagnitudes=function(e,n){for(var r=n.length,i=new Int32Array(r),a=this.field,o=0;o<r;o++){for(var l=a.inverse(n[o]),c=1,f=0;f<r;f++)if(o!==f){var h=a.multiply(n[f],l),p=(h&1)===0?h|1:h&-2;c=a.multiply(c,p)}i[o]=a.multiply(e.evaluateAt(l),a.inverse(c)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],l))}return i},t})(),yr;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(yr||(yr={}));var uO=(function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var n=e.getBits(),r=this.extractBits(n),i=this.correctBits(r),a=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),l=new Wv(a,o,null,null);return l.setNumBits(i.length),l},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var n=e.length,r=yr.UPPER,i=yr.UPPER,a="",o=0;o<n;)if(i===yr.BINARY){if(n-o<5)break;var l=t.readCode(e,o,5);if(o+=5,l===0){if(n-o<11)break;l=t.readCode(e,o,11)+31,o+=11}for(var c=0;c<l;c++){if(n-o<8){o=n;break}var f=t.readCode(e,o,8);a+=ut.castAsNonUtf8Char(f),o+=8}i=r}else{var h=i===yr.DIGIT?4:5;if(n-o<h)break;var f=t.readCode(e,o,h);o+=h;var p=t.getCharacter(i,f);p.startsWith("CTRL_")?(r=i,i=t.getTable(p.charAt(5)),p.charAt(6)==="L"&&(r=i)):(a+=p,i=r)}return a},t.getTable=function(e){switch(e){case"L":return yr.LOWER;case"P":return yr.PUNCT;case"M":return yr.MIXED;case"D":return yr.DIGIT;case"B":return yr.BINARY;case"U":default:return yr.UPPER}},t.getCharacter=function(e,n){switch(e){case yr.UPPER:return t.UPPER_TABLE[n];case yr.LOWER:return t.LOWER_TABLE[n];case yr.MIXED:return t.MIXED_TABLE[n];case yr.PUNCT:return t.PUNCT_TABLE[n];case yr.DIGIT:return t.DIGIT_TABLE[n];default:throw new f0("Bad table")}},t.prototype.correctBits=function(e){var n,r;this.ddata.getNbLayers()<=2?(r=6,n=oi.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=oi.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=oi.AZTEC_DATA_10):(r=12,n=oi.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/r;if(a<i)throw new ve;for(var o=e.length%r,l=new Int32Array(a),c=0;c<a;c++,o+=r)l[c]=t.readCode(e,o,r);try{var f=new Xv(n);f.decode(l,a-i)}catch(A){throw new ve(A)}for(var h=(1<<r)-1,p=0,c=0;c<i;c++){var v=l[c];if(v===0||v===h)throw new ve;(v===1||v===h-1)&&p++}for(var m=new Array(i*r-p),_=0,c=0;c<i;c++){var v=l[c];if(v===1||v===h-1)m.fill(v>1,_,_+r-1),_+=r-1;else for(var w=r-1;w>=0;--w)m[_++]=(v&1<<w)!==0}return m},t.prototype.extractBits=function(e){var n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(n?11:14)+r*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(r,n));if(n)for(var l=0;l<a.length;l++)a[l]=l;else for(var c=i+1+2*Ye.truncDivision(Ye.truncDivision(i,2)-1,15),f=i/2,h=Ye.truncDivision(c,2),l=0;l<f;l++){var p=l+Ye.truncDivision(l,15);a[f-l-1]=h-p-1,a[f+l]=h+p+1}for(var l=0,v=0;l<r;l++){for(var m=(r-l)*4+(n?9:12),_=l*2,w=i-1-_,A=0;A<m;A++)for(var S=A*2,I=0;I<2;I++)o[v+S+I]=e.get(a[_+I],a[_+A]),o[v+2*m+S+I]=e.get(a[_+A],a[w-I]),o[v+4*m+S+I]=e.get(a[w-I],a[w-A]),o[v+6*m+S+I]=e.get(a[w-A],a[_+I]);v+=m*8}return o},t.readCode=function(e,n,r){for(var i=0,a=n;a<n+r;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,n){var r=e.length-n;return r>=8?t.readCode(e,n,8):t.readCode(e,n,r)<<8-r},t.convertBoolArrayToByteArray=function(e){for(var n=new Uint8Array((e.length+7)/8),r=0;r<n.length;r++)n[r]=t.readByte(e,8*r);return n},t.prototype.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t})(),gt=(function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,n,r,i){var a=e-r,o=n-i;return Math.sqrt(a*a+o*o)},t.sum=function(e){for(var n=0,r=0,i=e.length;r!==i;r++){var a=e[r];n+=a}return n},t})(),pb=(function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),Ce=(function(){function t(e,n){this.x=e,this.y=n}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var n=e;return this.x===n.x&&this.y===n.y}return!1},t.prototype.hashCode=function(){return 31*pb.floatToIntBits(this.x)+pb.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var n=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,l;if(r>=n&&r>=i?(o=e[0],a=e[1],l=e[2]):i>=r&&i>=n?(o=e[1],a=e[0],l=e[2]):(o=e[2],a=e[0],l=e[1]),this.crossProductZ(a,o,l)<0){var c=a;a=l,l=c}e[0]=a,e[1]=o,e[2]=l},t.distance=function(e,n){return gt.distance(e.x,e.y,n.x,n.y)},t.crossProductZ=function(e,n,r){var i=n.x,a=n.y;return(r.x-i)*(e.y-a)-(r.y-a)*(e.x-i)},t})(),IE=(function(){function t(e,n){this.bits=e,this.points=n}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),hW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),pW=(function(t){hW(e,t);function e(n,r,i,a,o){var l=t.call(this,n,r)||this;return l.compact=i,l.nbDatablocks=a,l.nbLayers=o,l}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(IE),gb=(function(){function t(e,n,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=t.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=n/2|0;if(this.leftInit=r-a,this.rightInit=r+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ae}return t.prototype.detect=function(){for(var e=this.leftInit,n=this.rightInit,r=this.upInit,i=this.downInit,a=!1,o=!0,l=!1,c=!1,f=!1,h=!1,p=!1,v=this.width,m=this.height;o;){o=!1;for(var _=!0;(_||!c)&&n<v;)_=this.containsBlackPoint(r,i,n,!1),_?(n++,o=!0,c=!0):c||n++;if(n>=v){a=!0;break}for(var w=!0;(w||!f)&&i<m;)w=this.containsBlackPoint(e,n,i,!0),w?(i++,o=!0,f=!0):f||i++;if(i>=m){a=!0;break}for(var A=!0;(A||!h)&&e>=0;)A=this.containsBlackPoint(r,i,e,!1),A?(e--,o=!0,h=!0):h||e--;if(e<0){a=!0;break}for(var S=!0;(S||!p)&&r>=0;)S=this.containsBlackPoint(e,n,r,!0),S?(r--,o=!0,p=!0):p||r--;if(r<0){a=!0;break}o&&(l=!0)}if(!a&&l){for(var I=n-e,O=null,N=1;O===null&&N<I;N++)O=this.getBlackPointOnSegment(e,i-N,e+N,i);if(O==null)throw new ae;for(var k=null,N=1;k===null&&N<I;N++)k=this.getBlackPointOnSegment(e,r+N,e+N,r);if(k==null)throw new ae;for(var B=null,N=1;B===null&&N<I;N++)B=this.getBlackPointOnSegment(n,r+N,n-N,r);if(B==null)throw new ae;for(var D=null,N=1;D===null&&N<I;N++)D=this.getBlackPointOnSegment(n,i-N,n-N,i);if(D==null)throw new ae;return this.centerEdges(D,O,B,k)}else throw new ae},t.prototype.getBlackPointOnSegment=function(e,n,r,i){for(var a=gt.round(gt.distance(e,n,r,i)),o=(r-e)/a,l=(i-n)/a,c=this.image,f=0;f<a;f++){var h=gt.round(e+f*o),p=gt.round(n+f*l);if(c.get(h,p))return new Ce(h,p)}return null},t.prototype.centerEdges=function(e,n,r,i){var a=e.getX(),o=e.getY(),l=n.getX(),c=n.getY(),f=r.getX(),h=r.getY(),p=i.getX(),v=i.getY(),m=t.CORR;return a<this.width/2?[new Ce(p-m,v+m),new Ce(l+m,c+m),new Ce(f-m,h-m),new Ce(a+m,o-m)]:[new Ce(p+m,v+m),new Ce(l+m,c-m),new Ce(f-m,h+m),new Ce(a-m,o-m)]},t.prototype.containsBlackPoint=function(e,n,r,i){var a=this.image;if(i){for(var o=e;o<=n;o++)if(a.get(o,r))return!0}else for(var l=e;l<=n;l++)if(a.get(r,l))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t})(),cO=(function(){function t(){}return t.checkAndNudgePoints=function(e,n){for(var r=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<n.length&&a;o+=2){var l=Math.floor(n[o]),c=Math.floor(n[o+1]);if(l<-1||l>r||c<-1||c>i)throw new ae;a=!1,l===-1?(n[o]=0,a=!0):l===r&&(n[o]=r-1,a=!0),c===-1?(n[o+1]=0,a=!0):c===i&&(n[o+1]=i-1,a=!0)}a=!0;for(var o=n.length-2;o>=0&&a;o-=2){var l=Math.floor(n[o]),c=Math.floor(n[o+1]);if(l<-1||l>r||c<-1||c>i)throw new ae;a=!1,l===-1?(n[o]=0,a=!0):l===r&&(n[o]=r-1,a=!0),c===-1?(n[o+1]=0,a=!0):c===i&&(n[o+1]=i-1,a=!0)}},t})(),k5=(function(){function t(e,n,r,i,a,o,l,c,f){this.a11=e,this.a21=n,this.a31=r,this.a12=i,this.a22=a,this.a32=o,this.a13=l,this.a23=c,this.a33=f}return t.quadrilateralToQuadrilateral=function(e,n,r,i,a,o,l,c,f,h,p,v,m,_,w,A){var S=t.quadrilateralToSquare(e,n,r,i,a,o,l,c),I=t.squareToQuadrilateral(f,h,p,v,m,_,w,A);return I.times(S)},t.prototype.transformPoints=function(e){for(var n=e.length,r=this.a11,i=this.a12,a=this.a13,o=this.a21,l=this.a22,c=this.a23,f=this.a31,h=this.a32,p=this.a33,v=0;v<n;v+=2){var m=e[v],_=e[v+1],w=a*m+c*_+p;e[v]=(r*m+o*_+f)/w,e[v+1]=(i*m+l*_+h)/w}},t.prototype.transformPointsWithValues=function(e,n){for(var r=this.a11,i=this.a12,a=this.a13,o=this.a21,l=this.a22,c=this.a23,f=this.a31,h=this.a32,p=this.a33,v=e.length,m=0;m<v;m++){var _=e[m],w=n[m],A=a*_+c*w+p;e[m]=(r*_+o*w+f)/A,n[m]=(i*_+l*w+h)/A}},t.squareToQuadrilateral=function(e,n,r,i,a,o,l,c){var f=e-r+a-l,h=n-i+o-c;if(f===0&&h===0)return new t(r-e,a-r,e,i-n,o-i,n,0,0,1);var p=r-a,v=l-a,m=i-o,_=c-o,w=p*_-v*m,A=(f*_-v*h)/w,S=(p*h-f*m)/w;return new t(r-e+A*r,l-e+S*l,e,i-n+A*i,c-n+S*c,n,A,S,1)},t.quadrilateralToSquare=function(e,n,r,i,a,o,l,c){return t.squareToQuadrilateral(e,n,r,i,a,o,l,c).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t})(),gW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),vW=(function(t){gW(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(n,r,i,a,o,l,c,f,h,p,v,m,_,w,A,S,I,O,N){var k=k5.quadrilateralToQuadrilateral(a,o,l,c,f,h,p,v,m,_,w,A,S,I,O,N);return this.sampleGridWithTransform(n,r,i,k)},e.prototype.sampleGridWithTransform=function(n,r,i,a){if(r<=0||i<=0)throw new ae;for(var o=new uo(r,i),l=new Float32Array(2*r),c=0;c<i;c++){for(var f=l.length,h=c+.5,p=0;p<f;p+=2)l[p]=p/2+.5,l[p+1]=h;a.transformPoints(l),cO.checkAndNudgePoints(n,l);try{for(var p=0;p<f;p+=2)n.get(Math.floor(l[p]),Math.floor(l[p+1]))&&o.set(p/2,c)}catch{throw new ae}}return o},e})(cO),OE=(function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new vW,t})(),ti=(function(){function t(e,n){this.x=e,this.y=n}return t.prototype.toResultPoint=function(){return new Ce(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t})(),mW=(function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(e){var i=r[0];r[0]=r[2],r[2]=i}this.extractParameters(r);var a=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new pW(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ae;var n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(r,n);for(var i=0,a=0;a<4;a++){var o=r[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var l=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)},t.prototype.getRotation=function(e,n){var r=0;e.forEach(function(a,o,l){var c=(a>>n-2<<1)+(a&1);r=(r<<3)+c}),r=((r&1)<<11)+(r>>1);for(var i=0;i<4;i++)if(Ye.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new ae},t.prototype.getCorrectedParameterData=function(e,n){var r,i;n?(r=7,i=2):(r=10,i=4);for(var a=r-i,o=new Int32Array(r),l=r-1;l>=0;--l)o[l]=e&15,e>>=4;try{var c=new Xv(oi.AZTEC_PARAM);c.decode(o,a)}catch{throw new ae}for(var f=0,l=0;l<i;l++)f=(f<<4)+o[l];return f},t.prototype.getBullsEyeCorners=function(e){var n=e,r=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var l=this.getFirstDifferent(n,o,1,-1),c=this.getFirstDifferent(r,o,1,1),f=this.getFirstDifferent(i,o,-1,1),h=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var p=this.distancePoint(h,l)*this.nbCenterLayers/(this.distancePoint(a,n)*(this.nbCenterLayers+2));if(p<.75||p>1.25||!this.isWhiteOrBlackRectangle(l,c,f,h))break}n=l,r=c,i=f,a=h,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ae;this.compact=this.nbCenterLayers===5;var v=new Ce(n.getX()+.5,n.getY()-.5),m=new Ce(r.getX()+.5,r.getY()+.5),_=new Ce(i.getX()-.5,i.getY()+.5),w=new Ce(a.getX()-.5,a.getY()-.5);return this.expandSquare([v,m,_,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,n,r,i;try{var a=new gb(this.image).detect();e=a[0],n=a[1],r=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,l=this.image.getHeight()/2;e=this.getFirstDifferent(new ti(o+7,l-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new ti(o+7,l+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new ti(o-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new ti(o-7,l-7),!1,-1,-1).toResultPoint()}var c=gt.round((e.getX()+i.getX()+n.getX()+r.getX())/4),f=gt.round((e.getY()+i.getY()+n.getY()+r.getY())/4);try{var a=new gb(this.image,15,c,f).detect();e=a[0],n=a[1],r=a[2],i=a[3]}catch{e=this.getFirstDifferent(new ti(c+7,f-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new ti(c+7,f+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new ti(c-7,f+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new ti(c-7,f-7),!1,-1,-1).toResultPoint()}return c=gt.round((e.getX()+i.getX()+n.getX()+r.getX())/4),f=gt.round((e.getY()+i.getY()+n.getY()+r.getY())/4),new ti(c,f)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,n,r,i,a){var o=OE.getInstance(),l=this.getDimension(),c=l/2-this.nbCenterLayers,f=l/2+this.nbCenterLayers;return o.sampleGrid(e,l,l,c,c,f,c,f,f,c,f,n.getX(),n.getY(),r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,n,r){for(var i=0,a=this.distanceResultPoint(e,n),o=a/r,l=e.getX(),c=e.getY(),f=o*(n.getX()-e.getX())/a,h=o*(n.getY()-e.getY())/a,p=0;p<r;p++)this.image.get(gt.round(l+p*f),gt.round(c+p*h))&&(i|=1<<r-p-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,n,r,i){var a=3;e=new ti(e.getX()-a,e.getY()+a),n=new ti(n.getX()-a,n.getY()-a),r=new ti(r.getX()+a,r.getY()-a),i=new ti(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var l=this.getColor(e,n);return l!==o||(l=this.getColor(n,r),l!==o)?!1:(l=this.getColor(r,i),l===o)},t.prototype.getColor=function(e,n){for(var r=this.distancePoint(e,n),i=(n.getX()-e.getX())/r,a=(n.getY()-e.getY())/r,o=0,l=e.getX(),c=e.getY(),f=this.image.get(e.getX(),e.getY()),h=Math.ceil(r),p=0;p<h;p++)l+=i,c+=a,this.image.get(gt.round(l),gt.round(c))!==f&&o++;var v=o/r;return v>.1&&v<.9?0:v<=.1===f?1:-1},t.prototype.getFirstDifferent=function(e,n,r,i){for(var a=e.getX()+r,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===n;)a+=r,o+=i;for(a-=r,o-=i;this.isValid(a,o)&&this.image.get(a,o)===n;)a+=r;for(a-=r;this.isValid(a,o)&&this.image.get(a,o)===n;)o+=i;return o-=i,new ti(a,o)},t.prototype.expandSquare=function(e,n,r){var i=r/(2*n),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),l=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,f=new Ce(l+i*a,c+i*o),h=new Ce(l-i*a,c-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),l=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var p=new Ce(l+i*a,c+i*o),v=new Ce(l-i*a,c-i*o),m=[f,p,h,v];return m},t.prototype.isValid=function(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()},t.prototype.isValidPoint=function(e){var n=gt.round(e.getX()),r=gt.round(e.getY());return this.isValid(n,r)},t.prototype.distancePoint=function(e,n){return gt.distance(e.getX(),e.getY(),n.getX(),n.getY())},t.prototype.distanceResultPoint=function(e,n){return gt.distance(e.getX(),e.getY(),n.getX(),n.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Ye.truncDivision(this.nbLayers-4,8)+1)+15},t})(),vb=(function(){function t(){}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r=null,i=new mW(e.getBlackMatrix()),a=null,o=null;try{var l=i.detectMirror(!1);a=l.getPoints(),this.reportFoundResultPoints(n,a),o=new uO().decode(l)}catch(p){r=p}if(o==null)try{var l=i.detectMirror(!0);a=l.getPoints(),this.reportFoundResultPoints(n,a),o=new uO().decode(l)}catch(p){throw r??p}var c=new Br(o.getText(),o.getRawBytes(),o.getNumBits(),a,Ne.AZTEC,$t.currentTimeMillis()),f=o.getByteSegments();f!=null&&c.putMetadata(Ar.BYTE_SEGMENTS,f);var h=o.getECLevel();return h!=null&&c.putMetadata(Ar.ERROR_CORRECTION_LEVEL,h),c},t.prototype.reportFoundResultPoints=function(e,n){if(e!=null){var r=e.get(tn.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach(function(i,a,o){r.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t})(),yW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){yW(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new vb,n)||this}return e})(jf);var Wn=(function(){function t(){}return t.prototype.decode=function(e,n){try{return this.doDecode(e,n)}catch{var r=n&&n.get(tn.TRY_HARDER)===!0;if(r&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,n),o=a.getResultMetadata(),l=270;o!==null&&o.get(Ar.ORIENTATION)===!0&&(l=l+o.get(Ar.ORIENTATION)%360),a.putMetadata(Ar.ORIENTATION,l);var c=a.getResultPoints();if(c!==null)for(var f=i.getHeight(),h=0;h<c.length;h++)c[h]=new Ce(f-c[h].getY()-1,c[h].getX());return a}else throw new ae}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,n){var r=e.getWidth(),i=e.getHeight(),a=new sr(r),o=n&&n.get(tn.TRY_HARDER)===!0,l=Math.max(1,i>>(o?8:5)),c;o?c=i:c=15;for(var f=Math.trunc(i/2),h=0;h<c;h++){var p=Math.trunc((h+1)/2),v=(h&1)===0,m=f+l*(v?p:-p);if(m<0||m>=i)break;try{a=e.getBlackRow(m,a)}catch{continue}for(var _=function(I){if(I===1&&(a.reverse(),n&&n.get(tn.NEED_RESULT_POINT_CALLBACK)===!0)){var O=new Map;n.forEach(function(B,D){return O.set(D,B)}),O.delete(tn.NEED_RESULT_POINT_CALLBACK),n=O}try{var N=w.decodeRow(m,a,n);if(I===1){N.putMetadata(Ar.ORIENTATION,180);var k=N.getResultPoints();k!==null&&(k[0]=new Ce(r-k[0].getX()-1,k[0].getY()),k[1]=new Ce(r-k[1].getX()-1,k[1].getY()))}return{value:N}}catch{}},w=this,A=0;A<2;A++){var S=_(A);if(typeof S=="object")return S.value}}throw new ae},t.recordPattern=function(e,n,r){for(var i=r.length,a=0;a<i;a++)r[a]=0;var o=e.getSize();if(n>=o)throw new ae;for(var l=!e.get(n),c=0,f=n;f<o;){if(e.get(f)!==l)r[c]++;else{if(++c===i)break;r[c]=1,l=!l}f++}if(!(c===i||c===i-1&&f===o))throw new ae},t.recordPatternInReverse=function(e,n,r){for(var i=r.length,a=e.get(n);n>0&&i>=0;)e.get(--n)!==a&&(i--,a=!a);if(i>=0)throw new ae;t.recordPattern(e,n+1,r)},t.patternMatchVariance=function(e,n,r){for(var i=e.length,a=0,o=0,l=0;l<i;l++)a+=e[l],o+=n[l];if(a<o)return Number.POSITIVE_INFINITY;var c=a/o;r*=c;for(var f=0,h=0;h<i;h++){var p=e[h],v=n[h]*c,m=p>v?p-v:v-p;if(m>r)return Number.POSITIVE_INFINITY;f+=m}return f/a},t})(),xW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),fO=(function(t){xW(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(n){for(var r=n.getSize(),i=n.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),l=i,c=!1,f=6,h=i;h<r;h++)if(n.get(h)!==c)o[a]++;else{if(a===f-1){for(var p=e.MAX_AVG_VARIANCE,v=-1,m=e.CODE_START_A;m<=e.CODE_START_C;m++){var _=Wn.patternMatchVariance(o,e.CODE_PATTERNS[m],e.MAX_INDIVIDUAL_VARIANCE);_<p&&(p=_,v=m)}if(v>=0&&n.isRange(Math.max(0,l-(h-l)/2),l,!1))return Int32Array.from([l,h,v]);l+=o[0]+o[1],o=o.slice(2,o.length),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,c=!c}throw new ae},e.decodeCode=function(n,r,i){Wn.recordPattern(n,i,r);for(var a=e.MAX_AVG_VARIANCE,o=-1,l=0;l<e.CODE_PATTERNS.length;l++){var c=e.CODE_PATTERNS[l],f=this.patternMatchVariance(r,c,e.MAX_INDIVIDUAL_VARIANCE);f<a&&(a=f,o=l)}if(o>=0)return o;throw new ae},e.prototype.decodeRow=function(n,r,i){var a=i&&i.get(tn.ASSUME_GS1)===!0,o=e.findStartPattern(r),l=o[2],c=0,f=new Uint8Array(20);f[c++]=l;var h;switch(l){case e.CODE_START_A:h=e.CODE_CODE_A;break;case e.CODE_START_B:h=e.CODE_CODE_B;break;case e.CODE_START_C:h=e.CODE_CODE_C;break;default:throw new ve}for(var p=!1,v=!1,m="",_=o[0],w=o[1],A=Int32Array.from([0,0,0,0,0,0]),S=0,I=0,O=l,N=0,k=!0,B=!1,D=!1;!p;){var M=v;switch(v=!1,S=I,I=e.decodeCode(r,A,w),f[c++]=I,I!==e.CODE_STOP&&(k=!0),I!==e.CODE_STOP&&(N++,O+=N*I),_=w,w+=A.reduce(function(se,me){return se+me},0),I){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new ve}switch(h){case e.CODE_CODE_A:if(I<64)D===B?m+=String.fromCharCode(32+I):m+=String.fromCharCode(32+I+128),D=!1;else if(I<96)D===B?m+=String.fromCharCode(I-64):m+=String.fromCharCode(I+64),D=!1;else switch(I!==e.CODE_STOP&&(k=!1),I){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!B&&D?(B=!0,D=!1):B&&D?(B=!1,D=!1):D=!0;break;case e.CODE_SHIFT:v=!0,h=e.CODE_CODE_B;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_B:if(I<96)D===B?m+=String.fromCharCode(32+I):m+=String.fromCharCode(32+I+128),D=!1;else switch(I!==e.CODE_STOP&&(k=!1),I){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!B&&D?(B=!0,D=!1):B&&D?(B=!1,D=!1):D=!0;break;case e.CODE_SHIFT:v=!0,h=e.CODE_CODE_A;break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_C:if(I<100)I<10&&(m+="0"),m+=I;else switch(I!==e.CODE_STOP&&(k=!1),I){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_STOP:p=!0;break}break}M&&(h=h===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var j=w-_;if(w=r.getNextUnset(w),!r.isRange(w,Math.min(r.getSize(),w+(w-_)/2),!1))throw new ae;if(O-=N*S,O%103!==S)throw new or;var z=m.length;if(z===0)throw new ae;z>0&&k&&(h===e.CODE_CODE_C?m=m.substring(0,z-2):m=m.substring(0,z-1));for(var F=(o[1]+o[0])/2,H=_+j/2,U=f.length,he=new Uint8Array(U),be=0;be<U;be++)he[be]=f[be];var Y=[new Ce(F,n),new Ce(H,n)];return new Br(m,he,0,Y,Ne.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(Wn),_W=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Y2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dO=(function(t){_W(e,t);function e(n,r){n===void 0&&(n=!1),r===void 0&&(r=!1);var i=t.call(this)||this;return i.usingCheckDigit=n,i.extendedMode=r,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(n,r,i){var a,o,l,c,f=this.counters;f.fill(0),this.decodeRowResult="";var h=e.findAsteriskPattern(r,f),p=r.getNextSet(h[1]),v=r.getSize(),m,_;do{e.recordPattern(r,p,f);var w=e.toNarrowWidePattern(f);if(w<0)throw new ae;m=e.patternToChar(w),this.decodeRowResult+=m,_=p;try{for(var A=(a=void 0,Y2(f)),S=A.next();!S.done;S=A.next()){var I=S.value;p+=I}}catch(U){a={error:U}}finally{try{S&&!S.done&&(o=A.return)&&o.call(A)}finally{if(a)throw a.error}}p=r.getNextSet(p)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var O=0;try{for(var N=Y2(f),k=N.next();!k.done;k=N.next()){var I=k.value;O+=I}}catch(U){l={error:U}}finally{try{k&&!k.done&&(c=N.return)&&c.call(N)}finally{if(l)throw l.error}}var B=p-_-O;if(p!==v&&B*2<O)throw new ae;if(this.usingCheckDigit){for(var D=this.decodeRowResult.length-1,M=0,j=0;j<D;j++)M+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(j));if(this.decodeRowResult.charAt(D)!==e.ALPHABET_STRING.charAt(M%43))throw new or;this.decodeRowResult=this.decodeRowResult.substring(0,D)}if(this.decodeRowResult.length===0)throw new ae;var z;this.extendedMode?z=e.decodeExtended(this.decodeRowResult):z=this.decodeRowResult;var F=(h[1]+h[0])/2,H=_+O/2;return new Br(z,null,0,[new Ce(F,n),new Ce(H,n)],Ne.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(n,r){for(var i=n.getSize(),a=n.getNextSet(0),o=0,l=a,c=!1,f=r.length,h=a;h<i;h++)if(n.get(h)!==c)r[o]++;else{if(o===f-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&n.isRange(Math.max(0,l-Math.floor((h-l)/2)),l,!1))return[l,h];l+=r[0]+r[1],r.copyWithin(0,2,2+o-1),r[o-1]=0,r[o]=0,o--}else o++;r[o]=1,c=!c}throw new ae},e.toNarrowWidePattern=function(n){var r,i,a=n.length,o=0,l;do{var c=2147483647;try{for(var f=(r=void 0,Y2(n)),h=f.next();!h.done;h=f.next()){var p=h.value;p<c&&p>o&&(c=p)}}catch(w){r={error:w}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}o=c,l=0;for(var v=0,m=0,_=0;_<a;_++){var p=n[_];p>o&&(m|=1<<a-1-_,l++,v+=p)}if(l===3){for(var _=0;_<a&&l>0;_++){var p=n[_];if(p>o&&(l--,p*2>=v))return-1}return m}}while(l>3);return-1},e.patternToChar=function(n){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===n)return e.ALPHABET_STRING.charAt(r);if(n===e.ASTERISK_ENCODING)return"*";throw new ae},e.decodeExtended=function(n){for(var r=n.length,i="",a=0;a<r;a++){var o=n.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var l=n.charAt(a+1),c="\0";switch(o){case"+":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new ve;break;case"$":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new ve;break;case"%":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l==="X"||l==="Y"||l==="Z")c="";else throw new ve;break;case"/":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new ve;break}i+=c,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(Wn),bW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Q2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hO=(function(t){bW(e,t);function e(){var n=t.call(this)||this;return n.decodeRowResult="",n.counters=new Int32Array(6),n}return e.prototype.decodeRow=function(n,r,i){var a,o,l,c,f=this.findAsteriskPattern(r),h=r.getNextSet(f[1]),p=r.getSize(),v=this.counters;v.fill(0),this.decodeRowResult="";var m,_;do{e.recordPattern(r,h,v);var w=this.toPattern(v);if(w<0)throw new ae;m=this.patternToChar(w),this.decodeRowResult+=m,_=h;try{for(var A=(a=void 0,Q2(v)),S=A.next();!S.done;S=A.next()){var I=S.value;h+=I}}catch(j){a={error:j}}finally{try{S&&!S.done&&(o=A.return)&&o.call(A)}finally{if(a)throw a.error}}h=r.getNextSet(h)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var O=0;try{for(var N=Q2(v),k=N.next();!k.done;k=N.next()){var I=k.value;O+=I}}catch(j){l={error:j}}finally{try{k&&!k.done&&(c=N.return)&&c.call(N)}finally{if(l)throw l.error}}if(h===p||!r.get(h))throw new ae;if(this.decodeRowResult.length<2)throw new ae;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var B=this.decodeExtended(this.decodeRowResult),D=(f[1]+f[0])/2,M=_+O/2;return new Br(B,null,0,[new Ce(D,n),new Ce(M,n)],Ne.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(n){var r=n.getSize(),i=n.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,l=!1,c=a.length,f=0,h=i;h<r;h++)if(n.get(h)!==l)a[f]++;else{if(f===c-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,h]);o+=a[0]+a[1],a.copyWithin(0,2,2+f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,l=!l}throw new ae},e.prototype.toPattern=function(n){var r,i,a=0;try{for(var o=Q2(n),l=o.next();!l.done;l=o.next()){var c=l.value;a+=c}}catch(_){r={error:_}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}for(var f=0,h=n.length,p=0;p<h;p++){var v=Math.round(n[p]*9/a);if(v<1||v>4)return-1;if((p&1)===0)for(var m=0;m<v;m++)f=f<<1|1;else f<<=v}return f},e.prototype.patternToChar=function(n){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===n)return e.ALPHABET_STRING.charAt(r);throw new ae},e.prototype.decodeExtended=function(n){for(var r=n.length,i="",a=0;a<r;a++){var o=n.charAt(a);if(o>="a"&&o<="d"){if(a>=r-1)throw new ve;var l=n.charAt(a+1),c="\0";switch(o){case"d":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new ve;break;case"a":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new ve;break;case"b":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l>="X"&&l<="Z")c="";else throw new ve;break;case"c":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new ve;break}i+=c,a++}else i+=o}return i},e.prototype.checkChecksums=function(n){var r=n.length;this.checkOneChecksum(n,r-2,20),this.checkOneChecksum(n,r-1,15)},e.prototype.checkOneChecksum=function(n,r,i){for(var a=1,o=0,l=r-1;l>=0;l--)o+=a*e.ALPHABET_STRING.indexOf(n.charAt(l)),++a>i&&(a=1);if(n.charAt(r)!==e.ALPHABET_STRING[o%47])throw new or},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(Wn),wW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),EW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pO=(function(t){wW(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.narrowLineWidth=-1,n}return e.prototype.decodeRow=function(n,r,i){var a,o,l=this.decodeStart(r),c=this.decodeEnd(r),f=new Xe;e.decodeMiddle(r,l[1],c[0],f);var h=f.toString(),p=null;i!=null&&(p=i.get(tn.ALLOWED_LENGTHS)),p==null&&(p=e.DEFAULT_ALLOWED_LENGTHS);var v=h.length,m=!1,_=0;try{for(var w=EW(p),A=w.next();!A.done;A=w.next()){var S=A.value;if(v===S){m=!0;break}S>_&&(_=S)}}catch(N){a={error:N}}finally{try{A&&!A.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}if(!m&&v>_&&(m=!0),!m)throw new ve;var I=[new Ce(l[1],n),new Ce(c[0],n)],O=new Br(h,null,0,I,Ne.ITF,new Date().getTime());return O},e.decodeMiddle=function(n,r,i,a){var o=new Int32Array(10),l=new Int32Array(5),c=new Int32Array(5);for(o.fill(0),l.fill(0),c.fill(0);r<i;){Wn.recordPattern(n,r,o);for(var f=0;f<5;f++){var h=2*f;l[f]=o[h],c[f]=o[h+1]}var p=e.decodeDigit(l);a.append(p.toString()),p=this.decodeDigit(c),a.append(p.toString()),o.forEach(function(v){r+=v})}},e.prototype.decodeStart=function(n){var r=e.skipWhiteSpace(n),i=e.findGuardPattern(n,r,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(n,i[0]),i},e.prototype.validateQuietZone=function(n,r){var i=this.narrowLineWidth*10;i=i<r?i:r;for(var a=r-1;i>0&&a>=0&&!n.get(a);a--)i--;if(i!==0)throw new ae},e.skipWhiteSpace=function(n){var r=n.getSize(),i=n.getNextSet(0);if(i===r)throw new ae;return i},e.prototype.decodeEnd=function(n){n.reverse();try{var r=e.skipWhiteSpace(n),i=void 0;try{i=e.findGuardPattern(n,r,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof ae&&(i=e.findGuardPattern(n,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,i[0]);var a=i[0];return i[0]=n.getSize()-i[1],i[1]=n.getSize()-a,i}finally{n.reverse()}},e.findGuardPattern=function(n,r,i){var a=i.length,o=new Int32Array(a),l=n.getSize(),c=!1,f=0,h=r;o.fill(0);for(var p=r;p<l;p++)if(n.get(p)!==c)o[f]++;else{if(f===a-1){if(Wn.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[h,p];h+=o[0]+o[1],$t.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,c=!c}throw new ae},e.decodeDigit=function(n){for(var r=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var l=e.PATTERNS[o],c=Wn.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);c<r?(r=c,i=o):c===r&&(i=-1)}if(i>=0)return i%10;throw new ae},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(Wn),AW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),pf=(function(t){AW(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.decodeRowStringBuffer="",n}return e.findStartGuardPattern=function(n){for(var r=!1,i,a=0,o=Int32Array.from([0,0,0]);!r;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(n,a,!1,this.START_END_PATTERN,o);var l=i[0];a=i[1];var c=l-(a-l);c>=0&&(r=n.isRange(c,l,!1))}return i},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var r=n.length;if(r===0)return!1;var i=parseInt(n.charAt(r-1),10);return e.getStandardUPCEANChecksum(n.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(n){for(var r=n.length,i=0,a=r-1;a>=0;a-=2){var o=n.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ve;i+=o}i*=3;for(var a=r-2;a>=0;a-=2){var o=n.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ve;i+=o}return(1e3-i)%10},e.decodeEnd=function(n,r){return e.findGuardPattern(n,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(n,r,i,a){return this.findGuardPattern(n,r,i,a,new Int32Array(a.length))},e.findGuardPattern=function(n,r,i,a,o){var l=n.getSize();r=i?n.getNextUnset(r):n.getNextSet(r);for(var c=0,f=r,h=a.length,p=i,v=r;v<l;v++)if(n.get(v)!==p)o[c]++;else{if(c===h-1){if(Wn.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([f,v]);f+=o[0]+o[1];for(var m=o.slice(2,o.length),_=0;_<c-1;_++)o[_]=m[_];o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,p=!p}throw new ae},e.decodeDigit=function(n,r,i,a){this.recordPattern(n,i,r);for(var o=this.MAX_AVG_VARIANCE,l=-1,c=a.length,f=0;f<c;f++){var h=a[f],p=Wn.patternMatchVariance(r,h,e.MAX_INDIVIDUAL_VARIANCE);p<o&&(o=p,l=f)}if(l>=0)return l;throw new ae},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(Wn),SW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},CW=(function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(n,r,i),o=i.toString(),l=t.parseExtensionString(o),c=[new Ce((r[0]+r[1])/2,e),new Ce(a,e)],f=new Br(o,null,0,c,Ne.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&f.putAllMetadata(l),f},t.prototype.decodeMiddle=function(e,n,r){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=e.getSize(),c=n[1],f=0,h=0;h<5&&c<l;h++){var p=pf.decodeDigit(e,o,c,pf.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);try{for(var v=(i=void 0,SW(o)),m=v.next();!m.done;m=v.next()){var _=m.value;c+=_}}catch(A){i={error:A}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}p>=10&&(f|=1<<4-h),h!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(r.length!==5)throw new ae;var w=this.determineCheckDigit(f);if(t.extensionChecksum(r.toString())!==w)throw new ae;return c},t.extensionChecksum=function(e){for(var n=e.length,r=0,i=n-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;r*=3;for(var i=n-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;return r*=3,r%10},t.prototype.determineCheckDigit=function(e){for(var n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new ae},t.parseExtensionString=function(e){if(e.length!==5)return null;var n=t.parseExtension5String(e);return n==null?null:new Map([[Ar.SUGGESTED_PRICE,n]])},t.parseExtension5String=function(e){var n;switch(e.charAt(0)){case"0":n="£";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}var r=parseInt(e.substring(1)),i=(r/100).toString(),a=r%100,o=a<10?"0"+a:a.toString();return n+i+"."+o},t})(),TW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},IW=(function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(n,r,i),o=i.toString(),l=t.parseExtensionString(o),c=[new Ce((r[0]+r[1])/2,e),new Ce(a,e)],f=new Br(o,null,0,c,Ne.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&f.putAllMetadata(l),f},t.prototype.decodeMiddle=function(e,n,r){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=e.getSize(),c=n[1],f=0,h=0;h<2&&c<l;h++){var p=pf.decodeDigit(e,o,c,pf.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);try{for(var v=(i=void 0,TW(o)),m=v.next();!m.done;m=v.next()){var _=m.value;c+=_}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}p>=10&&(f|=1<<1-h),h!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(r.length!==2)throw new ae;if(parseInt(r.toString())%4!==f)throw new ae;return c},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Ar.ISSUE_NUMBER,parseInt(e)]])},t})(),OW=(function(){function t(){}return t.decodeRow=function(e,n,r){var i=pf.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new CW;return a.decodeRow(e,n,i)}catch{var o=new IW;return o.decodeRow(e,n,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t})(),RW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),$n=(function(t){RW(e,t);function e(){var n=t.call(this)||this;n.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(l){return Int32Array.from(l)});for(var r=10;r<20;r++){for(var i=e.L_PATTERNS[r-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[r]=a}return n}return e.prototype.decodeRow=function(n,r,i){var a=e.findStartGuardPattern(r),o=i==null?null:i.get(tn.NEED_RESULT_POINT_CALLBACK);if(o!=null){var l=new Ce((a[0]+a[1])/2,n);o.foundPossibleResultPoint(l)}var c=this.decodeMiddle(r,a,this.decodeRowStringBuffer),f=c.rowOffset,h=c.resultString;if(o!=null){var p=new Ce(f,n);o.foundPossibleResultPoint(p)}var v=e.decodeEnd(r,f);if(o!=null){var m=new Ce((v[0]+v[1])/2,n);o.foundPossibleResultPoint(m)}var _=v[1],w=_+(_-v[0]);if(w>=r.getSize()||!r.isRange(_,w,!1))throw new ae;var A=h.toString();if(A.length<8)throw new ve;if(!e.checkChecksum(A))throw new or;var S=(a[1]+a[0])/2,I=(v[1]+v[0])/2,O=this.getBarcodeFormat(),N=[new Ce(S,n),new Ce(I,n)],k=new Br(A,null,0,N,O,new Date().getTime()),B=0;try{var D=OW.decodeRow(n,r,v[1]);k.putMetadata(Ar.UPC_EAN_EXTENSION,D.getText()),k.putAllMetadata(D.getResultMetadata()),k.addResultPoints(D.getResultPoints()),B=D.getText().length}catch{}var M=i==null?null:i.get(tn.ALLOWED_EAN_EXTENSIONS);if(M!=null){var j=!1;for(var z in M)if(B.toString()===z){j=!0;break}if(!j)throw new ae}return O===Ne.EAN_13||Ne.UPC_A,k},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var r=n.length;if(r===0)return!1;var i=parseInt(n.charAt(r-1),10);return e.getStandardUPCEANChecksum(n.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(n){for(var r=n.length,i=0,a=r-1;a>=0;a-=2){var o=n.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ve;i+=o}i*=3;for(var a=r-2;a>=0;a-=2){var o=n.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ve;i+=o}return(1e3-i)%10},e.decodeEnd=function(n,r){return e.findGuardPattern(n,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(pf),PW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),gO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mb=(function(t){PW(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,r,i){var a,o,l,c,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var h=n.getSize(),p=r[1],v=0,m=0;m<6&&p<h;m++){var _=$n.decodeDigit(n,f,p,$n.L_AND_G_PATTERNS);i+=String.fromCharCode(48+_%10);try{for(var w=(a=void 0,gO(f)),A=w.next();!A.done;A=w.next()){var S=A.value;p+=S}}catch(k){a={error:k}}finally{try{A&&!A.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}_>=10&&(v|=1<<5-m)}i=e.determineFirstDigit(i,v);var I=$n.findGuardPattern(n,p,!0,$n.MIDDLE_PATTERN,new Int32Array($n.MIDDLE_PATTERN.length).fill(0));p=I[1];for(var m=0;m<6&&p<h;m++){var _=$n.decodeDigit(n,f,p,$n.L_PATTERNS);i+=String.fromCharCode(48+_);try{for(var O=(l=void 0,gO(f)),N=O.next();!N.done;N=O.next()){var S=N.value;p+=S}}catch(D){l={error:D}}finally{try{N&&!N.done&&(c=O.return)&&c.call(O)}finally{if(l)throw l.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ne.EAN_13},e.determineFirstDigit=function(n,r){for(var i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return n=String.fromCharCode(48+i)+n,n;throw new ae},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})($n),DW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),vO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mO=(function(t){DW(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,r,i){var a,o,l,c,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var h=n.getSize(),p=r[1],v=0;v<4&&p<h;v++){var m=$n.decodeDigit(n,f,p,$n.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var _=(a=void 0,vO(f)),w=_.next();!w.done;w=_.next()){var A=w.value;p+=A}}catch(N){a={error:N}}finally{try{w&&!w.done&&(o=_.return)&&o.call(_)}finally{if(a)throw a.error}}}var S=$n.findGuardPattern(n,p,!0,$n.MIDDLE_PATTERN,new Int32Array($n.MIDDLE_PATTERN.length).fill(0));p=S[1];for(var v=0;v<4&&p<h;v++){var m=$n.decodeDigit(n,f,p,$n.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var I=(l=void 0,vO(f)),O=I.next();!O.done;O=I.next()){var A=O.value;p+=A}}catch(B){l={error:B}}finally{try{O&&!O.done&&(c=I.return)&&c.call(I)}finally{if(l)throw l.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ne.EAN_8},e})($n),NW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),yO=(function(t){NW(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.ean13Reader=new mb,n}return e.prototype.getBarcodeFormat=function(){return Ne.UPC_A},e.prototype.decode=function(n,r){return this.maybeReturnResult(this.ean13Reader.decode(n))},e.prototype.decodeRow=function(n,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,r,i))},e.prototype.decodeMiddle=function(n,r,i){return this.ean13Reader.decodeMiddle(n,r,i)},e.prototype.maybeReturnResult=function(n){var r=n.getText();if(r.charAt(0)==="0"){var i=new Br(r.substring(1),null,null,n.getResultPoints(),Ne.UPC_A);return n.getResultMetadata()!=null&&i.putAllMetadata(n.getResultMetadata()),i}else throw new ae},e.prototype.reset=function(){this.ean13Reader.reset()},e})($n),MW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),kW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xO=(function(t){MW(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=new Int32Array(4),n}return e.prototype.decodeMiddle=function(n,r,i){var a,o,l=this.decodeMiddleCounters.map(function(A){return A});l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=n.getSize(),f=r[1],h=0,p=0;p<6&&f<c;p++){var v=e.decodeDigit(n,l,f,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+v%10);try{for(var m=(a=void 0,kW(l)),_=m.next();!_.done;_=m.next()){var w=_.value;f+=w}}catch(A){a={error:A}}finally{try{_&&!_.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}v>=10&&(h|=1<<5-p)}return e.determineNumSysAndCheckDigit(new Xe(i),h),f},e.prototype.decodeEnd=function(n,r){return e.findGuardPatternWithoutCounters(n,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(n){return $n.checkChecksum(e.convertUPCEtoUPCA(n))},e.determineNumSysAndCheckDigit=function(n,r){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){n.insert(0,"0"+i),n.append("0"+a);return}throw ae.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Ne.UPC_E},e.convertUPCEtoUPCA=function(n){var r=n.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new Xe;i.append(n.charAt(0));var a=r[5];switch(a){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(a),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(a);break}return n.length>=8&&i.append(n.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})($n),jW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),_O=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Z2=(function(t){jW(e,t);function e(n){var r=t.call(this)||this,i=n==null?null:n.get(tn.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(Ne.EAN_13)>-1&&a.push(new mb),i.indexOf(Ne.UPC_A)>-1&&a.push(new yO),i.indexOf(Ne.EAN_8)>-1&&a.push(new mO),i.indexOf(Ne.UPC_E)>-1&&a.push(new xO)),a.length===0&&(a.push(new mb),a.push(new yO),a.push(new mO),a.push(new xO)),r.readers=a,r}return e.prototype.decodeRow=function(n,r,i){var a,o;try{for(var l=_O(this.readers),c=l.next();!c.done;c=l.next()){var f=c.value;try{var h=f.decodeRow(n,r,i),p=h.getBarcodeFormat()===Ne.EAN_13&&h.getText().charAt(0)==="0",v=i==null?null:i.get(tn.POSSIBLE_FORMATS),m=v==null||v.includes(Ne.UPC_A);if(p&&m){var _=h.getRawBytes(),w=new Br(h.getText().substring(1),_,_?_.length:null,h.getResultPoints(),Ne.UPC_A);return w.putAllMetadata(h.getResultMetadata()),w}return h}catch{}}}catch(A){a={error:A}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}throw new ae},e.prototype.reset=function(){var n,r;try{for(var i=_O(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e})(Wn),LW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),BW=(function(t){LW(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},n}return e.prototype.decodeRow=function(n,r,i){var a=this.getValidRowData(r);if(!a)throw new ae;var o=this.codaBarDecodeRow(a.row);if(!o)throw new ae;return new Br(o,null,0,[new Ce(a.left,n),new Ce(a.right,n)],Ne.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(n){var r=n.toArray(),i=r.indexOf(!0);if(i===-1)return null;var a=r.lastIndexOf(!0);if(a<=i)return null;r=r.slice(i,a+1);for(var o=[],l=r[0],c=1,f=1;f<r.length;f++)r[f]===l?c++:(l=r[f],o.push(c),c=1);return o.push(c),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(n){for(var r=[],i=Math.ceil(n.reduce(function(c,f){return(c+f)/2},0));n.length>0;){var a=n.splice(0,8).splice(0,7),o=a.map(function(c){return c<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[o])}var l=r.join("");return this.validCodaBarString(l)?l:null},e.prototype.validCodaBarString=function(n){var r=/^[A-D].{1,}[A-D]$/;return r.test(n)},e})(Wn),FW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),VW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pu=(function(t){FW(e,t);function e(){var n=t.call(this)||this;return n.decodeFinderCounters=new Int32Array(4),n.dataCharacterCounters=new Int32Array(8),n.oddRoundingErrors=new Array(4),n.evenRoundingErrors=new Array(4),n.oddCounts=new Array(n.dataCharacterCounters.length/2),n.evenCounts=new Array(n.dataCharacterCounters.length/2),n}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(n,r){for(var i=0;i<r.length;i++)if(Wn.patternMatchVariance(n,r[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new ae},e.count=function(n){return gt.sum(new Int32Array(n))},e.increment=function(n,r){for(var i=0,a=r[0],o=1;o<n.length;o++)r[o]>a&&(a=r[o],i=o);n[i]++},e.decrement=function(n,r){for(var i=0,a=r[0],o=1;o<n.length;o++)r[o]<a&&(a=r[o],i=o);n[i]--},e.isFinderPattern=function(n){var r,i,a=n[0]+n[1],o=a+n[2]+n[3],l=a/o;if(l>=e.MIN_FINDER_PATTERN_RATIO&&l<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;try{for(var h=VW(n),p=h.next();!p.done;p=h.next()){var v=p.value;v>f&&(f=v),v<c&&(c=v)}}catch(m){r={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return f<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(Wn),Cg=(function(){function t(e,n){this.value=e,this.checksumPortion=n}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t})(),j5=(function(){function t(e,n,r,i,a){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new Ce(r,a)),this.resultPoints.push(new Ce(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.prototype.hashCode=function(){return this.value},t})(),UW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kc=(function(){function t(){}return t.getRSSvalue=function(e,n,r){var i,a,o=0;try{for(var l=UW(e),c=l.next();!c.done;c=l.next()){var f=c.value;o+=f}}catch(I){i={error:I}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}for(var h=0,p=0,v=e.length,m=0;m<v-1;m++){var _=void 0;for(_=1,p|=1<<m;_<e[m];_++,p&=~(1<<m)){var w=t.combins(o-_-1,v-m-2);if(r&&p===0&&o-_-(v-m-1)>=v-m-1&&(w-=t.combins(o-_-(v-m),v-m-2)),v-m-1>1){for(var A=0,S=o-_-(v-m-2);S>n;S--)A+=t.combins(o-_-S-1,v-m-3);w-=A*(v-1-m)}else o-_>n&&w--;h+=w}o-=_}return h},t.combins=function(e,n){var r,i;e-n>n?(i=n,r=e-n):(i=e-n,r=n);for(var a=1,o=1,l=e;l>r;l--)a*=l,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},t})(),zW=(function(){function t(){}return t.buildBitArray=function(e){var n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);for(var r=12*n,i=new sr(r),a=0,o=e[0],l=o.getRightChar().getValue(),c=11;c>=0;--c)(l&1<<c)!==0&&i.set(a),a++;for(var c=1;c<e.length;++c){for(var f=e[c],h=f.getLeftChar().getValue(),p=11;p>=0;--p)(h&1<<p)!==0&&i.set(a),a++;if(f.getRightChar()!==null)for(var v=f.getRightChar().getValue(),p=11;p>=0;--p)(v&1<<p)!==0&&i.set(a),a++}return i},t})(),cu=(function(){function t(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t})(),RE=(function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t})(),HW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),_a=(function(t){HW(e,t);function e(n,r){var i=t.call(this,n)||this;return i.value=r,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(RE),$W=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),fu=(function(t){$W(e,t);function e(n,r,i){var a=t.call(this,n)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=r,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(RE),qW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Uc=(function(t){qW(e,t);function e(n,r,i){var a=t.call(this,n)||this;if(r<0||r>10||i<0||i>10)throw new ve;return a.firstDigit=r,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(RE),v1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},GW=(function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var n,r,i,a,o,l,c,f;if(!e)return null;if(e.length<2)throw new ae;var h=e.substring(0,2);try{for(var p=v1(t.TWO_DIGIT_DATA_LENGTH),v=p.next();!v.done;v=p.next()){var m=v.value;if(m[0]===h)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,m[2],e):t.processFixedAI(2,m[1],e)}}catch(B){n={error:B}}finally{try{v&&!v.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}if(e.length<3)throw new ae;var _=e.substring(0,3);try{for(var w=v1(t.THREE_DIGIT_DATA_LENGTH),A=w.next();!A.done;A=w.next()){var m=A.value;if(m[0]===_)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,m[2],e):t.processFixedAI(3,m[1],e)}}catch(B){i={error:B}}finally{try{A&&!A.done&&(a=w.return)&&a.call(w)}finally{if(i)throw i.error}}try{for(var S=v1(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),I=S.next();!I.done;I=S.next()){var m=I.value;if(m[0]===_)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,m[2],e):t.processFixedAI(4,m[1],e)}}catch(B){o={error:B}}finally{try{I&&!I.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}if(e.length<4)throw new ae;var O=e.substring(0,4);try{for(var N=v1(t.FOUR_DIGIT_DATA_LENGTH),k=N.next();!k.done;k=N.next()){var m=k.value;if(m[0]===O)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,m[2],e):t.processFixedAI(4,m[1],e)}}catch(B){c={error:B}}finally{try{k&&!k.done&&(f=N.return)&&f.call(N)}finally{if(c)throw c.error}}throw new ae},t.processFixedAI=function(e,n,r){if(r.length<e)throw new ae;var i=r.substring(0,e);if(r.length<e+n)throw new ae;var a=r.substring(e,e+n),o=r.substring(e+n),l="("+i+")"+a,c=t.parseFieldsInGeneralPurpose(o);return c==null?l:l+c},t.processVariableAI=function(e,n,r){var i=r.substring(0,e),a;r.length<e+n?a=r.length:a=e+n;var o=r.substring(e,a),l=r.substring(a),c="("+i+")"+o,f=t.parseFieldsInGeneralPurpose(l);return f==null?c:c+f},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t})(),X1=(function(){function t(e){this.buffer=new Xe,this.information=e}return t.prototype.decodeAllCodes=function(e,n){var r=n,i=null;do{var a=this.decodeGeneralPurposeField(r,i),o=GW.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,r===a.getNewPosition())break;r=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var n=this.extractNumericValueFromBitArray(e,4);return n===0?new Uc(this.information.getSize(),Uc.FNC1,Uc.FNC1):new Uc(this.information.getSize(),n-1,Uc.FNC1)}var r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,a=(r-8)%11;return new Uc(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,n){return t.extractNumericValueFromBitArray(this.information,e,n)},t.extractNumericValueFromBitArray=function(e,n,r){for(var i=0,a=0;a<r;++a)e.get(n+a)&&(i|=1<<r-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new fu(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new fu(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,n;do{var r=this.current.getPosition();this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished());var i=r!==this.current.getPosition();if(!i&&!e)break}while(!e);return n.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var n=void 0;return e.isSecondDigitFNC1()?n=new fu(this.current.getPosition(),this.buffer.toString()):n=new fu(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new cu(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var n=new fu(this.current.getPosition(),this.buffer.toString());return new cu(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new cu(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new fu(this.current.getPosition(),this.buffer.toString());return new cu(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new cu(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new fu(this.current.getPosition(),this.buffer.toString());return new cu(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new cu(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new _a(e+5,_a.FNC1);if(n>=5&&n<15)return new _a(e+5,"0"+(n-5));var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new _a(e+7,""+(r+1));if(r>=90&&r<116)return new _a(e+7,""+(r+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new ve}return new _a(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},t.prototype.decodeAlphanumeric=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new _a(e+5,_a.FNC1);if(n>=5&&n<15)return new _a(e+5,"0"+(n-5));var r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new _a(e+6,""+(r+33));var i;switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new f0("Decoding invalid alphanumeric value: "+r)}return new _a(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0},t})(),L5=(function(){function t(e){this.information=e,this.generalDecoder=new X1(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t})(),KW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),wa=(function(t){KW(e,t);function e(n){return t.call(this,n)||this}return e.prototype.encodeCompressedGtin=function(n,r){n.append("(01)");var i=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,r,i)},e.prototype.encodeCompressedGtinWithoutAI=function(n,r,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*a,10);o/100===0&&n.append("0"),o/10===0&&n.append("0"),n.append(o)}e.appendCheckDigit(n,i)},e.appendCheckDigit=function(n,r){for(var i=0,a=0;a<13;a++){var o=n.charAt(a+r).charCodeAt(0)-48;i+=(a&1)===0?3*o:o}i=10-i%10,i===10&&(i=0),n.append(i)},e.GTIN_SIZE=40,e})(L5),WW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),XW=(function(t){WW(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new Xe;n.append("(01)");var r=n.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return n.append(i),this.encodeCompressedGtinWithoutAI(n,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(wa),YW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),QW=(function(t){YW(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new Xe;return this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(L5),ZW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Y1=(function(t){ZW(e,t);function e(n){return t.call(this,n)||this}return e.prototype.encodeCompressedWeight=function(n,r,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(n,a);for(var o=this.checkWeight(a),l=1e5,c=0;c<5;++c)o/l===0&&n.append("0"),l/=10;n.append(o)},e})(wa),JW=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),B5=(function(t){JW(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Y1.GTIN_SIZE+e.WEIGHT_SIZE)throw new ae;var n=new Xe;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+Y1.GTIN_SIZE,e.WEIGHT_SIZE),n.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(Y1),eX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),tX=(function(t){eX(e,t);function e(n){return t.call(this,n)||this}return e.prototype.addWeightCode=function(n,r){n.append("(3103)")},e.prototype.checkWeight=function(n){return n},e})(B5),nX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),rX=(function(t){nX(e,t);function e(n){return t.call(this,n)||this}return e.prototype.addWeightCode=function(n,r){r<1e4?n.append("(3202)"):n.append("(3203)")},e.prototype.checkWeight=function(n){return n<1e4?n:n-1e4},e})(B5),iX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),aX=(function(t){iX(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+wa.GTIN_SIZE)throw new ae;var n=new Xe;this.encodeCompressedGtin(n,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+wa.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(392"),n.append(r),n.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+wa.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return n.append(i.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(wa),oX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),sX=(function(t){oX(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+wa.GTIN_SIZE)throw new ae;var n=new Xe;this.encodeCompressedGtin(n,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+wa.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(393"),n.append(r),n.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+wa.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&n.append("0"),i/10===0&&n.append("0"),n.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+wa.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return n.append(a.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(wa),lX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Gs=(function(t){lX(e,t);function e(n,r,i){var a=t.call(this,n)||this;return a.dateCode=i,a.firstAIdigits=r,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new ae;var n=new Xe;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(n,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),n.toString()},e.prototype.encodeCompressedDate=function(n,r){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(i!==38400){n.append("("),n.append(this.dateCode),n.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var l=i;l/10===0&&n.append("0"),n.append(l),o/10===0&&n.append("0"),n.append(o),a/10===0&&n.append("0"),n.append(a)}},e.prototype.addWeightCode=function(n,r){n.append("("),n.append(this.firstAIdigits),n.append(r/1e5),n.append(")")},e.prototype.checkWeight=function(n){return n%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(Y1);function uX(t){try{if(t.get(1))return new XW(t);if(!t.get(2))return new QW(t);var e=X1.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new tX(t);case 5:return new rX(t)}var n=X1.extractNumericValueFromBitArray(t,1,5);switch(n){case 12:return new aX(t);case 13:return new sX(t)}var r=X1.extractNumericValueFromBitArray(t,1,7);switch(r){case 56:return new Gs(t,"310","11");case 57:return new Gs(t,"320","11");case 58:return new Gs(t,"310","13");case 59:return new Gs(t,"320","13");case 60:return new Gs(t,"310","15");case 61:return new Gs(t,"320","15");case 62:return new Gs(t,"310","17");case 63:return new Gs(t,"320","17")}}catch(i){throw console.log(i),new f0("unknown decoder: "+t)}}var bO=(function(){function t(e,n,r,i){this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,n){return e instanceof t?t.equalsOrNull(e.leftchar,n.leftchar)&&t.equalsOrNull(e.rightchar,n.rightchar)&&t.equalsOrNull(e.finderpattern,n.finderpattern):!1},t.equalsOrNull=function(e,n){return e===null?n===null:t.equals(e,n)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t})(),cX=(function(){function t(e,n,r){this.pairs=e,this.rowNumber=n,this.wasReversed=r}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,n){return e instanceof t?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1},t.prototype.checkEqualitity=function(e,n){if(!(!e||!n)){var r;return e.forEach(function(i,a){n.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(r=!0)})}),r}},t})(),fX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ks=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dX=(function(t){fX(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.pairs=new Array(e.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return e.prototype.decodeRow=function(n,r,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(n,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(n,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(n,r){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,n))}catch(l){if(l instanceof ae){if(!this.pairs.length)throw new ae;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(n,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new ae},e.prototype.checkRowsBoolean=function(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(i){console.log(i)}return n&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(n,r){for(var i,a,o=r;o<this.rows.length;o++){var l=this.rows[o];this.pairs.length=0;try{for(var c=(i=void 0,Ks(n)),f=c.next();!f.done;f=c.next()){var h=f.value;this.pairs.push(h.getPairs())}}catch(v){i={error:v}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}if(this.pairs.push(l.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var p=new Array(n);p.push(l);try{return this.checkRows(p,o+1)}catch(v){console.log(v)}}}throw new ae},e.isValidSequence=function(n){var r,i;try{for(var a=Ks(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var l=o.value;if(!(n.length>l.length)){for(var c=!0,f=0;f<n.length;f++)if(n[f].getFinderPattern().getValue()!==l[f]){c=!1;break}if(c)return!0}}}catch(h){r={error:h}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(n,r){for(var i=0,a=!1,o=!1;i<this.rows.length;){var l=this.rows[i];if(l.getRowNumber()>n){o=l.isEquivalent(this.pairs);break}a=l.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new cX(this.pairs,n,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(n,r){var i,a,o,l,c,f;try{for(var h=Ks(r),p=h.next();!p.done;p=h.next()){var v=p.value;if(v.getPairs().length!==n.length){var m=!0;try{for(var _=(o=void 0,Ks(v.getPairs())),w=_.next();!w.done;w=_.next()){var A=w.value,S=!1;try{for(var I=(c=void 0,Ks(n)),O=I.next();!O.done;O=I.next()){var N=O.value;if(bO.equals(A,N)){S=!0;break}}}catch(k){c={error:k}}finally{try{O&&!O.done&&(f=I.return)&&f.call(I)}finally{if(c)throw c.error}}S||(m=!1)}}catch(k){o={error:k}}finally{try{w&&!w.done&&(l=_.return)&&l.call(_)}finally{if(o)throw o.error}}}}}catch(k){i={error:k}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}},e.isPartialRow=function(n,r){var i,a,o,l,c,f;try{for(var h=Ks(r),p=h.next();!p.done;p=h.next()){var v=p.value,m=!0;try{for(var _=(o=void 0,Ks(n)),w=_.next();!w.done;w=_.next()){var A=w.value,S=!1;try{for(var I=(c=void 0,Ks(v.getPairs())),O=I.next();!O.done;O=I.next()){var N=O.value;if(A.equals(N)){S=!0;break}}}catch(k){c={error:k}}finally{try{O&&!O.done&&(f=I.return)&&f.call(I)}finally{if(c)throw c.error}}if(!S){m=!1;break}}}catch(k){o={error:k}}finally{try{w&&!w.done&&(l=_.return)&&l.call(_)}finally{if(o)throw o.error}}if(m)return!0}}catch(k){i={error:k}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(n){var r=zW.buildBitArray(n),i=uX(r),a=i.parseInformation(),o=n[0].getFinderPattern().getResultPoints(),l=n[n.length-1].getFinderPattern().getResultPoints(),c=[o[0],o[1],l[0],l[1]];return new Br(a,null,null,c,Ne.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var n=this.pairs.get(0),r=n.getLeftChar(),i=n.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,l=1;l<this.pairs.size();++l){var c=this.pairs.get(l);a+=c.getLeftChar().getChecksumPortion(),o++;var f=c.getRightChar();f!=null&&(a+=f.getChecksumPortion(),o++)}a%=211;var h=211*(o-4)+a;return h===r.getValue()},e.getNextSecondBar=function(n,r){var i;return n.get(r)?(i=n.getNextUnset(r),i=n.getNextSet(i)):(i=n.getNextSet(r),i=n.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(n,r,i){var a=r.length%2===0;this.startFromEven&&(a=!a);var o,l=!0,c=-1;do this.findNextPair(n,r,c),o=this.parseFoundFinderPattern(n,i,a),o===null?c=e.getNextSecondBar(n,this.startEnd[0]):l=!1;while(l);var f=this.decodeDataCharacter(n,o,a,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new ae;var h;try{h=this.decodeDataCharacter(n,o,a,!1)}catch(p){h=null,console.log(p)}return new bO(f,h,o,!0)},e.prototype.isEmptyPair=function(n){return n.length===0},e.prototype.findNextPair=function(n,r,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=n.getSize(),l;if(i>=0)l=i;else if(this.isEmptyPair(r))l=0;else{var c=r[r.length-1];l=c.getFinderPattern().getStartEnd()[1]}var f=r.length%2!==0;this.startFromEven&&(f=!f);for(var h=!1;l<o&&(h=!n.get(l),!!h);)l++;for(var p=0,v=l,m=l;m<o;m++)if(n.get(m)!==h)a[p]++;else{if(p===3){if(f&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=v,this.startEnd[1]=m;return}f&&e.reverseCounters(a),v+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,h=!h}throw new ae},e.reverseCounters=function(n){for(var r=n.length,i=0;i<r/2;++i){var a=n[i];n[i]=n[r-i-1],n[r-i-1]=a}},e.prototype.parseFoundFinderPattern=function(n,r,i){var a,o,l;if(i){for(var c=this.startEnd[0]-1;c>=0&&!n.get(c);)c--;c++,a=this.startEnd[0]-c,o=c,l=this.startEnd[1]}else o=this.startEnd[0],l=n.getNextUnset(this.startEnd[1]+1),a=l-this.startEnd[1];var f=this.getDecodeFinderCounters();$t.arraycopy(f,0,f,1,f.length-1),f[0]=a;var h;try{h=this.parseFinderValue(f,e.FINDER_PATTERNS)}catch{return null}return new j5(h,[o,l],o,l,r)},e.prototype.decodeDataCharacter=function(n,r,i,a){for(var o=this.getDataCharacterCounters(),l=0;l<o.length;l++)o[l]=0;if(a)e.recordPatternInReverse(n,r.getStartEnd()[0],o);else{e.recordPattern(n,r.getStartEnd()[1],o);for(var c=0,f=o.length-1;c<f;c++,f--){var h=o[c];o[c]=o[f],o[f]=h}}var p=17,v=gt.sum(new Int32Array(o))/p,m=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(v-m)/m>.3)throw new ae;for(var _=this.getOddCounts(),w=this.getEvenCounts(),A=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors(),c=0;c<o.length;c++){var I=1*o[c]/v,O=I+.5;if(O<1){if(I<.3)throw new ae;O=1}else if(O>8){if(I>8.7)throw new ae;O=8}var N=c/2;(c&1)===0?(_[N]=O,A[N]=I-O):(w[N]=O,S[N]=I-O)}this.adjustOddEvenCounts(p);for(var k=4*r.getValue()+(i?0:2)+(a?0:1)-1,B=0,D=0,c=_.length-1;c>=0;c--){if(e.isNotA1left(r,i,a)){var M=e.WEIGHTS[k][2*c];D+=_[c]*M}B+=_[c]}for(var j=0,c=w.length-1;c>=0;c--)if(e.isNotA1left(r,i,a)){var M=e.WEIGHTS[k][2*c+1];j+=w[c]*M}var z=D+j;if((B&1)!==0||B>13||B<4)throw new ae;var F=(13-B)/2,H=e.SYMBOL_WIDEST[F],U=9-H,he=Kc.getRSSvalue(_,H,!0),be=Kc.getRSSvalue(w,U,!1),Y=e.EVEN_TOTAL_SUBSET[F],se=e.GSUM[F],me=he*Y+be+se;return new Cg(me,z)},e.isNotA1left=function(n,r,i){return!(n.getValue()===0&&r&&i)},e.prototype.adjustOddEvenCounts=function(n){var r=gt.sum(new Int32Array(this.getOddCounts())),i=gt.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;r>13?o=!0:r<4&&(a=!0);var l=!1,c=!1;i>13?c=!0:i<4&&(l=!0);var f=r+i-n,h=(r&1)===1,p=(i&1)===0;if(f===1)if(h){if(p)throw new ae;o=!0}else{if(!p)throw new ae;c=!0}else if(f===-1)if(h){if(p)throw new ae;a=!0}else{if(!p)throw new ae;l=!0}else if(f===0){if(h){if(!p)throw new ae;r<i?(a=!0,c=!0):(o=!0,l=!0)}else if(p)throw new ae}else throw new ae;if(a){if(o)throw new ae;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new ae;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(pu),hX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),pX=(function(t){hX(e,t);function e(n,r,i){var a=t.call(this,n,r)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(Cg),gX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),J2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wO=(function(t){gX(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.possibleLeftPairs=[],n.possibleRightPairs=[],n}return e.prototype.decodeRow=function(n,r,i){var a,o,l,c,f=this.decodePair(r,!1,n,i);e.addOrTally(this.possibleLeftPairs,f),r.reverse();var h=this.decodePair(r,!0,n,i);e.addOrTally(this.possibleRightPairs,h),r.reverse();try{for(var p=J2(this.possibleLeftPairs),v=p.next();!v.done;v=p.next()){var m=v.value;if(m.getCount()>1)try{for(var _=(l=void 0,J2(this.possibleRightPairs)),w=_.next();!w.done;w=_.next()){var A=w.value;if(A.getCount()>1&&e.checkChecksum(m,A))return e.constructResult(m,A)}}catch(S){l={error:S}}finally{try{w&&!w.done&&(c=_.return)&&c.call(_)}finally{if(l)throw l.error}}}}catch(S){a={error:S}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}throw new ae},e.addOrTally=function(n,r){var i,a;if(r!=null){var o=!1;try{for(var l=J2(n),c=l.next();!c.done;c=l.next()){var f=c.value;if(f.getValue()===r.getValue()){f.incrementCount(),o=!0;break}}}catch(h){i={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}o||n.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(n,r){for(var i=4537077*n.getValue()+r.getValue(),a=new String(i).toString(),o=new Xe,l=13-a.length;l>0;l--)o.append("0");o.append(a);for(var c=0,l=0;l<13;l++){var f=o.charAt(l).charCodeAt(0)-48;c+=(l&1)===0?3*f:f}c=10-c%10,c===10&&(c=0),o.append(c.toString());var h=n.getFinderPattern().getResultPoints(),p=r.getFinderPattern().getResultPoints();return new Br(o.toString(),null,0,[h[0],h[1],p[0],p[1]],Ne.RSS_14,new Date().getTime())},e.checkChecksum=function(n,r){var i=(n.getChecksumPortion()+16*r.getChecksumPortion())%79,a=9*n.getFinderPattern().getValue()+r.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(n,r,i,a){try{var o=this.findFinderPattern(n,r),l=this.parseFoundFinderPattern(n,i,r,o),c=a==null?null:a.get(tn.NEED_RESULT_POINT_CALLBACK);if(c!=null){var f=(o[0]+o[1])/2;r&&(f=n.getSize()-1-f),c.foundPossibleResultPoint(new Ce(f,i))}var h=this.decodeDataCharacter(n,l,!0),p=this.decodeDataCharacter(n,l,!1);return new pX(1597*h.getValue()+p.getValue(),h.getChecksumPortion()+4*p.getChecksumPortion(),l)}catch{return null}},e.prototype.decodeDataCharacter=function(n,r,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)Wn.recordPatternInReverse(n,r.getStartEnd()[0],a);else{Wn.recordPattern(n,r.getStartEnd()[1]+1,a);for(var l=0,c=a.length-1;l<c;l++,c--){var f=a[l];a[l]=a[c],a[c]=f}}for(var h=i?16:15,p=gt.sum(new Int32Array(a))/h,v=this.getOddCounts(),m=this.getEvenCounts(),_=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors(),l=0;l<a.length;l++){var A=a[l]/p,S=Math.floor(A+.5);S<1?S=1:S>8&&(S=8);var I=Math.floor(l/2);(l&1)===0?(v[I]=S,_[I]=A-S):(m[I]=S,w[I]=A-S)}this.adjustOddEvenCounts(i,h);for(var O=0,N=0,l=v.length-1;l>=0;l--)N*=9,N+=v[l],O+=v[l];for(var k=0,B=0,l=m.length-1;l>=0;l--)k*=9,k+=m[l],B+=m[l];var D=N+3*k;if(i){if((O&1)!==0||O>12||O<4)throw new ae;var M=(12-O)/2,j=e.OUTSIDE_ODD_WIDEST[M],z=9-j,F=Kc.getRSSvalue(v,j,!1),H=Kc.getRSSvalue(m,z,!0),U=e.OUTSIDE_EVEN_TOTAL_SUBSET[M],he=e.OUTSIDE_GSUM[M];return new Cg(F*U+H+he,D)}else{if((B&1)!==0||B>10||B<4)throw new ae;var M=(10-B)/2,j=e.INSIDE_ODD_WIDEST[M],z=9-j,F=Kc.getRSSvalue(v,j,!0),H=Kc.getRSSvalue(m,z,!1),be=e.INSIDE_ODD_TOTAL_SUBSET[M],he=e.INSIDE_GSUM[M];return new Cg(H*be+F+he,D)}},e.prototype.findFinderPattern=function(n,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=n.getSize(),o=!1,l=0;l<a&&(o=!n.get(l),r!==o);)l++;for(var c=0,f=l,h=l;h<a;h++)if(n.get(h)!==o)i[c]++;else{if(c===3){if(pu.isFinderPattern(i))return[f,h];f+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,o=!o}throw new ae},e.prototype.parseFoundFinderPattern=function(n,r,i,a){for(var o=n.get(a[0]),l=a[0]-1;l>=0&&o!==n.get(l);)l--;l++;var c=a[0]-l,f=this.getDecodeFinderCounters(),h=new Int32Array(f.length);$t.arraycopy(f,0,h,1,f.length-1),h[0]=c;var p=this.parseFinderValue(h,e.FINDER_PATTERNS),v=l,m=a[1];return i&&(v=n.getSize()-1-v,m=n.getSize()-1-m),new j5(p,[l,a[1]],v,m,r)},e.prototype.adjustOddEvenCounts=function(n,r){var i=gt.sum(new Int32Array(this.getOddCounts())),a=gt.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1,c=!1,f=!1;n?(i>12?l=!0:i<4&&(o=!0),a>12?f=!0:a<4&&(c=!0)):(i>11?l=!0:i<5&&(o=!0),a>10?f=!0:a<4&&(c=!0));var h=i+a-r,p=(i&1)===(n?1:0),v=(a&1)===1;if(h===1)if(p){if(v)throw new ae;l=!0}else{if(!v)throw new ae;f=!0}else if(h===-1)if(p){if(v)throw new ae;o=!0}else{if(!v)throw new ae;c=!0}else if(h===0){if(p){if(!v)throw new ae;i<a?(o=!0,f=!0):(l=!0,c=!0)}else if(v)throw new ae}else throw new ae;if(o){if(l)throw new ae;pu.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&pu.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(f)throw new ae;pu.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&pu.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(pu),vX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),mh=(function(t){vX(e,t);function e(n){var r=t.call(this)||this;r.readers=[];var i=n?n.get(tn.POSSIBLE_FORMATS):null,a=n&&n.get(tn.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=n&&n.get(tn.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Ne.EAN_13)||i.includes(Ne.UPC_A)||i.includes(Ne.EAN_8)||i.includes(Ne.UPC_E))&&r.readers.push(new Z2(n)),i.includes(Ne.CODE_39)&&r.readers.push(new dO(a,o)),i.includes(Ne.CODE_93)&&r.readers.push(new hO),i.includes(Ne.CODE_128)&&r.readers.push(new fO),i.includes(Ne.ITF)&&r.readers.push(new pO),i.includes(Ne.CODABAR)&&r.readers.push(new BW),i.includes(Ne.RSS_14)&&r.readers.push(new wO),i.includes(Ne.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new dX))),r.readers.length===0&&(r.readers.push(new Z2(n)),r.readers.push(new dO),r.readers.push(new hO),r.readers.push(new Z2(n)),r.readers.push(new fO),r.readers.push(new pO),r.readers.push(new wO)),r}return e.prototype.decodeRow=function(n,r,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(n,r,i)}catch{}throw new ae},e.prototype.reset=function(){this.readers.forEach(function(n){return n.reset()})},e})(Wn),mX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){mX(e,t);function e(n,r){return n===void 0&&(n=500),t.call(this,new mh(r),n,r)||this}return e})(jf);var EO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wt=(function(){function t(e,n,r){this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),_t=(function(){function t(e,n){this.count=e,this.dataCodewords=n}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),yX=(function(){function t(e,n,r,i,a,o){var l,c;this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var f=0,h=o.getECCodewords(),p=o.getECBlocks();try{for(var v=EO(p),m=v.next();!m.done;m=v.next()){var _=m.value;f+=_.getCount()*(_.getDataCodewords()+h)}}catch(w){l={error:w}}finally{try{m&&!m.done&&(c=v.return)&&c.call(v)}finally{if(l)throw l.error}}this.totalCodewords=f}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,n){var r,i;if((e&1)!==0||(n&1)!==0)throw new ve;try{for(var a=EO(t.VERSIONS),o=a.next();!o.done;o=a.next()){var l=o.value;if(l.symbolSizeRows===e&&l.symbolSizeColumns===n)return l}}catch(c){r={error:c}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}throw new ve},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new wt(5,new _t(1,3))),new t(2,12,12,10,10,new wt(7,new _t(1,5))),new t(3,14,14,12,12,new wt(10,new _t(1,8))),new t(4,16,16,14,14,new wt(12,new _t(1,12))),new t(5,18,18,16,16,new wt(14,new _t(1,18))),new t(6,20,20,18,18,new wt(18,new _t(1,22))),new t(7,22,22,20,20,new wt(20,new _t(1,30))),new t(8,24,24,22,22,new wt(24,new _t(1,36))),new t(9,26,26,24,24,new wt(28,new _t(1,44))),new t(10,32,32,14,14,new wt(36,new _t(1,62))),new t(11,36,36,16,16,new wt(42,new _t(1,86))),new t(12,40,40,18,18,new wt(48,new _t(1,114))),new t(13,44,44,20,20,new wt(56,new _t(1,144))),new t(14,48,48,22,22,new wt(68,new _t(1,174))),new t(15,52,52,24,24,new wt(42,new _t(2,102))),new t(16,64,64,14,14,new wt(56,new _t(2,140))),new t(17,72,72,16,16,new wt(36,new _t(4,92))),new t(18,80,80,18,18,new wt(48,new _t(4,114))),new t(19,88,88,20,20,new wt(56,new _t(4,144))),new t(20,96,96,22,22,new wt(68,new _t(4,174))),new t(21,104,104,24,24,new wt(56,new _t(6,136))),new t(22,120,120,18,18,new wt(68,new _t(6,175))),new t(23,132,132,20,20,new wt(62,new _t(8,163))),new t(24,144,144,22,22,new wt(62,new _t(8,156),new _t(2,155))),new t(25,8,18,6,16,new wt(7,new _t(1,5))),new t(26,8,32,6,14,new wt(11,new _t(1,10))),new t(27,12,26,10,24,new wt(14,new _t(1,16))),new t(28,12,36,10,16,new wt(18,new _t(1,22))),new t(29,16,36,14,16,new wt(24,new _t(1,32))),new t(30,16,48,14,22,new wt(28,new _t(1,49)))]},t.VERSIONS=t.buildVersions(),t})(),xX=(function(){function t(e){var n=e.getHeight();if(n<8||n>144||(n&1)!==0)throw new ve;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new uo(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var n=e.getHeight(),r=e.getWidth();return yX.getVersionForDimensions(n,r)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),n=0,r=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),l=!1,c=!1,f=!1,h=!1;do if(r===a&&i===0&&!l)e[n++]=this.readCorner1(a,o)&255,r-=2,i+=2,l=!0;else if(r===a-2&&i===0&&(o&3)!==0&&!c)e[n++]=this.readCorner2(a,o)&255,r-=2,i+=2,c=!0;else if(r===a+4&&i===2&&(o&7)===0&&!f)e[n++]=this.readCorner3(a,o)&255,r-=2,i+=2,f=!0;else if(r===a-2&&i===0&&(o&7)===4&&!h)e[n++]=this.readCorner4(a,o)&255,r-=2,i+=2,h=!0;else{do r<a&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[n++]=this.readUtah(r,i,a,o)&255),r-=2,i+=2;while(r>=0&&i<o);r+=1,i+=3;do r>=0&&i<o&&!this.readMappingMatrix.get(i,r)&&(e[n++]=this.readUtah(r,i,a,o)&255),r+=2,i-=2;while(r<a&&i>=0);r+=3,i+=1}while(r<a||i<o);if(n!==this.version.getTotalCodewords())throw new ve;return e},t.prototype.readModule=function(e,n,r,i){return e<0&&(e+=r,n+=4-(r+4&7)),n<0&&(n+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)},t.prototype.readUtah=function(e,n,r,i){var a=0;return this.readModule(e-2,n-2,r,i)&&(a|=1),a<<=1,this.readModule(e-2,n-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,n-2,r,i)&&(a|=1),a<<=1,this.readModule(e-1,n-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,n,r,i)&&(a|=1),a<<=1,this.readModule(e,n-2,r,i)&&(a|=1),a<<=1,this.readModule(e,n-1,r,i)&&(a|=1),a<<=1,this.readModule(e,n,r,i)&&(a|=1),a},t.prototype.readCorner1=function(e,n){var r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,1,e,n)&&(r|=1),r<<=1,this.readModule(e-1,2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r},t.prototype.readCorner2=function(e,n){var r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-4,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r},t.prototype.readCorner3=function(e,n){var r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-3,e,n)&&(r|=1),r<<=1,this.readModule(1,n-2,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r},t.prototype.readCorner4=function(e,n){var r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r},t.prototype.extractDataRegion=function(e){var n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new ke("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=n/i|0,l=r/a|0,c=o*i,f=l*a,h=new uo(f,c),p=0;p<o;++p)for(var v=p*i,m=0;m<l;++m)for(var _=m*a,w=0;w<i;++w)for(var A=p*(i+2)+1+w,S=v+w,I=0;I<a;++I){var O=m*(a+2)+1+I;if(e.get(O,A)){var N=_+I;h.set(N,S)}}return h},t})(),AO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_X=(function(){function t(e,n){this.numDataCodewords=e,this.codewords=n}return t.getDataBlocks=function(e,n){var r,i,a,o,l=n.getECBlocks(),c=0,f=l.getECBlocks();try{for(var h=AO(f),p=h.next();!p.done;p=h.next()){var v=p.value;c+=v.getCount()}}catch(he){r={error:he}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}var m=new Array(c),_=0;try{for(var w=AO(f),A=w.next();!A.done;A=w.next())for(var v=A.value,S=0;S<v.getCount();S++){var I=v.getDataCodewords(),O=l.getECCodewords()+I;m[_++]=new t(I,new Uint8Array(O))}}catch(he){a={error:he}}finally{try{A&&!A.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}for(var N=m[0].codewords.length,k=N-l.getECCodewords(),B=k-1,D=0,S=0;S<B;S++)for(var M=0;M<_;M++)m[M].codewords[S]=e[D++];for(var j=n.getVersionNumber()===24,z=j?8:_,M=0;M<z;M++)m[M].codewords[k-1]=e[D++];for(var F=m[0].codewords.length,S=k;S<F;S++)for(var M=0;M<_;M++){var H=j?(M+8)%_:M,U=j&&H>7?S-1:S;m[H].codewords[U]=e[D++]}if(D!==e.length)throw new ke;return m},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),F5=(function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new ke(""+e);var n=0,r=this.bitOffset,i=this.byteOffset,a=this.bytes;if(r>0){var o=8-r,l=e<o?e:o,c=o-l,f=255>>8-l<<c;n=(a[i]&f)>>c,e-=l,r+=l,r===8&&(r=0,i++)}if(e>0){for(;e>=8;)n=n<<8|a[i]&255,i++,e-=8;if(e>0){var c=8-e,f=255>>c<<c;n=n<<e|(a[i]&f)>>c,r+=e}}return this.bitOffset=r,this.byteOffset=i,n},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t})(),zn;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(zn||(zn={}));var bX=(function(){function t(){}return t.decode=function(e){var n=new F5(e),r=new Xe,i=new Xe,a=new Array,o=zn.ASCII_ENCODE;do if(o===zn.ASCII_ENCODE)o=this.decodeAsciiSegment(n,r,i);else{switch(o){case zn.C40_ENCODE:this.decodeC40Segment(n,r);break;case zn.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case zn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case zn.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case zn.BASE256_ENCODE:this.decodeBase256Segment(n,r,a);break;default:throw new ve}o=zn.ASCII_ENCODE}while(o!==zn.PAD_ENCODE&&n.available()>0);return i.length()>0&&r.append(i.toString()),new Wv(e,r.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,n,r){var i=!1;do{var a=e.readBits(8);if(a===0)throw new ve;if(a<=128)return i&&(a+=128),n.append(String.fromCharCode(a-1)),zn.ASCII_ENCODE;if(a===129)return zn.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&n.append("0"),n.append(""+o)}else switch(a){case 230:return zn.C40_ENCODE;case 231:return zn.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return zn.ANSIX12_ENCODE;case 239:return zn.TEXT_ENCODE;case 240:return zn.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new ve;break}}while(e.available()>0);return zn.ASCII_ENCODE},t.decodeC40Segment=function(e,n){var r=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var l=0;l<3;l++){var c=i[l];switch(a){case 0:if(c<3)a=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var f=this.C40_BASIC_SET_CHARS[c];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else throw new ve;break;case 1:r?(n.append(String.fromCharCode(c+128)),r=!1):n.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var f=this.C40_SHIFT2_SET_CHARS[c];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else switch(c){case 27:n.append("");break;case 30:r=!0;break;default:throw new ve}a=0;break;case 3:r?(n.append(String.fromCharCode(c+224)),r=!1):n.append(String.fromCharCode(c+96)),a=0;break;default:throw new ve}}}while(e.available()>0)},t.decodeTextSegment=function(e,n){var r=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var l=0;l<3;l++){var c=i[l];switch(a){case 0:if(c<3)a=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var f=this.TEXT_BASIC_SET_CHARS[c];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else throw new ve;break;case 1:r?(n.append(String.fromCharCode(c+128)),r=!1):n.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var f=this.TEXT_SHIFT2_SET_CHARS[c];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else switch(c){case 27:n.append("");break;case 30:r=!0;break;default:throw new ve}a=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var f=this.TEXT_SHIFT3_SET_CHARS[c];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f),a=0}else throw new ve;break;default:throw new ve}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,n){var r=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),r);for(var a=0;a<3;a++){var o=r[a];switch(o){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(o<14)n.append(String.fromCharCode(o+44));else if(o<40)n.append(String.fromCharCode(o+51));else throw new ve;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,n,r){var i=(e<<8)+n-1,a=Math.floor(i/1600);r[0]=a,i-=a*1600,a=Math.floor(i/40),r[1]=a,r[2]=i-a*40},t.decodeEdifactSegment=function(e,n){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),n.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,n,r){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new ve;for(var l=new Uint8Array(o),c=0;c<o;c++){if(e.available()<8)throw new ve;l[c]=this.unrandomize255State(e.readBits(8),i++)}r.push(l);try{n.append(ra.decode(l,ut.ISO88591))}catch(f){throw new f0("Platform does not support required encoding: "+f.message)}},t.unrandomize255State=function(e,n){var r=149*n%255+1,i=e-r;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t})(),wX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EX=(function(){function t(){this.rsDecoder=new Xv(oi.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var n,r,i=new xX(e),a=i.getVersion(),o=i.readCodewords(),l=_X.getDataBlocks(o,a),c=0;try{for(var f=wX(l),h=f.next();!h.done;h=f.next()){var p=h.value;c+=p.getNumDataCodewords()}}catch(O){n={error:O}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}for(var v=new Uint8Array(c),m=l.length,_=0;_<m;_++){var w=l[_],A=w.getCodewords(),S=w.getNumDataCodewords();this.correctErrors(A,S);for(var I=0;I<S;I++)v[I*m+_]=A[I]}return bX.decode(v)},t.prototype.correctErrors=function(e,n){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new or}for(var i=0;i<n;i++)e[i]=r[i]},t})(),AX=(function(){function t(e){this.image=e,this.rectangleDetector=new gb(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new ae;n=this.shiftToModuleCenter(n);var r=n[0],i=n[1],a=n[2],o=n[3],l=this.transitionsBetween(r,o)+1,c=this.transitionsBetween(a,o)+1;(l&1)===1&&(l+=1),(c&1)===1&&(c+=1),4*l<7*c&&4*c<7*l&&(l=c=Math.max(l,c));var f=t.sampleGrid(this.image,r,i,a,o,l,c);return new IE(f,[r,i,a,o])},t.shiftPoint=function(e,n,r){var i=(n.getX()-e.getX())/(r+1),a=(n.getY()-e.getY())/(r+1);return new Ce(e.getX()+i,e.getY()+a)},t.moveAway=function(e,n,r){var i=e.getX(),a=e.getY();return i<n?i-=1:i+=1,a<r?a-=1:a+=1,new Ce(i,a)},t.prototype.detectSolid1=function(e){var n=e[0],r=e[1],i=e[3],a=e[2],o=this.transitionsBetween(n,r),l=this.transitionsBetween(r,i),c=this.transitionsBetween(i,a),f=this.transitionsBetween(a,n),h=o,p=[a,n,r,i];return h>l&&(h=l,p[0]=n,p[1]=r,p[2]=i,p[3]=a),h>c&&(h=c,p[0]=r,p[1]=i,p[2]=a,p[3]=n),h>f&&(p[0]=i,p[1]=a,p[2]=n,p[3]=r),p},t.prototype.detectSolid2=function(e){var n=e[0],r=e[1],i=e[2],a=e[3],o=this.transitionsBetween(n,a),l=t.shiftPoint(r,i,(o+1)*4),c=t.shiftPoint(i,r,(o+1)*4),f=this.transitionsBetween(l,n),h=this.transitionsBetween(c,a);return f<h?(e[0]=n,e[1]=r,e[2]=i,e[3]=a):(e[0]=r,e[1]=i,e[2]=a,e[3]=n),e},t.prototype.correctTopRight=function(e){var n=e[0],r=e[1],i=e[2],a=e[3],o=this.transitionsBetween(n,a),l=this.transitionsBetween(r,a),c=t.shiftPoint(n,r,(l+1)*4),f=t.shiftPoint(i,r,(o+1)*4);o=this.transitionsBetween(c,a),l=this.transitionsBetween(f,a);var h=new Ce(a.getX()+(i.getX()-r.getX())/(o+1),a.getY()+(i.getY()-r.getY())/(o+1)),p=new Ce(a.getX()+(n.getX()-r.getX())/(l+1),a.getY()+(n.getY()-r.getY())/(l+1));if(!this.isValid(h))return this.isValid(p)?p:null;if(!this.isValid(p))return h;var v=this.transitionsBetween(c,h)+this.transitionsBetween(f,h),m=this.transitionsBetween(c,p)+this.transitionsBetween(f,p);return v>m?h:p},t.prototype.shiftToModuleCenter=function(e){var n=e[0],r=e[1],i=e[2],a=e[3],o=this.transitionsBetween(n,a)+1,l=this.transitionsBetween(i,a)+1,c=t.shiftPoint(n,r,l*4),f=t.shiftPoint(i,r,o*4);o=this.transitionsBetween(c,a)+1,l=this.transitionsBetween(f,a)+1,(o&1)===1&&(o+=1),(l&1)===1&&(l+=1);var h=(n.getX()+r.getX()+i.getX()+a.getX())/4,p=(n.getY()+r.getY()+i.getY()+a.getY())/4;n=t.moveAway(n,h,p),r=t.moveAway(r,h,p),i=t.moveAway(i,h,p),a=t.moveAway(a,h,p);var v,m;return c=t.shiftPoint(n,r,l*4),c=t.shiftPoint(c,a,o*4),v=t.shiftPoint(r,n,l*4),v=t.shiftPoint(v,i,o*4),f=t.shiftPoint(i,a,l*4),f=t.shiftPoint(f,r,o*4),m=t.shiftPoint(a,i,l*4),m=t.shiftPoint(m,n,o*4),[c,v,f,m]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,n,r,i,a,o,l){var c=OE.getInstance();return c.sampleGrid(e,o,l,.5,.5,o-.5,.5,o-.5,l-.5,.5,l-.5,n.getX(),n.getY(),a.getX(),a.getY(),i.getX(),i.getY(),r.getX(),r.getY())},t.prototype.transitionsBetween=function(e,n){var r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(n.getX()),o=Math.trunc(n.getY()),l=Math.abs(o-i)>Math.abs(a-r);if(l){var c=r;r=i,i=c,c=a,a=o,o=c}for(var f=Math.abs(a-r),h=Math.abs(o-i),p=-f/2,v=i<o?1:-1,m=r<a?1:-1,_=0,w=this.image.get(l?i:r,l?r:i),A=r,S=i;A!==a;A+=m){var I=this.image.get(l?S:A,l?A:S);if(I!==w&&(_++,w=I),p+=h,p>0){if(S===o)break;S+=v,p-=f}}return _},t})(),yb=(function(){function t(){this.decoder=new EX}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r,i;if(n!=null&&n.has(tn.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(a),i=t.NO_POINTS}else{var o=new AX(e.getBlackMatrix()).detect();r=this.decoder.decode(o.getBits()),i=o.getPoints()}var l=r.getRawBytes(),c=new Br(r.getText(),l,8*l.length,i,Ne.DATA_MATRIX,$t.currentTimeMillis()),f=r.getByteSegments();f!=null&&c.putMetadata(Ar.BYTE_SEGMENTS,f);var h=r.getECLevel();return h!=null&&c.putMetadata(Ar.ERROR_CORRECTION_LEVEL,h),c},t.prototype.reset=function(){},t.extractPureBits=function(e){var n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n==null||r==null)throw new ae;var i=this.moduleSize(n,e),a=n[1],o=r[1],l=n[0],c=r[0],f=(c-l+1)/i,h=(o-a+1)/i;if(f<=0||h<=0)throw new ae;var p=i/2;a+=p,l+=p;for(var v=new uo(f,h),m=0;m<h;m++)for(var _=a+m*i,w=0;w<f;w++)e.get(l+w*i,_)&&v.set(w,m);return v},t.moduleSize=function(e,n){for(var r=n.getWidth(),i=e[0],a=e[1];i<r&&n.get(i,a);)i++;if(i===r)throw new ae;var o=i-e[0];if(o===0)throw new ae;return o},t.NO_POINTS=[],t})(),SX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){SX(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new yb,n)||this}return e})(jf);var Wc;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Wc||(Wc={}));var CX=(function(){function t(e,n,r){this.value=e,this.stringValue=n,this.bits=r,t.FOR_BITS.set(r,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new ba(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new ke;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Wc.L,"L",1),t.M=new t(Wc.M,"M",0),t.Q=new t(Wc.Q,"Q",3),t.H=new t(Wc.H,"H",2),t})(),TX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},V5=(function(){function t(e){this.errorCorrectionLevel=CX.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,n){return Ye.bitCount(e^n)},t.decodeFormatInformation=function(e,n){var r=t.doDecodeFormatInformation(e,n);return r!==null?r:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,n^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,n){var r,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var l=TX(t.FORMAT_INFO_DECODE_LOOKUP),c=l.next();!c.done;c=l.next()){var f=c.value,h=f[0];if(h===e||h===n)return new t(f[1]);var p=t.numBitsDiffering(e,h);p<a&&(o=f[1],a=p),e!==n&&(p=t.numBitsDiffering(n,h),p<a&&(o=f[1],a=p))}}catch(v){r={error:v}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return a<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t})(),IX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q=(function(){function t(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=n}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,n,r=0,i=this.ecBlocks;try{for(var a=IX(i),o=a.next();!o.done;o=a.next()){var l=o.value;r+=l.getCount()}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),$=(function(){function t(e,n){this.count=e,this.dataCodewords=n}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),OX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tu=(function(){function t(e,n){for(var r,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=a;var l=0,c=a[0].getECCodewordsPerBlock(),f=a[0].getECBlocks();try{for(var h=OX(f),p=h.next();!p.done;p=h.next()){var v=p.value;l+=v.getCount()*(v.getDataCodewords()+c)}}catch(m){r={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}this.totalCodewords=l}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new ve;try{return this.getVersionForNumber((e-17)/4)}catch{throw new ve}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new ke;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var n=Number.MAX_SAFE_INTEGER,r=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var o=V5.numBitsDiffering(e,a);o<n&&(r=i+7,n=o)}return n<=3?t.getVersionForNumber(r):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),n=new uo(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<r;o++)i===0&&(o===0||o===r-1)||i===r-1&&o===0||n.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new Q(7,new $(1,19)),new Q(10,new $(1,16)),new Q(13,new $(1,13)),new Q(17,new $(1,9))),new t(2,Int32Array.from([6,18]),new Q(10,new $(1,34)),new Q(16,new $(1,28)),new Q(22,new $(1,22)),new Q(28,new $(1,16))),new t(3,Int32Array.from([6,22]),new Q(15,new $(1,55)),new Q(26,new $(1,44)),new Q(18,new $(2,17)),new Q(22,new $(2,13))),new t(4,Int32Array.from([6,26]),new Q(20,new $(1,80)),new Q(18,new $(2,32)),new Q(26,new $(2,24)),new Q(16,new $(4,9))),new t(5,Int32Array.from([6,30]),new Q(26,new $(1,108)),new Q(24,new $(2,43)),new Q(18,new $(2,15),new $(2,16)),new Q(22,new $(2,11),new $(2,12))),new t(6,Int32Array.from([6,34]),new Q(18,new $(2,68)),new Q(16,new $(4,27)),new Q(24,new $(4,19)),new Q(28,new $(4,15))),new t(7,Int32Array.from([6,22,38]),new Q(20,new $(2,78)),new Q(18,new $(4,31)),new Q(18,new $(2,14),new $(4,15)),new Q(26,new $(4,13),new $(1,14))),new t(8,Int32Array.from([6,24,42]),new Q(24,new $(2,97)),new Q(22,new $(2,38),new $(2,39)),new Q(22,new $(4,18),new $(2,19)),new Q(26,new $(4,14),new $(2,15))),new t(9,Int32Array.from([6,26,46]),new Q(30,new $(2,116)),new Q(22,new $(3,36),new $(2,37)),new Q(20,new $(4,16),new $(4,17)),new Q(24,new $(4,12),new $(4,13))),new t(10,Int32Array.from([6,28,50]),new Q(18,new $(2,68),new $(2,69)),new Q(26,new $(4,43),new $(1,44)),new Q(24,new $(6,19),new $(2,20)),new Q(28,new $(6,15),new $(2,16))),new t(11,Int32Array.from([6,30,54]),new Q(20,new $(4,81)),new Q(30,new $(1,50),new $(4,51)),new Q(28,new $(4,22),new $(4,23)),new Q(24,new $(3,12),new $(8,13))),new t(12,Int32Array.from([6,32,58]),new Q(24,new $(2,92),new $(2,93)),new Q(22,new $(6,36),new $(2,37)),new Q(26,new $(4,20),new $(6,21)),new Q(28,new $(7,14),new $(4,15))),new t(13,Int32Array.from([6,34,62]),new Q(26,new $(4,107)),new Q(22,new $(8,37),new $(1,38)),new Q(24,new $(8,20),new $(4,21)),new Q(22,new $(12,11),new $(4,12))),new t(14,Int32Array.from([6,26,46,66]),new Q(30,new $(3,115),new $(1,116)),new Q(24,new $(4,40),new $(5,41)),new Q(20,new $(11,16),new $(5,17)),new Q(24,new $(11,12),new $(5,13))),new t(15,Int32Array.from([6,26,48,70]),new Q(22,new $(5,87),new $(1,88)),new Q(24,new $(5,41),new $(5,42)),new Q(30,new $(5,24),new $(7,25)),new Q(24,new $(11,12),new $(7,13))),new t(16,Int32Array.from([6,26,50,74]),new Q(24,new $(5,98),new $(1,99)),new Q(28,new $(7,45),new $(3,46)),new Q(24,new $(15,19),new $(2,20)),new Q(30,new $(3,15),new $(13,16))),new t(17,Int32Array.from([6,30,54,78]),new Q(28,new $(1,107),new $(5,108)),new Q(28,new $(10,46),new $(1,47)),new Q(28,new $(1,22),new $(15,23)),new Q(28,new $(2,14),new $(17,15))),new t(18,Int32Array.from([6,30,56,82]),new Q(30,new $(5,120),new $(1,121)),new Q(26,new $(9,43),new $(4,44)),new Q(28,new $(17,22),new $(1,23)),new Q(28,new $(2,14),new $(19,15))),new t(19,Int32Array.from([6,30,58,86]),new Q(28,new $(3,113),new $(4,114)),new Q(26,new $(3,44),new $(11,45)),new Q(26,new $(17,21),new $(4,22)),new Q(26,new $(9,13),new $(16,14))),new t(20,Int32Array.from([6,34,62,90]),new Q(28,new $(3,107),new $(5,108)),new Q(26,new $(3,41),new $(13,42)),new Q(30,new $(15,24),new $(5,25)),new Q(28,new $(15,15),new $(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new Q(28,new $(4,116),new $(4,117)),new Q(26,new $(17,42)),new Q(28,new $(17,22),new $(6,23)),new Q(30,new $(19,16),new $(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new Q(28,new $(2,111),new $(7,112)),new Q(28,new $(17,46)),new Q(30,new $(7,24),new $(16,25)),new Q(24,new $(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new Q(30,new $(4,121),new $(5,122)),new Q(28,new $(4,47),new $(14,48)),new Q(30,new $(11,24),new $(14,25)),new Q(30,new $(16,15),new $(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new Q(30,new $(6,117),new $(4,118)),new Q(28,new $(6,45),new $(14,46)),new Q(30,new $(11,24),new $(16,25)),new Q(30,new $(30,16),new $(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new Q(26,new $(8,106),new $(4,107)),new Q(28,new $(8,47),new $(13,48)),new Q(30,new $(7,24),new $(22,25)),new Q(30,new $(22,15),new $(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new Q(28,new $(10,114),new $(2,115)),new Q(28,new $(19,46),new $(4,47)),new Q(28,new $(28,22),new $(6,23)),new Q(30,new $(33,16),new $(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new Q(30,new $(8,122),new $(4,123)),new Q(28,new $(22,45),new $(3,46)),new Q(30,new $(8,23),new $(26,24)),new Q(30,new $(12,15),new $(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new Q(30,new $(3,117),new $(10,118)),new Q(28,new $(3,45),new $(23,46)),new Q(30,new $(4,24),new $(31,25)),new Q(30,new $(11,15),new $(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new Q(30,new $(7,116),new $(7,117)),new Q(28,new $(21,45),new $(7,46)),new Q(30,new $(1,23),new $(37,24)),new Q(30,new $(19,15),new $(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new Q(30,new $(5,115),new $(10,116)),new Q(28,new $(19,47),new $(10,48)),new Q(30,new $(15,24),new $(25,25)),new Q(30,new $(23,15),new $(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new Q(30,new $(13,115),new $(3,116)),new Q(28,new $(2,46),new $(29,47)),new Q(30,new $(42,24),new $(1,25)),new Q(30,new $(23,15),new $(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new Q(30,new $(17,115)),new Q(28,new $(10,46),new $(23,47)),new Q(30,new $(10,24),new $(35,25)),new Q(30,new $(19,15),new $(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new Q(30,new $(17,115),new $(1,116)),new Q(28,new $(14,46),new $(21,47)),new Q(30,new $(29,24),new $(19,25)),new Q(30,new $(11,15),new $(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new Q(30,new $(13,115),new $(6,116)),new Q(28,new $(14,46),new $(23,47)),new Q(30,new $(44,24),new $(7,25)),new Q(30,new $(59,16),new $(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new Q(30,new $(12,121),new $(7,122)),new Q(28,new $(12,47),new $(26,48)),new Q(30,new $(39,24),new $(14,25)),new Q(30,new $(22,15),new $(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new Q(30,new $(6,121),new $(14,122)),new Q(28,new $(6,47),new $(34,48)),new Q(30,new $(46,24),new $(10,25)),new Q(30,new $(2,15),new $(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new Q(30,new $(17,122),new $(4,123)),new Q(28,new $(29,46),new $(14,47)),new Q(30,new $(49,24),new $(10,25)),new Q(30,new $(24,15),new $(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new Q(30,new $(4,122),new $(18,123)),new Q(28,new $(13,46),new $(32,47)),new Q(30,new $(48,24),new $(14,25)),new Q(30,new $(42,15),new $(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new Q(30,new $(20,117),new $(4,118)),new Q(28,new $(40,47),new $(7,48)),new Q(30,new $(43,24),new $(22,25)),new Q(30,new $(10,15),new $(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new Q(30,new $(19,118),new $(6,119)),new Q(28,new $(18,47),new $(31,48)),new Q(30,new $(34,24),new $(34,25)),new Q(30,new $(20,15),new $(61,16)))],t})(),nr;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(nr||(nr={}));var SO=(function(){function t(e,n){this.value=e,this.isMasked=n}return t.prototype.unmaskBitMatrix=function(e,n){for(var r=0;r<n;r++)for(var i=0;i<n;i++)this.isMasked(r,i)&&e.flip(i,r)},t.values=new Map([[nr.DATA_MASK_000,new t(nr.DATA_MASK_000,function(e,n){return(e+n&1)===0})],[nr.DATA_MASK_001,new t(nr.DATA_MASK_001,function(e,n){return(e&1)===0})],[nr.DATA_MASK_010,new t(nr.DATA_MASK_010,function(e,n){return n%3===0})],[nr.DATA_MASK_011,new t(nr.DATA_MASK_011,function(e,n){return(e+n)%3===0})],[nr.DATA_MASK_100,new t(nr.DATA_MASK_100,function(e,n){return(Math.floor(e/2)+Math.floor(n/3)&1)===0})],[nr.DATA_MASK_101,new t(nr.DATA_MASK_101,function(e,n){return e*n%6===0})],[nr.DATA_MASK_110,new t(nr.DATA_MASK_110,function(e,n){return e*n%6<3})],[nr.DATA_MASK_111,new t(nr.DATA_MASK_111,function(e,n){return(e+n+e*n%3&1)===0})]]),t})(),RX=(function(){function t(e){var n=e.getHeight();if(n<21||(n&3)!==1)throw new ve;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,n=0;n<6;n++)e=this.copyBit(n,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,r=i-1;r>=o;r--)a=this.copyBit(8,r,a);for(var n=i-8;n<i;n++)a=this.copyBit(n,8,a);if(this.parsedFormatInfo=V5.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ve},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return Tu.getVersionForNumber(n);for(var r=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)r=this.copyBit(o,a,r);var l=Tu.decodeVersionInformation(r);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;r=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)r=this.copyBit(o,a,r);if(l=Tu.decodeVersionInformation(r),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new ve},t.prototype.copyBit=function(e,n,r){var i=this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n);return i?r<<1|1:r<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),n=this.readVersion(),r=SO.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);for(var a=n.buildFunctionPattern(),o=!0,l=new Uint8Array(n.getTotalCodewords()),c=0,f=0,h=0,p=i-1;p>0;p-=2){p===6&&p--;for(var v=0;v<i;v++)for(var m=o?i-1-v:v,_=0;_<2;_++)a.get(p-_,m)||(h++,f<<=1,this.bitMatrix.get(p-_,m)&&(f|=1),h===8&&(l[c++]=f,h=0,f=0));o=!o}if(c!==n.getTotalCodewords())throw new ve;return l},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=SO.values.get(this.parsedFormatInfo.getDataMask()),n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,n=0,r=e.getWidth();n<r;n++)for(var i=n+1,a=e.getHeight();i<a;i++)e.get(n,i)!==e.get(i,n)&&(e.flip(i,n),e.flip(n,i))},t})(),CO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},PX=(function(){function t(e,n){this.numDataCodewords=e,this.codewords=n}return t.getDataBlocks=function(e,n,r){var i,a,o,l;if(e.length!==n.getTotalCodewords())throw new ke;var c=n.getECBlocksForLevel(r),f=0,h=c.getECBlocks();try{for(var p=CO(h),v=p.next();!v.done;v=p.next()){var m=v.value;f+=m.getCount()}}catch(U){i={error:U}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}var _=new Array(f),w=0;try{for(var A=CO(h),S=A.next();!S.done;S=A.next())for(var m=S.value,I=0;I<m.getCount();I++){var O=m.getDataCodewords(),N=c.getECCodewordsPerBlock()+O;_[w++]=new t(O,new Uint8Array(N))}}catch(U){o={error:U}}finally{try{S&&!S.done&&(l=A.return)&&l.call(A)}finally{if(o)throw o.error}}for(var k=_[0].codewords.length,B=_.length-1;B>=0;){var D=_[B].codewords.length;if(D===k)break;B--}B++;for(var M=k-c.getECCodewordsPerBlock(),j=0,I=0;I<M;I++)for(var z=0;z<w;z++)_[z].codewords[I]=e[j++];for(var z=B;z<w;z++)_[z].codewords[M]=e[j++];for(var F=_[0].codewords.length,I=M;I<F;I++)for(var z=0;z<w;z++){var H=z<B?I:I+1;_[z].codewords[H]=e[j++]}return _},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),Qi;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Qi||(Qi={}));var Xt=(function(){function t(e,n,r,i){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var n=t.FOR_BITS.get(e);if(n===void 0)throw new ke;return n},t.prototype.getCharacterCountBits=function(e){var n=e.getVersionNumber(),r;return n<=9?r=0:n<=26?r=1:r=2,this.characterCountBitsForVersions[r]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Qi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Qi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Qi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Qi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Qi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Qi.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Qi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Qi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Qi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Qi.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t})(),DX=(function(){function t(){}return t.decode=function(e,n,r,i){var a=new F5(e),o=new Xe,l=new Array,c=-1,f=-1;try{var h=null,p=!1,v=void 0;do{if(a.available()<4)v=Xt.TERMINATOR;else{var m=a.readBits(4);v=Xt.forBits(m)}switch(v){case Xt.TERMINATOR:break;case Xt.FNC1_FIRST_POSITION:case Xt.FNC1_SECOND_POSITION:p=!0;break;case Xt.STRUCTURED_APPEND:if(a.available()<16)throw new ve;c=a.readBits(8),f=a.readBits(8);break;case Xt.ECI:var _=t.parseECIValue(a);if(h=Gn.getCharacterSetECIByValue(_),h===null)throw new ve;break;case Xt.HANZI:var w=a.readBits(4),A=a.readBits(v.getCharacterCountBits(n));w===t.GB2312_SUBSET&&t.decodeHanziSegment(a,o,A);break;default:var S=a.readBits(v.getCharacterCountBits(n));switch(v){case Xt.NUMERIC:t.decodeNumericSegment(a,o,S);break;case Xt.ALPHANUMERIC:t.decodeAlphanumericSegment(a,o,S,p);break;case Xt.BYTE:t.decodeByteSegment(a,o,S,h,l,i);break;case Xt.KANJI:t.decodeKanjiSegment(a,o,S);break;default:throw new ve}break}}while(v!==Xt.TERMINATOR)}catch{throw new ve}return new Wv(e,o.toString(),l.length===0?null:l,r===null?null:r.toString(),c,f)},t.decodeHanziSegment=function(e,n,r){if(r*13>e.available())throw new ve;for(var i=new Uint8Array(2*r),a=0;r>0;){var o=e.readBits(13),l=o/96<<8&4294967295|o%96;l<959?l+=41377:l+=42657,i[a]=l>>8&255,i[a+1]=l&255,a+=2,r--}try{n.append(ra.decode(i,ut.GB2312))}catch(c){throw new ve(c)}},t.decodeKanjiSegment=function(e,n,r){if(r*13>e.available())throw new ve;for(var i=new Uint8Array(2*r),a=0;r>0;){var o=e.readBits(13),l=o/192<<8&4294967295|o%192;l<7936?l+=33088:l+=49472,i[a]=l>>8,i[a+1]=l,a+=2,r--}try{n.append(ra.decode(i,ut.SHIFT_JIS))}catch(c){throw new ve(c)}},t.decodeByteSegment=function(e,n,r,i,a,o){if(8*r>e.available())throw new ve;for(var l=new Uint8Array(r),c=0;c<r;c++)l[c]=e.readBits(8);var f;i===null?f=ut.guessEncoding(l,o):f=i.getName();try{n.append(ra.decode(l,f))}catch(h){throw new ve(h)}a.push(l)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new ve;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,n,r,i){for(var a=n.length();r>1;){if(e.available()<11)throw new ve;var o=e.readBits(11);n.append(t.toAlphaNumericChar(Math.floor(o/45))),n.append(t.toAlphaNumericChar(o%45)),r-=2}if(r===1){if(e.available()<6)throw new ve;n.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var l=a;l<n.length();l++)n.charAt(l)==="%"&&(l<n.length()-1&&n.charAt(l+1)==="%"?n.deleteCharAt(l+1):n.setCharAt(l,""))},t.decodeNumericSegment=function(e,n,r){for(;r>=3;){if(e.available()<10)throw new ve;var i=e.readBits(10);if(i>=1e3)throw new ve;n.append(t.toAlphaNumericChar(Math.floor(i/100))),n.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),n.append(t.toAlphaNumericChar(i%10)),r-=3}if(r===2){if(e.available()<7)throw new ve;var a=e.readBits(7);if(a>=100)throw new ve;n.append(t.toAlphaNumericChar(Math.floor(a/10))),n.append(t.toAlphaNumericChar(a%10))}else if(r===1){if(e.available()<4)throw new ve;var o=e.readBits(4);if(o>=10)throw new ve;n.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var n=e.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){var r=e.readBits(8);return(n&63)<<8&4294967295|r}if((n&224)===192){var i=e.readBits(16);return(n&31)<<16&4294967295|i}throw new ve},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t})(),U5=(function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var n=e[0];e[0]=e[2],e[2]=n}},t})(),TO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},NX=(function(){function t(){this.rsDecoder=new Xv(oi.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,n){return this.decodeBitMatrix(uo.parseFromBooleanArray(e),n)},t.prototype.decodeBitMatrix=function(e,n){var r=new RX(e),i=null;try{return this.decodeBitMatrixParser(r,n)}catch(o){i=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var a=this.decodeBitMatrixParser(r,n);return a.setOther(new U5(!0)),a}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,n){var r,i,a,o,l=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),f=e.readCodewords(),h=PX.getDataBlocks(f,l,c),p=0;try{for(var v=TO(h),m=v.next();!m.done;m=v.next()){var _=m.value;p+=_.getNumDataCodewords()}}catch(B){r={error:B}}finally{try{m&&!m.done&&(i=v.return)&&i.call(v)}finally{if(r)throw r.error}}var w=new Uint8Array(p),A=0;try{for(var S=TO(h),I=S.next();!I.done;I=S.next()){var _=I.value,O=_.getCodewords(),N=_.getNumDataCodewords();this.correctErrors(O,N);for(var k=0;k<N;k++)w[A++]=O[k]}}catch(B){a={error:B}}finally{try{I&&!I.done&&(o=S.return)&&o.call(S)}finally{if(a)throw a.error}}return DX.decode(w,l,c,n)},t.prototype.correctErrors=function(e,n){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new or}for(var i=0;i<n;i++)e[i]=r[i]},t})(),MX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),kX=(function(t){MX(e,t);function e(n,r,i){var a=t.call(this,n,r)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(n,r,i){if(Math.abs(r-this.getY())<=n&&Math.abs(i-this.getX())<=n){var a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,r,i){var a=(this.getX()+r)/2,o=(this.getY()+n)/2,l=(this.estimatedModuleSize+i)/2;return new e(a,o,l)},e})(Ce),jX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LX=(function(){function t(e,n,r,i,a,o,l){this.image=e,this.startX=n,this.startY=r,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,n=this.height,r=this.width,i=e+r,a=this.startY+n/2,o=new Int32Array(3),l=this.image,c=0;c<n;c++){var f=a+((c&1)===0?Math.floor((c+1)/2):-Math.floor((c+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var h=e;h<i&&!l.get(h,f);)h++;for(var p=0;h<i;){if(l.get(h,f))if(p===1)o[1]++;else if(p===2){if(this.foundPatternCross(o)){var v=this.handlePossibleCenter(o,f,h);if(v!==null)return v}o[0]=o[2],o[1]=1,o[2]=0,p=1}else o[++p]++;else p===1&&p++,o[p]++;h++}if(this.foundPatternCross(o)){var v=this.handlePossibleCenter(o,f,i);if(v!==null)return v}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ae},t.centerFromEnd=function(e,n){return n-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var n=this.moduleSize,r=n/2,i=0;i<3;i++)if(Math.abs(n-e[i])>=r)return!1;return!0},t.prototype.crossCheckVertical=function(e,n,r,i){var a=this.image,o=a.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;for(var c=e;c>=0&&a.get(n,c)&&l[1]<=r;)l[1]++,c--;if(c<0||l[1]>r)return NaN;for(;c>=0&&!a.get(n,c)&&l[0]<=r;)l[0]++,c--;if(l[0]>r)return NaN;for(c=e+1;c<o&&a.get(n,c)&&l[1]<=r;)l[1]++,c++;if(c===o||l[1]>r)return NaN;for(;c<o&&!a.get(n,c)&&l[2]<=r;)l[2]++,c++;if(l[2]>r)return NaN;var f=l[0]+l[1]+l[2];return 5*Math.abs(f-i)>=2*i?NaN:this.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.handlePossibleCenter=function(e,n,r){var i,a,o=e[0]+e[1]+e[2],l=t.centerFromEnd(e,r),c=this.crossCheckVertical(n,l,2*e[1],o);if(!isNaN(c)){var f=(e[0]+e[1]+e[2])/3;try{for(var h=jX(this.possibleCenters),p=h.next();!p.done;p=h.next()){var v=p.value;if(v.aboutEquals(f,c,l))return v.combineEstimate(c,l,f)}}catch(_){i={error:_}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}var m=new kX(l,c,f);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null},t})(),BX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),FX=(function(t){BX(e,t);function e(n,r,i,a){var o=t.call(this,n,r)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(n,r,i){if(Math.abs(r-this.getY())<=n&&Math.abs(i-this.getX())<=n){var a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,r,i){var a=this.count+1,o=(this.count*this.getX()+r)/a,l=(this.count*this.getY()+n)/a,c=(this.count*this.estimatedModuleSize+i)/a;return new e(o,l,c,a)},e})(Ce),VX=(function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t})(),Jd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UX=(function(){function t(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var n=e!=null&&e.get(tn.TRY_HARDER)!==void 0,r=e!=null&&e.get(tn.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),l=Math.floor(3*a/(4*t.MAX_MODULES));(l<t.MIN_SKIP||n)&&(l=t.MIN_SKIP);for(var c=!1,f=new Int32Array(5),h=l-1;h<a&&!c;h+=l){f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0;for(var p=0,v=0;v<o;v++)if(i.get(v,h))(p&1)===1&&p++,f[p]++;else if((p&1)===0)if(p===4)if(t.foundPatternCross(f)){var m=this.handlePossibleCenter(f,h,v,r);if(m===!0)if(l=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var _=this.findRowSkip();_>f[2]&&(h+=_-f[2]-l,v=o-1)}else{f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,p=3;continue}p=0,f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0}else f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,p=3;else f[++p]++;else f[p]++;if(t.foundPatternCross(f)){var m=this.handlePossibleCenter(f,h,o,r);m===!0&&(l=f[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var w=this.selectBestPatterns();return Ce.orderBestPatterns(w),new VX(w)},t.centerFromEnd=function(e,n){return n-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var n=0,r=0;r<5;r++){var i=e[r];if(i===0)return!1;n+=i}if(n<7)return!1;var a=n/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,n,r,i){for(var a=this.getCrossCheckStateCount(),o=0,l=this.image;e>=o&&n>=o&&l.get(n-o,e-o);)a[2]++,o++;if(e<o||n<o)return!1;for(;e>=o&&n>=o&&!l.get(n-o,e-o)&&a[1]<=r;)a[1]++,o++;if(e<o||n<o||a[1]>r)return!1;for(;e>=o&&n>=o&&l.get(n-o,e-o)&&a[0]<=r;)a[0]++,o++;if(a[0]>r)return!1;var c=l.getHeight(),f=l.getWidth();for(o=1;e+o<c&&n+o<f&&l.get(n+o,e+o);)a[2]++,o++;if(e+o>=c||n+o>=f)return!1;for(;e+o<c&&n+o<f&&!l.get(n+o,e+o)&&a[3]<r;)a[3]++,o++;if(e+o>=c||n+o>=f||a[3]>=r)return!1;for(;e+o<c&&n+o<f&&l.get(n+o,e+o)&&a[4]<r;)a[4]++,o++;if(a[4]>=r)return!1;var h=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(h-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,n,r,i){for(var a=this.image,o=a.getHeight(),l=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(n,c);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(n,c)&&l[1]<=r;)l[1]++,c--;if(c<0||l[1]>r)return NaN;for(;c>=0&&a.get(n,c)&&l[0]<=r;)l[0]++,c--;if(l[0]>r)return NaN;for(c=e+1;c<o&&a.get(n,c);)l[2]++,c++;if(c===o)return NaN;for(;c<o&&!a.get(n,c)&&l[3]<r;)l[3]++,c++;if(c===o||l[3]>=r)return NaN;for(;c<o&&a.get(n,c)&&l[4]<r;)l[4]++,c++;if(l[4]>=r)return NaN;var f=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(f-i)>=2*i?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.crossCheckHorizontal=function(e,n,r,i){for(var a=this.image,o=a.getWidth(),l=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(c,n);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(c,n)&&l[1]<=r;)l[1]++,c--;if(c<0||l[1]>r)return NaN;for(;c>=0&&a.get(c,n)&&l[0]<=r;)l[0]++,c--;if(l[0]>r)return NaN;for(c=e+1;c<o&&a.get(c,n);)l[2]++,c++;if(c===o)return NaN;for(;c<o&&!a.get(c,n)&&l[3]<r;)l[3]++,c++;if(c===o||l[3]>=r)return NaN;for(;c<o&&a.get(c,n)&&l[4]<r;)l[4]++,c++;if(l[4]>=r)return NaN;var f=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(f-i)>=i?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.handlePossibleCenter=function(e,n,r,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,r),l=this.crossCheckVertical(n,Math.floor(o),e[2],a);if(!isNaN(l)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(l),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(l),Math.floor(o),e[2],a)))){for(var c=a/7,f=!1,h=this.possibleCenters,p=0,v=h.length;p<v;p++){var m=h[p];if(m.aboutEquals(c,l,o)){h[p]=m.combineEstimate(l,o,c),f=!0;break}}if(!f){var _=new FX(o,l,c);h.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return!0}return!1},t.prototype.findRowSkip=function(){var e,n,r=this.possibleCenters.length;if(r<=1)return 0;var i=null;try{for(var a=Jd(this.possibleCenters),o=a.next();!o.done;o=a.next()){var l=o.value;if(l.getCount()>=t.CENTER_QUORUM)if(i==null)i=l;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-l.getX())-Math.abs(i.getY()-l.getY()))/2)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,n,r,i,a=0,o=0,l=this.possibleCenters.length;try{for(var c=Jd(this.possibleCenters),f=c.next();!f.done;f=c.next()){var h=f.value;h.getCount()>=t.CENTER_QUORUM&&(a++,o+=h.getEstimatedModuleSize())}}catch(w){e={error:w}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}if(a<3)return!1;var p=o/l,v=0;try{for(var m=Jd(this.possibleCenters),_=m.next();!_.done;_=m.next()){var h=_.value;v+=Math.abs(h.getEstimatedModuleSize()-p)}}catch(w){r={error:w}}finally{try{_&&!_.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}return v<=.05*o},t.prototype.selectBestPatterns=function(){var e,n,r,i,a=this.possibleCenters.length;if(a<3)throw new ae;var o=this.possibleCenters,l;if(a>3){var c=0,f=0;try{for(var h=Jd(this.possibleCenters),p=h.next();!p.done;p=h.next()){var v=p.value,m=v.getEstimatedModuleSize();c+=m,f+=m*m}}catch(k){e={error:k}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}l=c/a;var _=Math.sqrt(f/a-l*l);o.sort(function(k,B){var D=Math.abs(B.getEstimatedModuleSize()-l),M=Math.abs(k.getEstimatedModuleSize()-l);return D<M?-1:D>M?1:0});for(var w=Math.max(.2*l,_),A=0;A<o.length&&o.length>3;A++){var S=o[A];Math.abs(S.getEstimatedModuleSize()-l)>w&&(o.splice(A,1),A--)}}if(o.length>3){var c=0;try{for(var I=Jd(o),O=I.next();!O.done;O=I.next()){var N=O.value;c+=N.getEstimatedModuleSize()}}catch(B){r={error:B}}finally{try{O&&!O.done&&(i=I.return)&&i.call(I)}finally{if(r)throw r.error}}l=c/o.length,o.sort(function(B,D){if(D.getCount()===B.getCount()){var M=Math.abs(D.getEstimatedModuleSize()-l),j=Math.abs(B.getEstimatedModuleSize()-l);return M<j?1:M>j?-1:0}else return D.getCount()-B.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t})(),zX=(function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(tn.NEED_RESULT_POINT_CALLBACK);var n=new UX(this.image,this.resultPointCallback),r=n.find(e);return this.processFinderPatternInfo(r)},t.prototype.processFinderPatternInfo=function(e){var n=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(n,r,i);if(a<1)throw new ae("No pattern found in proccess finder.");var o=t.computeDimension(n,r,i,a),l=Tu.getProvisionalVersionForDimension(o),c=l.getDimensionForVersion()-7,f=null;if(l.getAlignmentPatternCenters().length>0)for(var h=r.getX()-n.getX()+i.getX(),p=r.getY()-n.getY()+i.getY(),v=1-3/c,m=Math.floor(n.getX()+v*(h-n.getX())),_=Math.floor(n.getY()+v*(p-n.getY())),w=4;w<=16;w<<=1)try{f=this.findAlignmentInRegion(a,m,_,w);break}catch(O){if(!(O instanceof ae))throw O}var A=t.createTransform(n,r,i,f,o),S=t.sampleGrid(this.image,A,o),I;return f===null?I=[i,n,r]:I=[i,n,r,f],new IE(S,I)},t.createTransform=function(e,n,r,i,a){var o=a-3.5,l,c,f,h;return i!==null?(l=i.getX(),c=i.getY(),f=o-3,h=f):(l=n.getX()-e.getX()+r.getX(),c=n.getY()-e.getY()+r.getY(),f=o,h=o),k5.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,f,h,3.5,o,e.getX(),e.getY(),n.getX(),n.getY(),l,c,r.getX(),r.getY())},t.sampleGrid=function(e,n,r){var i=OE.getInstance();return i.sampleGridWithTransform(e,r,r,n)},t.computeDimension=function(e,n,r,i){var a=gt.round(Ce.distance(e,n)/i),o=gt.round(Ce.distance(e,r)/i),l=Math.floor((a+o)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new ae("Dimensions could be not found.")}return l},t.prototype.calculateModuleSize=function(e,n,r){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,r))/2},t.prototype.calculateModuleSizeOneWay=function(e,n){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,n,r,i){var a=this.sizeOfBlackWhiteBlackRun(e,n,r,i),o=1,l=e-(r-e);l<0?(o=e/(e-l),l=0):l>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(l-e),l=this.image.getWidth()-1);var c=Math.floor(n-(i-n)*o);return o=1,c<0?(o=n/(n-c),c=0):c>=this.image.getHeight()&&(o=(this.image.getHeight()-1-n)/(c-n),c=this.image.getHeight()-1),l=Math.floor(e+(l-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,n,l,c),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,n,r,i){var a=Math.abs(i-n)>Math.abs(r-e);if(a){var o=e;e=n,n=o,o=r,r=i,i=o}for(var l=Math.abs(r-e),c=Math.abs(i-n),f=-l/2,h=e<r?1:-1,p=n<i?1:-1,v=0,m=r+h,_=e,w=n;_!==m;_+=h){var A=a?w:_,S=a?_:w;if(v===1===this.image.get(A,S)){if(v===2)return gt.distance(_,w,e,n);v++}if(f+=c,f>0){if(w===i)break;w+=p,f-=l}}return v===2?gt.distance(r+h,i,e,n):NaN},t.prototype.findAlignmentInRegion=function(e,n,r,i){var a=Math.floor(i*e),o=Math.max(0,n-a),l=Math.min(this.image.getWidth()-1,n+a);if(l-o<e*3)throw new ae("Alignment top exceeds estimated module size.");var c=Math.max(0,r-a),f=Math.min(this.image.getHeight()-1,r+a);if(f-c<e*3)throw new ae("Alignment bottom exceeds estimated module size.");var h=new LX(this.image,o,c,l-o,f-c,e,this.resultPointCallback);return h.find()},t})(),xb=(function(){function t(){this.decoder=new NX}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,n){var r,i;if(n!=null&&n.get(tn.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(a,n),i=t.NO_POINTS}else{var o=new zX(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(o.getBits(),n),i=o.getPoints()}r.getOther()instanceof U5&&r.getOther().applyMirroredCorrection(i);var l=new Br(r.getText(),r.getRawBytes(),void 0,i,Ne.QR_CODE,void 0),c=r.getByteSegments();c!==null&&l.putMetadata(Ar.BYTE_SEGMENTS,c);var f=r.getECLevel();return f!==null&&l.putMetadata(Ar.ERROR_CORRECTION_LEVEL,f),r.hasStructuredAppend()&&(l.putMetadata(Ar.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),l.putMetadata(Ar.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n===null||r===null)throw new ae;var i=this.moduleSize(n,e),a=n[1],o=r[1],l=n[0],c=r[0];if(l>=c||a>=o)throw new ae;if(o-a!==c-l&&(c=l+(o-a),c>=e.getWidth()))throw new ae;var f=Math.round((c-l+1)/i),h=Math.round((o-a+1)/i);if(f<=0||h<=0)throw new ae;if(h!==f)throw new ae;var p=Math.floor(i/2);a+=p,l+=p;var v=l+Math.floor((f-1)*i)-c;if(v>0){if(v>p)throw new ae;l-=v}var m=a+Math.floor((h-1)*i)-o;if(m>0){if(m>p)throw new ae;a-=m}for(var _=new uo(f,h),w=0;w<h;w++)for(var A=a+Math.floor(w*i),S=0;S<f;S++)e.get(l+Math.floor(S*i),A)&&_.set(S,w);return _},t.moduleSize=function(e,n){for(var r=n.getHeight(),i=n.getWidth(),a=e[0],o=e[1],l=!0,c=0;a<i&&o<r;){if(l!==n.get(a,o)){if(++c===5)break;l=!l}a++,o++}if(a===i||o===r)throw new ae;return(a-e[0])/7},t.NO_POINTS=new Array,t})(),HX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ft=(function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return gt.sum(e)},t.toIntArray=function(e){var n,r;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=HX(e),l=o.next();!l.done;l=o.next()){var c=l.value;i[a++]=c}}catch(f){n={error:f}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},t.getCodeword=function(e){var n=Kn.binarySearch(t.SYMBOL_TABLE,e&262143);return n<0?-1:(t.CODEWORD_TABLE[n]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t})(),$X=(function(){function t(e,n){this.bits=e,this.points=n}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),qX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},GX=(function(){function t(){}return t.detectMultiple=function(e,n,r){var i=e.getBlackMatrix(),a=t.detect(r,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(r,i)),new $X(i,a)},t.detect=function(e,n){for(var r,i,a=new Array,o=0,l=0,c=!1;o<n.getHeight();){var f=t.findVertices(n,o,l);if(f[0]==null&&f[3]==null){if(!c)break;c=!1,l=0;try{for(var h=(r=void 0,qX(a)),p=h.next();!p.done;p=h.next()){var v=p.value;v[1]!=null&&(o=Math.trunc(Math.max(o,v[1].getY()))),v[3]!=null&&(o=Math.max(o,Math.trunc(v[3].getY())))}}catch(m){r={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}o+=t.ROW_STEP;continue}if(c=!0,a.push(f),!e)break;f[2]!=null?(l=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(l=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return a},t.findVertices=function(e,n,r){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,a,n,r,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(r=Math.trunc(o[4].getX()),n=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,a,n,r,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,n,r){for(var i=0;i<r.length;i++)e[r[i]]=n[i]},t.findRowsWithPattern=function(e,n,r,i,a,o){for(var l=new Array(4),c=!1,f=new Int32Array(o.length);i<n;i+=t.ROW_STEP){var h=t.findGuardPattern(e,a,i,r,!1,o,f);if(h!=null){for(;i>0;){var p=t.findGuardPattern(e,a,--i,r,!1,o,f);if(p!=null)h=p;else{i++;break}}l[0]=new Ce(h[0],i),l[1]=new Ce(h[1],i),c=!0;break}}var v=i+1;if(c){for(var m=0,p=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);v<n;v++){var h=t.findGuardPattern(e,p[0],v,r,!1,o,f);if(h!=null&&Math.abs(p[0]-h[0])<t.MAX_PATTERN_DRIFT&&Math.abs(p[1]-h[1])<t.MAX_PATTERN_DRIFT)p=h,m=0;else{if(m>t.SKIPPED_ROW_COUNT_MAX)break;m++}}v-=m+1,l[2]=new Ce(p[0],v),l[3]=new Ce(p[1],v)}return v-i<t.BARCODE_MIN_HEIGHT&&Kn.fill(l,null),l},t.findGuardPattern=function(e,n,r,i,a,o,l){Kn.fillWithin(l,0,l.length,0);for(var c=n,f=0;e.get(c,r)&&c>0&&f++<t.MAX_PIXEL_DRIFT;)c--;for(var h=c,p=0,v=o.length,m=a;h<i;h++){var _=e.get(h,r);if(_!==m)l[p]++;else{if(p===v-1){if(t.patternMatchVariance(l,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([c,h]);c+=l[0]+l[1],$t.arraycopy(l,2,l,0,p-1),l[p-1]=0,l[p]=0,p--}else p++;l[p]=1,m=!m}}return p===v-1&&t.patternMatchVariance(l,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([c,h-1]):null},t.patternMatchVariance=function(e,n,r){for(var i=e.length,a=0,o=0,l=0;l<i;l++)a+=e[l],o+=n[l];if(a<o)return 1/0;var c=a/o;r*=c;for(var f=0,h=0;h<i;h++){var p=e[h],v=n[h]*c,m=p>v?p-v:v-p;if(m>r)return 1/0;f+=m}return f/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t})(),KX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_u=(function(){function t(e,n){if(n.length===0)throw new ke;this.field=e;var r=n.length;if(r>1&&n[0]===0){for(var i=1;i<r&&n[i]===0;)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),$t.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var n,r;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=KX(this.coefficients),o=a.next();!o.done;o=a.next()){var l=o.value;i=this.field.add(i,l)}}catch(p){n={error:p}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i}for(var c=this.coefficients[0],f=this.coefficients.length,h=1;h<f;h++)c=this.field.add(this.field.multiply(e,c),this.coefficients[h]);return c},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new ke("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var i=n;n=r,r=i}var a=new Int32Array(r.length),o=r.length-n.length;$t.arraycopy(r,0,a,0,o);for(var l=o;l<r.length;l++)a[l]=this.field.add(n[l-o],r[l]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new ke("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new ke("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var n=this.coefficients,r=n.length,i=e.coefficients,a=i.length,o=new Int32Array(r+a-1),l=0;l<r;l++)for(var c=n[l],f=0;f<a;f++)o[l+f]=this.field.add(o[l+f],this.field.multiply(c,i[f]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,n=new Int32Array(e),r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new t(this.field,n)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var n=this.coefficients.length,r=new Int32Array(n),i=0;i<n;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,r)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new ke;if(n===0)return new t(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),a=0;a<r;a++)i[a]=this.field.multiply(this.coefficients[a],n);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Xe,n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(n===0||r!==1)&&e.append(r),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()},t})(),WX=(function(){function t(){}return t.prototype.add=function(e,n){return(e+n)%this.modulus},t.prototype.subtract=function(e,n){return(this.modulus+e-n)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new ke;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new M5;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t})(),XX=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),YX=(function(t){XX(e,t);function e(n,r){var i=t.call(this)||this;i.modulus=n,i.expTable=new Int32Array(n),i.logTable=new Int32Array(n);for(var a=1,o=0;o<n;o++)i.expTable[o]=a,a=a*r%n;for(var o=0;o<n-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new _u(i,new Int32Array([0])),i.one=new _u(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,r){if(n<0)throw new ke;if(r===0)return this.zero;var i=new Int32Array(n+1);return i[0]=r,new _u(this,i)},e.PDF417_GF=new e(ft.NUMBER_OF_CODEWORDS,3),e})(WX),QX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZX=(function(){function t(){this.field=YX.PDF417_GF}return t.prototype.decode=function(e,n,r){for(var i,a,o=new _u(this.field,e),l=new Int32Array(n),c=!1,f=n;f>0;f--){var h=o.evaluateAt(this.field.exp(f));l[n-f]=h,h!==0&&(c=!0)}if(!c)return 0;var p=this.field.getOne();if(r!=null)try{for(var v=QX(r),m=v.next();!m.done;m=v.next()){var _=m.value,w=this.field.exp(e.length-1-_),A=new _u(this.field,new Int32Array([this.field.subtract(0,w),1]));p=p.multiply(A)}}catch(M){i={error:M}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}for(var S=new _u(this.field,l),I=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),S,n),O=I[0],N=I[1],k=this.findErrorLocations(O),B=this.findErrorMagnitudes(N,O,k),f=0;f<k.length;f++){var D=e.length-1-this.field.log(k[f]);if(D<0)throw or.getChecksumInstance();e[D]=this.field.subtract(e[D],B[f])}return k.length},t.prototype.runEuclideanAlgorithm=function(e,n,r){if(e.getDegree()<n.getDegree()){var i=e;e=n,n=i}for(var a=e,o=n,l=this.field.getZero(),c=this.field.getOne();o.getDegree()>=Math.round(r/2);){var f=a,h=l;if(a=o,l=c,a.isZero())throw or.getChecksumInstance();o=f;for(var p=this.field.getZero(),v=a.getCoefficient(a.getDegree()),m=this.field.inverse(v);o.getDegree()>=a.getDegree()&&!o.isZero();){var _=o.getDegree()-a.getDegree(),w=this.field.multiply(o.getCoefficient(o.getDegree()),m);p=p.add(this.field.buildMonomial(_,w)),o=o.subtract(a.multiplyByMonomial(_,w))}c=p.multiply(l).subtract(h).negative()}var A=c.getCoefficient(0);if(A===0)throw or.getChecksumInstance();var S=this.field.inverse(A),I=c.multiply(S),O=o.multiply(S);return[I,O]},t.prototype.findErrorLocations=function(e){for(var n=e.getDegree(),r=new Int32Array(n),i=0,a=1;a<this.field.getSize()&&i<n;a++)e.evaluateAt(a)===0&&(r[i]=this.field.inverse(a),i++);if(i!==n)throw or.getChecksumInstance();return r},t.prototype.findErrorMagnitudes=function(e,n,r){for(var i=n.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,n.getCoefficient(o));for(var l=new _u(this.field,a),c=r.length,f=new Int32Array(c),o=0;o<c;o++){var h=this.field.inverse(r[o]),p=this.field.subtract(0,e.evaluateAt(h)),v=this.field.inverse(l.evaluateAt(h));f[o]=this.field.multiply(p,v)}return f},t})(),_b=(function(){function t(e,n,r,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,n,r,i,a)}return t.prototype.constructor_1=function(e,n,r,i,a){var o=n==null||r==null,l=i==null||a==null;if(o&&l)throw new ae;o?(n=new Ce(0,i.getY()),r=new Ce(0,a.getY())):l&&(i=new Ce(e.getWidth()-1,n.getY()),a=new Ce(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=n,this.bottomLeft=r,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(n.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,n){return e==null?n:n==null?e:new t(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)},t.prototype.addMissingRows=function(e,n,r){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,l=this.bottomRight;if(e>0){var c=r?this.topLeft:this.topRight,f=Math.trunc(c.getY()-e);f<0&&(f=0);var h=new Ce(c.getX(),f);r?i=h:o=h}if(n>0){var p=r?this.bottomLeft:this.bottomRight,v=Math.trunc(p.getY()+n);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);var m=new Ce(p.getX(),v);r?a=m:l=m}return new t(this.image,i,a,o,l)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t})(),JX=(function(){function t(e,n,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t})(),PE=(function(){function t(){this.buffer=""}return t.form=function(e,n){var r=-1;function i(o,l,c,f,h,p){if(o==="%%")return"%";if(n[++r]!==void 0){o=f?parseInt(f.substr(1)):void 0;var v=h?parseInt(h.substr(1)):void 0,m;switch(p){case"s":m=n[r];break;case"c":m=n[r][0];break;case"f":m=parseFloat(n[r]).toFixed(o);break;case"p":m=parseFloat(n[r]).toPrecision(o);break;case"e":m=parseFloat(n[r]).toExponential(o);break;case"x":m=parseInt(n[r]).toString(v||16);break;case"d":m=parseFloat(parseInt(n[r],v||10).toPrecision(o)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(v);for(var _=parseInt(c),w=c&&c[0]+""=="0"?"0":" ";m.length<_;)m=l!==void 0?m+w:w+m;return m}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.buffer+=t.form(e,n)},t.prototype.toString=function(){return this.buffer},t})(),eY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},z5=(function(){function t(e){this.boundingBox=new _b(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var n=this.getCodeword(e);if(n!=null)return n;for(var r=1;r<t.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&(n=this.codewords[i],n!=null)||(i=this.imageRowToCodewordIndex(e)+r,i<this.codewords.length&&(n=this.codewords[i],n!=null)))return n}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,n,r=new PE,i=0;try{for(var a=eY(this.codewords),o=a.next();!o.done;o=a.next()){var l=o.value;if(l==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,l.getRowNumber(),l.getValue())}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r.toString()},t.MAX_NEARBY_DISTANCE=5,t})(),tY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nY=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},yh=(function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)},t.prototype.getValue=function(){var e,n,r=-1,i=new Array,a=function(p,v){var m={getKey:function(){return p},getValue:function(){return v}};m.getValue()>r?(r=m.getValue(),i=[],i.push(m.getKey())):m.getValue()===r&&i.push(m.getKey())};try{for(var o=tY(this.values.entries()),l=o.next();!l.done;l=o.next()){var c=nY(l.value,2),f=c[0],h=c[1];a(f,h)}}catch(p){e={error:p}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return ft.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t})(),rY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ex=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},IO=(function(t){rY(e,t);function e(n,r){var i=t.call(this,n)||this;return i._isLeft=r,i}return e.prototype.setRowNumbers=function(){var n,r;try{for(var i=ex(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o?.setRowNumberAsRowIndicatorColumn()}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(n){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,n);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=-1,h=1,p=0,v=l;v<c;v++)if(r[v]!=null){var m=r[v],_=m.getRowNumber()-f;if(_===0)p++;else if(_===1)h=Math.max(h,p),p=1,f=m.getRowNumber();else if(_<0||m.getRowNumber()>=n.getRowCount()||_>v)r[v]=null;else{var w=void 0;h>2?w=(h-2)*_:w=_;for(var A=w>=v,S=1;S<=w&&!A;S++)A=r[v-S]!=null;A?r[v]=null:(f=m.getRowNumber(),p=1)}}},e.prototype.getRowHeights=function(){var n,r,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=ex(this.getCodewords()),l=o.next();!l.done;l=o.next()){var c=l.value;if(c!=null){var f=c.getRowNumber();if(f>=a.length)continue;a[f]++}}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(n){for(var r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),a=this._isLeft?r.getBottomLeft():r.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.getCodewords(),f=-1,h=o;h<l;h++)if(c[h]!=null){var p=c[h];p.setRowNumberAsRowIndicatorColumn();var v=p.getRowNumber()-f;v===0||(v===1?f=p.getRowNumber():p.getRowNumber()>=n.getRowCount()?c[h]=null:f=p.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var n,r,i=this.getCodewords(),a=new yh,o=new yh,l=new yh,c=new yh;try{for(var f=ex(i),h=f.next();!h.done;h=f.next()){var p=h.value;if(p!=null){p.setRowNumberAsRowIndicatorColumn();var v=p.getValue()%30,m=p.getRowNumber();switch(this._isLeft||(m+=2),m%3){case 0:o.setValue(v*3+1);break;case 1:c.setValue(v/3),l.setValue(v%3);break;case 2:a.setValue(v+1);break}}}}catch(w){n={error:w}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}if(a.getValue().length===0||o.getValue().length===0||l.getValue().length===0||c.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<ft.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>ft.MAX_ROWS_IN_BARCODE)return null;var _=new JX(a.getValue()[0],o.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(i,_),_},e.prototype.removeIncorrectCodewords=function(n,r){for(var i=0;i<n.length;i++){var a=n[i];if(n[i]!=null){var o=a.getValue()%30,l=a.getRowNumber();if(l>r.getRowCount()){n[i]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:o*3+1!==r.getRowCountUpperPart()&&(n[i]=null);break;case 1:(Math.trunc(o/3)!==r.getErrorCorrectionLevel()||o%3!==r.getRowCountLowerPart())&&(n[i]=null);break;case 2:o+1!==r.getColumnCount()&&(n[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e})(z5),iY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aY=(function(){function t(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=ft.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var n=1;n<this.barcodeColumnCount+1;n++)for(var r=this.detectionResultColumns[n].getCodewords(),i=0;i<r.length;i++)r[i]!=null&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(n,i,r));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null&&n[r]!=null&&e[r].getRowNumber()===n[r].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[r];a!=null&&(a.setRowNumber(e[r].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<n.length;r++)if(n[r]!=null)for(var i=n[r].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var l=this.detectionResultColumns[o].getCodewords()[r];l!=null&&(a=t.adjustRowNumberIfValid(i,a,l),l.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,n=this.detectionResultColumns[0].getCodewords(),r=0;r<n.length;r++)if(n[r]!=null)for(var i=n[r].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var l=this.detectionResultColumns[o].getCodewords()[r];l!=null&&(a=t.adjustRowNumberIfValid(i,a,l),l.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),n=0):++n),n},t.prototype.adjustRowNumbers=function(e,n,r){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=r[n],l=this.detectionResultColumns[e-1].getCodewords(),c=l;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var f=new Array(14);f[2]=l[n],f[3]=c[n],n>0&&(f[0]=r[n-1],f[4]=l[n-1],f[5]=c[n-1]),n>1&&(f[8]=r[n-2],f[10]=l[n-2],f[11]=c[n-2]),n<r.length-1&&(f[1]=r[n+1],f[6]=l[n+1],f[7]=c[n+1]),n<r.length-2&&(f[9]=r[n+2],f[12]=l[n+2],f[13]=c[n+2]);try{for(var h=iY(f),p=h.next();!p.done;p=h.next()){var v=p.value;if(t.adjustRowNumber(o,v))return}}catch(m){i={error:m}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,n){this.detectionResultColumns[e]=n},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var n=new PE,r=0;r<e.getCodewords().length;r++){n.format("CW %3d:",r);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){n.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[r];if(a==null){n.format("    |   ");continue}n.format(" %3d|%3d",a.getRowNumber(),a.getValue())}n.format("%n")}return n.toString()},t})(),oY=(function(){function t(e,n,r,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t})(),sY=(function(){function t(){}return t.initialize=function(){for(var e=0;e<ft.SYMBOL_TABLE.length;e++)for(var n=ft.SYMBOL_TABLE[e],r=n&1,i=0;i<ft.BARS_IN_MODULE;i++){for(var a=0;(n&1)===r;)a+=1,n>>=1;r=n&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(ft.BARS_IN_MODULE)),t.RATIOS_TABLE[e][ft.BARS_IN_MODULE-i-1]=Math.fround(a/ft.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var n=t.getDecodedCodewordValue(t.sampleBitCounts(e));return n!==-1?n:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var n=gt.sum(e),r=new Int32Array(ft.BARS_IN_MODULE),i=0,a=0,o=0;o<ft.MODULES_IN_CODEWORD;o++){var l=n/(2*ft.MODULES_IN_CODEWORD)+o*n/ft.MODULES_IN_CODEWORD;a+e[i]<=l&&(a+=e[i],i++),r[i]++}return r},t.getDecodedCodewordValue=function(e){var n=t.getBitValue(e);return ft.getCodeword(n)===-1?-1:n},t.getBitValue=function(e){for(var n=0,r=0;r<e.length;r++)for(var i=0;i<e[r];i++)n=n<<1|(r%2===0?1:0);return Math.trunc(n)},t.getClosestDecodedValue=function(e){var n=gt.sum(e),r=new Array(ft.BARS_IN_MODULE);if(n>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/n);var a=pb.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var l=0;l<t.RATIOS_TABLE.length;l++){for(var c=0,f=t.RATIOS_TABLE[l],h=0;h<ft.BARS_IN_MODULE;h++){var p=Math.fround(f[h]-r[h]);if(c+=Math.fround(p*p),c>=a)break}c<a&&(a=c,o=ft.SYMBOL_TABLE[l])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(ft.SYMBOL_TABLE.length).map(function(e){return new Array(ft.BARS_IN_MODULE)}),t})(),lY=(function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t})(),OO=(function(){function t(){}return t.parseLong=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},t})(),uY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),cY=(function(t){uY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e})(ci),fY=(function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,n,r){if(e==null)throw new cY;if(n<0||n>e.length||r<0||n+r>e.length||n+r<0)throw new CE;if(r===0)return;for(var i=0;i<r;i++)this.write(e[n+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t})(),dY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),hY=(function(t){dY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(ci),pY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),gY=(function(t){pY(e,t);function e(n){n===void 0&&(n=32);var r=t.call(this)||this;if(r.count=0,n<0)throw new ke("Negative initial size: "+n);return r.buf=new Uint8Array(n),r}return e.prototype.ensureCapacity=function(n){n-this.buf.length>0&&this.grow(n)},e.prototype.grow=function(n){var r=this.buf.length,i=r<<1;if(i-n<0&&(i=n),i<0){if(n<0)throw new hY;i=Ye.MAX_VALUE}this.buf=Kn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1},e.prototype.writeBytesOffset=function(n,r,i){if(r<0||r>n.length||i<0||r+i-n.length>0)throw new CE;this.ensureCapacity(this.count+i),$t.arraycopy(n,r,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(n){n.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Kn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(n){return new String(this.buf).toString()},e.prototype.toString_number=function(n){return new String(this.buf).toString()},e.prototype.close=function(){},e})(fY),Ft;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ft||(Ft={}));function H5(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var m1;function Xs(t){if(typeof m1>"u"&&(m1=H5()),m1===null)throw new Error("BigInt is not supported!");return m1(t)}function vY(){var t=[];t[0]=Xs(1);var e=Xs(900);t[1]=e;for(var n=2;n<16;n++)t[n]=t[n-1]*e;return t}var mY=(function(){function t(){}return t.decode=function(e,n){var r=new Xe(""),i=Gn.ISO8859_1;r.enableDecoding(i);for(var a=1,o=e[a++],l=new lY;a<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,r);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(o,e,i,a,r);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,r);break;case t.ECI_CHARSET:Gn.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,l);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new ve;default:a--,a=t.textCompaction(e,a,r);break}if(a<e.length)o=e[a++];else throw ve.getFormatInstance()}if(r.length()===0)throw ve.getFormatInstance();var c=new Wv(null,r.toString(),null,n);return c.setOther(l),c},t.decodeMacroBlock=function(e,n,r){if(n+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw ve.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,n++)i[a]=e[n];r.setSegmentIndex(Ye.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new Xe;n=t.textCompaction(e,n,o),r.setFileId(o.toString());var l=-1;for(e[n]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=n+1);n<e[0];)switch(e[n]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new Xe;n=t.textCompaction(e,n+1,c),r.setFileName(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var f=new Xe;n=t.textCompaction(e,n+1,f),r.setSender(f.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var h=new Xe;n=t.textCompaction(e,n+1,h),r.setAddressee(h.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var p=new Xe;n=t.numericCompaction(e,n+1,p),r.setSegmentCount(Ye.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var v=new Xe;n=t.numericCompaction(e,n+1,v),r.setTimestamp(OO.parseLong(v.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var m=new Xe;n=t.numericCompaction(e,n+1,m),r.setChecksum(Ye.parseInt(m.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var _=new Xe;n=t.numericCompaction(e,n+1,_),r.setFileSize(OO.parseLong(_.toString()));break;default:throw ve.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw ve.getFormatInstance()}if(l!==-1){var w=n-l;r.isLastSegment()&&w--,r.setOptionalData(Kn.copyOfRange(e,l,l+w))}return n},t.textCompaction=function(e,n,r){for(var i=new Int32Array((e[0]-n)*2),a=new Int32Array((e[0]-n)*2),o=0,l=!1;n<e[0]&&!l;){var c=e[n++];if(c<t.TEXT_COMPACTION_MODE_LATCH)i[o]=c/30,i[o+1]=c%30,o+=2;else switch(c){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,l=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[n++],a[o]=c,o++;break}}return t.decodeTextCompaction(i,a,o,r),n},t.decodeTextCompaction=function(e,n,r,i){for(var a=Ft.ALPHA,o=Ft.ALPHA,l=0;l<r;){var c=e[l],f="";switch(a){case Ft.ALPHA:if(c<26)f=String.fromCharCode(65+c);else switch(c){case 26:f=" ";break;case t.LL:a=Ft.LOWER;break;case t.ML:a=Ft.MIXED;break;case t.PS:o=a,a=Ft.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ft.ALPHA;break}break;case Ft.LOWER:if(c<26)f=String.fromCharCode(97+c);else switch(c){case 26:f=" ";break;case t.AS:o=a,a=Ft.ALPHA_SHIFT;break;case t.ML:a=Ft.MIXED;break;case t.PS:o=a,a=Ft.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ft.ALPHA;break}break;case Ft.MIXED:if(c<t.PL)f=t.MIXED_CHARS[c];else switch(c){case t.PL:a=Ft.PUNCT;break;case 26:f=" ";break;case t.LL:a=Ft.LOWER;break;case t.AL:a=Ft.ALPHA;break;case t.PS:o=a,a=Ft.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ft.ALPHA;break}break;case Ft.PUNCT:if(c<t.PAL)f=t.PUNCT_CHARS[c];else switch(c){case t.PAL:a=Ft.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ft.ALPHA;break}break;case Ft.ALPHA_SHIFT:if(a=o,c<26)f=String.fromCharCode(65+c);else switch(c){case 26:f=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ft.ALPHA;break}break;case Ft.PUNCT_SHIFT:if(a=o,c<t.PAL)f=t.PUNCT_CHARS[c];else switch(c){case t.PAL:a=Ft.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ft.ALPHA;break}break}f!==""&&i.append(f),l++}},t.byteCompaction=function(e,n,r,i,a){var o=new gY,l=0,c=0,f=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var h=new Int32Array(6),p=n[i++];i<n[0]&&!f;)switch(h[l++]=p,c=900*c+p,p=n[i++],p){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,f=!0;break;default:if(l%5===0&&l>0){for(var v=0;v<6;++v)o.write(Number(Xs(c)>>Xs(8*(5-v))));c=0,l=0}break}i===n[0]&&p<t.TEXT_COMPACTION_MODE_LATCH&&(h[l++]=p);for(var m=0;m<l;m++)o.write(h[m]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<n[0]&&!f;){var _=n[i++];if(_<t.TEXT_COMPACTION_MODE_LATCH)l++,c=900*c+_;else switch(_){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,f=!0;break}if(l%5===0&&l>0){for(var v=0;v<6;++v)o.write(Number(Xs(c)>>Xs(8*(5-v))));c=0,l=0}}break}return a.append(ra.decode(o.toByteArray(),r)),i},t.numericCompaction=function(e,n,r){for(var i=0,a=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);n<e[0]&&!a;){var l=e[n++];if(n===e[0]&&(a=!0),l<t.TEXT_COMPACTION_MODE_LATCH)o[i]=l,i++;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||l===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(r.append(t.decodeBase900toBase10(o,i)),i=0)}return n},t.decodeBase900toBase10=function(e,n){for(var r=Xs(0),i=0;i<n;i++)r+=t.EXP900[n-i-1]*Xs(e[i]);var a=r.toString();if(a.charAt(0)!=="1")throw new ve;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=H5()?vY():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t})(),eh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yY=(function(){function t(){}return t.decode=function(e,n,r,i,a,o,l){for(var c=new _b(e,n,r,i,a),f=null,h=null,p,v=!0;;v=!1){if(n!=null&&(f=t.getRowIndicatorColumn(e,c,n,!0,o,l)),i!=null&&(h=t.getRowIndicatorColumn(e,c,i,!1,o,l)),p=t.merge(f,h),p==null)throw ae.getNotFoundInstance();var m=p.getBoundingBox();if(v&&m!=null&&(m.getMinY()<c.getMinY()||m.getMaxY()>c.getMaxY()))c=m;else break}p.setBoundingBox(c);var _=p.getBarcodeColumnCount()+1;p.setDetectionResultColumn(0,f),p.setDetectionResultColumn(_,h);for(var w=f!=null,A=1;A<=_;A++){var S=w?A:_-A;if(p.getDetectionResultColumn(S)===void 0){var I=void 0;S===0||S===_?I=new IO(c,S===0):I=new z5(c),p.setDetectionResultColumn(S,I);for(var O=-1,N=O,k=c.getMinY();k<=c.getMaxY();k++){if(O=t.getStartColumn(p,S,k,w),O<0||O>c.getMaxX()){if(N===-1)continue;O=N}var B=t.detectCodeword(e,c.getMinX(),c.getMaxX(),w,O,k,o,l);B!=null&&(I.setCodeword(k,B),N=O,o=Math.min(o,B.getWidth()),l=Math.max(l,B.getWidth()))}}}return t.createDecoderResult(p)},t.merge=function(e,n){if(e==null&&n==null)return null;var r=t.getBarcodeMetadata(e,n);if(r==null)return null;var i=_b.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(n));return new aY(r,i)},t.adjustBoundingBox=function(e){var n,r;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),o=0;try{for(var l=eh(i),c=l.next();!c.done;c=l.next()){var f=c.value;if(o+=a-f,f>0)break}}catch(m){n={error:m}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}for(var h=e.getCodewords(),p=0;o>0&&h[p]==null;p++)o--;for(var v=0,p=i.length-1;p>=0&&(v+=a-i[p],!(i[p]>0));p--);for(var p=h.length-1;v>0&&h[p]==null;p--)v--;return e.getBoundingBox().addMissingRows(o,v,e.isLeft())},t.getMax=function(e){var n,r,i=-1;try{for(var a=eh(e),o=a.next();!o.done;o=a.next()){var l=o.value;i=Math.max(i,l)}}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},t.getBarcodeMetadata=function(e,n){var r;if(e==null||(r=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();var i;return n==null||(i=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r},t.getRowIndicatorColumn=function(e,n,r,i,a,o){for(var l=new IO(n,i),c=0;c<2;c++)for(var f=c===0?1:-1,h=Math.trunc(Math.trunc(r.getX())),p=Math.trunc(Math.trunc(r.getY()));p<=n.getMaxY()&&p>=n.getMinY();p+=f){var v=t.detectCodeword(e,0,e.getWidth(),i,h,p,a,o);v!=null&&(l.setCodeword(p,v),i?h=v.getStartX():h=v.getEndX())}return l},t.adjustCodewordCount=function(e,n){var r=n[0][1],i=r.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>ft.MAX_CODEWORDS_IN_BARCODE)throw ae.getNotFoundInstance();r.setValue(a)}else i[0]!==a&&r.setValue(a)},t.createDecoderResult=function(e){var n=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,n);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,l=0;l<e.getBarcodeRowCount();l++)for(var c=0;c<e.getBarcodeColumnCount();c++){var f=n[l][c+1].getValue(),h=l*e.getBarcodeColumnCount()+c;f.length===0?r.push(h):f.length===1?i[h]=f[0]:(o.push(h),a.push(f))}for(var p=new Array(a.length),v=0;v<p.length;v++)p[v]=a[v];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,ft.toIntArray(r),ft.toIntArray(o),p)},t.createDecoderResultFromAmbiguousValues=function(e,n,r,i,a){for(var o=new Int32Array(i.length),l=100;l-- >0;){for(var c=0;c<o.length;c++)n[i[c]]=a[c][o[c]];try{return t.decodeCodewords(n,e,r)}catch(h){var f=h instanceof or;if(!f)throw h}if(o.length===0)throw or.getChecksumInstance();for(var c=0;c<o.length;c++)if(o[c]<a[c].length-1){o[c]++;break}else if(o[c]=0,c===o.length-1)throw or.getChecksumInstance()}throw or.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var n,r,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),l=0;l<o.length;l++)for(var c=0;c<o[l].length;c++)o[l][c]=new yh;var f=0;try{for(var h=eh(e.getDetectionResultColumns()),p=h.next();!p.done;p=h.next()){var v=p.value;if(v!=null)try{for(var m=(i=void 0,eh(v.getCodewords())),_=m.next();!_.done;_=m.next()){var w=_.value;if(w!=null){var A=w.getRowNumber();if(A>=0){if(A>=o.length)continue;o[A][f].setValue(w.getValue())}}}}catch(S){i={error:S}}finally{try{_&&!_.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}f++}}catch(S){n={error:S}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}return o},t.isValidBarcodeColumn=function(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,n,r,i){var a,o,l=i?1:-1,c=null;if(t.isValidBarcodeColumn(e,n-l)&&(c=e.getDetectionResultColumn(n-l).getCodeword(r)),c!=null)return i?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(n).getCodewordNearby(r),c!=null)return i?c.getStartX():c.getEndX();if(t.isValidBarcodeColumn(e,n-l)&&(c=e.getDetectionResultColumn(n-l).getCodewordNearby(r)),c!=null)return i?c.getEndX():c.getStartX();for(var f=0;t.isValidBarcodeColumn(e,n-l);){n-=l;try{for(var h=(a=void 0,eh(e.getDetectionResultColumn(n).getCodewords())),p=h.next();!p.done;p=h.next()){var v=p.value;if(v!=null)return(i?v.getEndX():v.getStartX())+l*f*(v.getEndX()-v.getStartX())}}catch(m){a={error:m}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(a)throw a.error}}f++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,n,r,i,a,o,l,c){a=t.adjustCodewordStartColumn(e,n,r,i,a,o);var f=t.getModuleBitCount(e,n,r,i,a,o);if(f==null)return null;var h,p=gt.sum(f);if(i)h=a+p;else{for(var v=0;v<f.length/2;v++){var m=f[v];f[v]=f[f.length-1-v],f[f.length-1-v]=m}h=a,a=h-p}if(!t.checkCodewordSkew(p,l,c))return null;var _=sY.getDecodedValue(f),w=ft.getCodeword(_);return w===-1?null:new oY(a,h,t.getCodewordBucketNumber(_),w)},t.getModuleBitCount=function(e,n,r,i,a,o){for(var l=a,c=new Int32Array(8),f=0,h=i?1:-1,p=i;(i?l<r:l>=n)&&f<c.length;)e.get(l,o)===p?(c[f]++,l+=h):(f++,p=!p);return f===c.length||l===(i?r:n)&&f===c.length-1?c:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,n,r,i,a,o){for(var l=a,c=i?-1:1,f=0;f<2;f++){for(;(i?l>=n:l<r)&&i===e.get(l,o);){if(Math.abs(a-l)>t.CODEWORD_SKEW_SIZE)return a;l+=c}c=-c,i=!i}return l},t.checkCodewordSkew=function(e,n,r){return n-t.CODEWORD_SKEW_SIZE<=e&&e<=r+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,n,r){if(e.length===0)throw ve.getFormatInstance();var i=1<<n+1,a=t.correctErrors(e,r,i);t.verifyCodewordCount(e,i);var o=mY.decode(e,""+n);return o.setErrorsCorrected(a),o.setErasures(r.length),o},t.correctErrors=function(e,n,r){if(n!=null&&n.length>r/2+t.MAX_ERRORS||r<0||r>t.MAX_EC_CODEWORDS)throw or.getChecksumInstance();return t.errorCorrection.decode(e,r,n)},t.verifyCodewordCount=function(e,n){if(e.length<4)throw ve.getFormatInstance();var r=e[0];if(r>e.length)throw ve.getFormatInstance();if(r===0)if(n<e.length)e[0]=e.length-n;else throw ve.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var n=new Int32Array(8),r=0,i=n.length-1;!((e&1)!==r&&(r=e&1,i--,i<0));)n[i]++,e>>=1;return n},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var n=new PE,r=0;r<e.length;r++){n.format("Row %2d: ",r);for(var i=0;i<e[r].length;i++){var a=e[r][i];a.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}n.format("%n")}return n.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new ZX,t})(),xY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bb=(function(){function t(){}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r=t.decode(e,n,!1);if(r==null||r.length===0||r[0]==null)throw ae.getNotFoundInstance();return r[0]},t.prototype.decodeMultiple=function(e,n){n===void 0&&(n=null);try{return t.decode(e,n,!0)}catch(r){throw r instanceof ve||r instanceof or?ae.getNotFoundInstance():r}},t.decode=function(e,n,r){var i,a,o=new Array,l=GX.detectMultiple(e,n,r);try{for(var c=xY(l.getPoints()),f=c.next();!f.done;f=c.next()){var h=f.value,p=yY.decode(l.getBits(),h[4],h[5],h[6],h[7],t.getMinCodewordWidth(h),t.getMaxCodewordWidth(h)),v=new Br(p.getText(),p.getRawBytes(),void 0,h,Ne.PDF_417);v.putMetadata(Ar.ERROR_CORRECTION_LEVEL,p.getECLevel());var m=p.getOther();m!=null&&v.putMetadata(Ar.PDF417_EXTRA_METADATA,m),o.push(v)}}catch(_){i={error:_}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return o.map(function(_){return _})},t.getMaxWidth=function(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))},t.getMinWidth=function(e,n){return e==null||n==null?Ye.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*ft.MODULES_IN_CODEWORD/ft.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*ft.MODULES_IN_CODEWORD/ft.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*ft.MODULES_IN_CODEWORD/ft.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*ft.MODULES_IN_CODEWORD/ft.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t})(),_Y=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),RO=(function(t){_Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e})(ci),PO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bY=(function(){function t(){}return t.prototype.decode=function(e,n){return this.setHints(n),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var n=e!=null&&e.get(tn.TRY_HARDER)!==void 0,r=e==null?null:e.get(tn.POSSIBLE_FORMATS),i=new Array;if(r!=null){var a=r.some(function(o){return o===Ne.UPC_A||o===Ne.UPC_E||o===Ne.EAN_13||o===Ne.EAN_8||o===Ne.CODABAR||o===Ne.CODE_39||o===Ne.CODE_93||o===Ne.CODE_128||o===Ne.ITF||o===Ne.RSS_14||o===Ne.RSS_EXPANDED});a&&!n&&i.push(new mh(e)),r.includes(Ne.QR_CODE)&&i.push(new xb),r.includes(Ne.DATA_MATRIX)&&i.push(new yb),r.includes(Ne.AZTEC)&&i.push(new vb),r.includes(Ne.PDF_417)&&i.push(new bb),a&&n&&i.push(new mh(e))}i.length===0&&(n||i.push(new mh(e)),i.push(new xb),i.push(new yb),i.push(new vb),i.push(new bb),n&&i.push(new mh(e))),this.readers=i},t.prototype.reset=function(){var e,n;if(this.readers!==null)try{for(var r=PO(this.readers),i=r.next();!i.done;i=r.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var n,r;if(this.readers===null)throw new RO("No readers where selected, nothing can be read.");try{for(var i=PO(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(l){if(l instanceof RO)continue}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}throw new ae("No MultiFormat Readers were able to detect the code.")},t})(),wY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),EY=(function(t){wY(e,t);function e(n,r){n===void 0&&(n=null),r===void 0&&(r=500);var i=this,a=new bY;return a.setHints(n),i=t.call(this,a,r)||this,i}return e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},e})(jf),AY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){AY(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new bb,n)||this}return e})(jf);var SY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){SY(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new xb,n)||this}return e})(jf);var wb;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(wb||(wb={}));const y1=wb;var $5=(function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new ll(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var n=this.cachedGenerators;if(e>=n.length)for(var r=n[n.length-1],i=this.field,a=n.length;a<=e;a++){var o=r.multiply(new ll(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));n.push(o),r=o}return n[e]},t.prototype.encode=function(e,n){if(n===0)throw new ke("No error correction bytes");var r=e.length-n;if(r<=0)throw new ke("No data bytes provided");var i=this.buildGenerator(n),a=new Int32Array(r);$t.arraycopy(e,0,a,0,r);var o=new ll(this.field,a);o=o.multiplyByMonomial(n,1);for(var l=o.divide(i)[1],c=l.getCoefficients(),f=n-c.length,h=0;h<f;h++)e[r+h]=0;$t.arraycopy(c,0,e,r+f,c.length)},t})(),xh=(function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var l=r[o],c=0;c<i-1;c++){var f=l[c];f===l[c+1]&&f===r[o+1][c]&&f===r[o+1][c+1]&&n++}return t.N2*n},t.applyMaskPenaltyRule3=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var l=0;l<i;l++){var c=r[o];l+6<i&&c[l]===1&&c[l+1]===0&&c[l+2]===1&&c[l+3]===1&&c[l+4]===1&&c[l+5]===0&&c[l+6]===1&&(t.isWhiteHorizontal(c,l-4,l)||t.isWhiteHorizontal(c,l+7,l+11))&&n++,o+6<a&&r[o][l]===1&&r[o+1][l]===0&&r[o+2][l]===1&&r[o+3][l]===1&&r[o+4][l]===1&&r[o+5][l]===0&&r[o+6][l]===1&&(t.isWhiteVertical(r,l,o-4,o)||t.isWhiteVertical(r,l,o+7,o+11))&&n++}return n*t.N3},t.isWhiteHorizontal=function(e,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(var i=n;i<r;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,n,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(var a=r;a<i;a++)if(e[a][n]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var l=r[o],c=0;c<i;c++)l[c]===1&&n++;var f=e.getHeight()*e.getWidth(),h=Math.floor(Math.abs(n*2-f)*10/f);return h*t.N4},t.getDataMaskBit=function(e,n,r){var i,a;switch(e){case 0:i=r+n&1;break;case 1:i=r&1;break;case 2:i=n%3;break;case 3:i=(r+n)%3;break;case 4:i=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:a=r*n,i=(a&1)+a%3;break;case 6:a=r*n,i=(a&1)+a%3&1;break;case 7:a=r*n,i=a%3+(r+n&1)&1;break;default:throw new ke("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,n){for(var r=0,i=n?e.getHeight():e.getWidth(),a=n?e.getWidth():e.getHeight(),o=e.getArray(),l=0;l<i;l++){for(var c=0,f=-1,h=0;h<a;h++){var p=n?o[l][h]:o[h][l];p===f?c++:(c>=5&&(r+=t.N1+(c-5)),c=1,f=p)}c>=5&&(r+=t.N1+(c-5))}return r},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t})(),CY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TY=(function(){function t(e,n){this.width=e,this.height=n;for(var r=new Array(n),i=0;i!==n;i++)r[i]=new Uint8Array(e);this.bytes=r}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,n){return this.bytes[n][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,n,r){this.bytes[n][e]=r},t.prototype.setBoolean=function(e,n,r){this.bytes[n][e]=r?1:0},t.prototype.clear=function(e){var n,r;try{for(var i=CY(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;Kn.fill(o,e)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var a=this.bytes[r],o=n.bytes[r],l=0,c=this.width;l<c;++l)if(a[l]!==o[l])return!1;return!0},t.prototype.toString=function(){for(var e=new Xe,n=0,r=this.height;n<r;++n){for(var i=this.bytes[n],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t})(),Eb=(function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Xe;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t})(),IY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Wt=(function(t){IY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e})(ci),DO=(function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,n,r,i,a){t.clearMatrix(a),t.embedBasicPatterns(r,a),t.embedTypeInfo(n,i,a),t.maybeEmbedVersionInfo(r,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,n){t.embedPositionDetectionPatternsAndSeparators(n),t.embedDarkDotAtLeftBottomCorner(n),t.maybeEmbedPositionAdjustmentPatterns(e,n),t.embedTimingPatterns(n)},t.embedTypeInfo=function(e,n,r){var i=new sr;t.makeTypeInfoBits(e,n,i);for(var a=0,o=i.getSize();a<o;++a){var l=i.get(i.getSize()-1-a),c=t.TYPE_INFO_COORDINATES[a],f=c[0],h=c[1];if(r.setBoolean(f,h,l),a<8){var p=r.getWidth()-a-1,v=8;r.setBoolean(p,v,l)}else{var p=8,v=r.getHeight()-7+(a-8);r.setBoolean(p,v,l)}}},t.maybeEmbedVersionInfo=function(e,n){if(!(e.getVersionNumber()<7)){var r=new sr;t.makeVersionInfoBits(e,r);for(var i=17,a=0;a<6;++a)for(var o=0;o<3;++o){var l=r.get(i);i--,n.setBoolean(a,n.getHeight()-11+o,l),n.setBoolean(n.getHeight()-11+o,a,l)}}},t.embedDataBits=function(e,n,r){for(var i=0,a=-1,o=r.getWidth()-1,l=r.getHeight()-1;o>0;){for(o===6&&(o-=1);l>=0&&l<r.getHeight();){for(var c=0;c<2;++c){var f=o-c;if(t.isEmpty(r.get(f,l))){var h=void 0;i<e.getSize()?(h=e.get(i),++i):h=!1,n!==255&&xh.getDataMaskBit(n,f,l)&&(h=!h),r.setBoolean(f,l,h)}}l+=a}a=-a,l+=a,o-=2}if(i!==e.getSize())throw new Wt("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-Ye.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,n){if(n===0)throw new ke("0 polynomial");var r=t.findMSBSet(n);for(e<<=r-1;t.findMSBSet(e)>=r;)e^=n<<t.findMSBSet(e)-r;return e},t.makeTypeInfoBits=function(e,n,r){if(!Eb.isValidMaskPattern(n))throw new Wt("Invalid mask pattern");var i=e.getBits()<<3|n;r.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);r.appendBits(a,10);var o=new sr;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),r.xor(o),r.getSize()!==15)throw new Wt("should not happen but we got: "+r.getSize())},t.makeVersionInfoBits=function(e,n){n.appendBits(e.getVersionNumber(),6);var r=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new Wt("should not happen but we got: "+n.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var n=8;n<e.getWidth()-8;++n){var r=(n+1)%2;t.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),t.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Wt;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,n,r){for(var i=0;i<8;++i){if(!t.isEmpty(r.get(e+i,n)))throw new Wt;r.setNumber(e+i,n,0)}},t.embedVerticalSeparationPattern=function(e,n,r){for(var i=0;i<7;++i){if(!t.isEmpty(r.get(e,n+i)))throw new Wt;r.setNumber(e,n+i,0)}},t.embedPositionAdjustmentPattern=function(e,n,r){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)r.setNumber(e+o,n+i,a[o])},t.embedPositionDetectionPattern=function(e,n,r){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)r.setNumber(e+o,n+i,a[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var n=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-n,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-n,e);var r=8;t.embedHorizontalSeparationPattern(0,r-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,n){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],a=0,o=i.length;a!==o;a++){var l=i[a];if(l>=0)for(var c=0;c!==o;c++){var f=i[c];f>=0&&t.isEmpty(n.get(f,l))&&t.embedPositionAdjustmentPattern(f-2,l-2,n)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t})(),OY=(function(){function t(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t})(),NO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return xh.applyMaskPenaltyRule1(e)+xh.applyMaskPenaltyRule2(e)+xh.applyMaskPenaltyRule3(e)+xh.applyMaskPenaltyRule4(e)},t.encode=function(e,n,r){r===void 0&&(r=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=r!==null&&r.get(y1.CHARACTER_SET)!==void 0;a&&(i=r.get(y1.CHARACTER_SET).toString());var o=this.chooseMode(e,i),l=new sr;if(o===Xt.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var c=Gn.getCharacterSetECIByName(i);c!==void 0&&this.appendECI(c,l)}this.appendModeInfo(o,l);var f=new sr;this.appendBytes(e,o,f,i);var h;if(r!==null&&r.get(y1.QR_VERSION)!==void 0){var p=Number.parseInt(r.get(y1.QR_VERSION).toString(),10);h=Tu.getVersionForNumber(p);var v=this.calculateBitsNeeded(o,l,f,h);if(!this.willFit(v,h,n))throw new Wt("Data too big for requested version")}else h=this.recommendVersion(n,o,l,f);var m=new sr;m.appendBitArray(l);var _=o===Xt.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(_,h,o,m),m.appendBitArray(f);var w=h.getECBlocksForLevel(n),A=h.getTotalCodewords()-w.getTotalECCodewords();this.terminateBits(A,m);var S=this.interleaveWithECBytes(m,h.getTotalCodewords(),A,w.getNumBlocks()),I=new Eb;I.setECLevel(n),I.setMode(o),I.setVersion(h);var O=h.getDimensionForVersion(),N=new TY(O,O),k=this.chooseMaskPattern(S,n,h,N);return I.setMaskPattern(k),DO.buildMatrix(S,n,h,k,N),I.setMatrix(N),I},t.recommendVersion=function(e,n,r,i){var a=this.calculateBitsNeeded(n,r,i,Tu.getVersionForNumber(1)),o=this.chooseVersion(a,e),l=this.calculateBitsNeeded(n,r,i,o);return this.chooseVersion(l,e)},t.calculateBitsNeeded=function(e,n,r,i){return n.getSize()+e.getCharacterCountBits(i)+r.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,n){if(n===void 0&&(n=null),Gn.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return Xt.KANJI;for(var r=!1,i=!1,a=0,o=e.length;a<o;++a){var l=e.charAt(a);if(t.isDigit(l))r=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)i=!0;else return Xt.BYTE}return i?Xt.ALPHANUMERIC:r?Xt.NUMERIC:Xt.BYTE},t.isOnlyDoubleByteKanji=function(e){var n;try{n=ra.encode(e,Gn.SJIS)}catch{return!1}var r=n.length;if(r%2!==0)return!1;for(var i=0;i<r;i+=2){var a=n[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,n,r,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,l=0;l<Eb.NUM_MASK_PATTERNS;l++){DO.buildMatrix(e,n,r,l,i);var c=this.calculateMaskPenalty(i);c<a&&(a=c,o=l)}return o},t.chooseVersion=function(e,n){for(var r=1;r<=40;r++){var i=Tu.getVersionForNumber(r);if(t.willFit(e,i,n))return i}throw new Wt("Data too big")},t.willFit=function(e,n,r){var i=n.getTotalCodewords(),a=n.getECBlocksForLevel(r),o=a.getTotalECCodewords(),l=i-o,c=(e+7)/8;return l>=c},t.terminateBits=function(e,n){var r=e*8;if(n.getSize()>r)throw new Wt("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(var i=0;i<4&&n.getSize()<r;++i)n.appendBit(!1);var a=n.getSize()&7;if(a>0)for(var i=a;i<8;i++)n.appendBit(!1);for(var o=e-n.getSizeInBytes(),i=0;i<o;++i)n.appendBits((i&1)===0?236:17,8);if(n.getSize()!==r)throw new Wt("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,n,r,i,a,o){if(i>=r)throw new Wt("Block ID too large");var l=e%r,c=r-l,f=Math.floor(e/r),h=f+1,p=Math.floor(n/r),v=p+1,m=f-p,_=h-v;if(m!==_)throw new Wt("EC bytes mismatch");if(r!==c+l)throw new Wt("RS blocks mismatch");if(e!==(p+m)*c+(v+_)*l)throw new Wt("Total bytes mismatch");i<c?(a[0]=p,o[0]=m):(a[0]=v,o[0]=_)},t.interleaveWithECBytes=function(e,n,r,i){var a,o,l,c;if(e.getSizeInBytes()!==r)throw new Wt("Number of bits and data bytes does not match");for(var f=0,h=0,p=0,v=new Array,m=0;m<i;++m){var _=new Int32Array(1),w=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(n,r,i,m,_,w);var A=_[0],S=new Uint8Array(A);e.toBytes(8*f,S,0,A);var I=t.generateECBytes(S,w[0]);v.push(new OY(S,I)),h=Math.max(h,A),p=Math.max(p,I.length),f+=_[0]}if(r!==f)throw new Wt("Data bytes does not match offset");for(var O=new sr,m=0;m<h;++m)try{for(var N=(a=void 0,NO(v)),k=N.next();!k.done;k=N.next()){var B=k.value,S=B.getDataBytes();m<S.length&&O.appendBits(S[m],8)}}catch(z){a={error:z}}finally{try{k&&!k.done&&(o=N.return)&&o.call(N)}finally{if(a)throw a.error}}for(var m=0;m<p;++m)try{for(var D=(l=void 0,NO(v)),M=D.next();!M.done;M=D.next()){var B=M.value,I=B.getErrorCorrectionBytes();m<I.length&&O.appendBits(I[m],8)}}catch(z){l={error:z}}finally{try{M&&!M.done&&(c=D.return)&&c.call(D)}finally{if(l)throw l.error}}if(n!==O.getSizeInBytes())throw new Wt("Interleaving error: "+n+" and "+O.getSizeInBytes()+" differ.");return O},t.generateECBytes=function(e,n){for(var r=e.length,i=new Int32Array(r+n),a=0;a<r;a++)i[a]=e[a]&255;new $5(oi.QR_CODE_FIELD_256).encode(i,n);for(var o=new Uint8Array(n),a=0;a<n;a++)o[a]=i[r+a];return o},t.appendModeInfo=function(e,n){n.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,n,r,i){var a=r.getCharacterCountBits(n);if(e>=1<<a)throw new Wt(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,n,r,i){switch(n){case Xt.NUMERIC:t.appendNumericBytes(e,r);break;case Xt.ALPHANUMERIC:t.appendAlphanumericBytes(e,r);break;case Xt.BYTE:t.append8BitBytes(e,r,i);break;case Xt.KANJI:t.appendKanjiBytes(e,r);break;default:throw new Wt("Invalid mode: "+n)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var n=t.getDigit(e);return n>=0&&n<=9},t.appendNumericBytes=function(e,n){for(var r=e.length,i=0;i<r;){var a=t.getDigit(e.charAt(i));if(i+2<r){var o=t.getDigit(e.charAt(i+1)),l=t.getDigit(e.charAt(i+2));n.appendBits(a*100+o*10+l,10),i+=3}else if(i+1<r){var o=t.getDigit(e.charAt(i+1));n.appendBits(a*10+o,7),i+=2}else n.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,n){for(var r=e.length,i=0;i<r;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Wt;if(i+1<r){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new Wt;n.appendBits(a*45+o,11),i+=2}else n.appendBits(a,6),i++}},t.append8BitBytes=function(e,n,r){var i;try{i=ra.encode(e,r)}catch(c){throw new Wt(c)}for(var a=0,o=i.length;a!==o;a++){var l=i[a];n.appendBits(l,8)}},t.appendKanjiBytes=function(e,n){var r;try{r=ra.encode(e,Gn.SJIS)}catch(p){throw new Wt(p)}for(var i=r.length,a=0;a<i;a+=2){var o=r[a]&255,l=r[a+1]&255,c=o<<8&4294967295|l,f=-1;if(c>=33088&&c<=40956?f=c-33088:c>=57408&&c<=60351&&(f=c-49472),f===-1)throw new Wt("Invalid byte sequence");var h=(f>>8)*192+(f&255);n.appendBits(h,13)}},t.appendECI=function(e,n){n.appendBits(Xt.ECI.getBits(),4),n.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Gn.UTF8.getName(),t})();var RY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){RY(e,t);function e(n,r,i,a,o,l,c,f){var h=t.call(this,l,c)||this;if(h.yuvData=n,h.dataWidth=r,h.dataHeight=i,h.left=a,h.top=o,a+l>r||o+c>i)throw new ke("Crop rectangle does not fit within image data.");return f&&h.reverseHorizontal(l,c),h}return e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new ke("Requested row is outside the image: "+n);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(n+this.top)*this.dataWidth+this.left;return $t.arraycopy(this.yuvData,a,r,0,i),r},e.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.yuvData;var i=n*r,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return $t.arraycopy(this.yuvData,o,a,0,i),a;for(var l=0;l<r;l++){var c=l*n;$t.arraycopy(this.yuvData,o,a,c,n),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+r,i,a,!1)},e.prototype.renderThumbnail=function(){for(var n=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(n*r),a=this.yuvData,o=this.top*this.dataWidth+this.left,l=0;l<r;l++){for(var c=l*n,f=0;f<n;f++){var h=a[o+f*e.THUMBNAIL_SCALE_FACTOR]&255;i[c+f]=4278190080|h*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(n,r){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<r;a++,o+=this.dataWidth)for(var l=o+n/2,c=o,f=o+n-1;c<l;c++,f--){var h=i[c];i[c]=i[f],i[f]=h}},e.prototype.invert=function(){return new TE(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Kv);var PY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){PY(e,t);function e(n,r,i,a,o,l,c){var f=t.call(this,r,i)||this;if(f.dataWidth=a,f.dataHeight=o,f.left=l,f.top=c,n.BYTES_PER_ELEMENT===4){for(var h=r*i,p=new Uint8ClampedArray(h),v=0;v<h;v++){var m=n[v],_=m>>16&255,w=m>>7&510,A=m&255;p[v]=(_+w+A)/4&255}f.luminances=p}else f.luminances=n;if(a===void 0&&(f.dataWidth=r),o===void 0&&(f.dataHeight=i),l===void 0&&(f.left=0),c===void 0&&(f.top=0),f.left+r>f.dataWidth||f.top+i>f.dataHeight)throw new ke("Crop rectangle does not fit within image data.");return f}return e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new ke("Requested row is outside the image: "+n);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(n+this.top)*this.dataWidth+this.left;return $t.arraycopy(this.luminances,a,r,0,i),r},e.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.luminances;var i=n*r,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return $t.arraycopy(this.luminances,o,a,0,i),a;for(var l=0;l<r;l++){var c=l*n;$t.arraycopy(this.luminances,o,a,c,n),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+n,this.top+r)},e.prototype.invert=function(){return new TE(this)},e})(Kv);var DY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),NY=(function(t){DY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(n){return this.getCharacterSetECIByName(n)},e})(Gn),MY=(function(){function t(){}return t.ISO_8859_1=Gn.ISO8859_1,t})(),Ab,kY=301,jY=function(t,e){for(var n=1,r=0;r<255;r++)e[r]=n,t[n]=r,n*=2,n>=256&&(n^=kY);return{LOG:t,ALOG:e}};Ab=jY([],[]),Ab.LOG;Ab.ALOG;var MO;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(MO||(MO={}));var kO=129,q5=230,LY=231,BY=235,FY=236,VY=237,UY=238,zY=239,HY=240,tx=254,$Y=254,jO="[)>05",LO="[)>06",BO="",Pt=0,xr=1,$r=2,Hn=3,rr=4,Rr=5,qY=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Pt},t.prototype.encode=function(e){var n=Ea.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(n>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var r=e.getCurrentChar(),i=Ea.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Rr:e.writeCodeword(LY),e.signalEncoderChange(Rr);return;case xr:e.writeCodeword(q5),e.signalEncoderChange(xr);return;case Hn:e.writeCodeword(UY),e.signalEncoderChange(Hn);break;case $r:e.writeCodeword(zY),e.signalEncoderChange($r);break;case rr:e.writeCodeword(HY),e.signalEncoderChange(rr);break;default:throw new Error("Illegal mode: "+i)}else Ea.isExtendedASCII(r)?(e.writeCodeword(BY),e.writeCodeword(r-128+1),e.pos++):(e.writeCodeword(r+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,n){if(Ea.isDigit(e)&&Ea.isDigit(n)){var r=(e-48)*10+(n-48);return r+130}throw new Error("not digits: "+e+n)},t})(),GY=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Rr},t.prototype.encode=function(e){var n=new Xe;for(n.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();n.append(r),e.pos++;var i=Ea.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Pt);break}}var a=n.length()-1,o=1,l=e.getCodewordCount()+a+o;e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l>0;if(e.hasMoreCharacters()||c)if(a<=249)n.setCharAt(0,ut.getCharAt(a));else if(a<=1555)n.setCharAt(0,ut.getCharAt(Math.floor(a/250)+249)),n.insert(1,ut.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var f=0,r=n.length();f<r;f++)e.writeCodeword(this.randomize255State(n.charAt(f).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,n){var r=149*n%255+1,i=e+r;return i<=255?i:i-256},t})(),DE=(function(){function t(){}return t.prototype.getEncodingMode=function(){return xr},t.prototype.encodeMaximal=function(e){for(var n=new Xe,r=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,r=this.encodeChar(o,n),n.length()%3===0&&(i=e.pos,a=n.length())}if(a!==n.length()){var l=Math.floor(n.length()/3*2),c=Math.floor(e.getCodewordCount()+l+1);e.updateSymbolInfo(c);var f=e.getSymbolInfo().getDataCapacity()-c,h=Math.floor(n.length()%3);(h===2&&f!==2||h===1&&(r>3||f!==1))&&(e.pos=i)}n.length()>0&&e.writeCodeword(q5),this.handleEOD(e,n)},t.prototype.encode=function(e){for(var n=new Xe;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var i=this.encodeChar(r,n),a=Math.floor(n.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var l=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var c=new Xe;for(n.length()%3===2&&l!==2&&(i=this.backtrackOneCharacter(e,n,c,i));n.length()%3===1&&(i>3||l!==1);)i=this.backtrackOneCharacter(e,n,c,i);break}var f=n.length();if(f%3===0){var h=Ea.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(h!==this.getEncodingMode()){e.signalEncoderChange(Pt);break}}}this.handleEOD(e,n)},t.prototype.backtrackOneCharacter=function(e,n,r,i){var a=n.length(),o=n.toString().substring(0,a-i);n.setLengthToZero(),n.append(o),e.pos--;var l=e.getCurrentChar();return i=this.encodeChar(l,r),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,n){e.writeCodewords(this.encodeToCodewords(n.toString()));var r=n.toString().substring(3);n.setLengthToZero(),n.append(r)},t.prototype.handleEOD=function(e,n){var r=Math.floor(n.length()/3*2),i=n.length()%3,a=e.getCodewordCount()+r;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(n.append("\0");n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(tx)}else if(o===1&&i===1){for(;n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(tx),e.pos--}else if(i===0){for(;n.length()>=3;)this.writeNextTriplet(e,n);(o>0||e.hasMoreCharacters())&&e.writeCodeword(tx)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Pt)},t.prototype.encodeChar=function(e,n){if(e===32)return n.append(3),1;if(e>=48&&e<=57)return n.append(e-48+4),1;if(e>=65&&e<=90)return n.append(e-65+14),1;if(e<32)return n.append(0),n.append(e),2;if(e<=47)return n.append(1),n.append(e-33),2;if(e<=64)return n.append(1),n.append(e-58+15),2;if(e<=95)return n.append(1),n.append(e-91+22),2;if(e<=127)return n.append(2),n.append(e-96),2;n.append("1");var r=2;return r+=this.encodeChar(e-128,n),r},t.prototype.encodeToCodewords=function(e){var n=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=n/256,i=n%256,a=new Xe;return a.append(r),a.append(i),a.toString()},t})(),KY=(function(){function t(){}return t.prototype.getEncodingMode=function(){return rr},t.prototype.encode=function(e){for(var n=new Xe;e.hasMoreCharacters();){var r=e.getCurrentChar();this.encodeChar(r,n),e.pos++;var i=n.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(n.toString()));var a=n.toString().substring(4);n.setLengthToZero(),n.append(a);var o=Ea.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(Pt);break}}}n.append(ut.getCharAt(31)),this.handleEOD(e,n)},t.prototype.handleEOD=function(e,n){try{var r=n.length();if(r===0)return;if(r===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(r>4)throw new Error("Count must not exceed 4");var o=r-1,l=this.encodeToCodewords(n.toString()),c=!e.hasMoreCharacters(),f=c&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(f=!1,e.updateSymbolInfo(e.getCodewordCount()+l.length))}f?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(l)}finally{e.signalEncoderChange(Pt)}},t.prototype.encodeChar=function(e,n){e>=32&&e<=63?n.append(e):e>=64&&e<=94?n.append(ut.getCharAt(e-64)):Ea.illegalCharacter(ut.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var n=e.length;if(n===0)throw new Error("StringBuilder must not be empty");var r=e.charAt(0).charCodeAt(0),i=n>=2?e.charAt(1).charCodeAt(0):0,a=n>=3?e.charAt(2).charCodeAt(0):0,o=n>=4?e.charAt(3).charCodeAt(0):0,l=(r<<18)+(i<<12)+(a<<6)+o,c=l>>16&255,f=l>>8&255,h=l&255,p=new Xe;return p.append(c),n>=2&&p.append(f),n>=3&&p.append(h),p.toString()},t})(),WY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),XY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bt=(function(){function t(e,n,r,i,a,o,l,c){l===void 0&&(l=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=n,this.errorCodewords=r,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=l,this.rsBlockError=c}return t.lookup=function(e,n,r,i,a){var o,l;n===void 0&&(n=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var c=XY(QY),f=c.next();!f.done;f=c.next()){var h=f.value;if(!(n===1&&h.rectangular)&&!(n===2&&!h.rectangular)&&!(r!=null&&(h.getSymbolWidth()<r.getWidth()||h.getSymbolHeight()<r.getHeight()))&&!(i!=null&&(h.getSymbolWidth()>i.getWidth()||h.getSymbolHeight()>i.getHeight()))&&e<=h.dataCapacity)return h}}catch(p){o={error:p}}finally{try{f&&!f.done&&(l=c.return)&&l.call(c)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t})(),YY=(function(t){WY(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(n){return n<=8?156:155},e})(bt),QY=[new bt(!1,3,5,8,8,1),new bt(!1,5,7,10,10,1),new bt(!0,5,7,16,6,1),new bt(!1,8,10,12,12,1),new bt(!0,10,11,14,6,2),new bt(!1,12,12,14,14,1),new bt(!0,16,14,24,10,1),new bt(!1,18,14,16,16,1),new bt(!1,22,18,18,18,1),new bt(!0,22,18,16,10,2),new bt(!1,30,20,20,20,1),new bt(!0,32,24,16,14,2),new bt(!1,36,24,22,22,1),new bt(!1,44,28,24,24,1),new bt(!0,49,28,22,14,2),new bt(!1,62,36,14,14,4),new bt(!1,86,42,16,16,4),new bt(!1,114,48,18,18,4),new bt(!1,144,56,20,20,4),new bt(!1,174,68,22,22,4),new bt(!1,204,84,24,24,4,102,42),new bt(!1,280,112,14,14,16,140,56),new bt(!1,368,144,16,16,16,92,36),new bt(!1,456,192,18,18,16,114,48),new bt(!1,576,224,20,20,16,144,56),new bt(!1,696,272,22,22,16,174,68),new bt(!1,816,336,24,24,16,136,56),new bt(!1,1050,408,18,18,36,175,68),new bt(!1,1304,496,20,20,36,163,62),new YY],ZY=(function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var n=e.split("").map(function(l){return l.charCodeAt(0)}),r=new Xe,i=0,a=n.length;i<a;i++){var o=String.fromCharCode(n[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(o)}this.msg=r.toString(),this.shape=0,this.codewords=new Xe,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,n){this.minSize=e,this.maxSize=n},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=bt.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t})(),JY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),eQ=(function(t){JY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Hn},e.prototype.encode=function(n){for(var r=new Xe;n.hasMoreCharacters();){var i=n.getCurrentChar();n.pos++,this.encodeChar(i,r);var a=r.length();if(a%3===0){this.writeNextTriplet(n,r);var o=Ea.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){n.signalEncoderChange(Pt);break}}}this.handleEOD(n,r)},e.prototype.encodeChar=function(n,r){switch(n){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:n>=48&&n<=57?r.append(n-48+4):n>=65&&n<=90?r.append(n-65+14):Ea.illegalCharacter(ut.getCharAt(n));break}return 1},e.prototype.handleEOD=function(n,r){n.updateSymbolInfo();var i=n.getSymbolInfo().getDataCapacity()-n.getCodewordCount(),a=r.length();n.pos-=a,(n.getRemainingCharacters()>1||i>1||n.getRemainingCharacters()!==i)&&n.writeCodeword($Y),n.getNewEncoding()<0&&n.signalEncoderChange(Pt)},e})(DE),tQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),nQ=(function(t){tQ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return $r},e.prototype.encodeChar=function(n,r){if(n===32)return r.append(3),1;if(n>=48&&n<=57)return r.append(n-48+4),1;if(n>=97&&n<=122)return r.append(n-97+14),1;if(n<32)return r.append(0),r.append(n),2;if(n<=47)return r.append(1),r.append(n-33),2;if(n<=64)return r.append(1),r.append(n-58+15),2;if(n>=91&&n<=95)return r.append(1),r.append(n-91+22),2;if(n===96)return r.append(2),r.append(0),2;if(n<=90)return r.append(2),r.append(n-65+1),2;if(n<=127)return r.append(2),r.append(n-123+27),2;r.append("1");var i=2;return i+=this.encodeChar(n-128,r),i},e})(DE),Ea=(function(){function t(){}return t.randomize253State=function(e){var n=149*e%253+1,r=kO+n;return r<=254?r:r-254},t.encodeHighLevel=function(e,n,r,i,a){n===void 0&&(n=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new DE,l=[new qY,o,new nQ,new eQ,new KY,new GY],c=new ZY(e);c.setSymbolShape(n),c.setSizeConstraints(r,i),e.startsWith(jO)&&e.endsWith(BO)?(c.writeCodeword(FY),c.setSkipAtEnd(2),c.pos+=jO.length):e.startsWith(LO)&&e.endsWith(BO)&&(c.writeCodeword(VY),c.setSkipAtEnd(2),c.pos+=LO.length);var f=Pt;for(a&&(o.encodeMaximal(c),f=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)l[f].encode(c),c.getNewEncoding()>=0&&(f=c.getNewEncoding(),c.resetEncoderSignal());var h=c.getCodewordCount();c.updateSymbolInfo();var p=c.getSymbolInfo().getDataCapacity();h<p&&f!==Pt&&f!==Rr&&f!==rr&&c.writeCodeword("þ");var v=c.getCodewords();for(v.length()<p&&v.append(kO);v.length()<p;)v.append(this.randomize253State(v.length()+1));return c.getCodewords().toString()},t.lookAheadTest=function(e,n,r){var i=this.lookAheadTestIntern(e,n,r);if(r===Hn&&i===Hn){for(var a=Math.min(n+3,e.length),o=n;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return Pt}else if(r===rr&&i===rr){for(var a=Math.min(n+4,e.length),o=n;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return Pt}return i},t.lookAheadTestIntern=function(e,n,r){if(n>=e.length)return r;var i;r===Pt?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[r]=0);for(var a=0,o=new Uint8Array(6),l=[];;){if(n+a===e.length){Kn.fill(o,0),Kn.fill(l,0);var c=this.findMinimums(i,l,Ye.MAX_VALUE,o),f=this.getMinimumCount(o);if(l[Pt]===c)return Pt;if(f===1){if(o[Rr]>0)return Rr;if(o[rr]>0)return rr;if(o[$r]>0)return $r;if(o[Hn]>0)return Hn}return xr}var h=e.charCodeAt(n+a);if(a++,this.isDigit(h)?i[Pt]+=.5:this.isExtendedASCII(h)?(i[Pt]=Math.ceil(i[Pt]),i[Pt]+=2):(i[Pt]=Math.ceil(i[Pt]),i[Pt]++),this.isNativeC40(h)?i[xr]+=2/3:this.isExtendedASCII(h)?i[xr]+=8/3:i[xr]+=4/3,this.isNativeText(h)?i[$r]+=2/3:this.isExtendedASCII(h)?i[$r]+=8/3:i[$r]+=4/3,this.isNativeX12(h)?i[Hn]+=2/3:this.isExtendedASCII(h)?i[Hn]+=13/3:i[Hn]+=10/3,this.isNativeEDIFACT(h)?i[rr]+=3/4:this.isExtendedASCII(h)?i[rr]+=17/4:i[rr]+=13/4,this.isSpecialB256(h)?i[Rr]+=4:i[Rr]++,a>=4){if(Kn.fill(o,0),Kn.fill(l,0),this.findMinimums(i,l,Ye.MAX_VALUE,o),l[Pt]<this.min(l[Rr],l[xr],l[$r],l[Hn],l[rr]))return Pt;if(l[Rr]<l[Pt]||l[Rr]+1<this.min(l[xr],l[$r],l[Hn],l[rr]))return Rr;if(l[rr]+1<this.min(l[Rr],l[xr],l[$r],l[Hn],l[Pt]))return rr;if(l[$r]+1<this.min(l[Rr],l[xr],l[rr],l[Hn],l[Pt]))return $r;if(l[Hn]+1<this.min(l[Rr],l[xr],l[rr],l[$r],l[Pt]))return Hn;if(l[xr]+1<this.min(l[Pt],l[Rr],l[rr],l[$r])){if(l[xr]<l[Hn])return xr;if(l[xr]===l[Hn]){for(var p=n+a+1;p<e.length;){var v=e.charCodeAt(p);if(this.isX12TermSep(v))return Hn;if(!this.isNativeX12(v))break;p++}return xr}}}}},t.min=function(e,n,r,i,a){var o=Math.min(e,Math.min(n,Math.min(r,i)));return a===void 0?o:Math.min(o,a)},t.findMinimums=function(e,n,r,i){for(var a=0;a<6;a++){var o=n[a]=Math.ceil(e[a]);r>o&&(r=o,Kn.fill(i,0)),r===o&&(i[a]=i[a]+1)}return r},t.getMinimumCount=function(e){for(var n=0,r=0;r<6;r++)n+=e[r];return n||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,n){n===void 0&&(n=0);for(var r=e.length,i=n;i<r&&this.isDigit(e.charCodeAt(i));)i++;return i-n},t.illegalCharacter=function(e){var n=Ye.toHexString(e.charCodeAt(0));throw n="0000".substring(0,4-n.length)+n,new Error("Illegal character: "+e+" (0x"+n+")")},t})(),nx=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FO=(function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return ra.encode(e,this.charset)!=null}catch{return!1}},t})(),rQ=(function(){function t(e,n,r){var i,a,o,l,c,f;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(j){return new FO(NY.forName(j))}),this.encoders=[];var h=[];h.push(new FO(MY.ISO_8859_1));for(var p=n!=null&&n.name.startsWith("UTF"),v=0;v<e.length;v++){var m=!1;try{for(var _=(i=void 0,nx(h)),w=_.next();!w.done;w=_.next()){var A=w.value,S=e.charAt(v),I=S.charCodeAt(0);if(I===r||A.canEncode(S)){m=!0;break}}}catch(j){i={error:j}}finally{try{w&&!w.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}if(!m)try{for(var O=(o=void 0,nx(this.ENCODERS)),N=O.next();!N.done;N=O.next()){var A=N.value;if(A.canEncode(e.charAt(v))){h.push(A),m=!0;break}}}catch(j){o={error:j}}finally{try{N&&!N.done&&(l=O.return)&&l.call(O)}finally{if(o)throw o.error}}m||(p=!0)}if(h.length===1&&!p)this.encoders=[h[0]];else{this.encoders=[];var k=0;try{for(var B=nx(h),D=B.next();!D.done;D=B.next()){var A=D.value;this.encoders[k++]=A}}catch(j){c={error:j}}finally{try{D&&!D.done&&(f=B.return)&&f.call(B)}finally{if(c)throw c.error}}}var M=-1;if(n!=null){for(var v=0;v<this.encoders.length;v++)if(this.encoders[v]!=null&&n.name===this.encoders[v].name){M=v;break}}this.priorityEncoderIndex=M}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return ra.encode(ut.getCharAt(e),this.encoders[n].name)},t})(),iQ=3,aQ=(function(){function t(e,n,r){this.fnc1=r;var i=new rQ(e,n,r);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===r?1e3:o}else this.bytes=this.encodeMinimally(e,i,r)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,n){if(e+n-1>=this.bytes.length)return!1;for(var r=0;r<n;r++)if(this.isECI(e+r))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,n){if(e<0||e>n||n>this.length())throw new Error(""+e);for(var r=new Xe,i=e;i<n;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");r.append(this.charAt(i))}return r.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,n,r){(e[n][r.encoderIndex]==null||e[n][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[n][r.encoderIndex]=r)},t.prototype.addEdges=function(e,n,r,i,a,o){var l=e.charAt(i).charCodeAt(0),c=0,f=n.length();n.getPriorityEncoderIndex()>=0&&(l===o||n.canEncode(l,n.getPriorityEncoderIndex()))&&(c=n.getPriorityEncoderIndex(),f=c+1);for(var h=c;h<f;h++)(l===o||n.canEncode(l,h))&&this.addEdge(r,i+1,new VO(l,n,h,a,o))},t.prototype.encodeMinimally=function(e,n,r){var i=e.length,a=new VO[i+1][n.length()];this.addEdges(e,n,a,0,null,r);for(var o=1;o<=i;o++){for(var l=0;l<n.length();l++)a[o][l]!=null&&o<i&&this.addEdges(e,n,a,o,a[o][l],r);for(var l=0;l<n.length();l++)a[o-1][l]=null}for(var c=-1,f=Ye.MAX_VALUE,l=0;l<n.length();l++)if(a[i][l]!=null){var h=a[i][l];h.cachedTotalSize<f&&(f=h.cachedTotalSize,c=l)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var p=[],v=a[i][c];v!=null;){if(v.isFNC1())p.unshift(1e3);else for(var m=n.encode(v.c,v.encoderIndex),o=m.length-1;o>=0;o--)p.unshift(m[o]&255);var _=v.previous===null?0:v.previous.encoderIndex;_!==v.encoderIndex&&p.unshift(256+n.getECIValue(v.encoderIndex)),v=v.previous}for(var w=[],o=0;o<w.length;o++)w[o]=p[o];return w},t})(),VO=(function(){function t(e,n,r,i,a){this.c=e,this.encoderSet=n,this.encoderIndex=r,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:n.encode(e,r).length,l=i===null?0:i.encoderIndex;l!==r&&(o+=iQ),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t})(),oQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();var UO;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(UO||(UO={}));(function(t){oQ(e,t);function e(n,r,i,a,o){var l=t.call(this,n,r,i)||this;return l.shape=a,l.macroId=o,l}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(aQ);var sQ=(function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t})(),zO=(function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,n){return e.sort(n)[0]},t})(),lQ=(function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t})(),uQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),NE=(function(t){uQ(e,t);function e(n,r,i){var a=t.call(this,n)||this;return a.value=r,a.bitCount=i,a}return e.prototype.appendTo=function(n,r){n.appendBits(this.value,this.bitCount)},e.prototype.add=function(n,r){return new e(this,n,r)},e.prototype.addBinaryShift=function(n,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,n,r)},e.prototype.toString=function(){var n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+Ye.toBinaryString(n|1<<this.bitCount).substring(1)+">"},e})(lQ),cQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),fQ=(function(t){cQ(e,t);function e(n,r,i){var a=t.call(this,n,0,0)||this;return a.binaryShiftStart=r,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(n,r){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):i===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(r[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(n,r){return new e(this,n,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(NE);function dQ(t,e,n){return new fQ(t,e,n)}function th(t,e,n){return new NE(t,e,n)}var hQ=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ul=0,Tg=1,ea=2,G5=3,Za=4,pQ=new NE(null,0,0),rx=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],gQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function vQ(t){var e,n;try{for(var r=gQ(t),i=r.next();!i.done;i=r.next()){var a=i.value;Kn.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return t[ul][Za]=0,t[Tg][Za]=0,t[Tg][ul]=28,t[G5][Za]=0,t[ea][Za]=0,t[ea][ul]=15,t}var K5=vQ(Kn.createInt32Array(6,6)),mQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yQ=(function(){function t(e,n,r,i){this.token=e,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,n){var r=this.bitCount,i=this.token;if(e!==this.mode){var a=rx[this.mode][e];i=th(i,a&65535,a>>16),r+=a>>16}var o=e===ea?4:5;return i=th(i,n,o),new t(i,e,0,r+o)},t.prototype.shiftAndAppend=function(e,n){var r=this.token,i=this.mode===ea?4:5;return r=th(r,K5[this.mode][e],i),r=th(r,n,5),new t(r,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var n=this.token,r=this.mode,i=this.bitCount;if(this.mode===Za||this.mode===ea){var a=rx[r][ul];n=th(n,a&65535,a>>16),i+=a>>16,r=ul}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new t(n,r,this.binaryShiftByteCount+1,i+o);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var n=this.token;return n=dQ(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(n,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var n=this.bitCount+(rx[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount},t.prototype.toBitArray=function(e){for(var n,r,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new sr;try{for(var l=mQ(i),c=l.next();!c.done;c=l.next()){var f=c.value;f.appendTo(o,e)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return o},t.prototype.toString=function(){return ut.format("%s bits=%d bytes=%d",hQ[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(pQ,ul,0,0),t})();function xQ(t){var e=ut.getCharCode(" "),n=ut.getCharCode("."),r=ut.getCharCode(",");t[ul][e]=1;for(var i=ut.getCharCode("Z"),a=ut.getCharCode("A"),o=a;o<=i;o++)t[ul][o]=o-a+2;t[Tg][e]=1;for(var l=ut.getCharCode("z"),c=ut.getCharCode("a"),o=c;o<=l;o++)t[Tg][o]=o-c+2;t[ea][e]=1;for(var f=ut.getCharCode("9"),h=ut.getCharCode("0"),o=h;o<=f;o++)t[ea][o]=o-h+2;t[ea][r]=12,t[ea][n]=13;for(var p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],v=0;v<p.length;v++)t[G5][ut.getCharCode(p[v])]=v;for(var m=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],v=0;v<m.length;v++)ut.getCharCode(m[v])>0&&(t[Za][ut.getCharCode(m[v])]=v);return t}var ix=xQ(Kn.createInt32Array(5,256)),x1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_Q=(function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=ut.getCharCode(" "),n=ut.getCharCode(`
`),r=zO.singletonList(yQ.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case ut.getCharCode("\r"):a=o===n?2:0;break;case ut.getCharCode("."):a=o===e?3:0;break;case ut.getCharCode(","):a=o===e?4:0;break;case ut.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(r=t.updateStateListForPair(r,i,a),i++):r=this.updateStateListForChar(r,i)}var l=zO.min(r,function(c,f){return c.getBitCount()-f.getBitCount()});return l.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,n){var r,i,a=[];try{for(var o=x1(e),l=o.next();!l.done;l=o.next()){var c=l.value;this.updateStateForChar(c,n,a)}}catch(f){r={error:f}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,n,r){for(var i=this.text[n]&255,a=ix[e.getMode()][i]>0,o=null,l=0;l<=Za;l++){var c=ix[l][i];if(c>0){if(o==null&&(o=e.endBinaryShift(n)),!a||l===e.getMode()||l===ea){var f=o.latchAndAppend(l,c);r.push(f)}if(!a&&K5[e.getMode()][l]>=0){var h=o.shiftAndAppend(l,c);r.push(h)}}}if(e.getBinaryShiftByteCount()>0||ix[e.getMode()][i]===0){var p=e.addBinaryShiftChar(n);r.push(p)}},t.updateStateListForPair=function(e,n,r){var i,a,o=[];try{for(var l=x1(e),c=l.next();!c.done;c=l.next()){var f=c.value;this.updateStateForPair(f,n,r,o)}}catch(h){i={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,n,r,i){var a=e.endBinaryShift(n);if(i.push(a.latchAndAppend(Za,r)),e.getMode()!==Za&&i.push(a.shiftAndAppend(Za,r)),r===3||r===4){var o=a.latchAndAppend(ea,16-r).latchAndAppend(ea,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var l=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);i.push(l)}},t.simplifyStates=function(e){var n,r,i,a,o=[];try{for(var l=x1(e),c=l.next();!c.done;c=l.next()){var f=c.value,h=!0,p=function(A){if(A.isBetterThanOrEqualTo(f))return h=!1,"break";f.isBetterThanOrEqualTo(A)&&(o=o.filter(function(S){return S!==A}))};try{for(var v=(i=void 0,x1(o)),m=v.next();!m.done;m=v.next()){var _=m.value,w=p(_);if(w==="break")break}}catch(A){i={error:A}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}h&&o.push(f)}}catch(A){n={error:A}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return o},t})(),bQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,n,r){var i=new _Q(e).encode(),a=Ye.truncDivision(i.getSize()*n,100)+11,o=i.getSize()+a,l,c,f,h,p;if(r!==t.DEFAULT_AZTEC_LAYERS){if(l=r<0,c=Math.abs(r),c>(l?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new ke(ut.format("Illegal value %s for layers",r));f=t.totalBitsInLayer(c,l),h=t.WORD_SIZE[c];var v=f-f%h;if(p=t.stuffBits(i,h),p.getSize()+a>v)throw new ke("Data to large for user specified layer");if(l&&p.getSize()>h*64)throw new ke("Data to large for user specified layer")}else{h=0,p=null;for(var m=0;;m++){if(m>t.MAX_NB_BITS)throw new ke("Data too large for an Aztec code");if(l=m<=3,c=l?m+1:m,f=t.totalBitsInLayer(c,l),!(o>f)){(p==null||h!==t.WORD_SIZE[c])&&(h=t.WORD_SIZE[c],p=t.stuffBits(i,h));var v=f-f%h;if(!(l&&p.getSize()>h*64)&&p.getSize()+a<=v)break}}}var _=t.generateCheckWords(p,f,h),w=p.getSize()/h,A=t.generateModeMessage(l,c,w),S=(l?11:14)+c*4,I=new Int32Array(S),O;if(l){O=S;for(var m=0;m<I.length;m++)I[m]=m}else{O=S+1+2*Ye.truncDivision(Ye.truncDivision(S,2)-1,15);for(var N=Ye.truncDivision(S,2),k=Ye.truncDivision(O,2),m=0;m<N;m++){var B=m+Ye.truncDivision(m,15);I[N-m-1]=k-B-1,I[N+m]=k+B+1}}for(var D=new uo(O),m=0,M=0;m<c;m++){for(var j=(c-m)*4+(l?9:12),z=0;z<j;z++)for(var F=z*2,H=0;H<2;H++)_.get(M+F+H)&&D.set(I[m*2+H],I[m*2+z]),_.get(M+j*2+F+H)&&D.set(I[m*2+z],I[S-1-m*2-H]),_.get(M+j*4+F+H)&&D.set(I[S-1-m*2-H],I[S-1-m*2-z]),_.get(M+j*6+F+H)&&D.set(I[S-1-m*2-z],I[m*2+H]);M+=j*8}if(t.drawModeMessage(D,l,O,A),l)t.drawBullsEye(D,Ye.truncDivision(O,2),5);else{t.drawBullsEye(D,Ye.truncDivision(O,2),7);for(var m=0,z=0;m<Ye.truncDivision(S,2)-1;m+=15,z+=16)for(var H=Ye.truncDivision(O,2)&1;H<O;H+=2)D.set(Ye.truncDivision(O,2)-z,H),D.set(Ye.truncDivision(O,2)+z,H),D.set(H,Ye.truncDivision(O,2)-z),D.set(H,Ye.truncDivision(O,2)+z)}var U=new sQ;return U.setCompact(l),U.setSize(O),U.setLayers(c),U.setCodeWords(w),U.setMatrix(D),U},t.drawBullsEye=function(e,n,r){for(var i=0;i<r;i+=2)for(var a=n-i;a<=n+i;a++)e.set(a,n-i),e.set(a,n+i),e.set(n-i,a),e.set(n+i,a);e.set(n-r,n-r),e.set(n-r+1,n-r),e.set(n-r,n-r+1),e.set(n+r,n-r),e.set(n+r,n-r+1),e.set(n+r,n+r-1)},t.generateModeMessage=function(e,n,r){var i=new sr;return e?(i.appendBits(n-1,2),i.appendBits(r-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(n-1,5),i.appendBits(r-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,n,r,i){var a=Ye.truncDivision(r,2);if(n)for(var o=0;o<7;o++){var l=a-3+o;i.get(o)&&e.set(l,a-5),i.get(o+7)&&e.set(a+5,l),i.get(20-o)&&e.set(l,a+5),i.get(27-o)&&e.set(a-5,l)}else for(var o=0;o<10;o++){var l=a-5+o+Ye.truncDivision(o,5);i.get(o)&&e.set(l,a-7),i.get(o+10)&&e.set(a+7,l),i.get(29-o)&&e.set(l,a+7),i.get(39-o)&&e.set(a-7,l)}},t.generateCheckWords=function(e,n,r){var i,a,o=e.getSize()/r,l=new $5(t.getGF(r)),c=Ye.truncDivision(n,r),f=t.bitsToWords(e,r,c);l.encode(f,c-o);var h=n%r,p=new sr;p.appendBits(0,h);try{for(var v=bQ(Array.from(f)),m=v.next();!m.done;m=v.next()){var _=m.value;p.appendBits(_,r)}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}return p},t.bitsToWords=function(e,n,r){var i=new Int32Array(r),a,o;for(a=0,o=e.getSize()/n;a<o;a++){for(var l=0,c=0;c<n;c++)l|=e.get(a*n+c)?1<<n-c-1:0;i[a]=l}return i},t.getGF=function(e){switch(e){case 4:return oi.AZTEC_PARAM;case 6:return oi.AZTEC_DATA_6;case 8:return oi.AZTEC_DATA_8;case 10:return oi.AZTEC_DATA_10;case 12:return oi.AZTEC_DATA_12;default:throw new ke("Unsupported word size "+e)}},t.stuffBits=function(e,n){for(var r=new sr,i=e.getSize(),a=(1<<n)-2,o=0;o<i;o+=n){for(var l=0,c=0;c<n;c++)(o+c>=i||e.get(o+c))&&(l|=1<<n-1-c);(l&a)===a?(r.appendBits(l&a,n),o--):(l&a)===0?(r.appendBits(l|1,n),o--):r.appendBits(l,n)}return r},t.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();const W5="YOUR_RAKUTEN_APP_ID_HERE",wQ="b72c14dc75bcde18fb7d3628bf7e92b7";async function EQ(t){console.log(`[商品検索] JANコード: ${t}`);try{const e=await AQ(t);if(e)return console.log("[商品検索] 楽天市場APIで商品発見"),e}catch(e){console.warn("[商品検索] 楽天市場API失敗:",e)}try{const e=await SQ(t);if(e)return console.log("[商品検索] 楽天商品APIで商品発見"),e}catch(e){console.warn("[商品検索] 楽天商品API失敗:",e)}try{const e=await CQ(t);if(e)return console.log("[商品検索] JAN Code Lookup APIで商品発見"),e}catch(e){console.warn("[商品検索] JAN Code Lookup API失敗:",e)}try{const e=await TQ(t);if(e)return console.log("[商品検索] Open Food Facts APIで商品発見"),e}catch(e){console.warn("[商品検索] Open Food Facts API失敗:",e)}return console.warn("[商品検索] すべてのAPIで商品が見つかりませんでした。モックデータを使用します。"),IQ(t)}async function AQ(t){const e=new URL("https://app.rakuten.co.jp/services/api/IchibaItem/Search/20220601");e.searchParams.set("applicationId",W5),e.searchParams.set("keyword",t),e.searchParams.set("hits","1");const n=await fetch(e.toString());if(!n.ok)return null;const r=await n.json();if(!r.Items||r.Items.length===0)return null;const i=r.Items[0].Item;return{barcode:t,name:i.itemName,price:i.itemPrice,manufacturer:i.shopName||"",imageUrl:i.mediumImageUrls?.[0]?.imageUrl||"",source:"rakuten_ichiba"}}async function SQ(t){const e=new URL("https://app.rakuten.co.jp/services/api/Product/Search/20170426");e.searchParams.set("applicationId",W5),e.searchParams.set("keyword",t),e.searchParams.set("hits","1");const n=await fetch(e.toString());if(!n.ok)return null;const r=await n.json();if(!r.Products||r.Products.length===0)return null;const i=r.Products[0].Product;return{barcode:t,name:i.productName,price:i.minPrice||0,manufacturer:i.makerName||"",imageUrl:i.mediumImageUrl||"",source:"rakuten_product"}}async function CQ(t){const e=new URL("https://api.jancodelookup.com/");e.searchParams.set("appId",wQ),e.searchParams.set("query",t),e.searchParams.set("type","code");const n=await fetch(e.toString());if(!n.ok)return null;const r=await n.json();if(!r.product||r.product.length===0)return null;const i=r.product[0];return{barcode:t,name:i.itemName||"",price:0,manufacturer:i.makerName||i.brandName||"",imageUrl:i.itemImageUrl||"",source:"jancode_lookup"}}async function TQ(t){const e=`https://world.openfoodfacts.org/api/v0/product/${t}.json`,n=await fetch(e);if(!n.ok)return null;const r=await n.json();if(r.status!==1||!r.product)return null;const i=r.product;return{barcode:t,name:i.product_name||i.product_name_ja||"",calories:i.nutriments?.["energy-kcal_100g"],price:0,manufacturer:i.brands||"",imageUrl:i.image_url||"",source:"openfoodfacts"}}function IQ(t){const n={"4902102072453":{name:"明治おいしい牛乳 900ml",price:258,calories:67,manufacturer:"明治",imageUrl:""},"4901777313989":{name:"サントリー天然水 2L",price:138,calories:0,manufacturer:"サントリー",imageUrl:""},"4902430479318":{name:"ポカリスエット 500ml",price:148,calories:125,manufacturer:"大塚製薬",imageUrl:""}}[t];return n?{barcode:t,...n,source:"mock"}:{barcode:t,name:`商品 (${t})`,price:0,manufacturer:"不明",source:"mock"}}const OQ=({onProductFound:t,onClose:e})=>{const n=T.useRef(null),[r,i]=T.useState(null),[a,o]=T.useState(null),[l,c]=T.useState(!1),f=T.useRef(null);T.useEffect(()=>(h(),()=>{p()}),[]);const h=async()=>{try{i(null);const m=new EY;f.current=m;const _=await m.listVideoInputDevices();if(_.length===0)throw new Error("カメラが見つかりません");const w=_.find(S=>{const I=S.label.toLowerCase();return I.includes("back")||I.includes("rear")||I.includes("environment")||I.includes("camera")&&I.includes("0")}),A=w?w.deviceId:_[_.length-1].deviceId;console.log("使用するカメラ:",w?w.label:_[_.length-1].label),m.decodeFromVideoDevice(A,n.current,async(S,I)=>{if(S&&!l){const O=S.getText();if(O===a)return;o(O),c(!0);try{const N=await EQ(O);N?(t(N),p()):(i(`商品情報が見つかりませんでした: ${O}`),c(!1),setTimeout(()=>{i(null),o(null)},3e3))}catch(N){console.error("商品情報取得エラー:",N),i("商品情報の取得に失敗しました"),c(!1),setTimeout(()=>{i(null),o(null)},3e3)}}I&&!(I instanceof ae)&&console.error("スキャンエラー:",I)})}catch(m){console.error("カメラ起動エラー:",m),i(m instanceof Error?m.message:"カメラの起動に失敗しました")}},p=()=>{f.current&&(f.current.reset(),f.current=null)},v=()=>{p(),e()};return b.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",zIndex:9999,display:"flex",flexDirection:"column"},children:[b.jsxs("div",{style:{padding:"16px",background:"rgba(0, 0, 0, 0.8)",color:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[b.jsx("h2",{style:{margin:0,fontSize:"1.2rem",fontWeight:600},children:"バーコードスキャン"}),b.jsx("button",{onClick:v,style:{background:"transparent",border:"none",color:"#fff",fontSize:"24px",cursor:"pointer",padding:"4px"},children:"✕"})]}),b.jsxs("div",{style:{flex:1,position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[b.jsx("video",{ref:n,style:{width:"100%",height:"100%",objectFit:"cover"}}),b.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:"300px",height:"150px",border:"2px solid #22c55e",borderRadius:"8px",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)"}}),l&&b.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0, 0, 0, 0.8)",color:"#fff",padding:"20px 32px",borderRadius:"12px",fontSize:"1rem",fontWeight:600},children:"商品情報を取得中..."}),r&&b.jsx("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(239, 68, 68, 0.95)",color:"#fff",padding:"12px 24px",borderRadius:"8px",fontSize:"0.9rem",maxWidth:"90%",textAlign:"center"},children:r})]}),b.jsx("div",{style:{padding:"16px",background:"rgba(0, 0, 0, 0.8)",color:"#fff",textAlign:"center"},children:b.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#999"},children:"バーコードを枠内に合わせてください"})})]})},RQ=({product:t,onAdded:e,onNavigateToStock:n})=>{const{addIntake:r}=go(),{addStock:i}=mo(),[a,o]=T.useState(""),[l,c]=T.useState(t.price?.toString()||""),[f,h]=T.useState("7"),p=()=>{if(!a){alert("カロリーを入力してください");return}if(!l){alert("金額を入力してください");return}r({name:t.name,calories:Number(a),price:Number(l)}),alert("食事記録に追加しました！"),e()},v=()=>{if(!f){alert("賞味期限までの日数を入力してください");return}i({name:t.name,quantity:1,daysRemaining:Number(f),price:l?Number(l):void 0}),n?(e(),setTimeout(()=>{n()},100)):(alert("在庫管理に追加しました！"),e())};return b.jsxs("div",{className:"card",children:[b.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[b.jsx(yv,{size:24,color:"#10b981"}),"商品情報を取得しました"]}),b.jsxs("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"12px",marginBottom:"20px"},children:[b.jsxs("div",{style:{marginBottom:"12px"},children:[b.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"商品名"}),b.jsx("div",{style:{fontWeight:600,fontSize:"1.05rem"},children:t.name})]}),t.manufacturer&&b.jsxs("div",{style:{marginBottom:"12px"},children:[b.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"メーカー"}),b.jsx("div",{style:{fontWeight:500},children:t.manufacturer})]}),b.jsxs("div",{style:{marginBottom:"12px"},children:[b.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"バーコード"}),b.jsx("div",{style:{fontFamily:"monospace",color:"#666"},children:t.barcode})]}),t.price&&b.jsxs("div",{children:[b.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"価格（参考）"}),b.jsxs("div",{style:{fontWeight:600,color:"var(--primary)"},children:["¥",t.price.toLocaleString()]})]}),b.jsxs("div",{style:{marginTop:"12px",padding:"8px 12px",background:t.source==="rakuten_ichiba"||t.source==="rakuten_product"?"#bf0000":t.source==="jancode_lookup"?"#3b82f6":"#10b981",color:"#fff",borderRadius:"6px",fontSize:"0.75rem",fontWeight:500,display:"inline-block"},children:[t.source==="rakuten_ichiba"&&"楽天市場",t.source==="rakuten_product"&&"楽天商品検索",t.source==="jancode_lookup"&&"JAN Code Lookup",t.source==="openfoodfacts"&&"Open Food Facts",t.source==="mock"&&"モックデータ"]})]}),b.jsxs("div",{style:{marginBottom:"24px"},children:[b.jsxs("h4",{style:{marginBottom:"12px",fontSize:"1rem",display:"flex",alignItems:"center",gap:"6px"},children:[b.jsx(_w,{size:18}),"食事記録に追加"]}),b.jsx("label",{children:"カロリー (kcal)"}),b.jsx("input",{type:"number",value:a,onChange:m=>o(m.target.value),placeholder:"例: 200"}),b.jsx("label",{children:"金額 (円)"}),b.jsx("input",{type:"number",value:l,onChange:m=>c(m.target.value),placeholder:"例: 150"}),b.jsx("button",{className:"submit",onClick:p,style:{background:"#3b82f6"},children:"食事記録に追加"})]}),b.jsxs("div",{children:[b.jsxs("h4",{style:{marginBottom:"12px",fontSize:"1rem",display:"flex",alignItems:"center",gap:"6px"},children:[b.jsx(af,{size:18}),"在庫管理に追加"]}),b.jsx("label",{children:"賞味期限までの日数"}),b.jsx("input",{type:"number",value:f,onChange:m=>h(m.target.value),placeholder:"例: 7"}),b.jsx("button",{className:"submit",onClick:v,style:{background:"#10b981"},children:n?"在庫管理に追加して画面移動":"在庫管理に追加"})]}),b.jsx("button",{onClick:e,style:{marginTop:"16px",width:"100%",padding:"12px",background:"transparent",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",color:"#666"},children:"キャンセル"})]})},PQ=({onReceiptScanned:t,onClose:e})=>{const n=T.useRef(null),r=T.useRef(null),i=T.useRef(null),[a,o]=T.useState(!1),[l,c]=T.useState(null),[f,h]=T.useState(null),p=async()=>{try{const w=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});n.current&&(n.current.srcObject=w,h(w))}catch(w){console.error("カメラアクセスエラー:",w),c("カメラにアクセスできません。ファイル選択をお試しください。")}};kr.useEffect(()=>(p(),()=>{f&&f.getTracks().forEach(w=>w.stop())}),[]);const v=async()=>{if(!(!n.current||!r.current)){o(!0),c(null);try{const w=n.current,A=r.current,S=A.getContext("2d");if(!S)throw new Error("Canvas context が取得できません");A.width=w.videoWidth,A.height=w.videoHeight,S.drawImage(w,0,0);const I=await new Promise((k,B)=>{A.toBlob(D=>{D?k(D):B(new Error("Blob変換に失敗しました"))},"image/jpeg",.95)}),O=new File([I],"receipt.jpg",{type:"image/jpeg"}),N=await sO(O);f&&f.getTracks().forEach(k=>k.stop()),t(N)}catch(w){console.error("OCRエラー:",w),c(w.message||"レシートの読み取りに失敗しました")}finally{o(!1)}}},m=async w=>{const A=w.target.files?.[0];if(A){o(!0),c(null);try{const S=await sO(A);f&&f.getTracks().forEach(I=>I.stop()),t(S)}catch(S){console.error("OCRエラー:",S),c(S.message||"レシートの読み取りに失敗しました")}finally{o(!1)}}},_=()=>{f&&f.getTracks().forEach(w=>w.stop()),e()};return b.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",zIndex:1e3,display:"flex",flexDirection:"column"},children:[b.jsxs("div",{style:{background:"rgba(0,0,0,0.8)",padding:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[b.jsx("h3",{style:{color:"white",margin:0},children:"レシートをスキャン"}),b.jsx("button",{onClick:_,style:{background:"transparent",border:"none",color:"white",cursor:"pointer",padding:"8px"},disabled:a,children:b.jsx(_v,{size:24})})]}),b.jsxs("div",{style:{flex:1,position:"relative",overflow:"hidden"},children:[b.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"}}),b.jsx("canvas",{ref:r,style:{display:"none"}}),b.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"60%",border:"2px dashed rgba(255, 255, 255, 0.8)",borderRadius:"8px",pointerEvents:"none"},children:b.jsx("div",{style:{position:"absolute",top:"-30px",left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.7)",color:"white",padding:"8px 16px",borderRadius:"4px",fontSize:"14px",whiteSpace:"nowrap"},children:"レシートを枠内に収めてください"})}),l&&b.jsx("div",{style:{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",background:"#ef4444",color:"white",padding:"12px 20px",borderRadius:"8px",maxWidth:"80%",textAlign:"center"},children:l})]}),b.jsxs("div",{style:{background:"rgba(0,0,0,0.8)",padding:"20px",display:"flex",justifyContent:"center",gap:"16px"},children:[b.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:m,style:{display:"none"}}),b.jsxs("button",{onClick:()=>i.current?.click(),disabled:a,style:{background:"#6366f1",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",gap:"8px",opacity:a?.5:1},children:[b.jsx(ZB,{size:20}),"ファイル選択"]}),b.jsx("button",{onClick:v,disabled:a,style:{background:"#10b981",color:"white",border:"none",padding:"16px 32px",borderRadius:"50%",cursor:"pointer",fontSize:"18px",fontWeight:"bold",opacity:a?.5:1,width:"80px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center"},children:a?"...":b.jsx(xw,{size:32})})]})]})},DQ=({result:t,onClose:e})=>{const{addExpense:n}=vo(),[r,i]=T.useState(t.items),[a,o]=T.useState(null),[l,c]=T.useState(""),[f,h]=T.useState(""),p=r.reduce((O,N)=>O+N.price*(N.quantity||1),0),v=O=>{const N=r[O];o(O),c(N.name),h(N.price.toString())},m=()=>{if(a===null)return;const O=parseInt(f,10);if(isNaN(O)||O<=0){alert("正しい金額を入力してください");return}const N=[...r];N[a]={...N[a],name:l.trim(),price:O},i(N),o(null),c(""),h("")},_=()=>{o(null),c(""),h("")},w=O=>{if(window.confirm("この商品を削除しますか？")){const N=r.filter((k,B)=>B!==O);i(N)}},A=()=>{const O=window.prompt("商品名を入力してください");if(!O||!O.trim())return;const N=window.prompt("金額を入力してください");if(!N)return;const k=parseInt(N,10);if(isNaN(k)||k<=0){alert("正しい金額を入力してください");return}i([...r,{name:O.trim(),price:k,quantity:1}])},S=()=>{if(r.length===0){alert("商品が1つもありません");return}if(!window.confirm(`${r.length}個の商品を家計簿に登録しますか？
合計金額: ¥${p.toLocaleString()}`))return;const O=new Date().toISOString();r.forEach(N=>{const k=N.quantity||1;for(let B=0;B<k;B++)n({category:"food",amount:N.price,memo:N.name,date:t.date||O})}),alert("家計簿に登録しました！"),e()},I=O=>new Intl.NumberFormat("ja-JP").format(O);return b.jsxs("div",{className:"card",children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[b.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",margin:0},children:[b.jsx(ZP,{size:20}),"レシート内容"]}),b.jsxs("button",{onClick:A,style:{background:"#10b981",color:"white",border:"none",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"4px"},children:[b.jsx(nD,{size:18}),"追加"]})]}),b.jsxs("div",{style:{background:"var(--background)",padding:"12px",borderRadius:"8px",marginBottom:"16px",fontSize:"14px"},children:[t.storeName&&b.jsxs("div",{style:{marginBottom:"4px"},children:[b.jsx("strong",{children:"店舗:"})," ",t.storeName]}),t.date&&b.jsxs("div",{children:[b.jsx("strong",{children:"日付:"})," ",t.date]})]}),r.length===0?b.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:"商品が検出されませんでした。「追加」ボタンから手動で追加してください。"}):b.jsx("div",{style:{marginBottom:"16px"},children:r.map((O,N)=>b.jsx("div",{style:{padding:"12px",borderBottom:N<r.length-1?"1px solid var(--border)":"none",display:"flex",justifyContent:"space-between",alignItems:"center"},children:a===N?b.jsxs("div",{style:{flex:1,display:"flex",gap:"8px",alignItems:"center"},children:[b.jsx("input",{value:l,onChange:k=>c(k.target.value),placeholder:"商品名",style:{flex:1,padding:"6px 8px",borderRadius:"4px",border:"1px solid var(--border)",fontSize:"14px"}}),b.jsx("input",{value:f,onChange:k=>h(k.target.value),type:"number",placeholder:"金額",style:{width:"80px",padding:"6px 8px",borderRadius:"4px",border:"1px solid var(--border)",fontSize:"14px"}}),b.jsx("button",{onClick:m,style:{background:"#10b981",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:b.jsx(rD,{size:16})}),b.jsx("button",{onClick:_,style:{background:"#6b7280",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"×"})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{style:{flex:1},children:[b.jsx("div",{style:{fontWeight:500,marginBottom:"4px"},children:O.name}),O.quantity&&O.quantity>1&&b.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:["数量: ",O.quantity,"個"]})]}),b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[b.jsxs("span",{style:{fontSize:"16px",fontWeight:"bold",color:"var(--danger)"},children:["¥",I(O.price*(O.quantity||1))]}),b.jsx("button",{onClick:()=>v(N),style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",color:"var(--primary)"},children:b.jsx(QB,{size:18})}),b.jsx("button",{onClick:()=>w(N),style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",color:"#ef4444"},children:b.jsx(Qh,{size:18})})]})]})},N))}),b.jsxs("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"8px",marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[b.jsx("span",{style:{fontSize:"16px",fontWeight:"bold"},children:"合計"}),b.jsxs("span",{style:{fontSize:"24px",fontWeight:"bold",color:"var(--danger)"},children:["¥",I(p)]})]}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[b.jsx("button",{onClick:e,style:{background:"var(--border)",color:"var(--text)",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500},children:"キャンセル"}),b.jsx("button",{onClick:S,className:"submit",disabled:r.length===0,style:{opacity:r.length===0?.5:1},children:"家計簿に登録"})]}),b.jsxs("details",{style:{marginTop:"16px"},children:[b.jsx("summary",{style:{cursor:"pointer",fontSize:"12px",color:"var(--text-secondary)"},children:"OCR生テキストを表示"}),b.jsx("pre",{style:{marginTop:"8px",padding:"12px",background:"var(--background)",borderRadius:"4px",fontSize:"11px",overflow:"auto",maxHeight:"200px",whiteSpace:"pre-wrap"},children:t.rawText})]})]})},NQ=({onNavigateToStock:t})=>{const[e,n]=T.useState("select"),[r,i]=T.useState(!1),[a,o]=T.useState(null),[l,c]=T.useState(null),f=()=>{n("barcode"),i(!0),o(null)},h=()=>{n("receipt"),i(!0),c(null)},p=A=>{o(A),i(!1)},v=A=>{c(A),i(!1)},m=()=>{o(null),n("select")},_=()=>{c(null),n("select")},w=()=>{n("select"),i(!1),o(null),c(null)};return b.jsxs("section",{className:"screen active",children:[b.jsx("h2",{children:"スキャン"}),e==="select"&&!r&&!a&&!l&&b.jsx(b.Fragment,{children:b.jsxs("div",{className:"card",children:[b.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[b.jsx(xw,{size:20}),"スキャンモードを選択"]}),b.jsx("p",{style:{color:"#666",marginBottom:"20px",lineHeight:"1.6"},children:"バーコードまたはレシートをスキャンできます"}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[b.jsxs("button",{onClick:f,style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",padding:"24px 16px",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",fontWeight:500,fontSize:"16px"},children:[b.jsx(KB,{size:48}),b.jsx("span",{children:"バーコード"}),b.jsx("span",{style:{fontSize:"12px",opacity:.9},children:"JANコード"})]}),b.jsxs("button",{onClick:h,style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",border:"none",padding:"24px 16px",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",fontWeight:500,fontSize:"16px"},children:[b.jsx(ZP,{size:48}),b.jsx("span",{children:"レシート"}),b.jsx("span",{style:{fontSize:"12px",opacity:.9},children:"OCR読み取り"})]})]})]})}),e==="barcode"&&r&&b.jsx(OQ,{onProductFound:p,onClose:w}),e==="barcode"&&a&&b.jsx(RQ,{product:a,onAdded:m,onNavigateToStock:t}),e==="receipt"&&r&&b.jsx(PQ,{onReceiptScanned:v,onClose:w}),e==="receipt"&&l&&b.jsx(DQ,{result:l,onClose:_})]})};function HO(t,e,n){return t.filter(r=>{const i=new Date(r.date);return i.getFullYear()===e&&i.getMonth()+1===n})}function $O(t,e,n,r){const i=HO(n,t,e),a=HO(r,t,e),o=i.reduce((h,p)=>h+p.calories,0),l=i.reduce((h,p)=>h+(p.price||0),0),c=a.reduce((h,p)=>h+p.amount,0),f={};return a.forEach(h=>{f[h.category]=(f[h.category]||0)+h.amount}),{year:t,month:e,intakes:{count:i.length,totalCalories:o,avgCalories:i.length>0?o/i.length:0,totalPrice:l},expenses:{count:a.length,total:c,byCategory:f}}}function MQ(t,e,n,r){const i=$O(t,e,n,r);let a=t,o=e-1;o===0&&(o=12,a-=1);const l=$O(a,o,n,r),c=(f,h)=>h===0?f>0?100:0:(f-h)/h*100;return{current:i,previous:l,changes:{intakesCount:c(i.intakes.count,l.intakes.count),totalCalories:c(i.intakes.totalCalories,l.intakes.totalCalories),avgCalories:c(i.intakes.avgCalories,l.intakes.avgCalories),totalExpenses:c(i.expenses.total,l.expenses.total)}}}function kQ(t){const{current:e,previous:n,changes:r}=t;return`以下のユーザーの月次健康・家計データを分析し、3〜5つの具体的な改善提案をしてください。

【今月のデータ（${e.year}年${e.month}月）】
- 食事記録: ${e.intakes.count}回
- 総カロリー: ${e.intakes.totalCalories.toLocaleString()}kcal
- 平均カロリー: ${Math.round(e.intakes.avgCalories)}kcal/食
- 食費: ¥${e.intakes.totalPrice.toLocaleString()}
- 総支出: ¥${e.expenses.total.toLocaleString()}

【先月のデータ（${n.year}年${n.month}月）】
- 食事記録: ${n.intakes.count}回
- 総カロリー: ${n.intakes.totalCalories.toLocaleString()}kcal
- 平均カロリー: ${Math.round(n.intakes.avgCalories)}kcal/食
- 総支出: ¥${n.expenses.total.toLocaleString()}

【先月比の変化】
- 食事記録回数: ${r.intakesCount>0?"+":""}${r.intakesCount.toFixed(1)}%
- 総カロリー: ${r.totalCalories>0?"+":""}${r.totalCalories.toFixed(1)}%
- 平均カロリー: ${r.avgCalories>0?"+":""}${r.avgCalories.toFixed(1)}%
- 総支出: ${r.totalExpenses>0?"+":""}${r.totalExpenses.toFixed(1)}%

【お願い】
1. データの傾向を簡潔に分析してください
2. 健康面での改善提案を2〜3点
3. 家計面での改善提案を1〜2点
4. 具体的で実行可能なアドバイスをお願いします
5. 日本語で、親しみやすくわかりやすい表現で回答してください`}function jQ(){const{intakes:t}=go(),{expenses:e}=vo(),n=new Date,[r,i]=T.useState(n.getFullYear()),[a,o]=T.useState(n.getMonth()+1),[l,c]=T.useState(null),[f,h]=T.useState(""),[p,v]=T.useState(!1);T.useEffect(()=>{const N=MQ(r,a,t,e);c(N)},[r,a,t,e]);const m=async()=>{if(l){v(!0);try{const N=kQ(l),k=await OK(N);h(k)}catch(N){console.error("AI提案生成エラー:",N),alert("AI提案の生成に失敗しました")}finally{v(!1)}}},_=()=>{a===1?(i(r-1),o(12)):o(a-1),h("")},w=()=>{a===12?(i(r+1),o(1)):o(a+1),h("")},A=N=>{if(N===0)return b.jsx("span",{className:"change-neutral",children:"±0%"});const k=N>0?b.jsx(JP,{}):b.jsx(qB,{}),B=N>0?"change-up":"change-down";return b.jsxs("span",{className:`change ${B}`,children:[k," ",N>0?"+":"",N.toFixed(1),"%"]})};if(!l)return b.jsx("div",{className:"card",children:"データを読み込み中..."});const{current:S,previous:I,changes:O}=l;return b.jsx("div",{className:"monthly-report",children:b.jsxs("div",{className:"card",children:[b.jsxs("div",{className:"report-header",children:[b.jsx("h3",{children:"📊 月次レポート"}),b.jsxs("div",{className:"month-selector",children:[b.jsx("button",{className:"month-nav-btn",onClick:_,children:"◀"}),b.jsxs("span",{className:"current-month",children:[r,"年",a,"月"]}),b.jsx("button",{className:"month-nav-btn",onClick:w,children:"▶"})]})]}),b.jsxs("div",{className:"report-section",children:[b.jsx("h4",{children:"今月の記録"}),b.jsxs("div",{className:"stats-grid",children:[b.jsxs("div",{className:"stat-item",children:[b.jsx("div",{className:"stat-label",children:"食事記録"}),b.jsxs("div",{className:"stat-value",children:[S.intakes.count,"回"]}),A(O.intakesCount)]}),b.jsxs("div",{className:"stat-item",children:[b.jsx("div",{className:"stat-label",children:"平均カロリー"}),b.jsxs("div",{className:"stat-value",children:[Math.round(S.intakes.avgCalories),"kcal"]}),A(O.avgCalories)]}),b.jsxs("div",{className:"stat-item",children:[b.jsx("div",{className:"stat-label",children:"総カロリー"}),b.jsxs("div",{className:"stat-value",children:[S.intakes.totalCalories.toLocaleString(),"kcal"]}),A(O.totalCalories)]}),b.jsxs("div",{className:"stat-item",children:[b.jsx("div",{className:"stat-label",children:"総支出"}),b.jsxs("div",{className:"stat-value",children:["¥",S.expenses.total.toLocaleString()]}),A(O.totalExpenses)]})]})]}),b.jsxs("div",{className:"report-section",children:[b.jsxs("h4",{children:["先月（",I.year,"年",I.month,"月）との比較"]}),b.jsxs("div",{className:"comparison-grid",children:[b.jsxs("div",{className:"comparison-item",children:[b.jsx("div",{className:"comparison-label",children:"食事記録"}),b.jsxs("div",{className:"comparison-values",children:[b.jsxs("span",{className:"prev-value",children:[I.intakes.count,"回"]}),b.jsx(k2,{}),b.jsxs("span",{className:"curr-value",children:[S.intakes.count,"回"]})]})]}),b.jsxs("div",{className:"comparison-item",children:[b.jsx("div",{className:"comparison-label",children:"平均カロリー"}),b.jsxs("div",{className:"comparison-values",children:[b.jsxs("span",{className:"prev-value",children:[Math.round(I.intakes.avgCalories),"kcal"]}),b.jsx(k2,{}),b.jsxs("span",{className:"curr-value",children:[Math.round(S.intakes.avgCalories),"kcal"]})]})]}),b.jsxs("div",{className:"comparison-item",children:[b.jsx("div",{className:"comparison-label",children:"総支出"}),b.jsxs("div",{className:"comparison-values",children:[b.jsxs("span",{className:"prev-value",children:["¥",I.expenses.total.toLocaleString()]}),b.jsx(k2,{}),b.jsxs("span",{className:"curr-value",children:["¥",S.expenses.total.toLocaleString()]})]})]})]})]}),b.jsxs("div",{className:"report-section",children:[b.jsxs("h4",{children:[b.jsx(tg,{size:20,style:{marginRight:"8px"}}),"AI改善提案"]}),f?b.jsxs("div",{className:"ai-suggestions",children:[b.jsx("div",{className:"suggestions-content",children:f}),b.jsx("button",{className:"submit",onClick:m,disabled:p,style:{marginTop:"12px"},children:"再生成"})]}):b.jsx("button",{className:"submit",onClick:m,disabled:p||S.intakes.count===0,style:{width:"100%"},children:p?"提案を生成中...":"AI改善提案を生成"}),S.intakes.count===0&&b.jsx("p",{className:"no-data-message",children:"データがありません。食事記録を追加してください。"})]})]})})}function X5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=X5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function vt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=X5(t))&&(r&&(r+=" "),r+=e);return r}var ax={},ox={},qO;function LQ(){return qO||(qO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(ox)),ox}var sx={},GO;function Y5(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(sx)),sx}var lx={},KO;function ME(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(lx)),lx}var ux={},cx={},WO;function BQ(){return WO||(WO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(cx)),cx}var XO;function kE(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BQ(),n=ME();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,c="",f="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const p=i[l];f?p==="\\"&&l+1<o?(l++,c+=i[l]):p===f?f="":c+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,a.push(c),c=""):c+=p:p==="["?(h=!0,c&&(a.push(c),c="")):p==="."?c&&(a.push(c),c=""):c+=p,l++}return c&&a.push(c),a}t.toPath=r})(ux)),ux}var YO;function jE(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LQ(),n=Y5(),r=ME(),i=kE();function a(l,c,f){if(l==null)return f;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return f;const h=l[c];return h===void 0?n.isDeepKey(c)?a(l,i.toPath(c),f):f:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=l[c];return h===void 0?f:h}default:{if(Array.isArray(c))return o(l,c,f);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return f;const h=l[c];return h===void 0?f:h}}}function o(l,c,f){if(c.length===0)return f;let h=l;for(let p=0;p<c.length;p++){if(h==null||e.isUnsafeProperty(c[p]))return f;h=h[c[p]]}return h===void 0?f:h}t.get=a})(ax)),ax}var fx,QO;function FQ(){return QO||(QO=1,fx=jE().get),fx}var VQ=FQ();const Vu=ho(VQ);var dx={exports:{}},Bt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZO;function UQ(){if(ZO)return Bt;ZO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function _(w){if(typeof w=="object"&&w!==null){var A=w.$$typeof;switch(A){case t:switch(w=w.type,w){case n:case i:case r:case c:case f:case v:return w;default:switch(w=w&&w.$$typeof,w){case o:case l:case p:case h:return w;case a:return w;default:return A}}case e:return A}}}return Bt.ContextConsumer=a,Bt.ContextProvider=o,Bt.Element=t,Bt.ForwardRef=l,Bt.Fragment=n,Bt.Lazy=p,Bt.Memo=h,Bt.Portal=e,Bt.Profiler=i,Bt.StrictMode=r,Bt.Suspense=c,Bt.SuspenseList=f,Bt.isContextConsumer=function(w){return _(w)===a},Bt.isContextProvider=function(w){return _(w)===o},Bt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},Bt.isForwardRef=function(w){return _(w)===l},Bt.isFragment=function(w){return _(w)===n},Bt.isLazy=function(w){return _(w)===p},Bt.isMemo=function(w){return _(w)===h},Bt.isPortal=function(w){return _(w)===e},Bt.isProfiler=function(w){return _(w)===i},Bt.isStrictMode=function(w){return _(w)===r},Bt.isSuspense=function(w){return _(w)===c},Bt.isSuspenseList=function(w){return _(w)===f},Bt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===c||w===f||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===h||w.$$typeof===o||w.$$typeof===a||w.$$typeof===l||w.$$typeof===m||w.getModuleId!==void 0)},Bt.typeOf=_,Bt}var JO;function zQ(){return JO||(JO=1,dx.exports=UQ()),dx.exports}var HQ=zQ(),lr=t=>t===0?0:t>0?1:-1,Ri=t=>typeof t=="number"&&t!=+t,bu=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Re=t=>(typeof t=="number"||t instanceof Number)&&!Ri(t),co=t=>Re(t)||typeof t=="string",$Q=0,Vh=t=>{var e=++$Q;return"".concat(t||"").concat(e)},jr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Re(e)&&typeof e!="string")return r;var a;if(bu(e)){if(n==null)return r;var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Ri(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},Q5=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function dn(t,e,n){return Re(t)&&Re(e)?t+n*(e-t):e}function Z5(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Vu(r,e))===n)}var rn=t=>t===null||typeof t>"u",d0=t=>rn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),qQ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function LE(t){if(typeof t!="string")return!1;var e=qQ;return e.includes(t)}var GQ=["viewBox","children"],e6=["points","pathLength"],hx={svg:GQ,polygon:e6,polyline:e6},BE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{LE(i)&&(r[i]=(a=>n[i](n,a)))}),r},KQ=(t,e,n)=>r=>(t(e,n,r),null),h0=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];LE(i)&&typeof a=="function"&&(r||(r={}),r[i]=KQ(a,e,n))}),r},WQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function J5(t){if(typeof t!="string")return!1;var e=WQ;return e.includes(t)}function yo(t){var e=Object.entries(t).filter(n=>{var[r]=n;return J5(r)});return Object.fromEntries(e)}var t6=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",n6=null,px=null,eM=t=>{if(t===n6&&Array.isArray(px))return px;var e=[];return T.Children.forEach(t,n=>{rn(n)||(HQ.isFragment(n)?e=e.concat(eM(n.props.children)):e.push(n))}),px=e,n6=t,e};function FE(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>t6(i)):r=[t6(e)],eM(t).forEach(i=>{var a=Vu(i,"type.displayName")||Vu(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var tM=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,XQ=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=r&&hx?.[r])!==null&&i!==void 0?i:[],o=e.startsWith("data-"),l=typeof t!="function"&&(!!r&&a.includes(e)||J5(e)),c=!!n&&LE(e);return o||l||c},ln=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(T.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var o;XQ((o=r)===null||o===void 0?void 0:o[a],a,e,n)&&(i[a]=r[a])}),i},YQ=["children","width","height","viewBox","className","style","title","desc"];function Sb(){return Sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sb.apply(null,arguments)}function QQ(t,e){if(t==null)return{};var n,r,i=ZQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ZQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var VE=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:l,title:c,desc:f}=t,h=QQ(t,YQ),p=a||{width:r,height:i,x:0,y:0},v=vt("recharts-surface",o);return T.createElement("svg",Sb({},ln(h,!0,"svg"),{className:v,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),T.createElement("title",null,c),T.createElement("desc",null,f),n)}),JQ=["children","className"];function Cb(){return Cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cb.apply(null,arguments)}function eZ(t,e){if(t==null)return{};var n,r,i=tZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cr=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=eZ(t,JQ),a=vt("recharts-layer",r);return T.createElement("g",Cb({className:a},ln(i,!0),{ref:e}),n)}),nM=XP(),rM=T.createContext(null),nZ=()=>T.useContext(rM);function zt(t){return function(){return t}}const iM=Math.cos,Ig=Math.sin,Oa=Math.sqrt,Og=Math.PI,Yv=2*Og,Tb=Math.PI,Ib=2*Tb,gu=1e-6,rZ=Ib-gu;function aM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function iZ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return aM;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class aZ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?aM:iZ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=r-e,f=i-n,h=o-e,p=l-n,v=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>gu)if(!(Math.abs(p*c-f*h)>gu)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,_=i-l,w=c*c+f*f,A=m*m+_*_,S=Math.sqrt(w),I=Math.sqrt(v),O=a*Math.tan((Tb-Math.acos((w+v-A)/(2*S*I)))/2),N=O/I,k=O/S;Math.abs(N-1)>gu&&this._append`L${e+N*h},${n+N*p}`,this._append`A${a},${a},0,0,${+(p*m>h*_)},${this._x1=e+k*c},${this._y1=n+k*f}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),f=e+l,h=n+c,p=1^o,v=o?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>gu||Math.abs(this._y1-h)>gu)&&this._append`L${f},${h}`,r&&(v<0&&(v=v%Ib+Ib),v>rZ?this._append`A${r},${r},0,1,${p},${e-l},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:v>gu&&this._append`A${r},${r},0,${+(v>=Tb)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function UE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new aZ(e)}function zE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function oM(t){this._context=t}oM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Qv(t){return new oM(t)}function sM(t){return t[0]}function lM(t){return t[1]}function uM(t,e){var n=zt(!0),r=null,i=Qv,a=null,o=UE(l);t=typeof t=="function"?t:t===void 0?sM:zt(t),e=typeof e=="function"?e:e===void 0?lM:zt(e);function l(c){var f,h=(c=zE(c)).length,p,v=!1,m;for(r==null&&(a=i(m=o())),f=0;f<=h;++f)!(f<h&&n(p=c[f],f,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(p,f,c),+e(p,f,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:zt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:zt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:zt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function _1(t,e,n){var r=null,i=zt(!0),a=null,o=Qv,l=null,c=UE(f);t=typeof t=="function"?t:t===void 0?sM:zt(+t),e=typeof e=="function"?e:zt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?lM:zt(+n);function f(p){var v,m,_,w=(p=zE(p)).length,A,S=!1,I,O=new Array(w),N=new Array(w);for(a==null&&(l=o(I=c())),v=0;v<=w;++v){if(!(v<w&&i(A=p[v],v,p))===S)if(S=!S)m=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),_=v-1;_>=m;--_)l.point(O[_],N[_]);l.lineEnd(),l.areaEnd()}S&&(O[v]=+t(A,v,p),N[v]=+e(A,v,p),l.point(r?+r(A,v,p):O[v],n?+n(A,v,p):N[v]))}if(I)return l=null,I+""||null}function h(){return uM().defined(i).curve(o).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:zt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:zt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:zt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:zt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:zt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:zt(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:zt(!!p),f):i},f.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),f):o},f.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),f):a},f}class cM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function oZ(t){return new cM(t,!0)}function sZ(t){return new cM(t,!1)}const HE={draw(t,e){const n=Oa(e/Og);t.moveTo(n,0),t.arc(0,0,n,0,Yv)}},lZ={draw(t,e){const n=Oa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},fM=Oa(1/3),uZ=fM*2,cZ={draw(t,e){const n=Oa(e/uZ),r=n*fM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},fZ={draw(t,e){const n=Oa(e),r=-n/2;t.rect(r,r,n,n)}},dZ=.8908130915292852,dM=Ig(Og/10)/Ig(7*Og/10),hZ=Ig(Yv/10)*dM,pZ=-iM(Yv/10)*dM,gZ={draw(t,e){const n=Oa(e*dZ),r=hZ*n,i=pZ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Yv*a/5,l=iM(o),c=Ig(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},gx=Oa(3),vZ={draw(t,e){const n=-Oa(e/(gx*3));t.moveTo(0,n*2),t.lineTo(-gx*n,-n),t.lineTo(gx*n,-n),t.closePath()}},Ki=-.5,Wi=Oa(3)/2,Ob=1/Oa(12),mZ=(Ob/2+1)*3,yZ={draw(t,e){const n=Oa(e/mZ),r=n/2,i=n*Ob,a=r,o=n*Ob+n,l=-a,c=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(Ki*r-Wi*i,Wi*r+Ki*i),t.lineTo(Ki*a-Wi*o,Wi*a+Ki*o),t.lineTo(Ki*l-Wi*c,Wi*l+Ki*c),t.lineTo(Ki*r+Wi*i,Ki*i-Wi*r),t.lineTo(Ki*a+Wi*o,Ki*o-Wi*a),t.lineTo(Ki*l+Wi*c,Ki*c-Wi*l),t.closePath()}};function xZ(t,e){let n=null,r=UE(i);t=typeof t=="function"?t:zt(t||HE),e=typeof e=="function"?e:zt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:zt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:zt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Rg(){}function Pg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function hM(t){this._context=t}hM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Pg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Pg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _Z(t){return new hM(t)}function pM(t){this._context=t}pM.prototype={areaStart:Rg,areaEnd:Rg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Pg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bZ(t){return new pM(t)}function gM(t){this._context=t}gM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Pg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wZ(t){return new gM(t)}function vM(t){this._context=t}vM.prototype={areaStart:Rg,areaEnd:Rg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function EZ(t){return new vM(t)}function r6(t){return t<0?-1:1}function i6(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(r6(a)+r6(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function a6(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function vx(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,o-l*n,a,o)}function Dg(t){this._context=t}Dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vx(this,this._t0,a6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,vx(this,a6(this,n=i6(this,t,e)),n);break;default:vx(this,this._t0,n=i6(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function mM(t){this._context=new yM(t)}(mM.prototype=Object.create(Dg.prototype)).point=function(t,e){Dg.prototype.point.call(this,e,t)};function yM(t){this._context=t}yM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function AZ(t){return new Dg(t)}function SZ(t){return new mM(t)}function xM(t){this._context=t}xM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=o6(t),i=o6(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function o6(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function CZ(t){return new xM(t)}function Zv(t,e){this._context=t,this._t=e}Zv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function TZ(t){return new Zv(t,.5)}function IZ(t){return new Zv(t,0)}function OZ(t){return new Zv(t,1)}function gf(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,l=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Rb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function RZ(t,e){return t[e]}function PZ(t){const e=[];return e.key=t,e}function DZ(){var t=zt([]),e=Rb,n=gf,r=RZ;function i(a){var o=Array.from(t.apply(this,arguments),PZ),l,c=o.length,f=-1,h;for(const p of a)for(l=0,++f;l<c;++l)(o[l][f]=[0,+r(p,o[l].key,f,a)]).data=p;for(l=0,h=zE(e(o));l<c;++l)o[h[l]].index=l;return n(o,h),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:zt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:zt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Rb:typeof a=="function"?a:zt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??gf,i):n},i}function NZ(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}gf(t,e)}}function MZ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}gf(t,e)}}function kZ(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,c=0,f=0;l<o;++l){for(var h=t[e[l]],p=h[r][1]||0,v=h[r-1][1]||0,m=(p-v)/2,_=0;_<l;++_){var w=t[e[_]],A=w[r][1]||0,S=w[r-1][1]||0;m+=A-S}c+=p,f+=m*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,gf(t,e)}}var jZ=["type","size","sizeType"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pb.apply(null,arguments)}function s6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s6(Object(n),!0).forEach(function(r){LZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LZ(t,e,n){return(e=BZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BZ(t){var e=FZ(t,"string");return typeof e=="symbol"?e:e+""}function FZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VZ(t,e){if(t==null)return{};var n,r,i=UZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function UZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _M={symbolCircle:HE,symbolCross:lZ,symbolDiamond:cZ,symbolSquare:fZ,symbolStar:gZ,symbolTriangle:vZ,symbolWye:yZ},zZ=Math.PI/180,HZ=t=>{var e="symbol".concat(d0(t));return _M[e]||HE},$Z=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*zZ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},qZ=(t,e)=>{_M["symbol".concat(d0(t))]=e},$E=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=VZ(t,jZ),a=l6(l6({},i),{},{type:e,size:n,sizeType:r}),o="circle";typeof e=="string"&&(o=e);var l=()=>{var v=HZ(o),m=xZ().type(v).size($Z(n,r,o));return m()},{className:c,cx:f,cy:h}=a,p=ln(a,!0);return f===+f&&h===+h&&n===+n?T.createElement("path",Pb({},p,{className:vt("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(h,")"),d:l()})):null};$E.registerSymbol=qZ;function Db(){return Db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Db.apply(null,arguments)}function u6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u6(Object(n),!0).forEach(function(r){qE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qE(t,e,n){return(e=KZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KZ(t){var e=WZ(t,"string");return typeof e=="symbol"?e:e+""}function WZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xi=32;class GE extends T.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=Xi/2,a=Xi/6,o=Xi/3,l=e.inactive?r:e.color,c=n??e.type;if(c==="none")return null;if(c==="plainline")return T.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Xi,y2:i,className:"recharts-legend-icon"});if(c==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Xi,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return T.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Xi/8,"h").concat(Xi,"v").concat(Xi*3/4,"h").concat(-Xi,"z"),className:"recharts-legend-icon"});if(T.isValidElement(e.legendIcon)){var f=GZ({},e);return delete f.legendIcon,T.cloneElement(e.legendIcon,f)}return T.createElement($E,{fill:l,cx:i,cy:i,size:Xi,sizeType:"diameter",type:c})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=this.props,l={x:0,y:0,width:Xi,height:Xi},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,p)=>{var v=h.formatter||i,m=vt({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var _=h.inactive?a:h.color,w=v?v(h.value,h,p):h.value;return T.createElement("li",Db({className:m,style:c,key:"legend-item-".concat(p)},h0(this.props,h,p)),T.createElement(VE,{width:n,height:n,viewBox:l,style:f,"aria-label":"".concat(w," legend icon")},this.renderIcon(h,o)),T.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},w))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}qE(GE,"displayName","Legend");qE(GE,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var mx={},yx={},c6;function XZ(){return c6||(c6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],l=r(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}t.uniqBy=e})(yx)),yx}var xx={},f6;function bM(){return f6||(f6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(xx)),xx}var _x={},bx={},wx={},d6;function YZ(){return d6||(d6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(wx)),wx}var h6;function KE(){return h6||(h6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YZ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(bx)),bx}var Ex={},p6;function QZ(){return p6||(p6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Ex)),Ex}var g6;function ZZ(){return g6||(g6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KE(),n=QZ();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(_x)),_x}var Ax={},Sx={},v6;function JZ(){return v6||(v6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jE();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Sx)),Sx}var Cx={},Tx={},Ix={},Ox={},m6;function wM(){return m6||(m6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Ox)),Ox}var Rx={},y6;function EM(){return y6||(y6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Rx)),Rx}var Px={},x6;function AM(){return x6||(x6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Px)),Px}var _6;function eJ(){return _6||(_6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WE(),n=wM(),r=EM(),i=AM();function a(p,v,m){return typeof m!="function"?e.isMatch(p,v):o(p,v,function _(w,A,S,I,O,N){const k=m(w,A,S,I,O,N);return k!==void 0?!!k:o(w,A,_,N)},new Map)}function o(p,v,m,_){if(v===p)return!0;switch(typeof v){case"object":return l(p,v,m,_);case"function":return Object.keys(v).length>0?o(p,{...v},m,_):i.eq(p,v);default:return n.isObject(p)?typeof v=="string"?v==="":!0:i.eq(p,v)}}function l(p,v,m,_){if(v==null)return!0;if(Array.isArray(v))return f(p,v,m,_);if(v instanceof Map)return c(p,v,m,_);if(v instanceof Set)return h(p,v,m,_);const w=Object.keys(v);if(p==null)return w.length===0;if(w.length===0)return!0;if(_&&_.has(v))return _.get(v)===p;_&&_.set(v,p);try{for(let A=0;A<w.length;A++){const S=w[A];if(!r.isPrimitive(p)&&!(S in p)||v[S]===void 0&&p[S]!==void 0||v[S]===null&&p[S]!==null||!m(p[S],v[S],S,p,v,_))return!1}return!0}finally{_&&_.delete(v)}}function c(p,v,m,_){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,A]of v.entries()){const S=p.get(w);if(m(S,A,w,p,v,_)===!1)return!1}return!0}function f(p,v,m,_){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let A=0;A<v.length;A++){const S=v[A];let I=!1;for(let O=0;O<p.length;O++){if(w.has(O))continue;const N=p[O];let k=!1;if(m(N,S,A,p,v,_)&&(k=!0),k){w.add(O),I=!0;break}}if(!I)return!1}return!0}function h(p,v,m,_){return v.size===0?!0:p instanceof Set?f([...p],[...v],m,_):!1}t.isMatchWith=a,t.isSetMatch=h})(Ix)),Ix}var b6;function WE(){return b6||(b6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eJ();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Tx)),Tx}var Dx={},Nx={},Mx={},w6;function tJ(){return w6||(w6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Mx)),Mx}var kx={},E6;function SM(){return E6||(E6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(kx)),kx}var jx={},A6;function CM(){return A6||(A6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",v="[object ArrayBuffer]",m="[object Object]",_="[object Error]",w="[object DataView]",A="[object Uint8Array]",S="[object Uint8ClampedArray]",I="[object Uint16Array]",O="[object Uint32Array]",N="[object BigUint64Array]",k="[object Int8Array]",B="[object Int16Array]",D="[object Int32Array]",M="[object BigInt64Array]",j="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=v,t.arrayTag=h,t.bigInt64ArrayTag=M,t.bigUint64ArrayTag=N,t.booleanTag=i,t.dataViewTag=w,t.dateTag=l,t.errorTag=_,t.float32ArrayTag=j,t.float64ArrayTag=z,t.functionTag=p,t.int16ArrayTag=B,t.int32ArrayTag=D,t.int8ArrayTag=k,t.mapTag=c,t.numberTag=r,t.objectTag=m,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=I,t.uint32ArrayTag=O,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=S})(jx)),jx}var Lx={},S6;function nJ(){return S6||(S6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Lx)),Lx}var C6;function TM(){return C6||(C6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tJ(),n=SM(),r=CM(),i=EM(),a=nJ();function o(h,p){return l(h,void 0,h,new Map,p)}function l(h,p,v,m=new Map,_=void 0){const w=_?.(h,p,v,m);if(w!==void 0)return w;if(i.isPrimitive(h))return h;if(m.has(h))return m.get(h);if(Array.isArray(h)){const A=new Array(h.length);m.set(h,A);for(let S=0;S<h.length;S++)A[S]=l(h[S],S,v,m,_);return Object.hasOwn(h,"index")&&(A.index=h.index),Object.hasOwn(h,"input")&&(A.input=h.input),A}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const A=new RegExp(h.source,h.flags);return A.lastIndex=h.lastIndex,A}if(h instanceof Map){const A=new Map;m.set(h,A);for(const[S,I]of h)A.set(S,l(I,S,v,m,_));return A}if(h instanceof Set){const A=new Set;m.set(h,A);for(const S of h)A.add(l(S,void 0,v,m,_));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const A=new(Object.getPrototypeOf(h)).constructor(h.length);m.set(h,A);for(let S=0;S<h.length;S++)A[S]=l(h[S],S,v,m,_);return A}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const A=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return m.set(h,A),c(A,h,v,m,_),A}if(typeof File<"u"&&h instanceof File){const A=new File([h],h.name,{type:h.type});return m.set(h,A),c(A,h,v,m,_),A}if(typeof Blob<"u"&&h instanceof Blob){const A=new Blob([h],{type:h.type});return m.set(h,A),c(A,h,v,m,_),A}if(h instanceof Error){const A=new h.constructor;return m.set(h,A),A.message=h.message,A.name=h.name,A.stack=h.stack,A.cause=h.cause,c(A,h,v,m,_),A}if(h instanceof Boolean){const A=new Boolean(h.valueOf());return m.set(h,A),c(A,h,v,m,_),A}if(h instanceof Number){const A=new Number(h.valueOf());return m.set(h,A),c(A,h,v,m,_),A}if(h instanceof String){const A=new String(h.valueOf());return m.set(h,A),c(A,h,v,m,_),A}if(typeof h=="object"&&f(h)){const A=Object.create(Object.getPrototypeOf(h));return m.set(h,A),c(A,h,v,m,_),A}return h}function c(h,p,v=h,m,_){const w=[...Object.keys(p),...e.getSymbols(p)];for(let A=0;A<w.length;A++){const S=w[A],I=Object.getOwnPropertyDescriptor(h,S);(I==null||I.writable)&&(h[S]=l(p[S],S,v,m,_))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=l,t.copyProperties=c})(Nx)),Nx}var T6;function rJ(){return T6||(T6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TM();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Dx)),Dx}var I6;function iJ(){return I6||(I6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WE(),n=rJ();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(Cx)),Cx}var Bx={},Fx={},Vx={},O6;function aJ(){return O6||(O6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TM(),n=CM();function r(i,a){return e.cloneDeepWith(i,(o,l,c,f)=>{const h=a?.(o,l,c,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(Vx)),Vx}var R6;function oJ(){return R6||(R6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aJ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Fx)),Fx}var Ux={},zx={},P6;function IM(){return P6||(P6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(zx)),zx}var Hx={},D6;function sJ(){return D6||(D6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SM();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Hx)),Hx}var N6;function lJ(){return N6||(N6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y5(),n=IM(),r=sJ(),i=kE();function a(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&o?.[l]==null?c=i.toPath(l):c=[l],c.length===0)return!1;let f=o;for(let h=0;h<c.length;h++){const p=c[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=a})(Ux)),Ux}var M6;function uJ(){return M6||(M6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WE(),n=ME(),r=oJ(),i=jE(),a=lJ();function o(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(f){const h=i.get(f,l);return h===void 0?a.has(f,l):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=o})(Bx)),Bx}var k6;function cJ(){return k6||(k6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bM(),n=JZ(),r=iJ(),i=uJ();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=a})(Ax)),Ax}var j6;function fJ(){return j6||(j6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XZ(),n=bM(),r=ZZ(),i=cJ();function a(o,l=n.identity){return r.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(l)):[]}t.uniqBy=a})(mx)),mx}var $x,L6;function dJ(){return L6||(L6=1,$x=fJ().uniqBy),$x}var hJ=dJ();const B6=ho(hJ);function OM(t,e,n){return e===!0?B6(t,n):typeof e=="function"?B6(t,e):t}var qx={exports:{}},Gx={},Kx={exports:{}},Wx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F6;function pJ(){if(F6)return Wx;F6=1;var t=Sf();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function l(p,v){var m=v(),_=r({inst:{value:m,getSnapshot:v}}),w=_[0].inst,A=_[1];return a(function(){w.value=m,w.getSnapshot=v,c(w)&&A({inst:w})},[p,m,v]),i(function(){return c(w)&&A({inst:w}),p(function(){c(w)&&A({inst:w})})},[p]),o(m),m}function c(p){var v=p.getSnapshot;p=p.value;try{var m=v();return!n(p,m)}catch{return!0}}function f(p,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return Wx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Wx}var V6;function gJ(){return V6||(V6=1,Kx.exports=pJ()),Kx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U6;function vJ(){if(U6)return Gx;U6=1;var t=Sf(),e=gJ();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Gx.useSyncExternalStoreWithSelector=function(f,h,p,v,m){var _=a(null);if(_.current===null){var w={hasValue:!1,value:null};_.current=w}else w=_.current;_=l(function(){function S(B){if(!I){if(I=!0,O=B,B=v(B),m!==void 0&&w.hasValue){var D=w.value;if(m(D,B))return N=D}return N=B}if(D=N,r(O,B))return D;var M=v(B);return m!==void 0&&m(D,M)?(O=B,D):(O=B,N=M)}var I=!1,O,N,k=p===void 0?null:p;return[function(){return S(h())},k===null?void 0:function(){return S(k())}]},[h,p,v,m]);var A=i(f,_[0],_[1]);return o(function(){w.hasValue=!0,w.value=A},[A]),c(A),A},Gx}var z6;function mJ(){return z6||(z6=1,qx.exports=vJ()),qx.exports}var yJ=mJ(),XE=T.createContext(null),xJ=t=>t,un=()=>{var t=T.useContext(XE);return t?t.store.dispatch:xJ},Q1=()=>{},_J=()=>Q1,bJ=(t,e)=>t===e;function Te(t){var e=T.useContext(XE);return yJ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:_J,e?e.store.getState:Q1,e?e.store.getState:Q1,e?t:Q1,bJ)}function wJ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function EJ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function AJ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var H6=t=>Array.isArray(t)?t:[t];function SJ(t){const e=Array.isArray(t[0])?t[0]:t;return AJ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function CJ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var TJ=class{constructor(t){this.value=t}deref(){return this.value}},IJ=typeof WeakRef<"u"?WeakRef:TJ,OJ=0,$6=1;function b1(){return{s:OJ,v:void 0,o:null,p:null}}function RM(t,e={}){let n=b1();const{resultEqualityCheck:r}=e;let i,a=0;function o(){let l=n;const{length:c}=arguments;for(let p=0,v=c;p<v;p++){const m=arguments[p];if(typeof m=="function"||typeof m=="object"&&m!==null){let _=l.o;_===null&&(l.o=_=new WeakMap);const w=_.get(m);w===void 0?(l=b1(),_.set(m,l)):l=w}else{let _=l.p;_===null&&(l.p=_=new Map);const w=_.get(m);w===void 0?(l=b1(),_.set(m,l)):l=w}}const f=l;let h;if(l.s===$6)h=l.v;else if(h=t.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,h)&&(h=p,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new IJ(h):h}return f.s=$6,f.v=h,h}return o.clearCache=()=>{n=b1(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function RJ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,o=0,l,c={},f=i.pop();typeof f=="object"&&(c=f,f=i.pop()),wJ(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...c},{memoize:p,memoizeOptions:v=[],argsMemoize:m=RM,argsMemoizeOptions:_=[]}=h,w=H6(v),A=H6(_),S=SJ(i),I=p(function(){return a++,f.apply(null,arguments)},...w),O=m(function(){o++;const k=CJ(S,arguments);return l=I.apply(null,k),l},...A);return Object.assign(O,{resultFunc:f,memoizedResultFunc:I,dependencies:S,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var ne=RJ(RM),PJ=Object.assign((t,e=ne)=>{EJ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((o,l,c)=>(o[n[c]]=l,o),{}))},{withTypes:()=>PJ}),Xx={},Yx={},Qx={},q6;function DJ(){return q6||(q6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=e(r),l=e(i);if(o===l&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};t.compareValues=n})(Qx)),Qx}var Zx={},Jx={},G6;function PM(){return G6||(G6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Jx)),Jx}var K6;function NJ(){return K6||(K6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(Zx)),Zx}var W6;function MJ(){return W6||(W6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DJ(),n=NJ(),r=kE();function i(a,o,l,c){if(a==null)return[];l=c?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const f=(m,_)=>{let w=m;for(let A=0;A<_.length&&w!=null;++A)w=w[_[A]];return w},h=(m,_)=>_==null||m==null?_:typeof m=="object"&&"key"in m?Object.hasOwn(_,m.key)?_[m.key]:f(_,m.path):typeof m=="function"?m(_):Array.isArray(m)?f(_,m):typeof _=="object"?_[m]:_,p=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:p.map(_=>h(_,m))})).slice().sort((m,_)=>{for(let w=0;w<p.length;w++){const A=e.compareValues(m.criteria[w],_.criteria[w],l[w]);if(A!==0)return A}return 0}).map(m=>m.original)}t.orderBy=i})(Yx)),Yx}var e_={},X6;function kJ(){return X6||(X6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),o=(l,c)=>{for(let f=0;f<l.length;f++){const h=l[f];Array.isArray(h)&&c<a?o(h,c+1):i.push(h)}};return o(n,0),i}t.flatten=e})(e_)),e_}var t_={},Y6;function DM(){return Y6||(Y6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IM(),n=KE(),r=wM(),i=AM();function a(o,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],o):!1}t.isIterateeCall=a})(t_)),t_}var Q6;function jJ(){return Q6||(Q6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MJ(),n=kJ(),r=DM();function i(a,...o){const l=o.length;return l>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,n.flatten(o),["asc"])}t.sortBy=i})(Xx)),Xx}var n_,Z6;function LJ(){return Z6||(Z6=1,n_=jJ().sortBy),n_}var BJ=LJ();const Jv=ho(BJ);var NM=t=>t.legend.settings,FJ=t=>t.legend.size,VJ=t=>t.legend.payload,UJ=ne([VJ,NM],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Jv(r,n):r});function zJ(){return Te(UJ)}var w1=1;function MM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>w1||Math.abs(o.left-e.left)>w1||Math.abs(o.top-e.top)>w1||Math.abs(o.width-e.width)>w1)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function _r(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var HJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",J6=HJ,r_=()=>Math.random().toString(36).substring(7).split("").join("."),$J={INIT:`@@redux/INIT${r_()}`,REPLACE:`@@redux/REPLACE${r_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${r_()}`},Ng=$J;function YE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function kM(t,e,n){if(typeof t!="function")throw new Error(_r(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(_r(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(_r(1));return n(kM)(t,e)}let r=t,i=e,a=new Map,o=a,l=0,c=!1;function f(){o===a&&(o=new Map,a.forEach((A,S)=>{o.set(S,A)}))}function h(){if(c)throw new Error(_r(3));return i}function p(A){if(typeof A!="function")throw new Error(_r(4));if(c)throw new Error(_r(5));let S=!0;f();const I=l++;return o.set(I,A),function(){if(S){if(c)throw new Error(_r(6));S=!1,f(),o.delete(I),a=null}}}function v(A){if(!YE(A))throw new Error(_r(7));if(typeof A.type>"u")throw new Error(_r(8));if(typeof A.type!="string")throw new Error(_r(17));if(c)throw new Error(_r(9));try{c=!0,i=r(i,A)}finally{c=!1}return(a=o).forEach(I=>{I()}),A}function m(A){if(typeof A!="function")throw new Error(_r(10));r=A,v({type:Ng.REPLACE})}function _(){const A=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(_r(11));function I(){const N=S;N.next&&N.next(h())}return I(),{unsubscribe:A(I)}},[J6](){return this}}}return v({type:Ng.INIT}),{dispatch:v,subscribe:p,getState:h,replaceReducer:m,[J6]:_}}function qJ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Ng.INIT})>"u")throw new Error(_r(12));if(typeof n(void 0,{type:Ng.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_r(13))})}function jM(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{qJ(n)}catch(a){i=a}return function(o={},l){if(i)throw i;let c=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],v=n[p],m=o[p],_=v(m,l);if(typeof _>"u")throw l&&l.type,new Error(_r(14));f[p]=_,c=c||_!==m}return c=c||r.length!==Object.keys(o).length,c?f:o}}function Mg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function GJ(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(_r(15))};const o={getState:i.getState,dispatch:(c,...f)=>a(c,...f)},l=t.map(c=>c(o));return a=Mg(...l)(i.dispatch),{...i,dispatch:a}}}function LM(t){return YE(t)&&"type"in t&&typeof t.type=="string"}var BM=Symbol.for("immer-nothing"),e8=Symbol.for("immer-draftable"),Pi=Symbol.for("immer-state");function Aa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var vf=Object.getPrototypeOf;function Uu(t){return!!t&&!!t[Pi]}function es(t){return t?FM(t)||Array.isArray(t)||!!t[e8]||!!t.constructor?.[e8]||p0(t)||tm(t):!1}var KJ=Object.prototype.constructor.toString();function FM(t){if(!t||typeof t!="object")return!1;const e=vf(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===KJ}function kg(t,e){em(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function em(t){const e=t[Pi];return e?e.type_:Array.isArray(t)?1:p0(t)?2:tm(t)?3:0}function Nb(t,e){return em(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function VM(t,e,n){const r=em(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function WJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function p0(t){return t instanceof Map}function tm(t){return t instanceof Set}function vu(t){return t.copy_||t.base_}function Mb(t,e){if(p0(t))return new Map(t);if(tm(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=FM(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Pi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(vf(t),r)}else{const r=vf(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function QE(t,e=!1){return nm(t)||Uu(t)||!es(t)||(em(t)>1&&Object.defineProperties(t,{set:{value:E1},add:{value:E1},clear:{value:E1},delete:{value:E1}}),Object.freeze(t),e&&Object.values(t).forEach(n=>QE(n,!0))),t}function E1(){Aa(2)}function nm(t){return Object.isFrozen(t)}var XJ={};function zu(t){const e=XJ[t];return e||Aa(0,t),e}var Uh;function UM(){return Uh}function YJ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function t8(t,e){e&&(zu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function kb(t){jb(t),t.drafts_.forEach(QJ),t.drafts_=null}function jb(t){t===Uh&&(Uh=t.parent_)}function n8(t){return Uh=YJ(Uh,t)}function QJ(t){const e=t[Pi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function r8(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Pi].modified_&&(kb(e),Aa(4)),es(t)&&(t=jg(e,t),e.parent_||Lg(e,t)),e.patches_&&zu("Patches").generateReplacementPatches_(n[Pi].base_,t,e.patches_,e.inversePatches_)):t=jg(e,n,[]),kb(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==BM?t:void 0}function jg(t,e,n){if(nm(e))return e;const r=e[Pi];if(!r)return kg(e,(i,a)=>i8(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Lg(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),kg(a,(l,c)=>i8(t,r,i,l,c,n,o)),Lg(t,i,!1),n&&t.patches_&&zu("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function i8(t,e,n,r,i,a,o){if(Uu(i)){const l=a&&e&&e.type_!==3&&!Nb(e.assigned_,r)?a.concat(r):void 0,c=jg(t,i,l);if(VM(n,r,c),Uu(c))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(es(i)&&!nm(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;jg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(p0(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Lg(t,i)}}function Lg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&QE(e,n)}function ZJ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:UM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=ZE;n&&(i=[r],a=zh);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,l}var ZE={get(t,e){if(e===Pi)return t;const n=vu(t);if(!Nb(n,e))return JJ(t,n,e);const r=n[e];return t.finalized_||!es(r)?r:r===i_(t.base_,e)?(a_(t),t.copy_[e]=Bb(r,t)):r},has(t,e){return e in vu(t)},ownKeys(t){return Reflect.ownKeys(vu(t))},set(t,e,n){const r=zM(vu(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=i_(vu(t),e),a=i?.[Pi];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(WJ(n,i)&&(n!==void 0||Nb(t.base_,e)))return!0;a_(t),Lb(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return i_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,a_(t),Lb(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=vu(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Aa(11)},getPrototypeOf(t){return vf(t.base_)},setPrototypeOf(){Aa(12)}},zh={};kg(ZE,(t,e)=>{zh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});zh.deleteProperty=function(t,e){return zh.set.call(this,t,e,void 0)};zh.set=function(t,e,n){return ZE.set.call(this,t[0],e,n,t[0])};function i_(t,e){const n=t[Pi];return(n?vu(n):t)[e]}function JJ(t,e,n){const r=zM(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function zM(t,e){if(!(e in t))return;let n=vf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=vf(n)}}function Lb(t){t.modified_||(t.modified_=!0,t.parent_&&Lb(t.parent_))}function a_(t){t.copy_||(t.copy_=Mb(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var eee=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(c=a,...f){return o.produce(c,h=>n.call(this,h,...f))}}typeof n!="function"&&Aa(6),r!==void 0&&typeof r!="function"&&Aa(7);let i;if(es(e)){const a=n8(this),o=Bb(e,void 0);let l=!0;try{i=n(o),l=!1}finally{l?kb(a):jb(a)}return t8(a,r),r8(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===BM&&(i=void 0),this.autoFreeze_&&QE(i,!0),r){const a=[],o=[];zu("Patches").generateReplacementPatches_(e,i,a,o),r(a,o)}return i}else Aa(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,c=>e(c,...l));let r,i;return[this.produce(e,n,(o,l)=>{r=o,i=l}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){es(t)||Aa(8),Uu(t)&&(t=Ko(t));const e=n8(this),n=Bb(t,void 0);return n[Pi].isManual_=!0,jb(e),n}finishDraft(t,e){const n=t&&t[Pi];(!n||!n.isManual_)&&Aa(9);const{scope_:r}=n;return t8(r,e),r8(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=zu("Patches").applyPatches_;return Uu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Bb(t,e){const n=p0(t)?zu("MapSet").proxyMap_(t,e):tm(t)?zu("MapSet").proxySet_(t,e):ZJ(t,e);return(e?e.scope_:UM()).drafts_.push(n),n}function Ko(t){return Uu(t)||Aa(10,t),HM(t)}function HM(t){if(!es(t)||nm(t))return t;const e=t[Pi];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Mb(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Mb(t,!0);return kg(n,(r,i)=>{VM(n,r,HM(i))}),e&&(e.finalized_=!1),n}var tee=new eee,$M=tee.produce;function qM(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var nee=qM(),ree=qM,iee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Mg:Mg.apply(null,arguments)};function aa(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Oi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>LM(r)&&r.type===t,n}var GM=class _h extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,_h.prototype)}static get[Symbol.species](){return _h}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new _h(...e[0].concat(this)):new _h(...e.concat(this))}};function a8(t){return es(t)?$M(t,()=>{}):t}function A1(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function aee(t){return typeof t=="boolean"}var oee=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new GM;return n&&(aee(n)?o.push(nee):o.push(ree(n.extraArgument))),o},see="RTK_autoBatch",o8=t=>e=>{setTimeout(e,t)},lee=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,o=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:o8(10):t.type==="callback"?t.queueNotification:o8(t.timeout),f=()=>{o=!1,a&&(a=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),v=r.subscribe(p);return l.add(h),()=>{v(),l.delete(h)}},dispatch(h){try{return i=!h?.meta?.[see],a=!i,a&&(o||(o=!0,c(f))),r.dispatch(h)}finally{i=!0}}})},uee=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new GM(t);return r&&i.push(lee(typeof r=="object"?r:void 0)),i};function cee(t){const e=oee(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(YE(n))l=jM(n);else throw new Error(Oi(1));let c;typeof r=="function"?c=r(e):c=e();let f=Mg;i&&(f=iee({trace:!1,...typeof i=="object"&&i}));const h=GJ(...c),p=uee(h);let v=typeof o=="function"?o(p):p();const m=f(...v);return kM(l,a,m)}function KM(t){const e={},n=[];let r;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Oi(28));if(l in e)throw new Error(Oi(29));return e[l]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function fee(t){return typeof t=="function"}function dee(t,e){let[n,r,i]=KM(e),a;if(fee(t))a=()=>a8(t());else{const l=a8(t);a=()=>l}function o(l=a(),c){let f=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(Uu(h)){const m=p(h,c);return m===void 0?h:m}else{if(es(h))return $M(h,v=>p(v,c));{const v=p(h,c);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},l)}return o.getInitialState=a,o}var hee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",pee=(t=21)=>{let e="",n=t;for(;n--;)e+=hee[Math.random()*64|0];return e},gee=Symbol.for("rtk-slice-createasyncthunk");function vee(t,e){return`${t}/${e}`}function mee({creators:t}={}){const e=t?.asyncThunk?.[gee];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Oi(11));const o=(typeof r.reducers=="function"?r.reducers(xee()):r.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,N){const k=typeof O=="string"?O:O.type;if(!k)throw new Error(Oi(12));if(k in c.sliceCaseReducersByType)throw new Error(Oi(13));return c.sliceCaseReducersByType[k]=N,f},addMatcher(O,N){return c.sliceMatchers.push({matcher:O,reducer:N}),f},exposeAction(O,N){return c.actionCreators[O]=N,f},exposeCaseReducer(O,N){return c.sliceCaseReducersByName[O]=N,f}};l.forEach(O=>{const N=o[O],k={reducerName:O,type:vee(i,O),createNotation:typeof r.reducers=="function"};bee(N)?Eee(k,N,f,e):_ee(k,N,f)});function h(){const[O={},N=[],k=void 0]=typeof r.extraReducers=="function"?KM(r.extraReducers):[r.extraReducers],B={...O,...c.sliceCaseReducersByType};return dee(r.initialState,D=>{for(let M in B)D.addCase(M,B[M]);for(let M of c.sliceMatchers)D.addMatcher(M.matcher,M.reducer);for(let M of N)D.addMatcher(M.matcher,M.reducer);k&&D.addDefaultCase(k)})}const p=O=>O,v=new Map,m=new WeakMap;let _;function w(O,N){return _||(_=h()),_(O,N)}function A(){return _||(_=h()),_.getInitialState()}function S(O,N=!1){function k(D){let M=D[O];return typeof M>"u"&&N&&(M=A1(m,k,A)),M}function B(D=p){const M=A1(v,N,()=>new WeakMap);return A1(M,D,()=>{const j={};for(const[z,F]of Object.entries(r.selectors??{}))j[z]=yee(F,D,()=>A1(m,D,A),N);return j})}return{reducerPath:O,getSelectors:B,get selectors(){return B(k)},selectSlice:k}}const I={name:i,reducer:w,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:A,...S(a),injectInto(O,{reducerPath:N,...k}={}){const B=N??a;return O.inject({reducerPath:B,reducer:w},k),{...I,...S(B,!0)}}};return I}}function yee(t,e,n,r){function i(a,...o){let l=e(a);return typeof l>"u"&&r&&(l=n()),t(l,...o)}return i.unwrapped=t,i}var Ni=mee();function xee(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function _ee({type:t,reducerName:e,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!wee(r))throw new Error(Oi(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?aa(t,o):aa(t))}function bee(t){return t._reducerDefinitionType==="asyncThunk"}function wee(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Eee({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Oi(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:c,settled:f,options:h}=n,p=i(t,a,h);r.exposeAction(e,p),o&&r.addCase(p.fulfilled,o),l&&r.addCase(p.pending,l),c&&r.addCase(p.rejected,c),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:o||S1,pending:l||S1,rejected:c||S1,settled:f||S1})}function S1(){}var Aee="task",WM="listener",XM="completed",JE="cancelled",See=`task-${JE}`,Cee=`task-${XM}`,Fb=`${WM}-${JE}`,Tee=`${WM}-${XM}`,rm=class{constructor(t){this.code=t,this.message=`${Aee} ${JE} (reason: ${t})`}name="TaskAbortError";message},eA=(t,e)=>{if(typeof t!="function")throw new TypeError(Oi(32))},Bg=()=>{},YM=(t,e=Bg)=>(t.catch(e),t),QM=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Iu=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Ou=t=>{if(t.aborted){const{reason:e}=t;throw new rm(e)}};function ZM(t,e){let n=Bg;return new Promise((r,i)=>{const a=()=>i(new rm(t.reason));if(t.aborted){a();return}n=QM(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Bg})}var Iee=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof rm?"cancelled":"rejected",error:n}}finally{e?.()}},Fg=t=>e=>YM(ZM(t,e).then(n=>(Ou(t),n))),JM=t=>{const e=Fg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:nf}=Object,s8={},im="listenerMiddleware",Oee=(t,e)=>{const n=r=>QM(t,()=>Iu(r,t.reason));return(r,i)=>{eA(r);const a=new AbortController;n(a);const o=Iee(async()=>{Ou(t),Ou(a.signal);const l=await r({pause:Fg(a.signal),delay:JM(a.signal),signal:a.signal});return Ou(a.signal),l},()=>Iu(a,Cee));return i?.autoJoin&&e.push(o.catch(Bg)),{result:Fg(t)(o),cancel(){Iu(a,See)}}}},Ree=(t,e)=>{const n=async(r,i)=>{Ou(e);let a=()=>{};const l=[new Promise((c,f)=>{let h=t({predicate:r,effect:(p,v)=>{v.unsubscribe(),c([p,v.getState(),v.getOriginalState()])}});a=()=>{h(),f()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await ZM(e,Promise.race(l));return Ou(e),c}finally{a()}};return(r,i)=>YM(n(r,i))},e9=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=aa(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Oi(21));return eA(a),{predicate:i,type:e,effect:a}},t9=nf(t=>{const{type:e,predicate:n,effect:r}=e9(t);return{id:pee(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Oi(22))}}},{withTypes:()=>t9}),l8=(t,e)=>{const{type:n,effect:r,predicate:i}=e9(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Vb=t=>{t.pending.forEach(e=>{Iu(e,Fb)})},Pee=t=>()=>{t.forEach(Vb),t.clear()},u8=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},n9=nf(aa(`${im}/add`),{withTypes:()=>n9}),Dee=aa(`${im}/removeAll`),r9=nf(aa(`${im}/remove`),{withTypes:()=>r9}),Nee=(...t)=>{console.error(`${im}/error`,...t)},g0=(t={})=>{const e=new Map,{extra:n,onError:r=Nee}=t;eA(r);const i=h=>(h.unsubscribe=()=>e.delete(h.id),e.set(h.id,h),p=>{h.unsubscribe(),p?.cancelActive&&Vb(h)}),a=h=>{const p=l8(e,h)??t9(h);return i(p)};nf(a,{withTypes:()=>a});const o=h=>{const p=l8(e,h);return p&&(p.unsubscribe(),h.cancelActive&&Vb(p)),!!p};nf(o,{withTypes:()=>o});const l=async(h,p,v,m)=>{const _=new AbortController,w=Ree(a,_.signal),A=[];try{h.pending.add(_),await Promise.resolve(h.effect(p,nf({},v,{getOriginalState:m,condition:(S,I)=>w(S,I).then(Boolean),take:w,delay:JM(_.signal),pause:Fg(_.signal),extra:n,signal:_.signal,fork:Oee(_.signal,A),unsubscribe:h.unsubscribe,subscribe:()=>{e.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((S,I,O)=>{S!==_&&(Iu(S,Fb),O.delete(S))})},cancel:()=>{Iu(_,Fb),h.pending.delete(_)},throwIfCancelled:()=>{Ou(_.signal)}})))}catch(S){S instanceof rm||u8(r,S,{raisedBy:"effect"})}finally{await Promise.all(A),Iu(_,Tee),h.pending.delete(_)}},c=Pee(e);return{middleware:h=>p=>v=>{if(!LM(v))return p(v);if(n9.match(v))return a(v.payload);if(Dee.match(v)){c();return}if(r9.match(v))return o(v.payload);let m=h.getState();const _=()=>{if(m===s8)throw new Error(Oi(23));return m};let w;try{if(w=p(v),e.size>0){const A=h.getState(),S=Array.from(e.values());for(const I of S){let O=!1;try{O=I.predicate(v,A,m)}catch(N){O=!1,u8(r,N,{raisedBy:"predicate"})}O&&l(I,v,h,_)}}}finally{m=s8}return w},startListening:a,stopListening:o,clearListeners:c}};function Oi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Mee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},i9=Ni({name:"chartLayout",initialState:Mee,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:kee,setLayout:jee,setChartSize:Lee,setScale:Bee}=i9.actions,Fee=i9.reducer;function c8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c8(Object(n),!0).forEach(function(r){Vee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vee(t,e,n){return(e=Uee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uee(t){var e=zee(t,"string");return typeof e=="symbol"?e:e+""}function zee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vg=Math.PI/180,Hee=t=>t*180/Math.PI,Ln=(t,e,n,r)=>({x:t+Math.cos(-Vg*r)*n,y:e+Math.sin(-Vg*r)*n}),a9=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},$ee=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},qee=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,o=$ee({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(n-i)/o,c=Math.acos(l);return r>a&&(c=2*Math.PI-c),{radius:o,angle:Hee(c),angleInRadian:c}},Gee=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},Kee=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return t+o*360},Wee=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=qee({x:n,y:r},e),{innerRadius:o,outerRadius:l}=e;if(i<o||i>l||i===0)return null;var{startAngle:c,endAngle:f}=Gee(e),h=a,p;if(c<=f){for(;h>f;)h-=360;for(;h<c;)h+=360;p=h>=c&&h<=f}else{for(;h>c;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=c}return p?f8(f8({},e),{},{radius:i,angle:Kee(h,e)}):null};function o9(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function d8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d8(Object(n),!0).forEach(function(r){Xee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xee(t,e,n){return(e=Yee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yee(t){var e=Qee(t,"string");return typeof e=="symbol"?e:e+""}function Qee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qt(t,e,n){return rn(t)||rn(e)?n:co(e)?Vu(t,e,n):typeof e=="function"?e(t):n}var Zee=(t,e,n,r,i)=>{var a,o=-1,l=(a=e?.length)!==null&&a!==void 0?a:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var f=c>0?n[c-1].coordinate:n[l-1].coordinate,h=n[c].coordinate,p=c>=l-1?n[0].coordinate:n[c+1].coordinate,v=void 0;if(lr(h-f)!==lr(p-h)){var m=[];if(lr(p-h)===lr(i[1]-i[0])){v=p;var _=h+i[1]-i[0];m[0]=Math.min(_,(_+f)/2),m[1]=Math.max(_,(_+f)/2)}else{v=f;var w=p+i[1]-i[0];m[0]=Math.min(h,(w+h)/2),m[1]=Math.max(h,(w+h)/2)}var A=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(t>A[0]&&t<=A[1]||t>=m[0]&&t<=m[1]){({index:o}=n[c]);break}}else{var S=Math.min(f,p),I=Math.max(f,p);if(t>(S+h)/2&&t<=(I+h)/2){({index:o}=n[c]);break}}}else if(e){for(var O=0;O<l;O++)if(O===0&&t<=(e[O].coordinate+e[O+1].coordinate)/2||O>0&&O<l-1&&t>(e[O].coordinate+e[O-1].coordinate)/2&&t<=(e[O].coordinate+e[O+1].coordinate)/2||O===l-1&&t>(e[O].coordinate+e[O-1].coordinate)/2){({index:o}=e[O]);break}}return o},Jee=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:l}=e;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&Re(t[a]))return Zi(Zi({},t),{},{[a]:t[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&Re(t[o]))return Zi(Zi({},t),{},{[o]:t[o]+(i||0)})}return t},Rl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",s9=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,a,o=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||o.push(e),a||o.push(n),o},l9=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:f,tickCount:h,ticks:p,niceTicks:v,axisType:m}=t;if(!o)return null;var _=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=i==="category"&&o.bandwidth?o.bandwidth()/_:0;if(w=m==="angleAxis"&&a&&a.length>=2?lr(a[0]-a[1])*2*w:w,p||v){var A=(p||v||[]).map((S,I)=>{var O=r?r.indexOf(S):S;return{coordinate:o(O)+w,value:S,offset:w,index:I}});return A.filter(S=>!Ri(S.coordinate))}return c&&f?f.map((S,I)=>({coordinate:o(S)+w,value:S,index:I,offset:w})):o.ticks&&h!=null?o.ticks(h).map((S,I)=>({coordinate:o(S)+w,value:S,offset:w,index:I})):o.domain().map((S,I)=>({coordinate:o(S)+w,value:r?r[S]:S,index:I,offset:w}))},h8=1e-4,ete=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-h8,a=Math.max(r[0],r[1])+h8,o=t(e[0]),l=t(e[n-1]);(o<i||o>a||l<i||l>a)&&t.domain([e[0],e[n-1]])}},tte=(t,e)=>{if(!e||e.length!==2||!Re(e[0])||!Re(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Re(t[0])||t[0]<n)&&(i[0]=n),(!Re(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},nte=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,o=0;o<e;++o){var l=Ri(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1])}},rte=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var o=Ri(t[a][n][1])?t[a][n][0]:t[a][n][1];o>=0?(t[a][n][0]=i,t[a][n][1]=i+o,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},ite={sign:nte,expand:NZ,none:gf,silhouette:MZ,wiggle:kZ,positive:rte},ate=(t,e,n)=>{var r=ite[n],i=DZ().keys(e).value((a,o)=>+qt(a,o,0)).order(Rb).offset(r);return i(t)};function ote(t){return t==null?void 0:String(t)}function p8(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!rn(i[e.dataKey])){var l=Z5(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=qt(i,rn(o)?e.dataKey:o);return rn(c)?null:e.scale(c)}var g8=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:o}=t;if(e.type==="category")return n[o]?n[o].coordinate+r:null;var l=qt(a,e.dataKey,e.scale.domain()[o]);return rn(l)?null:e.scale(l)-i/2+r},ste=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},lte=t=>{var e=t.flat(2).filter(Re);return[Math.min(...e),Math.max(...e)]},ute=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],cte=(t,e,n)=>{if(t!=null)return ute(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:o}=a,l=o.reduce((c,f)=>{var h=o9(f,e,n),p=lte(h);return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},v8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,m8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Hh=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Jv(e,h=>h.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var c=i[o],f=i[o-1];a=Math.min((c.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function y8(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Zi(Zi({},e),{},{dataKey:n,payload:r,value:i,name:a})}function Lf(t,e){if(t)return String(t);if(typeof e=="string")return e}function fte(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?Wee({x:t,y:e},r):null}var dte=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:o}=r;return Zi(Zi(Zi({},r),Ln(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:c}=r;return Zi(Zi(Zi({},r),Ln(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},hte=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,as=t=>t.layout.width,os=t=>t.layout.height,pte=t=>t.layout.scale,u9=t=>t.layout.margin,am=ne(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),om=ne(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),c9="data-recharts-item-index",f9="data-recharts-item-data-key",v0=60;function x8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x8(Object(n),!0).forEach(function(r){gte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gte(t,e,n){return(e=vte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vte(t){var e=mte(t,"string");return typeof e=="symbol"?e:e+""}function mte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yte=t=>t.brush.height;function xte(t){var e=om(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:v0;return n+i}return n},0)}function _te(t){var e=om(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:v0;return n+i}return n},0)}function bte(t){var e=am(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function wte(t){var e=am(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Yn=ne([as,os,u9,yte,xte,_te,bte,wte,NM,FJ],(t,e,n,r,i,a,o,l,c,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+l},v=C1(C1({},p),h),m=v.bottom;v.bottom+=r,v=Jee(v,c,f);var _=t-v.left-v.right,w=e-v.top-v.bottom;return C1(C1({brushBottom:m},v),{},{width:Math.max(_,0),height:Math.max(w,0)})}),Ete=ne(Yn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),tA=ne(as,os,(t,e)=>({x:0,y:0,width:t,height:e})),Ate=T.createContext(null),fi=()=>T.useContext(Ate)!=null,sm=t=>t.brush,lm=ne([sm,Yn,u9],(t,e,n)=>({height:t.height,x:Re(t.x)?t.x:e.left,y:Re(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Re(t.width)?t.width:e.width})),nA=()=>{var t,e=fi(),n=Te(Ete),r=Te(lm),i=(t=Te(sm))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Ste={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},d9=()=>{var t;return(t=Te(Yn))!==null&&t!==void 0?t:Ste},rA=()=>Te(as),iA=()=>Te(os),Cte=()=>Te(t=>t.layout.margin),ct=t=>t.layout.layoutType,um=()=>Te(ct),Tte={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},h9=Ni({name:"legend",initialState:Tte,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Ko(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:_8,setLegendSettings:Ite,addLegendPayload:p9,removeLegendPayload:g9}=h9.actions,Ote=h9.reducer,Rte=["contextPayload"];function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ub.apply(null,arguments)}function b8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b8(Object(n),!0).forEach(function(r){aA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aA(t,e,n){return(e=Pte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pte(t){var e=Dte(t,"string");return typeof e=="symbol"?e:e+""}function Dte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nte(t,e){if(t==null)return{};var n,r,i=Mte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kte(t){return t.value}function jte(t){var{contextPayload:e}=t,n=Nte(t,Rte),r=OM(e,t.payloadUniqBy,kte),i=mf(mf({},n),{},{payload:r});return T.isValidElement(t.content)?T.cloneElement(t.content,i):typeof t.content=="function"?T.createElement(t.content,i):T.createElement(GE,i)}function Lte(t,e,n,r,i,a){var{layout:o,align:l,verticalAlign:c}=e,f,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(l==="center"&&o==="vertical"?f={left:((r||0)-a.width)/2}:f=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?h={top:((i||0)-a.height)/2}:h=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),mf(mf({},f),h)}function Bte(t){var e=un();return T.useEffect(()=>{e(Ite(t))},[e,t]),null}function Fte(t){var e=un();return T.useEffect(()=>(e(_8(t)),()=>{e(_8({width:0,height:0}))}),[e,t]),null}function Vte(t){var e=zJ(),n=nZ(),r=Cte(),{width:i,height:a,wrapperStyle:o,portal:l}=t,[c,f]=MM([e]),h=rA(),p=iA();if(h==null||p==null)return null;var v=h-(r.left||0)-(r.right||0),m=cm.getWidthOrHeight(t.layout,a,i,v),_=l?o:mf(mf({position:"absolute",width:m?.width||i||"auto",height:m?.height||a||"auto"},Lte(o,t,r,h,p,c)),o),w=l??n;if(w==null)return null;var A=T.createElement("div",{className:"recharts-legend-wrapper",style:_,ref:f},T.createElement(Bte,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),T.createElement(Fte,{width:c.width,height:c.height}),T.createElement(jte,Ub({},t,m,{margin:r,chartWidth:h,chartHeight:p,contextPayload:e})));return nM.createPortal(A,w)}class cm extends T.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&Re(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return T.createElement(Vte,this.props)}}aA(cm,"displayName","Legend");aA(cm,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zb.apply(null,arguments)}function w8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(n),!0).forEach(function(r){Ute(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ute(t,e,n){return(e=zte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zte(t){var e=Hte(t,"string");return typeof e=="symbol"?e:e+""}function Hte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $te(t){return Array.isArray(t)&&co(t[0])&&co(t[1])?t.join(" ~ "):t}var qte=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:v=!1}=t,m=()=>{if(a&&a.length){var k={padding:0,margin:0},B=(l?Jv(a,l):a).map((D,M)=>{if(D.type==="none")return null;var j=D.formatter||o||$te,{value:z,name:F}=D,H=z,U=F;if(j){var he=j(z,F,D,M,a);if(Array.isArray(he))[H,U]=he;else if(he!=null)H=he;else return null}var be=o_({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:be},co(U)?T.createElement("span",{className:"recharts-tooltip-item-name"},U):null,co(U)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},H),T.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:k},B)}return null},_=o_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=o_({margin:0},i),A=!rn(h),S=A?h:"",I=vt("recharts-default-tooltip",c),O=vt("recharts-tooltip-label",f);A&&p&&a!==void 0&&a!==null&&(S=p(h,a));var N=v?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",zb({className:I,style:_},N),T.createElement("p",{className:O,style:w},T.isValidElement(S)?S:"".concat(S)),m())},nh="recharts-tooltip-wrapper",Gte={visibility:"hidden"};function Kte(t){var{coordinate:e,translateX:n,translateY:r}=t;return vt(nh,{["".concat(nh,"-right")]:Re(n)&&e&&Re(e.x)&&n>=e.x,["".concat(nh,"-left")]:Re(n)&&e&&Re(e.x)&&n<e.x,["".concat(nh,"-bottom")]:Re(r)&&e&&Re(e.y)&&r>=e.y,["".concat(nh,"-top")]:Re(r)&&e&&Re(e.y)&&r<e.y})}function E8(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:f}=t;if(a&&Re(a[r]))return a[r];var h=n[r]-l-(i>0?i:0),p=n[r]+i;if(e[r])return o[r]?h:p;var v=c[r];if(v==null)return 0;if(o[r]){var m=h,_=v;return m<_?Math.max(p,v):Math.max(h,v)}if(f==null)return 0;var w=p+l,A=v+f;return w>A?Math.max(h,v):Math.max(p,v)}function Wte(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Xte(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:c}=t,f,h,p;return o.height>0&&o.width>0&&n?(h=E8({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=E8({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),f=Wte({translateX:h,translateY:p,useTranslate3d:l})):f=Gte,{cssProperties:f,cssClasses:Kte({translateX:h,translateY:p,coordinate:n})}}function A8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A8(Object(n),!0).forEach(function(r){Hb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hb(t,e,n){return(e=Yte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yte(t){var e=Qte(t,"string");return typeof e=="symbol"?e:e+""}function Qte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Zte extends T.PureComponent{constructor(){super(...arguments),Hb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Hb(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:c,offset:f,position:h,reverseDirection:p,useTranslate3d:v,viewBox:m,wrapperStyle:_,lastBoundingBox:w,innerRef:A,hasPortalFromProps:S}=this.props,{cssClasses:I,cssProperties:O}=Xte({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:f,position:h,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:v,viewBox:m}),N=S?{}:T1(T1({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),k=T1(T1({},N),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},_);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:k,ref:A},a)}}var Jte=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Pl={devToolsEnabled:!1,isSsr:Jte()},v9=()=>Te(t=>t.rootProps.accessibilityLayer);function Di(t){return Number.isFinite(t)}function yf(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$b.apply(null,arguments)}function S8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S8(Object(n),!0).forEach(function(r){ene(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ene(t,e,n){return(e=tne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tne(t){var e=nne(t,"string");return typeof e=="symbol"?e:e+""}function nne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T8={curveBasisClosed:bZ,curveBasisOpen:wZ,curveBasis:_Z,curveBumpX:oZ,curveBumpY:sZ,curveLinearClosed:EZ,curveLinear:Qv,curveMonotoneX:AZ,curveMonotoneY:SZ,curveNatural:CZ,curveStep:TZ,curveStepAfter:OZ,curveStepBefore:IZ},I1=t=>Di(t.x)&&Di(t.y),rh=t=>t.x,ih=t=>t.y,rne=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(d0(t));return(n==="curveMonotone"||n==="curveBump")&&e?T8["".concat(n).concat(e==="vertical"?"Y":"X")]:T8[n]||Qv},ine=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,o=rne(e,i),l=a?n.filter(I1):n,c;if(Array.isArray(r)){var f=a?r.filter(p=>I1(p)):r,h=l.map((p,v)=>C8(C8({},p),{},{base:f[v]}));return i==="vertical"?c=_1().y(ih).x1(rh).x0(p=>p.base.x):c=_1().x(rh).y1(ih).y0(p=>p.base.y),c.defined(I1).curve(o),c(h)}return i==="vertical"&&Re(r)?c=_1().y(ih).x1(rh).x0(r):Re(r)?c=_1().x(rh).y1(ih).y0(r):c=uM().x(rh).y(ih),c.defined(I1).curve(o),c(l)},oA=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?ine(t):r;return T.createElement("path",$b({},yo(t),BE(t),{className:vt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},ane=["x","y","top","left","width","height","className"];function qb(){return qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qb.apply(null,arguments)}function I8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function one(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I8(Object(n),!0).forEach(function(r){sne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sne(t,e,n){return(e=lne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lne(t){var e=une(t,"string");return typeof e=="symbol"?e:e+""}function une(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cne(t,e){if(t==null)return{};var n,r,i=fne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dne=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),hne=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:l}=t,c=cne(t,ane),f=one({x:e,y:n,top:r,left:i,width:a,height:o},c);return!Re(e)||!Re(n)||!Re(a)||!Re(o)||!Re(r)||!Re(i)?null:T.createElement("path",qb({},ln(f,!0),{className:vt("recharts-cross",l),d:dne(e,n,a,o,r,i)}))};function pne(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function O8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O8(Object(n),!0).forEach(function(r){vne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vne(t,e,n){return(e=mne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mne(t){var e=yne(t,"string");return typeof e=="symbol"?e:e+""}function yne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tr(t,e){var n=gne({},t),r=e,i=Object.keys(e),a=i.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return a}function xne(){}function R8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R8(Object(n),!0).forEach(function(r){_ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ne(t,e,n){return(e=bne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bne(t){var e=wne(t,"string");return typeof e=="symbol"?e:e+""}function wne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ene=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),m9=(t,e,n)=>t.map(r=>"".concat(Ene(r)," ").concat(e,"ms ").concat(n)).join(","),Ane=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),$h=(t,e)=>Object.keys(e).reduce((n,r)=>P8(P8({},n),{},{[r]:t(r,e[r])}),{});function D8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D8(Object(n),!0).forEach(function(r){Sne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sne(t,e,n){return(e=Cne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cne(t){var e=Tne(t,"string");return typeof e=="symbol"?e:e+""}function Tne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ug=(t,e,n)=>t+(e-t)*n,Gb=t=>{var{from:e,to:n}=t;return e!==n},y9=(t,e,n)=>{var r=$h((i,a)=>{if(Gb(a)){var[o,l]=t(a.from,a.to,a.velocity);return wr(wr({},a),{},{from:o,velocity:l})}return a},e);return n<1?$h((i,a)=>Gb(a)?wr(wr({},a),{},{velocity:Ug(a.velocity,r[i].velocity,n),from:Ug(a.from,r[i].from,n)}):a,e):y9(t,r,n-1)};function Ine(t,e,n,r,i,a){var o,l=r.reduce((v,m)=>wr(wr({},v),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),c=()=>$h((v,m)=>m.from,l),f=()=>!Object.values(l).filter(Gb).length,h=null,p=v=>{o||(o=v);var m=v-o,_=m/n.dt;l=y9(n,l,_),i(wr(wr(wr({},t),e),c())),o=v,f()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{h()})}function One(t,e,n,r,i,a,o){var l=null,c=i.reduce((p,v)=>wr(wr({},p),{},{[v]:[t[v],e[v]]}),{}),f,h=p=>{f||(f=p);var v=(p-f)/r,m=$h((w,A)=>Ug(...A,n(v)),c);if(a(wr(wr(wr({},t),e),m)),v<1)l=o.setTimeout(h);else{var _=$h((w,A)=>Ug(...A,n(1)),c);a(wr(wr(wr({},t),e),_))}};return()=>(l=o.setTimeout(h),()=>{l()})}const Rne=(t,e,n,r,i,a)=>{var o=Ane(t,e);return n.isStepper===!0?Ine(t,e,n,o,i,a):One(t,e,n,r,o,i,a)};var zg=1e-4,x9=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],_9=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),N8=(t,e)=>n=>{var r=x9(t,e);return _9(r,n)},Pne=(t,e)=>n=>{var r=x9(t,e),i=[...r.map((a,o)=>a*o).slice(1),0];return _9(i,n)},M8=function(){for(var e,n,r,i,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([e,r,n,i]=c[1].split(")")[0].split(",").map(_=>parseFloat(_)))}}else o.length===4&&([e,r,n,i]=o);var f=N8(e,n),h=N8(r,i),p=Pne(e,n),v=_=>_>1?1:_<0?0:_,m=_=>{for(var w=_>1?1:_,A=w,S=0;S<8;++S){var I=f(A)-w,O=p(A);if(Math.abs(I-w)<zg||O<zg)return h(A);A=v(A-I/O)}return h(A)};return m.isStepper=!1,m},Dne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(o,l,c)=>{var f=-(o-l)*n,h=c*r,p=c+(f-h)*i/1e3,v=c*i/1e3+o;return Math.abs(v-l)<zg&&Math.abs(p)<zg?[l,0]:[v,p]};return a.isStepper=!0,a.dt=i,a},Nne=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return M8(t);case"spring":return Dne();default:if(t.split("(")[0]==="cubic-bezier")return M8(t)}return typeof t=="function"?t:null};function Mne(t){var e,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...f]=l;if(typeof c=="number"){i=t.setTimeout(a.bind(null,f),c);return}a(c),i=t.setTimeout(a.bind(null,f));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class kne{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function jne(){return Mne(new kne)}var Lne=T.createContext(jne);function Bne(t,e){var n=T.useContext(Lne);return T.useMemo(()=>e??n(t),[t,e,n])}var Fne={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},k8={t:0},s_={t:1};function m0(t){var e=Tr(t,Fne),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:c,children:f}=e,h=Bne(e.animationId,e.animationManager),[p,v]=T.useState(n?k8:s_),m=T.useRef(null);return T.useEffect(()=>{n||v(s_)},[n]),T.useEffect(()=>{if(!n||!r)return xne;var _=Rne(k8,s_,Nne(a),i,v,h.getTimeoutController()),w=()=>{m.current=_()};return h.start([c,o,w,i,l]),()=>{h.stop(),m.current&&m.current(),l()}},[n,r,i,a,o,c,l,h]),f(p.t)}function y0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(Vh(e)),r=T.useRef(t);return r.current!==t&&(n.current=Vh(e),r.current=t),n.current}function j8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j8(Object(n),!0).forEach(function(r){Vne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vne(t,e,n){return(e=Une(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Une(t){var e=zne(t,"string");return typeof e=="symbol"?e:e+""}function zne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hg(){return Hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hg.apply(null,arguments)}var B8=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,v=4;p<v;p++)h[p]=i[p]>a?a:i[p];f="M".concat(t,",").concat(e+o*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(t+l*h[0],",").concat(e)),f+="L ".concat(t+n-l*h[1],",").concat(e),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(e+o*h[1])),f+="L ".concat(t+n,",").concat(e+r-o*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(t+n-l*h[2],",").concat(e+r)),f+="L ".concat(t+l*h[3],",").concat(e+r),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+r-o*h[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);f="M ".concat(t,",").concat(e+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(e,`
            L `).concat(t+n-l*m,",").concat(e,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(e+o*m,`
            L `).concat(t+n,",").concat(e+r-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(e+r,`
            L `).concat(t+l*m,",").concat(e+r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(e+r-o*m," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},Hne={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},b9=t=>{var e=Tr(t,Hne),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var he=n.current.getTotalLength();he&&i(he)}catch{}},[]);var{x:a,y:o,width:l,height:c,radius:f,className:h}=e,{animationEasing:p,animationDuration:v,animationBegin:m,isAnimationActive:_,isUpdateAnimationActive:w}=e,A=T.useRef(l),S=T.useRef(c),I=T.useRef(a),O=T.useRef(o),N=T.useMemo(()=>({x:a,y:o,width:l,height:c,radius:f}),[a,o,l,c,f]),k=y0(N,"rectangle-");if(a!==+a||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var B=vt("recharts-rectangle",h);if(!w)return T.createElement("path",Hg({},ln(e,!0),{className:B,d:B8(a,o,l,c,f)}));var D=A.current,M=S.current,j=I.current,z=O.current,F="0px ".concat(r===-1?1:r,"px"),H="".concat(r,"px 0px"),U=m9(["strokeDasharray"],v,typeof p=="string"?p:void 0);return T.createElement(m0,{animationId:k,key:k,canBegin:r>0,duration:v,easing:p,isActive:w,begin:m},he=>{var be=dn(D,l,he),Y=dn(M,c,he),se=dn(j,a,he),me=dn(z,o,he);n.current&&(A.current=be,S.current=Y,I.current=se,O.current=me);var Se;return _?he>0?Se={transition:U,strokeDasharray:H}:Se={strokeDasharray:F}:Se={strokeDasharray:H},T.createElement("path",Hg({},ln(e,!0),{className:B,d:B8(se,me,be,Y,f),ref:n,style:L8(L8({},Se),e.style)}))})};function w9(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,o=Ln(e,n,r,i),l=Ln(e,n,r,a);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Kb(){return Kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kb.apply(null,arguments)}var $ne=(t,e)=>{var n=lr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},O1=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:c}=t,f=l*(o?1:-1)+r,h=Math.asin(l/f)/Vg,p=c?i:i+a*h,v=Ln(e,n,f,p),m=Ln(e,n,r,p),_=c?i-a*h:i,w=Ln(e,n,f*Math.cos(h*Vg),_);return{center:v,circleTangency:m,lineTangency:w,theta:h}},E9=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=t,l=$ne(a,o),c=a+l,f=Ln(e,n,i,a),h=Ln(e,n,i,c),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var v=Ln(e,n,r,a),m=Ln(e,n,r,c);p+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},qne=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:f}=t,h=lr(f-c),{circleTangency:p,lineTangency:v,theta:m}=O1({cx:e,cy:n,radius:i,angle:c,sign:h,cornerRadius:a,cornerIsExternal:l}),{circleTangency:_,lineTangency:w,theta:A}=O1({cx:e,cy:n,radius:i,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:l}),S=l?Math.abs(c-f):Math.abs(c-f)-m-A;if(S<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):E9({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:f});var I="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:N,theta:k}=O1({cx:e,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:B,lineTangency:D,theta:M}=O1({cx:e,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),j=l?Math.abs(c-f):Math.abs(c-f)-k-M;if(j<0&&a===0)return"".concat(I,"L").concat(e,",").concat(n,"Z");I+="L".concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(j>180),",").concat(+(h>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,"Z")}else I+="L".concat(e,",").concat(n,"Z");return I},Gne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},A9=t=>{var e=Tr(t,Gne),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:h,className:p}=e;if(a<i||f===h)return null;var v=vt("recharts-sector",p),m=a-i,_=jr(o,m,0,!0),w;return _>0&&Math.abs(f-h)<360?w=qne({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(_,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:h}):w=E9({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h}),T.createElement("path",Kb({},ln(e,!0),{className:v,d:w}))};function Kne(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:l,cy:c,innerRadius:f,outerRadius:h,angle:p}=e,v=Ln(l,c,f,p),m=Ln(l,c,h,p);r=v.x,i=v.y,a=m.x,o=m.y}else return w9(e);return[{x:r,y:i},{x:a,y:o}]}var l_={},u_={},c_={},F8;function Wne(){return F8||(F8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PM();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(c_)),c_}var V8;function Xne(){return V8||(V8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wne();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(u_)),u_}var U8;function Yne(){return U8||(U8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DM(),n=Xne();function r(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),c=new Array(l);for(let f=0;f<l;f++)c[f]=i,i+=o;return c}t.range=r})(l_)),l_}var f_,z8;function Qne(){return z8||(z8=1,f_=Yne().range),f_}var Zne=Qne();const S9=ho(Zne);function cl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sA(t){let e,n,r;t.length!==2?(e=cl,n=(l,c)=>cl(t(l),c),r=(l,c)=>t(l)-c):(e=t===cl||t===Jne?t:ere,n=t,r=t);function i(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(l[p],c)<0?f=p+1:h=p}while(f<h)}return f}function a(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(l[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function o(l,c,f=0,h=l.length){const p=i(l,c,f,h-1);return p>f&&r(l[p-1],c)>-r(l[p],c)?p-1:p}return{left:i,center:o,right:a}}function ere(){return 0}function C9(t){return t===null?NaN:+t}function*tre(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const nre=sA(cl),x0=nre.right;sA(C9).center;class H8 extends Map{constructor(e,n=are){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get($8(this,e))}has(e){return super.has($8(this,e))}set(e,n){return super.set(rre(this,e),n)}delete(e){return super.delete(ire(this,e))}}function $8({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function rre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ire({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function are(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ore(t=cl){if(t===cl)return T9;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function T9(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const sre=Math.sqrt(50),lre=Math.sqrt(10),ure=Math.sqrt(2);function $g(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=sre?10:a>=lre?5:a>=ure?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/o,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*o,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=n&&n<2?$g(t,e,n*2):[l,c,f]}function Wb(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?$g(e,t,n):$g(t,e,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(o<0)for(let f=0;f<l;++f)c[f]=(a-f)/-o;else for(let f=0;f<l;++f)c[f]=(a-f)*o;else if(o<0)for(let f=0;f<l;++f)c[f]=(i+f)/-o;else for(let f=0;f<l;++f)c[f]=(i+f)*o;return c}function Xb(t,e,n){return e=+e,t=+t,n=+n,$g(t,e,n)[2]}function Yb(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Xb(e,t,n):Xb(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function q8(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function G8(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function I9(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?T9:ore(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),m=Math.max(n,Math.floor(e-f*p/c+v)),_=Math.min(r,Math.floor(e+(c-f)*p/c+v));I9(t,e,m,_,i)}const a=t[e];let o=n,l=r;for(ah(t,n,e),i(t[r],a)>0&&ah(t,n,r);o<l;){for(ah(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?ah(t,n,l):(++l,ah(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function ah(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function cre(t,e,n){if(t=Float64Array.from(tre(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return G8(t);if(e>=1)return q8(t);var r,i=(r-1)*e,a=Math.floor(i),o=q8(I9(t,a).subarray(0,a+1)),l=G8(t.subarray(a+1));return o+(l-o)*(i-a)}}function fre(t,e,n=C9){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function dre(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function sa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ss(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Qb=Symbol("implicit");function lA(){var t=new H8,e=[],n=[],r=Qb;function i(a){let o=t.get(a);if(o===void 0){if(r!==Qb)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new H8;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return lA(e,n).unknown(r)},sa.apply(i,arguments),i}function uA(){var t=lA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,l=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var v=e().length,m=i<r,_=m?i:r,w=m?r:i;a=(w-_)/Math.max(1,v-c+f*2),l&&(a=Math.floor(a)),_+=(w-_-a*(v-c))*h,o=a*(1-c),l&&(_=Math.round(_),o=Math.round(o));var A=dre(v).map(function(S){return _+a*S});return n(m?A.reverse():A)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(v){return arguments.length?(l=!!v,p()):l},t.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),p()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),p()):c},t.paddingOuter=function(v){return arguments.length?(f=+v,p()):f},t.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),p()):h},t.copy=function(){return uA(e(),[r,i]).round(l).paddingInner(c).paddingOuter(f).align(h)},sa.apply(p(),arguments)}function O9(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return O9(e())},t}function hre(){return O9(uA.apply(null,arguments).paddingInner(1))}function cA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function R9(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function _0(){}var qh=.7,qg=1/qh,rf="\\s*([+-]?\\d+)\\s*",Gh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pre=/^#([0-9a-f]{3,8})$/,gre=new RegExp(`^rgb\\(${rf},${rf},${rf}\\)$`),vre=new RegExp(`^rgb\\(${oo},${oo},${oo}\\)$`),mre=new RegExp(`^rgba\\(${rf},${rf},${rf},${Gh}\\)$`),yre=new RegExp(`^rgba\\(${oo},${oo},${oo},${Gh}\\)$`),xre=new RegExp(`^hsl\\(${Gh},${oo},${oo}\\)$`),_re=new RegExp(`^hsla\\(${Gh},${oo},${oo},${Gh}\\)$`),K8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cA(_0,Kh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:W8,formatHex:W8,formatHex8:bre,formatHsl:wre,formatRgb:X8,toString:X8});function W8(){return this.rgb().formatHex()}function bre(){return this.rgb().formatHex8()}function wre(){return P9(this).formatHsl()}function X8(){return this.rgb().formatRgb()}function Kh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=pre.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Y8(e):n===3?new si(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?R1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?R1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gre.exec(t))?new si(e[1],e[2],e[3],1):(e=vre.exec(t))?new si(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mre.exec(t))?R1(e[1],e[2],e[3],e[4]):(e=yre.exec(t))?R1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=xre.exec(t))?J8(e[1],e[2]/100,e[3]/100,1):(e=_re.exec(t))?J8(e[1],e[2]/100,e[3]/100,e[4]):K8.hasOwnProperty(t)?Y8(K8[t]):t==="transparent"?new si(NaN,NaN,NaN,0):null}function Y8(t){return new si(t>>16&255,t>>8&255,t&255,1)}function R1(t,e,n,r){return r<=0&&(t=e=n=NaN),new si(t,e,n,r)}function Ere(t){return t instanceof _0||(t=Kh(t)),t?(t=t.rgb(),new si(t.r,t.g,t.b,t.opacity)):new si}function Zb(t,e,n,r){return arguments.length===1?Ere(t):new si(t,e,n,r??1)}function si(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cA(si,Zb,R9(_0,{brighter(t){return t=t==null?qg:Math.pow(qg,t),new si(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?qh:Math.pow(qh,t),new si(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new si(Ru(this.r),Ru(this.g),Ru(this.b),Gg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Q8,formatHex:Q8,formatHex8:Are,formatRgb:Z8,toString:Z8}));function Q8(){return`#${wu(this.r)}${wu(this.g)}${wu(this.b)}`}function Are(){return`#${wu(this.r)}${wu(this.g)}${wu(this.b)}${wu((isNaN(this.opacity)?1:this.opacity)*255)}`}function Z8(){const t=Gg(this.opacity);return`${t===1?"rgb(":"rgba("}${Ru(this.r)}, ${Ru(this.g)}, ${Ru(this.b)}${t===1?")":`, ${t})`}`}function Gg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ru(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wu(t){return t=Ru(t),(t<16?"0":"")+t.toString(16)}function J8(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Sa(t,e,n,r)}function P9(t){if(t instanceof Sa)return new Sa(t.h,t.s,t.l,t.opacity);if(t instanceof _0||(t=Kh(t)),!t)return new Sa;if(t instanceof Sa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-i,c=(a+i)/2;return l?(e===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Sa(o,l,c,t.opacity)}function Sre(t,e,n,r){return arguments.length===1?P9(t):new Sa(t,e,n,r??1)}function Sa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cA(Sa,Sre,R9(_0,{brighter(t){return t=t==null?qg:Math.pow(qg,t),new Sa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?qh:Math.pow(qh,t),new Sa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new si(d_(t>=240?t-240:t+120,i,r),d_(t,i,r),d_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Sa(eR(this.h),P1(this.s),P1(this.l),Gg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Gg(this.opacity);return`${t===1?"hsl(":"hsla("}${eR(this.h)}, ${P1(this.s)*100}%, ${P1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function eR(t){return t=(t||0)%360,t<0?t+360:t}function P1(t){return Math.max(0,Math.min(1,t||0))}function d_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const fA=t=>()=>t;function Cre(t,e){return function(n){return t+n*e}}function Tre(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ire(t){return(t=+t)==1?D9:function(e,n){return n-e?Tre(e,n,t):fA(isNaN(e)?n:e)}}function D9(t,e){var n=e-t;return n?Cre(t,n):fA(isNaN(t)?e:t)}const tR=(function t(e){var n=Ire(e);function r(i,a){var o=n((i=Zb(i)).r,(a=Zb(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),f=D9(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function Ore(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Rre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Pre(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Bf(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function Dre(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Kg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Nre(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Bf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Jb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,h_=new RegExp(Jb.source,"g");function Mre(t){return function(){return t}}function kre(t){return function(e){return t(e)+""}}function jre(t,e){var n=Jb.lastIndex=h_.lastIndex=0,r,i,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=Jb.exec(t))&&(i=h_.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:Kg(r,i)})),n=h_.lastIndex;return n<e.length&&(a=e.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?kre(c[0].x):Mre(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)l[(p=c[h]).i]=p.x(f);return l.join("")})}function Bf(t,e){var n=typeof e,r;return e==null||n==="boolean"?fA(e):(n==="number"?Kg:n==="string"?(r=Kh(e))?(e=r,tR):jre:e instanceof Kh?tR:e instanceof Date?Dre:Rre(e)?Ore:Array.isArray(e)?Pre:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Nre:Kg)(t,e)}function dA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Lre(t,e){e===void 0&&(e=t,t=Bf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function Bre(t){return function(){return t}}function Wg(t){return+t}var nR=[0,1];function Kr(t){return t}function ew(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Bre(isNaN(e)?NaN:.5)}function Fre(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Vre(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=ew(i,r),a=n(o,a)):(r=ew(r,i),a=n(a,o)),function(l){return a(r(l))}}function Ure(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=ew(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(l){var c=x0(t,l,1,r)-1;return a[c](i[c](l))}}function b0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fm(){var t=nR,e=nR,n=Bf,r,i,a,o=Kr,l,c,f;function h(){var v=Math.min(t.length,e.length);return o!==Kr&&(o=Fre(t[0],t[v-1])),l=v>2?Ure:Vre,c=f=null,p}function p(v){return v==null||isNaN(v=+v)?a:(c||(c=l(t.map(r),e,n)))(r(o(v)))}return p.invert=function(v){return o(i((f||(f=l(e,t.map(r),Kg)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,Wg),h()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),n=dA,h()},p.clamp=function(v){return arguments.length?(o=v?!0:Kr,h()):o!==Kr},p.interpolate=function(v){return arguments.length?(n=v,h()):n},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,m){return r=v,i=m,h()}}function hA(){return fm()(Kr,Kr)}function zre(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Xg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function xf(t){return t=Xg(Math.abs(t)),t?t[1]:NaN}function Hre(t,e){return function(n,r){for(var i=n.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function $re(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var qre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wh(t){if(!(e=qre.exec(t)))throw new Error("invalid format: "+t);var e;return new pA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Wh.prototype=pA.prototype;function pA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}pA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gre(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var N9;function Kre(t,e){var n=Xg(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(N9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Xg(t,Math.max(0,e+a-1))[0]}function rR(t,e){var n=Xg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const iR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:zre,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>rR(t*100,e),r:rR,s:Kre,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function aR(t){return t}var oR=Array.prototype.map,sR=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Wre(t){var e=t.grouping===void 0||t.thousands===void 0?aR:Hre(oR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?aR:$re(oR.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=Wh(p);var v=p.fill,m=p.align,_=p.sign,w=p.symbol,A=p.zero,S=p.width,I=p.comma,O=p.precision,N=p.trim,k=p.type;k==="n"?(I=!0,k="g"):iR[k]||(O===void 0&&(O=12),N=!0,k="g"),(A||v==="0"&&m==="=")&&(A=!0,v="0",m="=");var B=w==="$"?n:w==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",D=w==="$"?r:/[%p]/.test(k)?o:"",M=iR[k],j=/[defgprs%]/.test(k);O=O===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function z(F){var H=B,U=D,he,be,Y;if(k==="c")U=M(F)+U,F="";else{F=+F;var se=F<0||1/F<0;if(F=isNaN(F)?c:M(Math.abs(F),O),N&&(F=Gre(F)),se&&+F==0&&_!=="+"&&(se=!1),H=(se?_==="("?_:l:_==="-"||_==="("?"":_)+H,U=(k==="s"?sR[8+N9/3]:"")+U+(se&&_==="("?")":""),j){for(he=-1,be=F.length;++he<be;)if(Y=F.charCodeAt(he),48>Y||Y>57){U=(Y===46?i+F.slice(he+1):F.slice(he))+U,F=F.slice(0,he);break}}}I&&!A&&(F=e(F,1/0));var me=H.length+F.length+U.length,Se=me<S?new Array(S-me+1).join(v):"";switch(I&&A&&(F=e(Se+F,Se.length?S-U.length:1/0),Se=""),m){case"<":F=H+F+U+Se;break;case"=":F=H+Se+F+U;break;case"^":F=Se.slice(0,me=Se.length>>1)+H+F+U+Se.slice(me);break;default:F=Se+H+F+U;break}return a(F)}return z.toString=function(){return p+""},z}function h(p,v){var m=f((p=Wh(p),p.type="f",p)),_=Math.max(-8,Math.min(8,Math.floor(xf(v)/3)))*3,w=Math.pow(10,-_),A=sR[8+_/3];return function(S){return m(w*S)+A}}return{format:f,formatPrefix:h}}var D1,gA,M9;Xre({thousands:",",grouping:[3],currency:["$",""]});function Xre(t){return D1=Wre(t),gA=D1.format,M9=D1.formatPrefix,D1}function Yre(t){return Math.max(0,-xf(Math.abs(t)))}function Qre(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xf(e)/3)))*3-xf(Math.abs(t)))}function Zre(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,xf(e)-xf(t))+1}function k9(t,e,n,r){var i=Yb(t,e,n),a;switch(r=Wh(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Qre(i,o))&&(r.precision=a),M9(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Zre(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Yre(i))&&(r.precision=a-(r.type==="%")*2);break}}return gA(r)}function Dl(t){var e=t.domain;return t.ticks=function(n){var r=e();return Wb(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return k9(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],l=r[a],c,f,h=10;for(l<o&&(f=o,o=l,l=f,f=i,i=a,a=f);h-- >0;){if(f=Xb(o,l,n),f===c)return r[i]=o,r[a]=l,e(r);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function j9(){var t=hA();return t.copy=function(){return b0(t,j9())},sa.apply(t,arguments),Dl(t)}function L9(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Wg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return L9(t).unknown(e)},t=arguments.length?Array.from(t,Wg):[0,1],Dl(n)}function B9(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function lR(t){return Math.log(t)}function uR(t){return Math.exp(t)}function Jre(t){return-Math.log(-t)}function eie(t){return-Math.exp(-t)}function tie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function nie(t){return t===10?tie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function rie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function cR(t){return(e,n)=>-t(-e,n)}function vA(t){const e=t(lR,uR),n=e.domain;let r=10,i,a;function o(){return i=rie(r),a=nie(r),n()[0]<0?(i=cR(i),a=cR(a),t(Jre,eie)):t(lR,uR),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let v=i(f),m=i(h),_,w;const A=l==null?10:+l;let S=[];if(!(r%1)&&m-v<A){if(v=Math.floor(v),m=Math.ceil(m),f>0){for(;v<=m;++v)for(_=1;_<r;++_)if(w=v<0?_/a(-v):_*a(v),!(w<f)){if(w>h)break;S.push(w)}}else for(;v<=m;++v)for(_=r-1;_>=1;--_)if(w=v>0?_/a(-v):_*a(v),!(w<f)){if(w>h)break;S.push(w)}S.length*2<A&&(S=Wb(f,h,A))}else S=Wb(v,m,Math.min(m-v,A)).map(a);return p?S.reverse():S},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Wh(c)).precision==null&&(c.trim=!0),c=gA(c)),l===1/0)return c;const f=Math.max(1,r*l/e.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?c(h):""}},e.nice=()=>n(B9(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function F9(){const t=vA(fm()).domain([1,10]);return t.copy=()=>b0(t,F9()).base(t.base()),sa.apply(t,arguments),t}function fR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function dR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function mA(t){var e=1,n=t(fR(e),dR(e));return n.constant=function(r){return arguments.length?t(fR(e=+r),dR(e)):e},Dl(n)}function V9(){var t=mA(fm());return t.copy=function(){return b0(t,V9()).constant(t.constant())},sa.apply(t,arguments)}function hR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function iie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function aie(t){return t<0?-t*t:t*t}function yA(t){var e=t(Kr,Kr),n=1;function r(){return n===1?t(Kr,Kr):n===.5?t(iie,aie):t(hR(n),hR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Dl(e)}function xA(){var t=yA(fm());return t.copy=function(){return b0(t,xA()).exponent(t.exponent())},sa.apply(t,arguments),t}function oie(){return xA.apply(null,arguments).exponent(.5)}function pR(t){return Math.sign(t)*t*t}function sie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function U9(){var t=hA(),e=[0,1],n=!1,r;function i(a){var o=sie(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(pR(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Wg)).map(pR)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return U9(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},sa.apply(i,arguments),Dl(i)}function z9(){var t=[],e=[],n=[],r;function i(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=fre(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:e[x0(n,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(cl),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return z9().domain(t).range(e).unknown(r)},sa.apply(a,arguments)}function H9(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[x0(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return H9().domain([t,e]).range(i).unknown(a)},sa.apply(Dl(o),arguments)}function $9(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[x0(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return $9().domain(t).range(e).unknown(n)},sa.apply(i,arguments)}const p_=new Date,g_=new Date;function Qn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let f;do c.push(f=new Date(+a)),e(a,l),t(a);while(f<a&&a<o);return c},i.filter=a=>Qn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(p_.setTime(+a),g_.setTime(+o),t(p_),t(g_),Math.floor(n(p_,g_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Yg=Qn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Yg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Qn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Yg);Yg.range;const Ho=1e3,ta=Ho*60,$o=ta*60,ts=$o*24,_A=ts*7,gR=ts*30,v_=ts*365,Eu=Qn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ho)},(t,e)=>(e-t)/Ho,t=>t.getUTCSeconds());Eu.range;const bA=Qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ho)},(t,e)=>{t.setTime(+t+e*ta)},(t,e)=>(e-t)/ta,t=>t.getMinutes());bA.range;const wA=Qn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ta)},(t,e)=>(e-t)/ta,t=>t.getUTCMinutes());wA.range;const EA=Qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ho-t.getMinutes()*ta)},(t,e)=>{t.setTime(+t+e*$o)},(t,e)=>(e-t)/$o,t=>t.getHours());EA.range;const AA=Qn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*$o)},(t,e)=>(e-t)/$o,t=>t.getUTCHours());AA.range;const w0=Qn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ta)/ts,t=>t.getDate()-1);w0.range;const dm=Qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ts,t=>t.getUTCDate()-1);dm.range;const q9=Qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ts,t=>Math.floor(t/ts));q9.range;function Yu(t){return Qn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ta)/_A)}const hm=Yu(0),Qg=Yu(1),lie=Yu(2),uie=Yu(3),_f=Yu(4),cie=Yu(5),fie=Yu(6);hm.range;Qg.range;lie.range;uie.range;_f.range;cie.range;fie.range;function Qu(t){return Qn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/_A)}const pm=Qu(0),Zg=Qu(1),die=Qu(2),hie=Qu(3),bf=Qu(4),pie=Qu(5),gie=Qu(6);pm.range;Zg.range;die.range;hie.range;bf.range;pie.range;gie.range;const SA=Qn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());SA.range;const CA=Qn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());CA.range;const ns=Qn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ns.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ns.range;const rs=Qn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());rs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});rs.range;function G9(t,e,n,r,i,a){const o=[[Eu,1,Ho],[Eu,5,5*Ho],[Eu,15,15*Ho],[Eu,30,30*Ho],[a,1,ta],[a,5,5*ta],[a,15,15*ta],[a,30,30*ta],[i,1,$o],[i,3,3*$o],[i,6,6*$o],[i,12,12*$o],[r,1,ts],[r,2,2*ts],[n,1,_A],[e,1,gR],[e,3,3*gR],[t,1,v_]];function l(f,h,p){const v=h<f;v&&([f,h]=[h,f]);const m=p&&typeof p.range=="function"?p:c(f,h,p),_=m?m.range(f,+h+1):[];return v?_.reverse():_}function c(f,h,p){const v=Math.abs(h-f)/p,m=sA(([,,A])=>A).right(o,v);if(m===o.length)return t.every(Yb(f/v_,h/v_,p));if(m===0)return Yg.every(Math.max(Yb(f,h,p),1));const[_,w]=o[v/o[m-1][2]<o[m][2]/v?m-1:m];return _.every(w)}return[l,c]}const[vie,mie]=G9(rs,CA,pm,q9,AA,wA),[yie,xie]=G9(ns,SA,hm,w0,EA,bA);function m_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function y_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function oh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function _ie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,f=sh(i),h=lh(i),p=sh(a),v=lh(a),m=sh(o),_=lh(o),w=sh(l),A=lh(l),S=sh(c),I=lh(c),O={a:se,A:me,b:Se,B:Ge,c:null,d:bR,e:bR,f:Hie,g:Jie,G:tae,H:Vie,I:Uie,j:zie,L:K9,m:$ie,M:qie,p:G,q:ee,Q:AR,s:SR,S:Gie,u:Kie,U:Wie,V:Xie,w:Yie,W:Qie,x:null,X:null,y:Zie,Y:eae,Z:nae,"%":ER},N={a:ye,A:_e,b:Oe,B:He,c:null,d:wR,e:wR,f:oae,g:vae,G:yae,H:rae,I:iae,j:aae,L:X9,m:sae,M:lae,p:tt,q:pn,Q:AR,s:SR,S:uae,u:cae,U:fae,V:dae,w:hae,W:pae,x:null,X:null,y:gae,Y:mae,Z:xae,"%":ER},k={a:z,A:F,b:H,B:U,c:he,d:xR,e:xR,f:jie,g:yR,G:mR,H:_R,I:_R,j:Die,L:kie,m:Pie,M:Nie,p:j,q:Rie,Q:Bie,s:Fie,S:Mie,u:Sie,U:Cie,V:Tie,w:Aie,W:Iie,x:be,X:Y,y:yR,Y:mR,Z:Oie,"%":Lie};O.x=B(n,O),O.X=B(r,O),O.c=B(e,O),N.x=B(n,N),N.X=B(r,N),N.c=B(e,N);function B(pe,Ve){return function(We){var de=[],gn=-1,Qe=0,Fn=pe.length,vn,di,fs;for(We instanceof Date||(We=new Date(+We));++gn<Fn;)pe.charCodeAt(gn)===37&&(de.push(pe.slice(Qe,gn)),(di=vR[vn=pe.charAt(++gn)])!=null?vn=pe.charAt(++gn):di=vn==="e"?" ":"0",(fs=Ve[vn])&&(vn=fs(We,di)),de.push(vn),Qe=gn+1);return de.push(pe.slice(Qe,gn)),de.join("")}}function D(pe,Ve){return function(We){var de=oh(1900,void 0,1),gn=M(de,pe,We+="",0),Qe,Fn;if(gn!=We.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(Ve&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Qe=y_(oh(de.y,0,1)),Fn=Qe.getUTCDay(),Qe=Fn>4||Fn===0?Zg.ceil(Qe):Zg(Qe),Qe=dm.offset(Qe,(de.V-1)*7),de.y=Qe.getUTCFullYear(),de.m=Qe.getUTCMonth(),de.d=Qe.getUTCDate()+(de.w+6)%7):(Qe=m_(oh(de.y,0,1)),Fn=Qe.getDay(),Qe=Fn>4||Fn===0?Qg.ceil(Qe):Qg(Qe),Qe=w0.offset(Qe,(de.V-1)*7),de.y=Qe.getFullYear(),de.m=Qe.getMonth(),de.d=Qe.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),Fn="Z"in de?y_(oh(de.y,0,1)).getUTCDay():m_(oh(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(Fn+5)%7:de.w+de.U*7-(Fn+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,y_(de)):m_(de)}}function M(pe,Ve,We,de){for(var gn=0,Qe=Ve.length,Fn=We.length,vn,di;gn<Qe;){if(de>=Fn)return-1;if(vn=Ve.charCodeAt(gn++),vn===37){if(vn=Ve.charAt(gn++),di=k[vn in vR?Ve.charAt(gn++):vn],!di||(de=di(pe,We,de))<0)return-1}else if(vn!=We.charCodeAt(de++))return-1}return de}function j(pe,Ve,We){var de=f.exec(Ve.slice(We));return de?(pe.p=h.get(de[0].toLowerCase()),We+de[0].length):-1}function z(pe,Ve,We){var de=m.exec(Ve.slice(We));return de?(pe.w=_.get(de[0].toLowerCase()),We+de[0].length):-1}function F(pe,Ve,We){var de=p.exec(Ve.slice(We));return de?(pe.w=v.get(de[0].toLowerCase()),We+de[0].length):-1}function H(pe,Ve,We){var de=S.exec(Ve.slice(We));return de?(pe.m=I.get(de[0].toLowerCase()),We+de[0].length):-1}function U(pe,Ve,We){var de=w.exec(Ve.slice(We));return de?(pe.m=A.get(de[0].toLowerCase()),We+de[0].length):-1}function he(pe,Ve,We){return M(pe,e,Ve,We)}function be(pe,Ve,We){return M(pe,n,Ve,We)}function Y(pe,Ve,We){return M(pe,r,Ve,We)}function se(pe){return o[pe.getDay()]}function me(pe){return a[pe.getDay()]}function Se(pe){return c[pe.getMonth()]}function Ge(pe){return l[pe.getMonth()]}function G(pe){return i[+(pe.getHours()>=12)]}function ee(pe){return 1+~~(pe.getMonth()/3)}function ye(pe){return o[pe.getUTCDay()]}function _e(pe){return a[pe.getUTCDay()]}function Oe(pe){return c[pe.getUTCMonth()]}function He(pe){return l[pe.getUTCMonth()]}function tt(pe){return i[+(pe.getUTCHours()>=12)]}function pn(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Ve=B(pe+="",O);return Ve.toString=function(){return pe},Ve},parse:function(pe){var Ve=D(pe+="",!1);return Ve.toString=function(){return pe},Ve},utcFormat:function(pe){var Ve=B(pe+="",N);return Ve.toString=function(){return pe},Ve},utcParse:function(pe){var Ve=D(pe+="",!0);return Ve.toString=function(){return pe},Ve}}}var vR={"-":"",_:" ",0:"0"},ur=/^\s*\d+/,bie=/^%/,wie=/[\\^$*+?|[\]().{}]/g;function mt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Eie(t){return t.replace(wie,"\\$&")}function sh(t){return new RegExp("^(?:"+t.map(Eie).join("|")+")","i")}function lh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Aie(t,e,n){var r=ur.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Sie(t,e,n){var r=ur.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Cie(t,e,n){var r=ur.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Tie(t,e,n){var r=ur.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Iie(t,e,n){var r=ur.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function mR(t,e,n){var r=ur.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function yR(t,e,n){var r=ur.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Oie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Rie(t,e,n){var r=ur.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Pie(t,e,n){var r=ur.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function xR(t,e,n){var r=ur.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Die(t,e,n){var r=ur.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function _R(t,e,n){var r=ur.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Nie(t,e,n){var r=ur.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Mie(t,e,n){var r=ur.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function kie(t,e,n){var r=ur.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function jie(t,e,n){var r=ur.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Lie(t,e,n){var r=bie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Bie(t,e,n){var r=ur.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Fie(t,e,n){var r=ur.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function bR(t,e){return mt(t.getDate(),e,2)}function Vie(t,e){return mt(t.getHours(),e,2)}function Uie(t,e){return mt(t.getHours()%12||12,e,2)}function zie(t,e){return mt(1+w0.count(ns(t),t),e,3)}function K9(t,e){return mt(t.getMilliseconds(),e,3)}function Hie(t,e){return K9(t,e)+"000"}function $ie(t,e){return mt(t.getMonth()+1,e,2)}function qie(t,e){return mt(t.getMinutes(),e,2)}function Gie(t,e){return mt(t.getSeconds(),e,2)}function Kie(t){var e=t.getDay();return e===0?7:e}function Wie(t,e){return mt(hm.count(ns(t)-1,t),e,2)}function W9(t){var e=t.getDay();return e>=4||e===0?_f(t):_f.ceil(t)}function Xie(t,e){return t=W9(t),mt(_f.count(ns(t),t)+(ns(t).getDay()===4),e,2)}function Yie(t){return t.getDay()}function Qie(t,e){return mt(Qg.count(ns(t)-1,t),e,2)}function Zie(t,e){return mt(t.getFullYear()%100,e,2)}function Jie(t,e){return t=W9(t),mt(t.getFullYear()%100,e,2)}function eae(t,e){return mt(t.getFullYear()%1e4,e,4)}function tae(t,e){var n=t.getDay();return t=n>=4||n===0?_f(t):_f.ceil(t),mt(t.getFullYear()%1e4,e,4)}function nae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function wR(t,e){return mt(t.getUTCDate(),e,2)}function rae(t,e){return mt(t.getUTCHours(),e,2)}function iae(t,e){return mt(t.getUTCHours()%12||12,e,2)}function aae(t,e){return mt(1+dm.count(rs(t),t),e,3)}function X9(t,e){return mt(t.getUTCMilliseconds(),e,3)}function oae(t,e){return X9(t,e)+"000"}function sae(t,e){return mt(t.getUTCMonth()+1,e,2)}function lae(t,e){return mt(t.getUTCMinutes(),e,2)}function uae(t,e){return mt(t.getUTCSeconds(),e,2)}function cae(t){var e=t.getUTCDay();return e===0?7:e}function fae(t,e){return mt(pm.count(rs(t)-1,t),e,2)}function Y9(t){var e=t.getUTCDay();return e>=4||e===0?bf(t):bf.ceil(t)}function dae(t,e){return t=Y9(t),mt(bf.count(rs(t),t)+(rs(t).getUTCDay()===4),e,2)}function hae(t){return t.getUTCDay()}function pae(t,e){return mt(Zg.count(rs(t)-1,t),e,2)}function gae(t,e){return mt(t.getUTCFullYear()%100,e,2)}function vae(t,e){return t=Y9(t),mt(t.getUTCFullYear()%100,e,2)}function mae(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function yae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?bf(t):bf.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function xae(){return"+0000"}function ER(){return"%"}function AR(t){return+t}function SR(t){return Math.floor(+t/1e3)}var zc,Q9,Z9;_ae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _ae(t){return zc=_ie(t),Q9=zc.format,zc.parse,Z9=zc.utcFormat,zc.utcParse,zc}function bae(t){return new Date(t)}function wae(t){return t instanceof Date?+t:+new Date(+t)}function TA(t,e,n,r,i,a,o,l,c,f){var h=hA(),p=h.invert,v=h.domain,m=f(".%L"),_=f(":%S"),w=f("%I:%M"),A=f("%I %p"),S=f("%a %d"),I=f("%b %d"),O=f("%B"),N=f("%Y");function k(B){return(c(B)<B?m:l(B)<B?_:o(B)<B?w:a(B)<B?A:r(B)<B?i(B)<B?S:I:n(B)<B?O:N)(B)}return h.invert=function(B){return new Date(p(B))},h.domain=function(B){return arguments.length?v(Array.from(B,wae)):v().map(bae)},h.ticks=function(B){var D=v();return t(D[0],D[D.length-1],B??10)},h.tickFormat=function(B,D){return D==null?k:f(D)},h.nice=function(B){var D=v();return(!B||typeof B.range!="function")&&(B=e(D[0],D[D.length-1],B??10)),B?v(B9(D,B)):h},h.copy=function(){return b0(h,TA(t,e,n,r,i,a,o,l,c,f))},h}function Eae(){return sa.apply(TA(yie,xie,ns,SA,hm,w0,EA,bA,Eu,Q9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Aae(){return sa.apply(TA(vie,mie,rs,CA,pm,dm,AA,wA,Eu,Z9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gm(){var t=0,e=1,n,r,i,a,o=Kr,l=!1,c;function f(p){return p==null||isNaN(p=+p)?c:o(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(o=p,f):o};function h(p){return function(v){var m,_;return arguments.length?([m,_]=v,o=p(m,_),f):[o(0),o(1)]}}return f.range=h(Bf),f.rangeRound=h(dA),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function Nl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function J9(){var t=Dl(gm()(Kr));return t.copy=function(){return Nl(t,J9())},ss.apply(t,arguments)}function ek(){var t=vA(gm()).domain([1,10]);return t.copy=function(){return Nl(t,ek()).base(t.base())},ss.apply(t,arguments)}function tk(){var t=mA(gm());return t.copy=function(){return Nl(t,tk()).constant(t.constant())},ss.apply(t,arguments)}function IA(){var t=yA(gm());return t.copy=function(){return Nl(t,IA()).exponent(t.exponent())},ss.apply(t,arguments)}function Sae(){return IA.apply(null,arguments).exponent(.5)}function nk(){var t=[],e=Kr;function n(r){if(r!=null&&!isNaN(r=+r))return e((x0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(cl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>cre(t,a/r))},n.copy=function(){return nk(e).domain(t)},ss.apply(n,arguments)}function vm(){var t=0,e=.5,n=1,r=1,i,a,o,l,c,f=Kr,h,p=!1,v;function m(w){return isNaN(w=+w)?v:(w=.5+((w=+h(w))-a)*(r*w<r*a?l:c),f(p?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([t,e,n]=w,i=h(t=+t),a=h(e=+e),o=h(n=+n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(w){return arguments.length?(p=!!w,m):p},m.interpolator=function(w){return arguments.length?(f=w,m):f};function _(w){return function(A){var S,I,O;return arguments.length?([S,I,O]=A,f=Lre(w,[S,I,O]),m):[f(0),f(.5),f(1)]}}return m.range=_(Bf),m.rangeRound=_(dA),m.unknown=function(w){return arguments.length?(v=w,m):v},function(w){return h=w,i=w(t),a=w(e),o=w(n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,m}}function rk(){var t=Dl(vm()(Kr));return t.copy=function(){return Nl(t,rk())},ss.apply(t,arguments)}function ik(){var t=vA(vm()).domain([.1,1,10]);return t.copy=function(){return Nl(t,ik()).base(t.base())},ss.apply(t,arguments)}function ak(){var t=mA(vm());return t.copy=function(){return Nl(t,ak()).constant(t.constant())},ss.apply(t,arguments)}function OA(){var t=yA(vm());return t.copy=function(){return Nl(t,OA()).exponent(t.exponent())},ss.apply(t,arguments)}function Cae(){return OA.apply(null,arguments).exponent(.5)}const bh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:uA,scaleDiverging:rk,scaleDivergingLog:ik,scaleDivergingPow:OA,scaleDivergingSqrt:Cae,scaleDivergingSymlog:ak,scaleIdentity:L9,scaleImplicit:Qb,scaleLinear:j9,scaleLog:F9,scaleOrdinal:lA,scalePoint:hre,scalePow:xA,scaleQuantile:z9,scaleQuantize:H9,scaleRadial:U9,scaleSequential:J9,scaleSequentialLog:ek,scaleSequentialPow:IA,scaleSequentialQuantile:nk,scaleSequentialSqrt:Sae,scaleSequentialSymlog:tk,scaleSqrt:oie,scaleSymlog:V9,scaleThreshold:$9,scaleTime:Eae,scaleUtc:Aae,tickFormat:k9},Symbol.toStringTag,{value:"Module"}));var Ml=t=>t.chartData,RA=ne([Ml],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),mm=(t,e,n,r)=>r?RA(t):Ml(t);function wf(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Di(e)&&Di(n))return!0}return!1}function CR(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Tae(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Di(n))i=n;else if(typeof n=="function")return;if(Di(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(wf(o))return o}}function Iae(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(wf(r))return CR(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,l;if(i==="auto")e!=null&&(o=Math.min(...e));else if(Re(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e?.[0]))}catch{}else if(typeof i=="string"&&v8.test(i)){var c=v8.exec(i);if(c==null||e==null)o=void 0;else{var f=+c[1];o=e[0]-f}}else o=e?.[0];if(a==="auto")e!=null&&(l=Math.max(...e));else if(Re(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e?.[1]))}catch{}else if(typeof a=="string"&&m8.test(a)){var h=m8.exec(a);if(h==null||e==null)l=void 0;else{var p=+h[1];l=e[1]+p}}else l=e?.[1];var v=[o,l];if(wf(v))return e==null?v:CR(v,e,n)}}}var Ff=1e9,Oae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},DA,nn=!0,oa="[DecimalError] ",Pu=oa+"Invalid argument: ",PA=oa+"Exponent out of range: ",Vf=Math.floor,mu=Math.pow,Rae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ci,ar=1e7,Yt=7,ok=9007199254740991,Jg=Vf(ok/Yt),Ee={};Ee.absoluteValue=Ee.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ee.comparedTo=Ee.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Yt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ee.dividedBy=Ee.div=function(t){return Wo(this,new this.constructor(t))};Ee.dividedToIntegerBy=Ee.idiv=function(t){var e=this,n=e.constructor;return Ut(Wo(e,new n(t),0,1),n.precision)};Ee.equals=Ee.eq=function(t){return!this.cmp(t)};Ee.exponent=function(){return Bn(this)};Ee.greaterThan=Ee.gt=function(t){return this.cmp(t)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(t){return this.cmp(t)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(t){return this.cmp(t)<0};Ee.lessThanOrEqualTo=Ee.lte=function(t){return this.cmp(t)<1};Ee.logarithm=Ee.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ci))throw Error(oa+"NaN");if(n.s<1)throw Error(oa+(n.s?"NaN":"-Infinity"));return n.eq(Ci)?new r(0):(nn=!1,e=Wo(Xh(n,a),Xh(t,a),a),nn=!0,Ut(e,i))};Ee.minus=Ee.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?uk(e,t):sk(e,(t.s=-t.s,t))};Ee.modulo=Ee.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(oa+"NaN");return n.s?(nn=!1,e=Wo(n,t,0,1).times(t),nn=!0,n.minus(e)):Ut(new r(n),i)};Ee.naturalExponential=Ee.exp=function(){return lk(this)};Ee.naturalLogarithm=Ee.ln=function(){return Xh(this)};Ee.negated=Ee.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ee.plus=Ee.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sk(e,t):uk(e,(t.s=-t.s,t))};Ee.precision=Ee.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Pu+t);if(e=Bn(i)+1,r=i.d.length-1,n=r*Yt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ee.squareRoot=Ee.sqrt=function(){var t,e,n,r,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(oa+"NaN")}for(t=Bn(l),nn=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Ja(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Vf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(Wo(l,a,o+2)).times(.5),Ja(a.d).slice(0,o)===(e=Ja(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Ut(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;o+=4}return nn=!0,Ut(r,n)};Ee.times=Ee.mul=function(t){var e,n,r,i,a,o,l,c,f,h=this,p=h.constructor,v=h.d,m=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,c=v.length,f=m.length,c<f&&(a=v,v=m,m=a,o=c,c=f,f=o),a=[],o=c+f,r=o;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)l=a[i]+m[r]*v[i-r-1]+e,a[i--]=l%ar|0,e=l/ar|0;a[i]=(a[i]+e)%ar|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,nn?Ut(t,p.precision):t};Ee.toDecimalPlaces=Ee.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(fo(t,0,Ff),e===void 0?e=r.rounding:fo(e,0,8),Ut(n,t+Bn(n)+1,e))};Ee.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Hu(r,!0):(fo(t,0,Ff),e===void 0?e=i.rounding:fo(e,0,8),r=Ut(new i(r),t+1,e),n=Hu(r,!0,t+1)),n};Ee.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Hu(i):(fo(t,0,Ff),e===void 0?e=a.rounding:fo(e,0,8),r=Ut(new a(i),t+Bn(i)+1,e),n=Hu(r.abs(),!1,t+Bn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ee.toInteger=Ee.toint=function(){var t=this,e=t.constructor;return Ut(new e(t),Bn(t)+1,e.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(t){var e,n,r,i,a,o,l=this,c=l.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(Ci);if(l=new c(l),!l.s){if(t.s<1)throw Error(oa+"Infinity");return l}if(l.eq(Ci))return l;if(r=c.precision,t.eq(Ci))return Ut(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=l.s,o){if((n=h<0?-h:h)<=ok){for(i=new c(Ci),e=Math.ceil(r/Yt+4),nn=!1;n%2&&(i=i.times(l),IR(i.d,e)),n=Vf(n/2),n!==0;)l=l.times(l),IR(l.d,e);return nn=!0,t.s<0?new c(Ci).div(i):Ut(i,r)}}else if(a<0)throw Error(oa+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,nn=!1,i=t.times(Xh(l,r+f)),nn=!0,i=lk(i),i.s=a,i};Ee.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Bn(i),r=Hu(i,n<=a.toExpNeg||n>=a.toExpPos)):(fo(t,1,Ff),e===void 0?e=a.rounding:fo(e,0,8),i=Ut(new a(i),t,e),n=Bn(i),r=Hu(i,t<=n||n<=a.toExpNeg,t)),r};Ee.toSignificantDigits=Ee.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(fo(t,1,Ff),e===void 0?e=r.rounding:fo(e,0,8)),Ut(new r(n),t,e)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Bn(t),n=t.constructor;return Hu(t,e<=n.toExpNeg||e>=n.toExpPos)};function sk(t,e){var n,r,i,a,o,l,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),nn?Ut(e,p):e;if(c=t.d,f=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,l=f.length):(r=f,i=o,l=c.length),o=Math.ceil(p/Yt),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=f.length,l-a<0&&(a=l,r=f,f=c,c=r),n=0;a;)n=(c[--a]=c[a]+f[a]+n)/ar|0,c[a]%=ar;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,nn?Ut(e,p):e}function fo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Pu+t)}function Ja(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Yt-r.length,n&&(a+=Ys(n)),a+=r;o=t[e],r=o+"",n=Yt-r.length,n&&(a+=Ys(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Wo=(function(){function t(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%ar|0,o=a/ar|0;return o&&r.unshift(o),r}function e(r,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*ar+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,c,f,h,p,v,m,_,w,A,S,I,O,N,k,B,D,M,j=r.constructor,z=r.s==i.s?1:-1,F=r.d,H=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(oa+"Division by zero");for(c=r.e-i.e,D=H.length,k=F.length,m=new j(z),_=m.d=[],f=0;H[f]==(F[f]||0);)++f;if(H[f]>(F[f]||0)&&--c,a==null?I=a=j.precision:o?I=a+(Bn(r)-Bn(i))+1:I=a,I<0)return new j(0);if(I=I/Yt+2|0,f=0,D==1)for(h=0,H=H[0],I++;(f<k||h)&&I--;f++)O=h*ar+(F[f]||0),_[f]=O/H|0,h=O%H|0;else{for(h=ar/(H[0]+1)|0,h>1&&(H=t(H,h),F=t(F,h),D=H.length,k=F.length),N=D,w=F.slice(0,D),A=w.length;A<D;)w[A++]=0;M=H.slice(),M.unshift(0),B=H[0],H[1]>=ar/2&&++B;do h=0,l=e(H,w,D,A),l<0?(S=w[0],D!=A&&(S=S*ar+(w[1]||0)),h=S/B|0,h>1?(h>=ar&&(h=ar-1),p=t(H,h),v=p.length,A=w.length,l=e(p,w,v,A),l==1&&(h--,n(p,D<v?M:H,v))):(h==0&&(l=h=1),p=H.slice()),v=p.length,v<A&&p.unshift(0),n(w,p,A),l==-1&&(A=w.length,l=e(H,w,D,A),l<1&&(h++,n(w,D<A?M:H,A))),A=w.length):l===0&&(h++,w=[0]),_[f++]=h,l&&w[0]?w[A++]=F[N]||0:(w=[F[N]],A=1);while((N++<k||w[0]!==void 0)&&I--)}return _[0]||_.shift(),m.e=c,Ut(m,o?a+Bn(m)+1:a)}})();function lk(t,e){var n,r,i,a,o,l,c=0,f=0,h=t.constructor,p=h.precision;if(Bn(t)>16)throw Error(PA+Bn(t));if(!t.s)return new h(Ci);for(nn=!1,l=p,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(r=Math.log(mu(2,f))/Math.LN10*2+5|0,l+=r,n=i=a=new h(Ci),h.precision=l;;){if(i=Ut(i.times(t),l),n=n.times(++c),o=a.plus(Wo(i,n,l)),Ja(o.d).slice(0,l)===Ja(a.d).slice(0,l)){for(;f--;)a=Ut(a.times(a),l);return h.precision=p,e==null?(nn=!0,Ut(a,p)):a}a=o}}function Bn(t){for(var e=t.e*Yt,n=t.d[0];n>=10;n/=10)e++;return e}function x_(t,e,n){if(e>t.LN10.sd())throw nn=!0,n&&(t.precision=n),Error(oa+"LN10 precision limit exceeded");return Ut(new t(t.LN10),e)}function Ys(t){for(var e="";t--;)e+="0";return e}function Xh(t,e){var n,r,i,a,o,l,c,f,h,p=1,v=10,m=t,_=m.d,w=m.constructor,A=w.precision;if(m.s<1)throw Error(oa+(m.s?"NaN":"-Infinity"));if(m.eq(Ci))return new w(0);if(e==null?(nn=!1,f=A):f=e,m.eq(10))return e==null&&(nn=!0),x_(w,f);if(f+=v,w.precision=f,n=Ja(_),r=n.charAt(0),a=Bn(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Ja(m.d),r=n.charAt(0),p++;a=Bn(m),r>1?(m=new w("0."+n),a++):m=new w(r+"."+n.slice(1))}else return c=x_(w,f+2,A).times(a+""),m=Xh(new w(r+"."+n.slice(1)),f-v).plus(c),w.precision=A,e==null?(nn=!0,Ut(m,A)):m;for(l=o=m=Wo(m.minus(Ci),m.plus(Ci),f),h=Ut(m.times(m),f),i=3;;){if(o=Ut(o.times(h),f),c=l.plus(Wo(o,new w(i),f)),Ja(c.d).slice(0,f)===Ja(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(x_(w,f+2,A).times(a+""))),l=Wo(l,new w(p),f),w.precision=A,e==null?(nn=!0,Ut(l,A)):l;l=c,i+=2}}function TR(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Vf(n/Yt),t.d=[],r=(n+1)%Yt,n<0&&(r+=Yt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Yt;r<i;)t.d.push(+e.slice(r,r+=Yt));e=e.slice(r),r=Yt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),nn&&(t.e>Jg||t.e<-Jg))throw Error(PA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ut(t,e,n){var r,i,a,o,l,c,f,h,p=t.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Yt,i=e,f=p[h=0];else{if(h=Math.ceil((r+1)/Yt),a=p.length,h>=a)return t;for(f=a=p[h],o=1;a>=10;a/=10)o++;r%=Yt,i=r-Yt+o}if(n!==void 0&&(a=mu(10,o-i-1),l=f/a%10|0,c=e<0||p[h+1]!==void 0||f%a,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?f/mu(10,o-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(a=Bn(t),p.length=1,e=e-a-1,p[0]=mu(10,(Yt-e%Yt)%Yt),t.e=Vf(-e/Yt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=mu(10,Yt-r),p[h]=i>0?(f/mu(10,o-i)%mu(10,i)|0)*a:0),c)for(;;)if(h==0){(p[0]+=a)==ar&&(p[0]=1,++t.e);break}else{if(p[h]+=a,p[h]!=ar)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(nn&&(t.e>Jg||t.e<-Jg))throw Error(PA+Bn(t));return t}function uk(t,e){var n,r,i,a,o,l,c,f,h,p,v=t.constructor,m=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),nn?Ut(e,m):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),o=f-r,o){for(h=o<0,h?(n=c,o=-o,l=p.length):(n=p,r=f,l=c.length),i=Math.max(Math.ceil(m/Yt),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}o=0}for(h&&(n=c,c=p,p=n,e.s=-e.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=ar-1;--c[a],c[i]+=ar}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,nn?Ut(e,m):e):new v(0)}function Hu(t,e,n){var r,i=Bn(t),a=Ja(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ys(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ys(-i-1)+a,n&&(r=n-o)>0&&(a+=Ys(r))):i>=o?(a+=Ys(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ys(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ys(r))),t.s<0?"-"+a:a}function IR(t,e){if(t.length>e)return t.length=e,!0}function ck(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Pu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return TR(o,a.toString())}else if(typeof a!="string")throw Error(Pu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Rae.test(a))TR(o,a);else throw Error(Pu+a)}if(i.prototype=Ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ck,i.config=i.set=Pae,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Pae(t){if(!t||typeof t!="object")throw Error(oa+"Object expected");var e,n,r,i=["precision",1,Ff,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Vf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Pu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Pu+n+": "+r);return this}var DA=ck(Oae);Ci=new DA(1);const Dt=DA;var Dae=t=>t,fk={},dk=t=>t===fk,OR=t=>function e(){return arguments.length===0||arguments.length===1&&dk(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},hk=(t,e)=>t===1?e:OR(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==fk).length;return a>=t?e(...r):hk(t-a,OR(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var f=r.map(h=>dk(h)?l.shift():h);return e(...f,...l)}))}),ym=t=>hk(t.length,t),tw=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Nae=ym((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Mae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Dae;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,c)=>c(l),a(...arguments))}},nw=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),pk=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((o,l)=>{var c;return o===((c=e)===null||c===void 0?void 0:c[l])})||(e=i,n=t(...i)),n}};function gk(t){var e;return t===0?e=1:e=Math.floor(new Dt(t).abs().log(10).toNumber())+1,e}function vk(t,e,n){for(var r=new Dt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}ym((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});ym((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});ym((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var mk=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},yk=(t,e,n)=>{if(t.lte(0))return new Dt(0);var r=gk(t.toNumber()),i=new Dt(10).pow(r),a=t.div(i),o=r!==1?.05:.1,l=new Dt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return e?new Dt(c.toNumber()):new Dt(Math.ceil(c.toNumber()))},kae=(t,e,n)=>{var r=new Dt(1),i=new Dt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Dt(10).pow(gk(t)-1),i=new Dt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Dt(Math.floor(t)))}else t===0?i=new Dt(Math.floor((e-1)/2)):n||(i=new Dt(Math.floor(t)));var o=Math.floor((e-1)/2),l=Mae(Nae(c=>i.add(new Dt(c-o).mul(r)).toNumber()),tw);return l(0,e)},xk=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var o=yk(new Dt(n).sub(e).div(r-1),i,a),l;e<=0&&n>=0?l=new Dt(0):(l=new Dt(e).add(n).div(2),l=l.sub(new Dt(l).mod(o)));var c=Math.ceil(l.sub(e).div(o).toNumber()),f=Math.ceil(new Dt(n).sub(l).div(o).toNumber()),h=c+f+1;return h>r?xk(e,n,r,i,a+1):(h<r&&(f=n>0?f+(r-h):f,c=n>0?c:c+(r-h)),{step:o,tickMin:l.sub(new Dt(c).mul(o)),tickMax:l.add(new Dt(f).mul(o))})};function jae(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,l]=mk([e,n]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...tw(0,r-1).map(()=>1/0)]:[...tw(0,r-1).map(()=>-1/0),l];return e>n?nw(c):c}if(o===l)return kae(o,r,i);var{step:f,tickMin:h,tickMax:p}=xk(o,l,a,i,0),v=vk(h,p.add(new Dt(.1).mul(f)),f);return e>n?nw(v):v}function Lae(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=mk([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var l=Math.max(e,2),c=yk(new Dt(o).sub(a).div(l-1),i,0),f=[...vk(new Dt(a),new Dt(o),c),o];return i===!1&&(f=f.map(h=>Math.round(h))),n>r?nw(f):f}var Bae=pk(jae),Fae=pk(Lae),_k=t=>t.rootProps.maxBarSize,Vae=t=>t.rootProps.barGap,bk=t=>t.rootProps.barCategoryGap,Uae=t=>t.rootProps.barSize,E0=t=>t.rootProps.stackOffset,NA=t=>t.options.chartName,MA=t=>t.rootProps.syncId,wk=t=>t.rootProps.syncMethod,kA=t=>t.options.eventEmitter,Fo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ai={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},xm=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},zae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Fo.angleAxisId,includeHidden:!1,name:void 0,reversed:Fo.reversed,scale:Fo.scale,tick:Fo.tick,tickCount:void 0,ticks:void 0,type:Fo.type,unit:void 0},Hae={allowDataOverflow:Ai.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ai.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ai.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ai.scale,tick:Ai.tick,tickCount:Ai.tickCount,ticks:void 0,type:Ai.type,unit:void 0},$ae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Fo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fo.scale,tick:Fo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},qae={allowDataOverflow:Ai.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ai.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ai.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ai.scale,tick:Ai.tick,tickCount:Ai.tickCount,ticks:void 0,type:"category",unit:void 0},jA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?$ae:zae,LA=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?qae:Hae,_m=t=>t.polarOptions,BA=ne([as,os,Yn],a9),Ek=ne([_m,BA],(t,e)=>{if(t!=null)return jr(t.innerRadius,e,0)}),Ak=ne([_m,BA],(t,e)=>{if(t!=null)return jr(t.outerRadius,e,e*.8)}),Gae=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},Sk=ne([_m],Gae);ne([jA,Sk],xm);var Ck=ne([BA,Ek,Ak],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ne([LA,Ck],xm);var Tk=ne([ct,_m,Ek,Ak,as,os],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:l,startAngle:c,endAngle:f}=e;return{cx:jr(o,i,i/2),cy:jr(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:f,clockWise:!1}}}),an=(t,e)=>e,A0=(t,e,n)=>n;function FA(t){return t?.id}var Zn=t=>{var e=ct(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Uf=t=>t.tooltip.settings.axisId,cr=t=>{var e=Zn(t),n=Uf(t);return S0(t,e,n)},Ik=ne([cr],t=>t?.dataKey);function Ok(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return t.forEach(l=>{var c,f=(c=l.data)!==null&&c!==void 0?c:r;if(!(f==null||f.length===0)){var h=FA(l);f.forEach((p,v)=>{var m=a==null||i?v:String(qt(p,a,null)),_=qt(p,l.dataKey,0),w;o.has(m)?w=o.get(m):w={},Object.assign(w,{[h]:_}),o.set(m,w)})}}),Array.from(o.values())}function bm(t){return t.stackId!=null&&t.dataKey!=null}function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ev(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){Kae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kae(t,e,n){return(e=Wae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wae(t){var e=Xae(t,"string");return typeof e=="symbol"?e:e+""}function Xae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rw=[0,"auto"],wi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Rk=(t,e)=>t.cartesianAxis.xAxis[e],ls=(t,e)=>{var n=Rk(t,e);return n??wi},Ei={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:rw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:v0},Pk=(t,e)=>t.cartesianAxis.yAxis[e],us=(t,e)=>{var n=Pk(t,e);return n??Ei},Yae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},VA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Yae},An=(t,e,n)=>{switch(e){case"xAxis":return ls(t,n);case"yAxis":return us(t,n);case"zAxis":return VA(t,n);case"angleAxis":return jA(t,n);case"radiusAxis":return LA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Qae=(t,e,n)=>{switch(e){case"xAxis":return ls(t,n);case"yAxis":return us(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},S0=(t,e,n)=>{switch(e){case"xAxis":return ls(t,n);case"yAxis":return us(t,n);case"angleAxis":return jA(t,n);case"radiusAxis":return LA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Dk=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function UA(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var wm=t=>t.graphicalItems.cartesianItems,Zae=ne([an,A0],UA),zA=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),C0=ne([wm,An,Zae],zA),Nk=ne([C0],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(bm)),Mk=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),kk=ne([C0],Mk),HA=t=>t.map(e=>e.data).filter(Boolean).flat(1),Jae=ne([C0],HA),$A=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},qA=ne([Jae,mm],$A),GA=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:qt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:qt(i,r)}))):t.map(r=>({value:r})),Em=ne([qA,An,C0],GA);function jk(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Zu(t){return t.filter(e=>co(e)||e instanceof Date).map(Number).filter(e=>Ri(e)===!1)}function eoe(t,e,n){return!n||typeof e!="number"||Ri(e)?[]:n.length?Zu(n.flatMap(r=>{var i=qt(t,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Di(a)||!Di(o)))return[e-a,e+o]})):[]}var toe=ne([Nk,mm,cr],Ok),Lk=(t,e,n)=>{var r={},i=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[o,l]=a,c=l.map(FA);return[o,{stackedData:ate(t,c,n),graphicalItems:l}]}))},iw=ne([toe,Nk,E0],Lk),Bk=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var a=cte(t,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},noe=ne([iw,Ml,an],Bk),Fk=(t,e,n,r,i)=>n.length>0?t.flatMap(a=>n.flatMap(o=>{var l,c,f=(l=r[o.id])===null||l===void 0?void 0:l.filter(p=>jk(i,p)),h=qt(a,(c=e.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:h,errorDomain:eoe(a,h,f)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:qt(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),Am=t=>t.errorBars,Vk=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>jk(n,r));ne([kk,Am,an],Vk);var roe=ne([qA,An,kk,Am,an],Fk);function ioe(t){var{value:e}=t;if(co(e)||e instanceof Date)return e}var PR=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Zu(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},aoe=(t,e,n)=>{var r=t.map(ioe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&Q5(r))?S9(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},KA=t=>{var e;if(t==null||!("domain"in t))return rw;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Zu(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:rw},tv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},Uk=t=>t.referenceElements.dots,zf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),ooe=ne([Uk,an,A0],zf),zk=t=>t.referenceElements.areas,soe=ne([zk,an,A0],zf),Hk=t=>t.referenceElements.lines,loe=ne([Hk,an,A0],zf),$k=(t,e)=>{var n=Zu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},uoe=ne(ooe,an,$k),qk=(t,e)=>{var n=Zu(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},coe=ne([soe,an],qk),Gk=(t,e)=>{var n=Zu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},foe=ne(loe,an,Gk),doe=ne(uoe,foe,coe,(t,e,n)=>tv(t,n,e)),Kk=ne([An],KA),WA=(t,e,n,r,i,a,o)=>{var l=Tae(e,t.allowDataOverflow);if(l!=null)return l;var c=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",f=c?tv(n,i,PR(r)):tv(i,PR(r));return Iae(e,f,t.allowDataOverflow)},hoe=ne([An,Kk,noe,roe,doe,ct,an],WA),poe=[0,1],XA=(t,e,n,r,i,a,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:c}=t,f=Rl(e,a);return f&&l==null?S9(0,n.length):c==="category"?aoe(r,t,f):i==="expand"?poe:o}},YA=ne([An,ct,qA,Em,E0,an,hoe],XA),Wk=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(d0(a));return l in bh?l:"point"}}},Hf=ne([An,ct,Dk,NA,an],Wk);function goe(t){if(t!=null){if(t in bh)return bh[t]();var e="scale".concat(d0(t));if(e in bh)return bh[e]()}}function QA(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=goe(e);if(i!=null){var a=i.domain(n).range(r);return ete(a),a}}}var ZA=(t,e,n)=>{var r=KA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&wf(t))return Bae(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&wf(t))return Fae(t,e.tickCount,e.allowDecimals)}},JA=ne([YA,S0,Hf],ZA),eS=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&wf(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],o=e[1],l=n[n.length-1];return[Math.min(i,a),Math.max(o,l)]}return e},voe=ne([An,YA,JA,an],eS),moe=ne(Em,An,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Zu(t.map(l=>l.value))).sort((l,c)=>l-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),Xk=ne(moe,ct,bk,Yn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Di(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=jr(n,t*a),l=t*a/2;return l-o-(l-o)/a*o}return 0}),yoe=(t,e)=>{var n=ls(t,e);return n==null||typeof n.padding!="string"?0:Xk(t,"xAxis",e,n.padding)},xoe=(t,e)=>{var n=us(t,e);return n==null||typeof n.padding!="string"?0:Xk(t,"yAxis",e,n.padding)},_oe=ne(ls,yoe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),boe=ne(us,xoe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),woe=ne([Yn,_oe,lm,sm,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),Eoe=ne([Yn,ct,boe,lm,sm,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),T0=(t,e,n,r)=>{var i;switch(e){case"xAxis":return woe(t,n,r);case"yAxis":return Eoe(t,n,r);case"zAxis":return(i=VA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Sk(t);case"radiusAxis":return Ck(t,n);default:return}},Yk=ne([An,T0],xm),$f=ne([An,Hf,voe,Yk],QA);ne([C0,Am,an],Vk);function Qk(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Sm=(t,e)=>e,Cm=(t,e,n)=>n,Aoe=ne(am,Sm,Cm,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Qk)),Soe=ne(om,Sm,Cm,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Qk)),Zk=(t,e)=>({width:t.width,height:e.height}),Coe=(t,e)=>{var n=typeof e.width=="number"?e.width:v0;return{width:n,height:t.height}},Jk=ne(Yn,ls,Zk),Toe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Ioe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Ooe=ne(os,Yn,Aoe,Sm,Cm,(t,e,n,r,i)=>{var a={},o;return n.forEach(l=>{var c=Zk(e,l);o==null&&(o=Toe(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;a[l.id]=o-Number(f)*c.height,o+=(f?-1:1)*c.height}),a}),Roe=ne(as,Yn,Soe,Sm,Cm,(t,e,n,r,i)=>{var a={},o;return n.forEach(l=>{var c=Coe(e,l);o==null&&(o=Ioe(e,r,t));var f=r==="left"&&!i||r==="right"&&i;a[l.id]=o-Number(f)*c.width,o+=(f?-1:1)*c.width}),a}),Poe=(t,e)=>{var n=ls(t,e);if(n!=null)return Ooe(t,n.orientation,n.mirror)},Doe=ne([Yn,ls,Poe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Noe=(t,e)=>{var n=us(t,e);if(n!=null)return Roe(t,n.orientation,n.mirror)},Moe=ne([Yn,us,Noe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),e7=ne(Yn,us,(t,e)=>{var n=typeof e.width=="number"?e.width:v0;return{width:n,height:t.height}}),DR=(t,e,n)=>{switch(e){case"xAxis":return Jk(t,n).width;case"yAxis":return e7(t,n).height;default:return}},t7=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,l=Rl(t,r),c=e.map(f=>f.value);if(o&&l&&a==="category"&&i&&Q5(c))return c}},tS=ne([ct,Em,An,an],t7),n7=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=Rl(t,r);if(o&&(i==="number"||a!=="auto"))return e.map(l=>l.value)}},nS=ne([ct,Em,S0,an],n7),NR=ne([ct,Qae,Hf,$f,tS,nS,T0,JA,an],(t,e,n,r,i,a,o,l,c)=>{if(e==null)return null;var f=Rl(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:l,range:o,realScaleType:n,scale:r}}),koe=(t,e,n,r,i,a,o,l,c)=>{if(!(e==null||r==null)){var f=Rl(t,c),{type:h,ticks:p,tickCount:v}=e,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,_=h==="category"&&r.bandwidth?r.bandwidth()/m:0;_=c==="angleAxis"&&a!=null&&a.length>=2?lr(a[0]-a[1])*2*_:_;var w=p||i;if(w){var A=w.map((S,I)=>{var O=o?o.indexOf(S):S;return{index:I,coordinate:r(O)+_,value:S,offset:_}});return A.filter(S=>!Ri(S.coordinate))}return f&&l?l.map((S,I)=>({coordinate:r(S)+_,value:S,index:I,offset:_})):r.ticks?r.ticks(v).map(S=>({coordinate:r(S)+_,value:S,offset:_})):r.domain().map((S,I)=>({coordinate:r(S)+_,value:o?o[S]:S,index:I,offset:_}))}},r7=ne([ct,S0,Hf,$f,JA,T0,tS,nS,an],koe),joe=(t,e,n,r,i,a,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=Rl(t,o),{tickCount:c}=e,f=0;return f=o==="angleAxis"&&r?.length>=2?lr(r[0]-r[1])*2*f:f,l&&a?a.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}},xl=ne([ct,S0,$f,T0,tS,nS,an],joe),_l=ne(An,$f,(t,e)=>{if(!(t==null||e==null))return ev(ev({},t),{},{scale:e})}),Loe=ne([An,Hf,YA,Yk],QA);ne((t,e,n)=>VA(t,n),Loe,(t,e)=>{if(!(t==null||e==null))return ev(ev({},t),{},{scale:e})});var Boe=ne([ct,am,om],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),i7=t=>t.options.defaultTooltipEventType,a7=t=>t.options.validateTooltipEventTypes;function o7(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function rS(t,e){var n=i7(t),r=a7(t);return o7(e,n,r)}function Foe(t){return Te(e=>rS(e,t))}var s7=(t,e)=>{var n,r=Number(e);if(!(Ri(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Voe=t=>t.tooltip.settings,tl={active:!1,index:null,dataKey:void 0,coordinate:void 0},Uoe={itemInteraction:{click:tl,hover:tl},axisInteraction:{click:tl,hover:tl},keyboardInteraction:tl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},l7=Ni({name:"tooltip",initialState:Uoe,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Ko(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:zoe,removeTooltipEntrySettings:Hoe,setTooltipSettingsState:$oe,setActiveMouseOverItemIndex:u7,mouseLeaveItem:qoe,mouseLeaveChart:c7,setActiveClickItemIndex:Goe,setMouseOverAxisIndex:f7,setMouseClickAxisIndex:Koe,setSyncInteraction:aw,setKeyboardInteraction:ow}=l7.actions,Woe=l7.reducer;function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){Xoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xoe(t,e,n){return(e=Yoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yoe(t){var e=Qoe(t,"string");return typeof e=="symbol"?e:e+""}function Qoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zoe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Joe(t){return t.index!=null}var d7=(t,e,n,r)=>{if(e==null)return tl;var i=Zoe(t,e,n);if(i==null)return tl;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Joe(i)){if(a)return N1(N1({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return N1(N1({},tl),{},{coordinate:i.coordinate})},iS=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!Di(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},h7=(t,e,n,r,i,a,o,l)=>{if(!(a==null||l==null)){var c=o[0],f=c==null?void 0:l(c.positions,a);if(f!=null)return f;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},p7=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},I0=t=>t.options.tooltipPayloadSearcher,qf=t=>t.tooltip;function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){ese(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ese(t,e,n){return(e=tse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tse(t){var e=nse(t,"string");return typeof e=="symbol"?e:e+""}function nse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rse(t,e){return t??e}var g7=(t,e,n,r,i,a,o)=>{if(!(e==null||a==null)){var{chartData:l,computedData:c,dataStartIndex:f,dataEndIndex:h}=n,p=[];return t.reduce((v,m)=>{var _,{dataDefinedOnItem:w,settings:A}=m,S=rse(w,l),I=Array.isArray(S)?o9(S,f,h):S,O=(_=A?.dataKey)!==null&&_!==void 0?_:r,N=A?.nameKey,k;if(r&&Array.isArray(I)&&!Array.isArray(I[0])&&o==="axis"?k=Z5(I,r,i):k=a(I,e,c,N),Array.isArray(k))k.forEach(D=>{var M=jR(jR({},A),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});v.push(y8({tooltipEntrySettings:M,dataKey:D.dataKey,payload:D.payload,value:qt(D.payload,D.dataKey),name:D.name}))});else{var B;v.push(y8({tooltipEntrySettings:A,dataKey:O,payload:k,value:qt(k,O),name:(B=qt(k,N))!==null&&B!==void 0?B:A?.name}))}return v},p)}},aS=ne([cr,ct,Dk,NA,Zn],Wk),ise=ne([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),ase=ne([Zn,Uf],UA),O0=ne([ise,cr,ase],zA),ose=ne([O0],t=>t.filter(bm)),sse=ne([O0],HA),Gf=ne([sse,Ml],$A),lse=ne([ose,Ml,cr],Ok),oS=ne([Gf,cr,O0],GA),use=ne([cr],KA),cse=ne([O0],t=>t.filter(bm)),fse=ne([lse,cse,E0],Lk),dse=ne([fse,Ml,Zn],Bk),hse=ne([O0],Mk),pse=ne([Gf,cr,hse,Am,Zn],Fk),gse=ne([Uk,Zn,Uf],zf),vse=ne([gse,Zn],$k),mse=ne([zk,Zn,Uf],zf),yse=ne([mse,Zn],qk),xse=ne([Hk,Zn,Uf],zf),_se=ne([xse,Zn],Gk),bse=ne([vse,_se,yse],tv),wse=ne([cr,use,dse,pse,bse,ct,Zn],WA),v7=ne([cr,ct,Gf,oS,E0,Zn,wse],XA),Ese=ne([v7,cr,aS],ZA),Ase=ne([cr,v7,Ese,Zn],eS),m7=t=>{var e=Zn(t),n=Uf(t),r=!1;return T0(t,e,n,r)},y7=ne([cr,m7],xm),x7=ne([cr,aS,Ase,y7],QA),Sse=ne([ct,oS,cr,Zn],t7),Cse=ne([ct,oS,cr,Zn],n7),Tse=(t,e,n,r,i,a,o,l)=>{if(e){var{type:c}=e,f=Rl(t,l);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?lr(i[0]-i[1])*2*p:p,f&&o?o.map((v,m)=>({coordinate:r(v)+p,value:v,index:m,offset:p})):r.domain().map((v,m)=>({coordinate:r(v)+p,value:a?a[v]:v,index:m,offset:p}))}}},cs=ne([ct,cr,aS,x7,m7,Sse,Cse,Zn],Tse),sS=ne([i7,a7,Voe],(t,e,n)=>o7(n.shared,t,e)),_7=t=>t.tooltip.settings.trigger,lS=t=>t.tooltip.settings.defaultIndex,Tm=ne([qf,sS,_7,lS],d7),bl=ne([Tm,Gf],iS),b7=ne([cs,bl],s7),w7=ne([Tm],t=>{if(t)return t.dataKey}),E7=ne([qf,sS,_7,lS],p7),Ise=ne([as,os,ct,Yn,cs,lS,E7,I0],h7),Ose=ne([Tm,Ise],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Rse=ne([Tm],t=>t.active),Pse=ne([E7,bl,Ml,Ik,b7,I0,sS],g7),Dse=ne([Pse],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){Nse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nse(t,e,n){return(e=Mse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mse(t){var e=kse(t,"string");return typeof e=="symbol"?e:e+""}function kse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jse=()=>Te(cr),Lse=()=>{var t=jse(),e=Te(cs),n=Te(x7);return Hh(BR(BR({},t),{},{scale:n}),e)},Bse=()=>Te(NA),uS=(t,e)=>e,A7=(t,e,n)=>n,cS=(t,e,n,r)=>r,Fse=ne(cs,t=>Jv(t,e=>e.coordinate)),fS=ne([qf,uS,A7,cS],d7),S7=ne([fS,Gf],iS),Vse=(t,e,n)=>{if(e!=null){var r=qf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},C7=ne([qf,uS,A7,cS],p7),nv=ne([as,os,ct,Yn,cs,cS,C7,I0],h7),Use=ne([fS,nv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),T7=ne(cs,S7,s7),zse=ne([C7,S7,Ml,Ik,T7,I0,uS],g7),Hse=ne([fS],t=>({isActive:t.active,activeIndex:t.index})),$se=(t,e,n,r,i,a,o,l)=>{if(!(!t||!e||!r||!i||!a)){var c=fte(t.chartX,t.chartY,e,n,l);if(c){var f=hte(c,e),h=Zee(f,o,a,r,i),p=dte(e,a,h,c);return{activeIndex:String(h),activeCoordinate:p}}}};function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sw.apply(null,arguments)}function FR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(n),!0).forEach(function(r){qse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qse(t,e,n){return(e=Gse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gse(t){var e=Kse(t,"string");return typeof e=="symbol"?e:e+""}function Kse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wse(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:c,chartName:f}=t,h=e,p=n,v=r;if(!l||!h||f!=="ScatterChart"&&c!=="axis")return null;var m,_;if(f==="ScatterChart")m=h,_=hne;else if(f==="BarChart")m=pne(o,h,i,a),_=b9;else if(o==="radial"){var{cx:w,cy:A,radius:S,startAngle:I,endAngle:O}=w9(h);m={cx:w,cy:A,startAngle:I,endAngle:O,innerRadius:S,outerRadius:S},_=A9}else m={points:Kne(o,h,i)},_=oA;var N=typeof l=="object"&&"className"in l?l.className:void 0,k=M1(M1(M1(M1({stroke:"#ccc",pointerEvents:"none"},i),m),ln(l,!1)),{},{payload:p,payloadIndex:v,className:vt("recharts-tooltip-cursor",N)});return T.isValidElement(l)?T.cloneElement(l,k):T.createElement(_,k)}function Xse(t){var e=Lse(),n=d9(),r=um(),i=Bse();return T.createElement(Wse,sw({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var I7=T.createContext(null),Yse=()=>T.useContext(I7),__={exports:{}},VR;function Qse(){return VR||(VR=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function a(c,f,h,p,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new i(h,p||c,v),_=n?n+f:f;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],m]:c._events[_].push(m):(c._events[_]=m,c._eventsCount++),c}function o(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,m=p.length,_=new Array(m);v<m;v++)_[v]=p[v].fn;return _},l.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,h,p,v,m,_){var w=n?n+f:f;if(!this._events[w])return!1;var A=this._events[w],S=arguments.length,I,O;if(A.fn){switch(A.once&&this.removeListener(f,A.fn,void 0,!0),S){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,h),!0;case 3:return A.fn.call(A.context,h,p),!0;case 4:return A.fn.call(A.context,h,p,v),!0;case 5:return A.fn.call(A.context,h,p,v,m),!0;case 6:return A.fn.call(A.context,h,p,v,m,_),!0}for(O=1,I=new Array(S-1);O<S;O++)I[O-1]=arguments[O];A.fn.apply(A.context,I)}else{var N=A.length,k;for(O=0;O<N;O++)switch(A[O].once&&this.removeListener(f,A[O].fn,void 0,!0),S){case 1:A[O].fn.call(A[O].context);break;case 2:A[O].fn.call(A[O].context,h);break;case 3:A[O].fn.call(A[O].context,h,p);break;case 4:A[O].fn.call(A[O].context,h,p,v);break;default:if(!I)for(k=1,I=new Array(S-1);k<S;k++)I[k-1]=arguments[k];A[O].fn.apply(A[O].context,I)}}return!0},l.prototype.on=function(f,h,p){return a(this,f,h,p,!1)},l.prototype.once=function(f,h,p){return a(this,f,h,p,!0)},l.prototype.removeListener=function(f,h,p,v){var m=n?n+f:f;if(!this._events[m])return this;if(!h)return o(this,m),this;var _=this._events[m];if(_.fn)_.fn===h&&(!v||_.once)&&(!p||_.context===p)&&o(this,m);else{for(var w=0,A=[],S=_.length;w<S;w++)(_[w].fn!==h||v&&!_[w].once||p&&_[w].context!==p)&&A.push(_[w]);A.length?this._events[m]=A.length===1?A[0]:A:o(this,m)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(__)),__.exports}var Zse=Qse();const Jse=ho(Zse);var Yh=new Jse,lw="recharts.syncEvent.tooltip",UR="recharts.syncEvent.brush";function dS(t,e){if(e){var n=Number.parseInt(e,10);if(!Ri(n))return t?.[n]}}var ele={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},O7=Ni({name:"options",initialState:ele,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),tle=O7.reducer,{createEventEmitter:nle}=O7.actions;function rle(t){return t.tooltip.syncInteraction}var ile={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},R7=Ni({name:"chartData",initialState:ile,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:zR,setDataStartEndIndexes:ale,setComputedData:Gpe}=R7.actions,ole=R7.reducer,sle=["x","y"];function HR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function du(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(n),!0).forEach(function(r){lle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lle(t,e,n){return(e=ule(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ule(t){var e=cle(t,"string");return typeof e=="symbol"?e:e+""}function cle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fle(t,e){if(t==null)return{};var n,r,i=dle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var P7=()=>{};function hle(){var t=Te(MA),e=Te(kA),n=un(),r=Te(wk),i=Te(cs),a=um(),o=nA(),l=Te(c=>c.rootProps.className);T.useEffect(()=>{if(t==null)return P7;var c=(f,h,p)=>{if(e!==p&&t===f){if(r==="index"){var v;if(o&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate){var m=h.payload.coordinate,{x:_,y:w}=m,A=fle(m,sle),S=du(du(du({},A),typeof _=="number"&&{x:Math.max(o.x,Math.min(_,o.x+o.width))}),typeof w=="number"&&{y:Math.max(o.y,Math.min(w,o.y+o.height))}),I=du(du({},h),{},{payload:du(du({},h.payload),{},{coordinate:S})});n(I)}else n(h);return}if(i!=null){var O;if(typeof r=="function"){var N={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},k=r(i,N);O=i[k]}else r==="value"&&(O=i.find(U=>String(U.value)===h.payload.label));var{coordinate:B}=h.payload;if(O==null||h.payload.active===!1||B==null||o==null){n(aw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:D,y:M}=B,j=Math.min(D,o.x+o.width),z=Math.min(M,o.y+o.height),F={x:a==="horizontal"?O.coordinate:j,y:a==="horizontal"?z:O.coordinate},H=aw({active:h.payload.active,coordinate:F,dataKey:h.payload.dataKey,index:String(O.index),label:h.payload.label});n(H)}}};return Yh.on(lw,c),()=>{Yh.off(lw,c)}},[l,n,e,t,r,i,a,o])}function ple(){var t=Te(MA),e=Te(kA),n=un();T.useEffect(()=>{if(t==null)return P7;var r=(i,a,o)=>{e!==o&&t===i&&n(ale(a))};return Yh.on(UR,r),()=>{Yh.off(UR,r)}},[n,e,t])}function gle(){var t=un();T.useEffect(()=>{t(nle())},[t]),hle(),ple()}function vle(t,e,n,r,i,a){var o=Te(v=>Vse(v,t,e)),l=Te(kA),c=Te(MA),f=Te(wk),h=Te(rle),p=h?.active;T.useEffect(()=>{if(!p&&c!=null&&l!=null){var v=aw({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r});Yh.emit(lw,c,v,l)}},[p,n,o,i,r,l,c,f,a])}function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){mle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mle(t,e,n){return(e=yle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yle(t){var e=xle(t,"string");return typeof e=="symbol"?e:e+""}function xle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _le(t){return t.dataKey}function ble(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(qte,e)}var GR=[],wle={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Pl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Im(t){var e=Tr(t,wle),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:o,filterNull:l,isAnimationActive:c,offset:f,payloadUniqBy:h,position:p,reverseDirection:v,useTranslate3d:m,wrapperStyle:_,cursor:w,shared:A,trigger:S,defaultIndex:I,portal:O,axisId:N}=e,k=un(),B=typeof I=="number"?String(I):I;T.useEffect(()=>{k($oe({shared:A,trigger:S,axisId:N,active:n,defaultIndex:B}))},[k,A,S,N,n,B]);var D=nA(),M=v9(),j=Foe(A),{activeIndex:z,isActive:F}=Te(Oe=>Hse(Oe,j,S,B)),H=Te(Oe=>zse(Oe,j,S,B)),U=Te(Oe=>T7(Oe,j,S,B)),he=Te(Oe=>Use(Oe,j,S,B)),be=H,Y=Yse(),se=n??F,[me,Se]=MM([be,se]),Ge=j==="axis"?U:void 0;vle(j,S,he,Ge,z,se);var G=O??Y;if(G==null)return null;var ee=be??GR;se||(ee=GR),l&&ee.length&&(ee=OM(be.filter(Oe=>Oe.value!=null&&(Oe.hide!==!0||e.includeHidden)),h,_le));var ye=ee.length>0,_e=T.createElement(Zte,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:c,active:se,coordinate:he,hasPayload:ye,offset:f,position:p,reverseDirection:v,useTranslate3d:m,viewBox:D,wrapperStyle:_,lastBoundingBox:me,innerRef:Se,hasPortalFromProps:!!O},ble(o,qR(qR({},e),{},{payload:ee,label:Ge,active:se,coordinate:he,accessibilityLayer:M})));return T.createElement(T.Fragment,null,nM.createPortal(_e,G),se&&T.createElement(Xse,{cursor:w,tooltipEventType:j,coordinate:he,payload:be,index:z}))}var b_={},w_={},E_={},KR;function Ele(){return KR||(KR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let o,l=null;const c=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),h=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},p=()=>{f&&h(),w()};let v=null;const m=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},r)},_=()=>{v!==null&&(clearTimeout(v),v=null)},w=()=>{_(),o=void 0,l=null},A=()=>{h()},S=function(...I){if(i?.aborted)return;o=this,l=I;const O=v==null;m(),c&&O&&h()};return S.schedule=m,S.cancel=w,S.flush=A,i?.addEventListener("abort",w,{once:!0}),S}t.debounce=e})(E_)),E_}var WR;function Ale(){return WR||(WR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ele();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:c}=a,f=Array(2);o&&(f[0]="leading"),l&&(f[1]="trailing");let h,p=null;const v=e.debounce(function(...w){h=r.apply(this,w),p=null},i,{edges:f}),m=function(...w){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(h=r.apply(this,w),p=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,w),h)},_=()=>(v.flush(),h);return m.cancel=v.cancel,m.flush=_,m}t.debounce=n})(w_)),w_}var XR;function Sle(){return XR||(XR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ale();function n(r,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return e.debounce(r,i,{leading:o,maxWait:i,trailing:l})}t.throttle=n})(b_)),b_}var A_,YR;function Cle(){return YR||(YR=1,A_=Sle().throttle),A_}var Tle=Cle();const Ile=ho(Tle);var Ih=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function QR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(n),!0).forEach(function(r){Ole(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ole(t,e,n){return(e=Rle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rle(t){var e=Ple(t,"string");return typeof e=="symbol"?e:e+""}function Ple(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Om=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:f,debounce:h=0,id:p,className:v,onResize:m,style:_={}}=t,w=T.useRef(null),A=T.useRef();A.current=m,T.useImperativeHandle(e,()=>w.current);var[S,I]=T.useState({containerWidth:r.width,containerHeight:r.height}),O=T.useCallback((k,B)=>{I(D=>{var M=Math.round(k),j=Math.round(B);return D.containerWidth===M&&D.containerHeight===j?D:{containerWidth:M,containerHeight:j}})},[]);T.useEffect(()=>{var k=j=>{var z,{width:F,height:H}=j[0].contentRect;O(F,H),(z=A.current)===null||z===void 0||z.call(A,F,H)};h>0&&(k=Ile(k,h,{trailing:!0,leading:!1}));var B=new ResizeObserver(k),{width:D,height:M}=w.current.getBoundingClientRect();return O(D,M),B.observe(w.current),()=>{B.disconnect()}},[O,h]);var N=T.useMemo(()=>{var{containerWidth:k,containerHeight:B}=S;if(k<0||B<0)return null;Ih(bu(i)||bu(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Ih(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=bu(i)?k:i,M=bu(a)?B:a;return n&&n>0&&(D?M=D/n:M&&(D=M*n),c&&M>c&&(M=c)),Ih(D>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,M,i,a,o,l,n),T.Children.map(f,j=>T.cloneElement(j,{width:D,height:M,style:S_({width:D,height:M},j.props.style)}))},[n,f,a,c,l,o,S,i]);return T.createElement("div",{id:p?"".concat(p):void 0,className:vt("recharts-responsive-container",v),style:S_(S_({},_),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:c}),ref:w},T.createElement("div",{style:{width:0,height:0,overflow:"visible"}},N))}),Kf=t=>null;Kf.displayName="Cell";function Dle(t,e,n){return(e=Nle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nle(t){var e=Mle(t,"string");return typeof e=="symbol"?e:e+""}function Mle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class kle{constructor(e){Dle(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function ZR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jle(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(n),!0).forEach(function(r){Lle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lle(t,e,n){return(e=Ble(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ble(t){var e=Fle(t,"string");return typeof e=="symbol"?e:e+""}function Fle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vle={cacheSize:2e3,enableCache:!0},D7=jle({},Vle),JR=new kle(D7.cacheSize),Ule={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},eP="recharts_measurement_span";function zle(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var tP=(t,e)=>{try{var n=document.getElementById(eP);n||(n=document.createElement("span"),n.setAttribute("id",eP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Ule,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Oh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Pl.isSsr)return{width:0,height:0};if(!D7.enableCache)return tP(e,n);var r=zle(e,n),i=JR.get(r);if(i)return i;var a=tP(e,n);return JR.set(r,a),a},nP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$le=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,N7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},qle=Object.keys(N7),Xc="NaN";function Gle(t,e){return t*N7[e]}class ni{static parse(e){var n,[,r,i]=(n=$le.exec(e))!==null&&n!==void 0?n:[];return new ni(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ri(e)&&(this.unit=""),n!==""&&!Hle.test(n)&&(this.num=NaN,this.unit=""),qle.includes(n)&&(this.num=Gle(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ni(NaN,""):new ni(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ni(NaN,""):new ni(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ni(NaN,""):new ni(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ni(NaN,""):new ni(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ri(this.num)}}function M7(t){if(t.includes(Xc))return Xc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=nP.exec(e))!==null&&n!==void 0?n:[],o=ni.parse(r??""),l=ni.parse(a??""),c=i==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Xc;e=e.replace(nP,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,p,v]=(f=rP.exec(e))!==null&&f!==void 0?f:[],m=ni.parse(h??""),_=ni.parse(v??""),w=p==="+"?m.add(_):m.subtract(_);if(w.isNaN())return Xc;e=e.replace(rP,w.toString())}return e}var iP=/\(([^()]*)\)/;function Kle(t){for(var e=t,n;(n=iP.exec(e))!=null;){var[,r]=n;e=e.replace(iP,M7(r))}return e}function Wle(t){var e=t.replace(/\s+/g,"");return e=Kle(e),e=M7(e),e}function Xle(t){try{return Wle(t)}catch{return Xc}}function C_(t){var e=Xle(t.slice(5,-1));return e===Xc?"":e}var Yle=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Qle=["dx","dy","angle","className","breakAll"];function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uw.apply(null,arguments)}function aP(t,e){if(t==null)return{};var n,r,i=Zle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var k7=/[ \f\n\r\t\v\u2028\u2029]+/,j7=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];rn(e)||(n?i=e.toString().split(""):i=e.toString().split(k7));var a=i.map(l=>({word:l,width:Oh(l,r).width})),o=n?0:Oh(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Jle=(t,e,n,r,i)=>{var{maxLines:a,children:o,style:l,breakAll:c}=t,f=Re(a),h=o,p=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce((H,U)=>{var{word:he,width:be}=U,Y=H[H.length-1];if(Y&&(r==null||i||Y.width+be+n<Number(r)))Y.words.push(he),Y.width+=be+n;else{var se={words:[he],width:be};H.push(se)}return H},[])},v=p(e),m=z=>z.reduce((F,H)=>F.width>H.width?F:H);if(!f||i)return v;var _=v.length>a||m(v).width>Number(r);if(!_)return v;for(var w="…",A=z=>{var F=h.slice(0,z),H=j7({breakAll:c,style:l,children:F+w}).wordsWithComputedWidth,U=p(H),he=U.length>a||m(U).width>Number(r);return[he,U]},S=0,I=h.length-1,O=0,N;S<=I&&O<=h.length-1;){var k=Math.floor((S+I)/2),B=k-1,[D,M]=A(B),[j]=A(k);if(!D&&!j&&(S=k+1),D&&j&&(I=k-1),!D&&j){N=M;break}O++}return N||v},oP=t=>{var e=rn(t)?[]:t.toString().split(k7);return[{words:e}]},eue=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=t;if((e||n)&&!Pl.isSsr){var l,c,f=j7({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;l=h,c=p}else return oP(r);return Jle({breakAll:a,children:r,maxLines:o,style:i},l,c,e,n)}return oP(r)},sP="#808080",Rm=T.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:f=sP}=t,h=aP(t,Yle),p=T.useMemo(()=>eue({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:o,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,o,h.style,h.width]),{dx:v,dy:m,angle:_,className:w,breakAll:A}=h,S=aP(h,Qle);if(!co(n)||!co(r)||p.length===0)return null;var I=n+(Re(v)?v:0),O=r+(Re(m)?m:0),N;switch(c){case"start":N=C_("calc(".concat(a,")"));break;case"middle":N=C_("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:N=C_("calc(".concat(p.length-1," * -").concat(i,")"));break}var k=[];if(o){var B=p[0].width,{width:D}=h;k.push("scale(".concat(Re(D)?D/B:1,")"))}return _&&k.push("rotate(".concat(_,", ").concat(I,", ").concat(O,")")),k.length&&(S.transform=k.join(" ")),T.createElement("text",uw({},ln(S,!0),{ref:e,x:I,y:O,className:vt("recharts-text",w),textAnchor:l,fill:f.includes("url")?sP:f}),p.map((M,j)=>{var z=M.words.join(A?"":" ");return T.createElement("tspan",{x:I,dy:j===0?N:i,key:"".concat(z,"-").concat(j)},z)}))});Rm.displayName="Text";var tue=["labelRef"];function nue(t,e){if(t==null)return{};var n,r,i=rue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){iue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iue(t,e,n){return(e=aue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aue(t){var e=oue(t,"string");return typeof e=="symbol"?e:e+""}function oue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vo(){return Vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vo.apply(null,arguments)}var L7=T.createContext(null),sue=t=>{var{x:e,y:n,width:r,height:i,children:a}=t,o=T.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return T.createElement(L7.Provider,{value:o},a)},B7=()=>{var t=T.useContext(L7),e=nA();return t||e},lue=T.createContext(null),uue=()=>{var t=T.useContext(lue),e=Te(Tk);return t||e},cue=t=>{var{value:e,formatter:n}=t,r=rn(t.children)?e:t.children;return typeof n=="function"?n(r):r},hS=t=>t!=null&&typeof t=="function",fue=(t,e)=>{var n=lr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},due=(t,e,n,r,i)=>{var{offset:a,className:o}=t,{cx:l,cy:c,innerRadius:f,outerRadius:h,startAngle:p,endAngle:v,clockWise:m}=i,_=(f+h)/2,w=fue(p,v),A=w>=0?1:-1,S,I;switch(e){case"insideStart":S=p+A*a,I=m;break;case"insideEnd":S=v-A*a,I=!m;break;case"end":S=v+A*a,I=m;break;default:throw new Error("Unsupported position ".concat(e))}I=w<=0?I:!I;var O=Ln(l,c,_,S),N=Ln(l,c,_,S+(I?1:-1)*359),k="M".concat(O.x,",").concat(O.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(I?0:1,`,
    `).concat(N.x,",").concat(N.y),B=rn(t.id)?Vh("recharts-radial-line-"):t.id;return T.createElement("text",Vo({},r,{dominantBaseline:"central",className:vt("recharts-radial-bar-label",o)}),T.createElement("defs",null,T.createElement("path",{id:B,d:k})),T.createElement("textPath",{xlinkHref:"#".concat(B)},n))},hue=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:c}=t,f=(l+c)/2;if(n==="outside"){var{x:h,y:p}=Ln(r,i,o+e,f);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+o)/2,{x:m,y:_}=Ln(r,i,v,f);return{x:m,y:_,textAnchor:"middle",verticalAnchor:"middle"}},F7=t=>"cx"in t&&Re(t.cx),pue=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!F7(n)&&(a=n);var{x:o,y:l,width:c,height:f}=e,h=f>=0?1:-1,p=h*r,v=h>0?"end":"start",m=h>0?"start":"end",_=c>=0?1:-1,w=_*r,A=_>0?"end":"start",S=_>0?"start":"end";if(i==="top"){var I={x:o+c/2,y:l-h*r,textAnchor:"middle",verticalAnchor:v};return bn(bn({},I),a?{height:Math.max(l-a.y,0),width:c}:{})}if(i==="bottom"){var O={x:o+c/2,y:l+f+p,textAnchor:"middle",verticalAnchor:m};return bn(bn({},O),a?{height:Math.max(a.y+a.height-(l+f),0),width:c}:{})}if(i==="left"){var N={x:o-w,y:l+f/2,textAnchor:A,verticalAnchor:"middle"};return bn(bn({},N),a?{width:Math.max(N.x-a.x,0),height:f}:{})}if(i==="right"){var k={x:o+c+w,y:l+f/2,textAnchor:S,verticalAnchor:"middle"};return bn(bn({},k),a?{width:Math.max(a.x+a.width-k.x,0),height:f}:{})}var B=a?{width:c,height:f}:{};return i==="insideLeft"?bn({x:o+w,y:l+f/2,textAnchor:S,verticalAnchor:"middle"},B):i==="insideRight"?bn({x:o+c-w,y:l+f/2,textAnchor:A,verticalAnchor:"middle"},B):i==="insideTop"?bn({x:o+c/2,y:l+p,textAnchor:"middle",verticalAnchor:m},B):i==="insideBottom"?bn({x:o+c/2,y:l+f-p,textAnchor:"middle",verticalAnchor:v},B):i==="insideTopLeft"?bn({x:o+w,y:l+p,textAnchor:S,verticalAnchor:m},B):i==="insideTopRight"?bn({x:o+c-w,y:l+p,textAnchor:A,verticalAnchor:m},B):i==="insideBottomLeft"?bn({x:o+w,y:l+f-p,textAnchor:S,verticalAnchor:v},B):i==="insideBottomRight"?bn({x:o+c-w,y:l+f-p,textAnchor:A,verticalAnchor:v},B):i&&typeof i=="object"&&(Re(i.x)||bu(i.x))&&(Re(i.y)||bu(i.y))?bn({x:o+jr(i.x,c),y:l+jr(i.y,f),textAnchor:"end",verticalAnchor:"end"},B):bn({x:o+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},B)},gue={offset:5};function Qs(t){var e=Tr(t,gue),{viewBox:n,position:r,value:i,children:a,content:o,className:l="",textBreakAll:c,labelRef:f}=e,h=uue(),p=B7(),v=r==="center"?p:h??p,m=n||v;if(!m||rn(i)&&rn(a)&&!T.isValidElement(o)&&typeof o!="function")return null;var _=bn(bn({},e),{},{viewBox:m});if(T.isValidElement(o)){var{labelRef:w}=_,A=nue(_,tue);return T.cloneElement(o,A)}var S;if(typeof o=="function"){if(S=T.createElement(o,_),T.isValidElement(S))return S}else S=cue(e);var I=F7(m),O=ln(e,!0);if(I&&(r==="insideStart"||r==="insideEnd"||r==="end"))return due(e,r,S,O,m);var N=I?hue(m,e.offset,e.position):pue(e,m);return T.createElement(Rm,Vo({ref:f,className:vt("recharts-label",l)},O,N,{breakAll:c}),S)}Qs.displayName="Label";var vue=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(Qs,Vo({key:"label-implicit"},r)):co(t)?T.createElement(Qs,Vo({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===Qs?T.cloneElement(t,bn({key:"label-implicit"},r)):T.createElement(Qs,Vo({key:"label-implicit",content:t},r)):hS(t)?T.createElement(Qs,Vo({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(Qs,Vo({},t,{key:"label-implicit"},r)):null};function mue(t){var{label:e}=t,n=B7();return vue(e,n)||null}var T_={},I_={},uP;function yue(){return uP||(uP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(I_)),I_}var O_={},cP;function xue(){return cP||(cP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(O_)),O_}var fP;function _ue(){return fP||(fP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yue(),n=xue(),r=KE();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(T_)),T_}var R_,dP;function bue(){return dP||(dP=1,R_=_ue().last),R_}var wue=bue();const Eue=ho(wue);var Aue=["valueAccessor"],Sue=["dataKey","clockWise","id","textBreakAll"];function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rv.apply(null,arguments)}function hP(t,e){if(t==null)return{};var n,r,i=Cue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tue=t=>Array.isArray(t.value)?Eue(t.value):t.value,V7=T.createContext(void 0),U7=V7.Provider,z7=T.createContext(void 0),Iue=z7.Provider;function Oue(){return T.useContext(V7)}function Rue(){return T.useContext(z7)}function Z1(t){var{valueAccessor:e=Tue}=t,n=hP(t,Aue),{dataKey:r,clockWise:i,id:a,textBreakAll:o}=n,l=hP(n,Sue),c=Oue(),f=Rue(),h=c||f;return!h||!h.length?null:T.createElement(Cr,{className:"recharts-label-list"},h.map((p,v)=>{var m,_=rn(r)?e(p,v):qt(p&&p.payload,r),w=rn(a)?{}:{id:"".concat(a,"-").concat(v)};return T.createElement(Qs,rv({},ln(p,!0),l,w,{fill:(m=n.fill)!==null&&m!==void 0?m:p.fill,parentViewBox:p.parentViewBox,value:_,textBreakAll:o,viewBox:p.viewBox,key:"label-".concat(v),index:v}))}))}Z1.displayName="LabelList";function pS(t){var{label:e}=t;return e?e===!0?T.createElement(Z1,{key:"labelList-implicit"}):T.isValidElement(e)||hS(e)?T.createElement(Z1,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement(Z1,rv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(null,arguments)}var H7=t=>{var{cx:e,cy:n,r,className:i}=t,a=vt("recharts-dot",i);return e===+e&&n===+n&&r===+r?T.createElement("circle",cw({},yo(t),BE(t),{className:a,cx:e,cy:n,r})):null},$7=t=>t.graphicalItems.polarItems,Pue=ne([an,A0],UA),gS=ne([$7,An,Pue],zA),Due=ne([gS],HA),vS=ne([Due,RA],$A),Nue=ne([vS,An,gS],GA),Mue=ne([vS,An,gS],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,o=qt(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:qt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),pP=()=>{},kue=ne([An,Kk,pP,Mue,pP,ct,an],WA),q7=ne([An,ct,vS,Nue,E0,an,kue],XA),jue=ne([q7,An,Hf],ZA);ne([An,q7,jue,an],eS);var Lue={radiusAxis:{},angleAxis:{}},G7=Ni({name:"polarAxis",initialState:Lue,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Kpe,removeRadiusAxis:Wpe,addAngleAxis:Xpe,removeAngleAxis:Ype}=G7.actions,Bue=G7.reducer;function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){Fue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fue(t,e,n){return(e=Vue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vue(t){var e=Uue(t,"string");return typeof e=="symbol"?e:e+""}function Uue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zue=(t,e)=>e,mS=ne([$7,zue],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Hue=[],yS=(t,e,n)=>n?.length===0?Hue:n,K7=ne([RA,mS,yS],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>vP(vP({},e.presentationProps),a.props))),i!=null)return i}}),$ue=ne([K7,mS,yS],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,o=qt(r,e.nameKey,e.name),l;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?l=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?l=r.fill:l=e.fill,{value:Lf(o,e.dataKey),color:l,payload:r,type:e.legendType}})}),que=ne([K7,mS,yS,Yn],(t,e,n,r)=>{if(!(e==null||t==null))return zce({offset:r,pieSettings:e,displayedData:t,cells:n})}),P_={},mP;function Gue(){return mP||(mP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(P_)),P_}var D_,yP;function Kue(){return yP||(yP=1,D_=Gue().isPlainObject),D_}var Wue=Kue();const Xue=ho(Wue);function xP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _P(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(n),!0).forEach(function(r){Yue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yue(t,e,n){return(e=Que(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Que(t){var e=Zue(t,"string");return typeof e=="symbol"?e:e+""}function Zue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iv(){return iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iv.apply(null,arguments)}var bP=(t,e,n,r,i)=>{var a=n-r,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+n,",").concat(e),o+="L ".concat(t+n-a/2,",").concat(e+i),o+="L ".concat(t+n-a/2-r,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z"),o},Jue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ece=t=>{var e=Tr(t,Jue),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:l}=e,{animationEasing:c,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=e,v=T.useRef(),[m,_]=T.useState(-1),w=T.useRef(i),A=T.useRef(a),S=T.useRef(o),I=T.useRef(n),O=T.useRef(r),N=y0(t,"trapezoid-");if(T.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var he=v.current.getTotalLength();he&&_(he)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var k=vt("recharts-trapezoid",l);if(!p)return T.createElement("g",null,T.createElement("path",iv({},ln(e,!0),{className:k,d:bP(n,r,i,a,o)})));var B=w.current,D=A.current,M=S.current,j=I.current,z=O.current,F="0px ".concat(m===-1?1:m,"px"),H="".concat(m,"px 0px"),U=m9(["strokeDasharray"],f,c);return T.createElement(m0,{animationId:N,key:N,canBegin:m>0,duration:f,easing:c,isActive:p,begin:h},he=>{var be=dn(B,i,he),Y=dn(D,a,he),se=dn(M,o,he),me=dn(j,n,he),Se=dn(z,r,he);v.current&&(w.current=be,A.current=Y,S.current=se,I.current=me,O.current=Se);var Ge=he>0?{transition:U,strokeDasharray:H}:{strokeDasharray:F};return T.createElement("path",iv({},ln(e,!0),{className:k,d:bP(me,Se,be,Y,se),ref:v,style:_P(_P({},Ge),e.style)}))})},tce=["option","shapeType","propTransformer","activeClassName","isActive"];function nce(t,e){if(t==null)return{};var n,r,i=rce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function av(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){ice(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ice(t,e,n){return(e=ace(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ace(t){var e=oce(t,"string");return typeof e=="symbol"?e:e+""}function oce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sce(t,e){return av(av({},e),t)}function lce(t,e){return t==="symbols"}function EP(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return T.createElement(b9,n);case"trapezoid":return T.createElement(ece,n);case"sector":return T.createElement(A9,n);case"symbols":if(lce(e))return T.createElement($E,n);break;default:return null}}function uce(t){return T.isValidElement(t)?t.props:t}function W7(t){var{option:e,shapeType:n,propTransformer:r=sce,activeClassName:i="recharts-active-shape",isActive:a}=t,o=nce(t,tce),l;if(T.isValidElement(e))l=T.cloneElement(e,av(av({},o),uce(e)));else if(typeof e=="function")l=e(o);else if(Xue(e)&&typeof e!="boolean"){var c=r(e,o);l=T.createElement(EP,{shapeType:n,elementProps:c})}else{var f=o;l=T.createElement(EP,{shapeType:n,elementProps:f})}return a?T.createElement(Cr,{className:i},l):l}var xS=(t,e)=>{var n=un();return(r,i)=>a=>{t?.(r,i,a),n(u7({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},_S=t=>{var e=un();return(n,r)=>i=>{t?.(n,r,i),e(qoe())}},bS=(t,e)=>{var n=un();return(r,i)=>a=>{t?.(r,i,a),n(Goe({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function wS(t){var{fn:e,args:n}=t,r=un(),i=fi();return T.useEffect(()=>{if(!i){var a=e(n);return r(zoe(a)),()=>{r(Hoe(a))}}},[e,n,r,i]),null}var X7=()=>{};function Y7(t){var{legendPayload:e}=t,n=un(),r=fi();return T.useEffect(()=>r?X7:(n(p9(e)),()=>{n(g9(e))}),[n,r,e]),null}function cce(t){var{legendPayload:e}=t,n=un(),r=Te(ct);return T.useEffect(()=>r!=="centric"&&r!=="radial"?X7:(n(p9(e)),()=>{n(g9(e))}),[n,r,e]),null}var N_,fce=()=>{var[t]=T.useState(()=>Vh("uid-"));return t},dce=(N_=yB.useId)!==null&&N_!==void 0?N_:fce;function hce(t,e){var n=dce();return e||(t?"".concat(t,"-").concat(n):n)}var pce=T.createContext(void 0),ES=t=>{var{id:e,type:n,children:r}=t,i=hce("recharts-".concat(n),e);return T.createElement(pce.Provider,{value:i},r(i))},gce={cartesianItems:[],polarItems:[]},Q7=Ni({name:"graphicalItems",initialState:gce,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=Ko(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=Ko(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Ko(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:vce,replaceCartesianGraphicalItem:mce,removeCartesianGraphicalItem:yce,addPolarGraphicalItem:xce,removePolarGraphicalItem:_ce}=Q7.actions,bce=Q7.reducer;function Z7(t){var e=un(),n=T.useRef(null);return T.useEffect(()=>{n.current===null?e(vce(t)):n.current!==t&&e(mce({prev:n.current,next:t})),n.current=t},[e,t]),T.useEffect(()=>()=>{n.current&&(e(yce(n.current)),n.current=null)},[e]),null}function wce(t){var e=un();return T.useEffect(()=>(e(xce(t)),()=>{e(_ce(t))}),[e,t]),null}var Ece=["onMouseEnter","onClick","onMouseLeave"],Ace=["id"],Sce=["id"];function AS(t,e){if(t==null)return{};var n,r,i=Cce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function AP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(n),!0).forEach(function(r){Tce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tce(t,e,n){return(e=Ice(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ice(t){var e=Oce(t,"string");return typeof e=="symbol"?e:e+""}function Oce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(null,arguments)}function Rce(t){var e=T.useMemo(()=>FE(t.children,Kf),[t.children]),n=Te(r=>$ue(r,t.id,e));return n==null?null:T.createElement(cce,{legendPayload:n})}function Pce(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:o,name:l,hide:c,tooltipType:f}=t;return{dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:e,nameKey:n,name:Lf(l,e),hide:c,type:f,color:o,unit:""}}}var Dce=(t,e)=>t>e?"start":t<e?"end":"middle",Nce=(t,e,n)=>jr(typeof e=="function"?e(t):e,n,n*.8),Mce=(t,e,n)=>{var{top:r,left:i,width:a,height:o}=e,l=a9(a,o),c=i+jr(t.cx,a,a/2),f=r+jr(t.cy,o,o/2),h=jr(t.innerRadius,l,0),p=Nce(n,t.outerRadius,l),v=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:c,cy:f,innerRadius:h,outerRadius:p,maxRadius:v}},kce=(t,e)=>{var n=lr(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function jce(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Lce=(t,e)=>{if(T.isValidElement(t))return T.cloneElement(t,e);if(typeof t=="function")return t(e);var n=vt("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return T.createElement(oA,wl({},e,{type:"linear",className:n}))},Bce=(t,e,n)=>{if(T.isValidElement(t))return T.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),T.isValidElement(r)))return r;var i=vt("recharts-pie-label-text",jce(t));return T.createElement(Rm,wl({},e,{alignmentBaseline:"middle",className:i}),r)};function Fce(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:o}=n;if(!r||!i||!e)return null;var l=yo(n),c=ln(i,!1),f=ln(a,!1),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=e.map((v,m)=>{var _=(v.startAngle+v.endAngle)/2,w=Ln(v.cx,v.cy,v.outerRadius+h,_),A=en(en(en(en({},l),v),{},{stroke:"none"},c),{},{index:m,textAnchor:Dce(w.x,v.cx)},w),S=en(en(en(en({},l),v),{},{fill:"none",stroke:v.fill},f),{},{index:m,points:[Ln(v.cx,v.cy,v.outerRadius,_),w],key:"line"});return T.createElement(Cr,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(m)},a&&Lce(a,S),Bce(i,A,qt(v,o)))});return T.createElement(Cr,{className:"recharts-pie-labels"},p)}function Vce(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?T.createElement(pS,{label:i}):T.createElement(Fce,{sectors:e,props:n,showLabels:r})}function Uce(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,a=Te(bl),{onMouseEnter:o,onClick:l,onMouseLeave:c}=i,f=AS(i,Ece),h=xS(o,i.dataKey),p=_S(c),v=bS(l,i.dataKey);return e==null||e.length===0?null:T.createElement(T.Fragment,null,e.map((m,_)=>{if(m?.startAngle===0&&m?.endAngle===0&&e.length!==1)return null;var w=n&&String(_)===a,A=a?r:null,S=w?n:A,I=en(en({},m),{},{stroke:m.stroke,tabIndex:-1,[c9]:_,[f9]:i.dataKey});return T.createElement(Cr,wl({tabIndex:-1,className:"recharts-pie-sector"},h0(f,m,_),{onMouseEnter:h(m,_),onMouseLeave:p(m,_),onClick:v(m,_),key:"sector-".concat(m?.startAngle,"-").concat(m?.endAngle,"-").concat(m.midAngle,"-").concat(_)}),T.createElement(W7,wl({option:S,isActive:w,shapeType:"sector"},I)))}))}function zce(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:f,nameKey:h,tooltipType:p}=n,v=Math.abs(n.minAngle),m=kce(l,c),_=Math.abs(m),w=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,A=r.filter(B=>qt(B,f,0)!==0).length,S=(_>=360?A:A-1)*w,I=_-A*v-S,O=r.reduce((B,D)=>{var M=qt(D,f,0);return B+(Re(M)?M:0)},0),N;if(O>0){var k;N=r.map((B,D)=>{var M=qt(B,f,0),j=qt(B,h,D),z=Mce(n,a,B),F=(Re(M)?M:0)/O,H,U=en(en({},B),i&&i[D]&&i[D].props);D?H=k.endAngle+lr(m)*w*(M!==0?1:0):H=l;var he=H+lr(m)*((M!==0?v:0)+F*I),be=(H+he)/2,Y=(z.innerRadius+z.outerRadius)/2,se=[{name:j,value:M,payload:U,dataKey:f,type:p}],me=Ln(z.cx,z.cy,Y,be);return k=en(en(en(en({},n.presentationProps),{},{percent:F,cornerRadius:o,name:j,tooltipPayload:se,midAngle:be,middleRadius:Y,tooltipPosition:me},U),z),{},{value:M,startAngle:H,endAngle:he,payload:U,paddingAngle:lr(m)*w}),k})}return N}function Hce(t){var{showLabels:e,sectors:n,children:r}=t,i=T.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return T.createElement(Iue,{value:e?i:void 0},r)}function $ce(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:f,onAnimationStart:h,onAnimationEnd:p}=e,v=y0(e,"recharts-pie-"),m=n.current,[_,w]=T.useState(!1),A=T.useCallback(()=>{typeof p=="function"&&p(),w(!1)},[p]),S=T.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return T.createElement(Hce,{showLabels:!_,sectors:r},T.createElement(m0,{animationId:v,begin:a,duration:o,isActive:i,easing:l,onAnimationStart:S,onAnimationEnd:A,key:v},I=>{var O=[],N=r&&r[0],k=N?.startAngle;return r?.forEach((B,D)=>{var M=m&&m[D],j=D>0?Vu(B,"paddingAngle",0):0;if(M){var z=dn(M.endAngle-M.startAngle,B.endAngle-B.startAngle,I),F=en(en({},B),{},{startAngle:k+j,endAngle:k+z+j});O.push(F),k=F.endAngle}else{var{endAngle:H,startAngle:U}=B,he=dn(0,H-U,I),be=en(en({},B),{},{startAngle:k+j,endAngle:k+he+j});O.push(be),k=be.endAngle}}),n.current=O,T.createElement(Cr,null,T.createElement(Uce,{sectors:O,activeShape:c,inactiveShape:f,allOtherPieProps:e}))}),T.createElement(Vce,{showLabels:!_,sectors:r,props:e}),e.children)}var qce={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Pl.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Gce(t){var{id:e}=t,n=AS(t,Ace),{hide:r,className:i,rootTabIndex:a}=t,o=T.useMemo(()=>FE(t.children,Kf),[t.children]),l=Te(h=>que(h,e,o)),c=T.useRef(null),f=vt("recharts-pie",i);return r||l==null?(c.current=null,T.createElement(Cr,{tabIndex:a,className:f})):T.createElement(T.Fragment,null,T.createElement(wS,{fn:Pce,args:en(en({},t),{},{sectors:l})}),T.createElement(Cr,{tabIndex:a,className:f},T.createElement($ce,{props:en(en({},n),{},{sectors:l}),previousSectorsRef:c})))}function SS(t){var e=Tr(t,qce),{id:n}=e,r=AS(e,Sce),i=yo(r);return T.createElement(ES,{id:n,type:"pie"},a=>T.createElement(T.Fragment,null,T.createElement(wce,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),T.createElement(Rce,wl({},r,{id:a})),T.createElement(Gce,wl({},r,{id:a}))))}SS.displayName="Pie";function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){Kce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kce(t,e,n){return(e=Wce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wce(t){var e=Xce(t,"string");return typeof e=="symbol"?e:e+""}function Xce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yce={xAxis:{},yAxis:{},zAxis:{}},J7=Ni({name:"cartesianAxis",initialState:Yce,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=CP(CP({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:Qce,removeXAxis:Zce,addYAxis:Jce,removeYAxis:efe,addZAxis:Qpe,removeZAxis:Zpe,updateYAxisWidth:tfe}=J7.actions,nfe=J7.reducer,rfe=ne([Yn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),ife=ne([rfe,as,os],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),CS=()=>Te(ife),afe=()=>Te(Dse);function TP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(n),!0).forEach(function(r){ofe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ofe(t,e,n){return(e=sfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sfe(t){var e=lfe(t,"string");return typeof e=="symbol"?e:e+""}function lfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ufe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o=IP(IP({index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},ln(i,!1)),BE(i)),l;return T.isValidElement(i)?l=T.cloneElement(i,o):typeof i=="function"?l=i(o):l=T.createElement(H7,o),T.createElement(Cr,{className:"recharts-active-dot"},l)};function cfe(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,a=Te(bl),o=afe();if(e==null||o==null)return null;var l=e.find(c=>o.includes(c.payload));return rn(l)?null:ufe({point:l,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var ffe="Invariant failed";function dfe(t,e){throw new Error(ffe)}var hfe=["x","y"];function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fw.apply(null,arguments)}function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){pfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pfe(t,e,n){return(e=gfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gfe(t){var e=vfe(t,"string");return typeof e=="symbol"?e:e+""}function vfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mfe(t,e){if(t==null)return{};var n,r,i=yfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xfe(t,e){var{x:n,y:r}=t,i=mfe(t,hfe),a="".concat(n),o=parseInt(a,10),l="".concat(r),c=parseInt(l,10),f="".concat(e.height||i.height),h=parseInt(f,10),p="".concat(e.width||i.width),v=parseInt(p,10);return uh(uh(uh(uh(uh({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:h,width:v,name:e.name,radius:e.radius})}function TS(t){return T.createElement(W7,fw({shapeType:"rectangle",propTransformer:xfe,activeClassName:"recharts-active-bar"},t))}var _fe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Re(e))return e;var a=Re(r)||rn(r);return a?e(r,i):(a||dfe(),n)}},bfe={},ej=Ni({name:"errorBars",initialState:bfe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Jpe,replaceErrorBar:e1e,removeErrorBar:t1e}=ej.actions,wfe=ej.reducer,Efe=["children"];function Afe(t,e){if(t==null)return{};var n,r,i=Sfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cfe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Tfe=T.createContext(Cfe);function tj(t){var{children:e}=t,n=Afe(t,Efe);return T.createElement(Tfe.Provider,{value:n},e)}function IS(t,e){var n,r,i=Te(f=>ls(f,t)),a=Te(f=>us(f,e)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:wi.allowDataOverflow,l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Ei.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function nj(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=CS(),{needClipX:a,needClipY:o,needClip:l}=IS(e,n);if(!l)return null;var{x:c,y:f,width:h,height:p}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:a?c:c-h/2,y:o?f:f-p/2,width:a?h:h*2,height:o?p:p*2}))}var Ife=["onMouseEnter","onMouseLeave","onClick"],Ofe=["value","background","tooltipPosition"],Rfe=["id"],Pfe=["onMouseEnter","onClick","onMouseLeave"];function El(){return El=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},El.apply(null,arguments)}function RP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(n),!0).forEach(function(r){Dfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dfe(t,e,n){return(e=Nfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nfe(t){var e=Mfe(t,"string");return typeof e=="symbol"?e:e+""}function Mfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ov(t,e){if(t==null)return{};var n,r,i=kfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jfe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Lf(n,e),payload:t}]};function Lfe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:l}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Lf(a,e),hide:o,type:t.tooltipType,color:t.fill,unit:l}}}function Bfe(t){var e=Te(bl),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:o,onMouseLeave:l,onClick:c}=a,f=ov(a,Ife),h=xS(o,r),p=_S(l),v=bS(c,r);if(!i||n==null)return null;var m=ln(i,!1);return T.createElement(T.Fragment,null,n.map((_,w)=>{var{value:A,background:S,tooltipPosition:I}=_,O=ov(_,Ofe);if(!S)return null;var N=h(_,w),k=p(_,w),B=v(_,w),D=qr(qr(qr(qr(qr({option:i,isActive:String(w)===e},O),{},{fill:"#eee"},S),m),h0(f,_,w)),{},{onMouseEnter:N,onMouseLeave:k,onClick:B,dataKey:r,index:w,className:"recharts-bar-background-rectangle"});return T.createElement(TS,El({key:"background-bar-".concat(D.index)},D))}))}function Ffe(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return qr(qr({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return T.createElement(U7,{value:e?i:void 0},n)}function Vfe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:o}=t,l=Te(bl),c=Te(w7),f=n&&String(a)===l&&(c==null||o===c),h=f?n:e;return T.createElement(TS,El({},r,i,{isActive:f,option:h,index:a,dataKey:o}))}function Ufe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return T.createElement(TS,El({},n,r,{isActive:!1,option:e,index:i,dataKey:a}))}function zfe(t){var{data:e,props:n}=t,r=yo(n),{id:i}=r,a=ov(r,Rfe),{shape:o,dataKey:l,activeBar:c}=n,{onMouseEnter:f,onClick:h,onMouseLeave:p}=n,v=ov(n,Pfe),m=xS(f,l),_=_S(p),w=bS(h,l);return e?T.createElement(T.Fragment,null,e.map((A,S)=>T.createElement(Cr,El({className:"recharts-bar-rectangle"},h0(v,A,S),{onMouseEnter:m(A,S),onMouseLeave:_(A,S),onClick:w(A,S),key:"rectangle-".concat(A?.x,"-").concat(A?.y,"-").concat(A?.value,"-").concat(S)}),c?T.createElement(Vfe,{shape:o,activeBar:c,baseProps:a,entry:A,index:S,dataKey:l}):T.createElement(Ufe,{shape:o,baseProps:a,entry:A,index:S,dataKey:l})))):null}function Hfe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:f,onAnimationStart:h}=e,p=n.current,v=y0(e,"recharts-bar-"),[m,_]=T.useState(!1),w=!m,A=T.useCallback(()=>{typeof f=="function"&&f(),_(!1)},[f]),S=T.useCallback(()=>{typeof h=="function"&&h(),_(!0)},[h]);return T.createElement(Ffe,{showLabels:w,rects:r},T.createElement(m0,{animationId:v,begin:o,duration:l,isActive:a,easing:c,onAnimationEnd:A,onAnimationStart:S,key:v},I=>{var O=I===1?r:r?.map((N,k)=>{var B=p&&p[k];if(B)return qr(qr({},N),{},{x:dn(B.x,N.x,I),y:dn(B.y,N.y,I),width:dn(B.width,N.width,I),height:dn(B.height,N.height,I)});if(i==="horizontal"){var D=dn(0,N.height,I);return qr(qr({},N),{},{y:N.y+N.height-D,height:D})}var M=dn(0,N.width,I);return qr(qr({},N),{},{width:M})});return I>0&&(n.current=O??null),O==null?null:T.createElement(Cr,null,T.createElement(zfe,{props:e,data:O}))}),T.createElement(pS,{label:e.label}),e.children)}function $fe(t){var e=T.useRef(null);return T.createElement(Hfe,{previousRectanglesRef:e,props:t})}var rj=0,qfe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:qt(t,e)}};class Gfe extends T.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:l,background:c,id:f}=this.props;if(e||n==null)return null;var h=vt("recharts-bar",i),p=f;return T.createElement(Cr,{className:h,id:f},l&&T.createElement("defs",null,T.createElement(nj,{clipPathId:p,xAxisId:a,yAxisId:o})),T.createElement(Cr,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(p,")"):void 0},T.createElement(Bfe,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),T.createElement($fe,this.props)))}}var Kfe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Pl.isSsr,legendType:"rect",minPointSize:rj,xAxisId:0,yAxisId:0};function Wfe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:f,isAnimationActive:h}=t,{needClip:p}=IS(e,n),v=um(),m=fi(),_=FE(t.children,Kf),w=Te(I=>wde(I,e,n,m,t.id,_));if(v!=="vertical"&&v!=="horizontal")return null;var A,S=w?.[0];return S==null||S.height==null||S.width==null?A=0:A=v==="vertical"?S.height/2:S.width/2,T.createElement(tj,{xAxisId:e,yAxisId:n,data:w,dataPointFormatter:qfe,errorBarOffset:A},T.createElement(Gfe,El({},t,{layout:v,needClip:p,data:w,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:f,isAnimationActive:h})))}function Xfe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:f,stackedData:h,displayedData:p,offset:v,cells:m,parentViewBox:_}=t,w=e==="horizontal"?l:o,A=h?w.scale.domain():null,S=ste({numericAxis:w});return p.map((I,O)=>{var N,k,B,D,M,j;h?N=tte(h[O],A):(N=qt(I,n),Array.isArray(N)||(N=[S,N]));var z=_fe(r,rj)(N[1],O);if(e==="horizontal"){var F,[H,U]=[l.scale(N[0]),l.scale(N[1])];k=g8({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:I,index:O}),B=(F=U??H)!==null&&F!==void 0?F:void 0,D=i.size;var he=H-U;if(M=Ri(he)?0:he,j={x:k,y:v.top,width:D,height:v.height},Math.abs(z)>0&&Math.abs(M)<Math.abs(z)){var be=lr(M||z)*(Math.abs(z)-Math.abs(M));B-=be,M+=be}}else{var[Y,se]=[o.scale(N[0]),o.scale(N[1])];if(k=Y,B=g8({axis:l,ticks:f,bandSize:a,offset:i.offset,entry:I,index:O}),D=se-Y,M=i.size,j={x:v.left,y:B,width:v.width,height:M},Math.abs(z)>0&&Math.abs(D)<Math.abs(z)){var me=lr(D||z)*(Math.abs(z)-Math.abs(D));D+=me}}if(k==null||B==null||D==null||M==null)return null;var Se=qr(qr({},I),{},{x:k,y:B,width:D,height:M,value:h?N:N[1],payload:I,background:j,tooltipPosition:{x:k+D/2,y:B+M/2},parentViewBox:_},m&&m[O]&&m[O].props);return Se}).filter(Boolean)}function Yfe(t){var e=Tr(t,Kfe),n=fi();return T.createElement(ES,{id:e.id,type:"bar"},r=>T.createElement(T.Fragment,null,T.createElement(Y7,{legendPayload:jfe(e)}),T.createElement(wS,{fn:Lfe,args:e}),T.createElement(Z7,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:ote(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),T.createElement(Wfe,El({},e,{id:r}))))}var ij=T.memo(Yfe);ij.displayName="Bar";function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(r){Qfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qfe(t,e,n){return(e=Zfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zfe(t){var e=Jfe(t,"string");return typeof e=="symbol"?e:e+""}function Jfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ede=(t,e)=>e,tde=(t,e,n)=>n,nde=(t,e,n,r)=>r,rde=(t,e,n,r,i)=>i,R0=ne([wm,rde],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),ide=ne([R0],t=>t?.maxBarSize),ade=(t,e,n,r,i,a)=>a,DP=(t,e,n)=>{var r=n??t;if(!rn(r))return jr(r,e,0)},ode=ne([ct,wm,ede,tde,nde],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),sde=(t,e,n,r)=>{var i=ct(t);return i==="horizontal"?iw(t,"yAxis",n,r):iw(t,"xAxis",e,r)},lde=(t,e,n)=>{var r=ct(t);return r==="horizontal"?DR(t,"xAxis",e):DR(t,"yAxis",n)},ude=(t,e,n)=>{var r={},i=t.filter(bm),a=t.filter(f=>f.stackId==null),o=i.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),r),l=Object.entries(o).map(f=>{var[h,p]=f,v=p.map(_=>_.dataKey),m=DP(e,n,p[0].barSize);return{stackId:h,dataKeys:v,barSize:m}}),c=a.map(f=>{var h=[f.dataKey].filter(v=>v!=null),p=DP(e,n,f.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...l,...c]},cde=ne([ode,Uae,lde],ude),fde=(t,e,n,r,i)=>{var a,o,l=R0(t,e,n,r,i);if(l!=null){var c=ct(t),f=_k(t),{maxBarSize:h}=l,p=rn(h)?f:h,v,m;return c==="horizontal"?(v=_l(t,"xAxis",e,r),m=xl(t,"xAxis",e,r)):(v=_l(t,"yAxis",n,r),m=xl(t,"yAxis",n,r)),(a=(o=Hh(v,m,!0))!==null&&o!==void 0?o:p)!==null&&a!==void 0?a:0}},aj=(t,e,n,r)=>{var i=ct(t),a,o;return i==="horizontal"?(a=_l(t,"xAxis",e,r),o=xl(t,"xAxis",e,r)):(a=_l(t,"yAxis",n,r),o=xl(t,"yAxis",n,r)),Hh(a,o)};function dde(t,e,n,r,i){var a=r.length;if(!(a<1)){var o=jr(t,n,0,!0),l,c=[];if(Di(r[0].barSize)){var f=!1,h=n/a,p=r.reduce((S,I)=>S+(I.barSize||0),0);p+=(a-1)*o,p>=n&&(p-=(a-1)*o,o=0),p>=n&&h>0&&(f=!0,h*=.9,p=a*h);var v=(n-p)/2>>0,m={offset:v-o,size:0};l=r.reduce((S,I)=>{var O,N={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:m.offset+m.size+o,size:f?h:(O=I.barSize)!==null&&O!==void 0?O:0}},k=[...S,N];return m=k[k.length-1].position,k},c)}else{var _=jr(e,n,0,!0);n-2*_-(a-1)*o<=0&&(o=0);var w=(n-2*_-(a-1)*o)/a;w>1&&(w>>=0);var A=Di(i)?Math.min(w,i):w;l=r.reduce((S,I,O)=>[...S,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:_+(w+o)*O+(w-A)/2,size:A}}],c)}return l}}var hde=(t,e,n,r,i,a,o)=>{var l=rn(o)?e:o,c=dde(n,r,i!==a?i:a,t,l);return i!==a&&c!=null&&(c=c.map(f=>k1(k1({},f),{},{position:k1(k1({},f.position),{},{offset:f.position.offset-i/2})}))),c},pde=ne([cde,_k,Vae,bk,fde,aj,ide],hde),gde=(t,e,n,r)=>_l(t,"xAxis",e,r),vde=(t,e,n,r)=>_l(t,"yAxis",n,r),mde=(t,e,n,r)=>xl(t,"xAxis",e,r),yde=(t,e,n,r)=>xl(t,"yAxis",n,r),xde=ne([pde,R0],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),_de=(t,e)=>{var n=FA(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===n)}}}},bde=ne([sde,R0],_de),wde=ne([Yn,tA,gde,vde,mde,yde,xde,ct,mm,aj,bde,R0,ade],(t,e,n,r,i,a,o,l,c,f,h,p,v)=>{var{chartData:m,dataStartIndex:_,dataEndIndex:w}=c;if(!(p==null||o==null||e==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||i==null||a==null||f==null)){var{data:A}=p,S;if(A!=null&&A.length>0?S=A:S=m?.slice(_,w+1),S!=null)return Xfe({layout:l,barSettings:p,pos:o,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:h,displayedData:S,offset:t,cells:v})}}),oj=t=>{var{chartData:e}=t,n=un(),r=fi();return T.useEffect(()=>r?()=>{}:(n(zR(e)),()=>{n(zR(void 0))}),[e,n,r]),null},NP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},sj=Ni({name:"brush",initialState:NP,reducers:{setBrushSettings(t,e){return e.payload==null?NP:e.payload}}}),{setBrushSettings:n1e}=sj.actions,Ede=sj.reducer;function Ade(t,e,n){return(e=Sde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sde(t){var e=Cde(t,"string");return typeof e=="symbol"?e:e+""}function Cde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class OS{static create(e){return new OS(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Ade(OS,"EPS",1e-4);function Tde(t){return(t%180+180)%180}var Ide=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Tde(i),o=a*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},Ode={dots:[],areas:[],lines:[]},lj=Ni({name:"referenceElements",initialState:Ode,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ko(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ko(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ko(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:r1e,removeDot:i1e,addArea:a1e,removeArea:o1e,addLine:s1e,removeLine:l1e}=lj.actions,Rde=lj.reducer,Pde=T.createContext(void 0),Dde=t=>{var{children:e}=t,[n]=T.useState("".concat(Vh("recharts"),"-clip")),r=CS();if(r==null)return null;var{x:i,y:a,width:o,height:l}=r;return T.createElement(Pde.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:a,height:l,width:o}))),e)};function Ef(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function uj(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Nde(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Ide(r,n)}function Mde(t,e,n){var r=n==="width",{x:i,y:a,width:o,height:l}=t;return e===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function sv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function kde(t,e){return uj(t,e+1)}function jde(t,e,n,r,i){for(var a=(r||[]).slice(),{start:o,end:l}=e,c=0,f=1,h=o,p=function(){var _=r?.[c];if(_===void 0)return{v:uj(r,f)};var w=c,A,S=()=>(A===void 0&&(A=n(_,w)),A),I=_.coordinate,O=c===0||sv(t,I,S,h,l);O||(c=0,h=o,f+=1),O&&(h=I+t*(S()/2+i),c+=f)},v;f<=a.length;)if(v=p(),v)return v.v;return[]}function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){Lde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lde(t,e,n){return(e=Bde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bde(t){var e=Fde(t,"string");return typeof e=="symbol"?e:e+""}function Fde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vde(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:l}=e,{end:c}=e,f=function(v){var m=a[v],_,w=()=>(_===void 0&&(_=n(m,v)),_);if(v===o-1){var A=t*(m.coordinate+t*w()/2-c);a[v]=m=Pr(Pr({},m),{},{tickCoord:A>0?m.coordinate-A*t:m.coordinate})}else a[v]=m=Pr(Pr({},m),{},{tickCoord:m.coordinate});var S=sv(t,m.tickCoord,w,l,c);S&&(c=m.tickCoord-t*(w()/2+i),a[v]=Pr(Pr({},m),{},{isShow:!0}))},h=o-1;h>=0;h--)f(h);return a}function Ude(t,e,n,r,i,a){var o=(r||[]).slice(),l=o.length,{start:c,end:f}=e;if(a){var h=r[l-1],p=n(h,l-1),v=t*(h.coordinate+t*p/2-f);o[l-1]=h=Pr(Pr({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate});var m=sv(t,h.tickCoord,()=>p,c,f);m&&(f=h.tickCoord-t*(p/2+i),o[l-1]=Pr(Pr({},h),{},{isShow:!0}))}for(var _=a?l-1:l,w=function(I){var O=o[I],N,k=()=>(N===void 0&&(N=n(O,I)),N);if(I===0){var B=t*(O.coordinate-t*k()/2-c);o[I]=O=Pr(Pr({},O),{},{tickCoord:B<0?O.coordinate-B*t:O.coordinate})}else o[I]=O=Pr(Pr({},O),{},{tickCoord:O.coordinate});var D=sv(t,O.tickCoord,k,c,f);D&&(c=O.tickCoord+t*(k()/2+i),o[I]=Pr(Pr({},O),{},{isShow:!0}))},A=0;A<_;A++)w(A);return o}function RS(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:c,tickFormatter:f,unit:h,angle:p}=t;if(!i||!i.length||!r)return[];if(Re(c)||Pl.isSsr){var v;return(v=kde(i,Re(c)?c:0))!==null&&v!==void 0?v:[]}var m=[],_=l==="top"||l==="bottom"?"width":"height",w=h&&_==="width"?Oh(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(O,N)=>{var k=typeof f=="function"?f(O.value,N):O.value;return _==="width"?Nde(Oh(k,{fontSize:e,letterSpacing:n}),w,p):Oh(k,{fontSize:e,letterSpacing:n})[_]},S=i.length>=2?lr(i[1].coordinate-i[0].coordinate):1,I=Mde(a,S,_);return c==="equidistantPreserveStart"?jde(S,I,A,i,o):(c==="preserveStart"||c==="preserveStartEnd"?m=Ude(S,I,A,i,o,c==="preserveStartEnd"):m=Vde(S,I,A,i,o),m.filter(O=>O.isShow))}var zde=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){e.forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>o&&(o=p.width)}});var l=n?n.getBoundingClientRect().width:0,c=i+a,f=o+c+l+(n?r:0);return Math.round(f)}return 0},Hde=["axisLine","width","height","className","hide","ticks"],$de=["viewBox"],qde=["viewBox"];function dw(t,e){if(t==null)return{};var n,r,i=Gde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$u.apply(null,arguments)}function kP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(n),!0).forEach(function(r){Kde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kde(t,e,n){return(e=Wde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wde(t){var e=Xde(t,"string");return typeof e=="symbol"?e:e+""}function Xde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PS={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Yde(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:c}=t;if(!l)return null;var f=qn(qn(qn({},c),ln(l,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!o||a==="bottom"&&o);f=qn(qn({},f),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);f=qn(qn({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return T.createElement("line",$u({},f,{className:vt("recharts-cartesian-axis-line",Vu(l,"className"))}))}function Qde(t,e,n,r,i,a,o,l,c){var f,h,p,v,m,_,w=l?-1:1,A=t.tickSize||o,S=Re(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":f=h=t.coordinate,v=n+ +!l*i,p=v-w*A,_=p-w*c,m=S;break;case"left":p=v=t.coordinate,h=e+ +!l*r,f=h-w*A,m=f-w*c,_=S;break;case"right":p=v=t.coordinate,h=e+ +l*r,f=h+w*A,m=f+w*c,_=S;break;default:f=h=t.coordinate,v=n+ +l*i,p=v+w*A,_=p+w*c,m=S;break}return{line:{x1:f,y1:p,x2:h,y2:v},tick:{x:m,y:_}}}function Zde(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Jde(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function ehe(t){var{option:e,tickProps:n,value:r}=t,i,a=vt(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,qn(qn({},n),{},{className:a}));else if(typeof e=="function")i=e(qn(qn({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=vt(o,e?.className)),i=T.createElement(Rm,$u({},n,{className:o}),r)}return i}function the(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:o,padding:l,tickTextProps:c,orientation:f,mirror:h,x:p,y:v,width:m,height:_,tickSize:w,tickMargin:A,fontSize:S,letterSpacing:I,getTicksConfig:O,events:N}=t,k=RS(qn(qn({},O),{},{ticks:e}),S,I),B=Zde(f,h),D=Jde(f,h),M=yo(O),j=ln(n,!1),z=qn(qn({},M),{},{fill:"none"},ln(r,!1)),F=k.map((H,U)=>{var{line:he,tick:be}=Qde(H,p,v,m,_,f,w,h,A),Y=qn(qn(qn(qn({textAnchor:B,verticalAnchor:D},M),{},{stroke:"none",fill:i},j),be),{},{index:U,payload:H,visibleTicksCount:k.length,tickFormatter:a,padding:l},c);return T.createElement(Cr,$u({className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},h0(N,H,U)),r&&T.createElement("line",$u({},z,he,{className:vt("recharts-cartesian-axis-tick-line",Vu(r,"className"))})),n&&T.createElement(ehe,{option:n,tickProps:Y,value:"".concat(typeof a=="function"?a(H.value,U):H.value).concat(o||"")}))});return F.length>0?T.createElement("g",{className:"recharts-cartesian-axis-ticks"},F):null}var nhe=T.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:l}=t,c=dw(t,Hde),[f,h]=T.useState(""),[p,v]=T.useState(""),m=T.useRef([]);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return zde({ticks:m.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var _=T.useCallback(w=>{if(w){var A=w.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(A);var S=A[0];if(S){var I=window.getComputedStyle(S),O=I.fontSize,N=I.letterSpacing;(O!==f||N!==p)&&(h(O),v(N))}}},[f,p]);return o||r!=null&&r<=0||i!=null&&i<=0?null:T.createElement(Cr,{className:vt("recharts-cartesian-axis",a),ref:_},T.createElement(Yde,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:yo(t)}),T.createElement(the,{ticks:l,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:f,letterSpacing:p,getTicksConfig:t,events:c}),T.createElement(sue,{x:t.x,y:t.y,width:t.width,height:t.height},T.createElement(mue,{label:t.label}),t.children))}),rhe=T.memo(nhe,(t,e)=>{var{viewBox:n}=t,r=dw(t,$de),{viewBox:i}=e,a=dw(e,qde);return Ef(n,i)&&Ef(r,a)}),DS=T.forwardRef((t,e)=>{var n=Tr(t,PS);return T.createElement(rhe,$u({},n,{ref:e}))});DS.displayName="CartesianAxis";var ihe=["x1","y1","x2","y2","key"],ahe=["offset"],ohe=["xAxisId","yAxisId"],she=["xAxisId","yAxisId"];function jP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(n),!0).forEach(function(r){lhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lhe(t,e,n){return(e=uhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uhe(t){var e=che(t,"string");return typeof e=="symbol"?e:e+""}function che(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Au(){return Au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Au.apply(null,arguments)}function lv(t,e){if(t==null)return{};var n,r,i=fhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dhe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:l}=t;return T.createElement("rect",{x:r,y:i,ry:l,width:a,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function cj(t,e){var n;if(T.isValidElement(t))n=T.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:o,key:l}=e,c=lv(e,ihe),f=yo(c),{offset:h}=f,p=lv(f,ahe);n=T.createElement("line",Au({},p,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:l}))}return n}function hhe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,l=lv(t,ohe),c=i.map((f,h)=>{var p=Mr(Mr({},l),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(h),index:h});return cj(r,p)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function phe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,l=lv(t,she),c=i.map((f,h)=>{var p=Mr(Mr({},l),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(h),index:h});return cj(r,p)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function ghe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:l,horizontal:c=!0}=t;if(!c||!e||!e.length)return null;var f=l.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==f[0]&&f.unshift(0);var h=f.map((p,v)=>{var m=!f[v+1],_=m?i+o-p:f[v+1]-p;if(_<=0)return null;var w=v%e.length;return T.createElement("rect",{key:"react-".concat(v),y:p,x:r,height:_,width:a,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function vhe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:l,verticalPoints:c}=t;if(!e||!n||!n.length)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==f[0]&&f.unshift(0);var h=f.map((p,v)=>{var m=!f[v+1],_=m?i+o-p:f[v+1]-p;if(_<=0)return null;var w=v%n.length;return T.createElement("rect",{key:"react-".concat(v),x:p,y:a,width:_,height:l,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var mhe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return s9(RS(Mr(Mr(Mr({},PS),n),{},{ticks:l9(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},yhe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return s9(RS(Mr(Mr(Mr({},PS),n),{},{ticks:l9(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},xhe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function NS(t){var e=rA(),n=iA(),r=d9(),i=Mr(Mr({},Tr(t,xhe)),{},{x:Re(t.x)?t.x:r.left,y:Re(t.y)?t.y:r.top,width:Re(t.width)?t.width:r.width,height:Re(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:o,x:l,y:c,width:f,height:h,syncWithTicks:p,horizontalValues:v,verticalValues:m}=i,_=fi(),w=Te(j=>NR(j,"xAxis",a,_)),A=Te(j=>NR(j,"yAxis",o,_));if(!Re(f)||f<=0||!Re(h)||h<=0||!Re(l)||l!==+l||!Re(c)||c!==+c)return null;var S=i.verticalCoordinatesGenerator||mhe,I=i.horizontalCoordinatesGenerator||yhe,{horizontalPoints:O,verticalPoints:N}=i;if((!O||!O.length)&&typeof I=="function"){var k=v&&v.length,B=I({yAxis:A?Mr(Mr({},A),{},{ticks:k?v:A.ticks}):void 0,width:e,height:n,offset:r},k?!0:p);Ih(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(O=B)}if((!N||!N.length)&&typeof S=="function"){var D=m&&m.length,M=S({xAxis:w?Mr(Mr({},w),{},{ticks:D?m:w.ticks}):void 0,width:e,height:n,offset:r},D?!0:p);Ih(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(N=M)}return T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(dhe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),T.createElement(ghe,Au({},i,{horizontalPoints:O})),T.createElement(vhe,Au({},i,{verticalPoints:N})),T.createElement(hhe,Au({},i,{offset:r,horizontalPoints:O,xAxis:w,yAxis:A})),T.createElement(phe,Au({},i,{offset:r,verticalPoints:N,xAxis:w,yAxis:A})))}NS.displayName="CartesianGrid";var fj=(t,e,n,r)=>_l(t,"xAxis",e,r),dj=(t,e,n,r)=>xl(t,"xAxis",e,r),hj=(t,e,n,r)=>_l(t,"yAxis",n,r),pj=(t,e,n,r)=>xl(t,"yAxis",n,r),_he=ne([ct,fj,hj,dj,pj],(t,e,n,r,i)=>Rl(t,"xAxis")?Hh(e,r,!1):Hh(n,i,!1)),bhe=(t,e,n,r,i)=>i;function whe(t){return t.type==="line"}var Ehe=ne([wm,bhe],(t,e)=>t.filter(whe).find(n=>n.id===e)),Ahe=ne([ct,fj,hj,dj,pj,Ehe,_he,mm],(t,e,n,r,i,a,o,l)=>{var{chartData:c,dataStartIndex:f,dataEndIndex:h}=l;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{dataKey:p,data:v}=a,m;if(v!=null&&v.length>0?m=v:m=c?.slice(f,h+1),m!=null)return Ghe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:o,displayedData:m})}}),She=["id"],Che=["type","layout","connectNulls","needClip"],The=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function LP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(n),!0).forEach(function(r){Ihe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ihe(t,e,n){return(e=Ohe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ohe(t){var e=Rhe(t,"string");return typeof e=="symbol"?e:e+""}function Rhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MS(t,e){if(t==null)return{};var n,r,i=Phe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Phe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qu.apply(null,arguments)}var Dhe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Lf(n,e),payload:t}]};function Nhe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:l,unit:c}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Lf(o,e),hide:l,type:t.tooltipType,color:t.stroke,unit:c}}}var gj=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Mhe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var khe=(t,e,n)=>{var r=n.reduce((p,v)=>p+v);if(!r)return gj(e,t);for(var i=Math.floor(t/r),a=t%r,o=e-t,l=[],c=0,f=0;c<n.length;f+=n[c],++c)if(f+n[c]>a){l=[...n.slice(0,c),a-f];break}var h=l.length%2===0?[0,o]:[o];return[...Mhe(n,i),...l,...h].map(p=>"".concat(p,"px")).join(", ")};function jhe(t,e){var n;if(T.isValidElement(t))n=T.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=vt("recharts-line-dot",typeof t!="boolean"?t.className:"");n=T.createElement(H7,qu({},e,{className:r}))}return n}function Lhe(t,e){return t==null?!1:e?!0:t.length===1}function Bhe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:o}=r;if(!Lhe(n,i))return null;var{id:l}=r,c=MS(r,She),f=tM(i),h=yo(c),p=ln(i,!0),v=n.map((_,w)=>{var A=Si(Si(Si({key:"dot-".concat(w),r:3},h),p),{},{index:w,cx:_.x,cy:_.y,dataKey:a,value:_.value,payload:_.payload,points:n});return jhe(i,A)}),m={clipPath:o?"url(#clipPath-".concat(f?"":"dots-").concat(e,")"):void 0};return T.createElement(Cr,qu({className:"recharts-line-dots",key:"dots"},m),v)}function Fhe(t){var{showLabels:e,children:n,points:r}=t,i=T.useMemo(()=>r?.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return Si(Si({},o),{},{value:a.value,payload:a.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[r]);return T.createElement(U7,{value:e?i:null},n)}function BP(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:o,layout:l,connectNulls:c,needClip:f}=a,h=MS(a,Che),p=Si(Si({},ln(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:r,type:o,layout:l,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return T.createElement(T.Fragment,null,r?.length>1&&T.createElement(oA,qu({},p,{pathRef:n})),T.createElement(Bhe,{points:r,clipPathId:e,props:a}))}function Vhe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Uhe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:f,animationDuration:h,animationEasing:p,animateNewValues:v,width:m,height:_,onAnimationEnd:w,onAnimationStart:A}=n,S=i.current,I=y0(n,"recharts-line-"),[O,N]=T.useState(!1),k=!O,B=T.useCallback(()=>{typeof w=="function"&&w(),N(!1)},[w]),D=T.useCallback(()=>{typeof A=="function"&&A(),N(!0)},[A]),M=Vhe(r.current),j=a.current;return T.createElement(Fhe,{points:o,showLabels:k},n.children,T.createElement(m0,{animationId:I,begin:f,duration:h,isActive:c,easing:p,onAnimationEnd:B,onAnimationStart:D,key:I},z=>{var F=dn(j,M+j,z),H=Math.min(F,M),U;if(c)if(l){var he="".concat(l).split(/[,\s]+/gim).map(se=>parseFloat(se));U=khe(H,M,he)}else U=gj(M,H);else U=l==null?void 0:String(l);if(S){var be=S.length/o.length,Y=z===1?o:o.map((se,me)=>{var Se=Math.floor(me*be);if(S[Se]){var Ge=S[Se];return Si(Si({},se),{},{x:dn(Ge.x,se.x,z),y:dn(Ge.y,se.y,z)})}return v?Si(Si({},se),{},{x:dn(m*2,se.x,z),y:dn(_/2,se.y,z)}):Si(Si({},se),{},{x:se.x,y:se.y})});return i.current=Y,T.createElement(BP,{props:n,points:Y,clipPathId:e,pathRef:r,strokeDasharray:U})}return z>0&&M>0&&(i.current=o,a.current=H),T.createElement(BP,{props:n,points:o,clipPathId:e,pathRef:r,strokeDasharray:U})}),T.createElement(pS,{label:n.label}))}function zhe(t){var{clipPathId:e,props:n}=t,r=T.useRef(null),i=T.useRef(0),a=T.useRef(null);return T.createElement(Uhe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Hhe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:qt(t.payload,e)});class $he extends T.Component{render(){var e,{hide:n,dot:r,points:i,className:a,xAxisId:o,yAxisId:l,top:c,left:f,width:h,height:p,id:v,needClip:m}=this.props;if(n)return null;var _=vt("recharts-line",a),w=v,{r:A=3,strokeWidth:S=2}=(e=ln(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},I=tM(r),O=A*2+S;return T.createElement(T.Fragment,null,T.createElement(Cr,{className:_},m&&T.createElement("defs",null,T.createElement(nj,{clipPathId:w,xAxisId:o,yAxisId:l}),!I&&T.createElement("clipPath",{id:"clipPath-dots-".concat(w)},T.createElement("rect",{x:f-O/2,y:c-O/2,width:h+O,height:p+O}))),T.createElement(tj,{xAxisId:o,yAxisId:l,data:i,dataPointFormatter:Hhe,errorBarOffset:0},T.createElement(zhe,{props:this.props,clipPathId:w}))),T.createElement(cfe,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var vj={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Pl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function qhe(t){var e=Tr(t,vj),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:c,hide:f,isAnimationActive:h,label:p,legendType:v,xAxisId:m,yAxisId:_,id:w}=e,A=MS(e,The),{needClip:S}=IS(m,_),I=CS(),O=um(),N=fi(),k=Te(z=>Ahe(z,m,_,N,w));if(O!=="horizontal"&&O!=="vertical"||k==null||I==null)return null;var{height:B,width:D,x:M,y:j}=I;return T.createElement($he,qu({},A,{id:w,connectNulls:l,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:h,hide:f,label:p,legendType:v,xAxisId:m,yAxisId:_,points:k,layout:O,height:B,width:D,left:M,top:j,needClip:S}))}function Ghe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:l,displayedData:c}=t;return c.map((f,h)=>{var p=qt(f,o);if(e==="horizontal"){var v=p8({axis:n,ticks:i,bandSize:l,entry:f,index:h}),m=rn(p)?null:r.scale(p);return{x:v,y:m,value:p,payload:f}}var _=rn(p)?null:n.scale(p),w=p8({axis:r,ticks:a,bandSize:l,entry:f,index:h});return _==null||w==null?null:{x:_,y:w,value:p,payload:f}}).filter(Boolean)}function Khe(t){var e=Tr(t,vj),n=fi();return T.createElement(ES,{id:e.id,type:"line"},r=>T.createElement(T.Fragment,null,T.createElement(Y7,{legendPayload:Dhe(e)}),T.createElement(wS,{fn:Nhe,args:e}),T.createElement(Z7,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),T.createElement(qhe,qu({},e,{id:r}))))}var mj=T.memo(Khe);mj.displayName="Line";var Whe=["dangerouslySetInnerHTML","ticks"],Xhe=["id"],Yhe=["domain"],Qhe=["domain"];function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hw.apply(null,arguments)}function uv(t,e){if(t==null)return{};var n,r,i=Zhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jhe(t){var e=un();return T.useEffect(()=>(e(Qce(t)),()=>{e(Zce(t))}),[t,e]),null}var e0e=t=>{var{xAxisId:e,className:n}=t,r=Te(tA),i=fi(),a="xAxis",o=Te(A=>$f(A,a,e,i)),l=Te(A=>r7(A,a,e,i)),c=Te(A=>Jk(A,e)),f=Te(A=>Doe(A,e)),h=Te(A=>Rk(A,e));if(c==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=t,m=uv(t,Whe),{id:_}=h,w=uv(h,Xhe);return T.createElement(DS,hw({},m,w,{scale:o,x:f.x,y:f.y,width:c.width,height:c.height,className:vt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l}))},t0e={allowDataOverflow:wi.allowDataOverflow,allowDecimals:wi.allowDecimals,allowDuplicatedCategory:wi.allowDuplicatedCategory,height:wi.height,hide:!1,mirror:wi.mirror,orientation:wi.orientation,padding:wi.padding,reversed:wi.reversed,scale:wi.scale,tickCount:wi.tickCount,type:wi.type,xAxisId:0},n0e=t=>{var e,n,r,i,a,o=Tr(t,t0e);return T.createElement(T.Fragment,null,T.createElement(Jhe,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),T.createElement(e0e,o))},r0e=(t,e)=>{var{domain:n}=t,r=uv(t,Yhe),{domain:i}=e,a=uv(e,Qhe);return Ef(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Ef({domain:n},{domain:i}):!1},kS=T.memo(n0e,r0e);kS.displayName="XAxis";var i0e=["dangerouslySetInnerHTML","ticks"],a0e=["id"],o0e=["domain"],s0e=["domain"];function pw(){return pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pw.apply(null,arguments)}function cv(t,e){if(t==null)return{};var n,r,i=l0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function l0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function u0e(t){var e=un();return T.useEffect(()=>(e(Jce(t)),()=>{e(efe(t))}),[t,e]),null}var c0e=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=T.useRef(null),o=T.useRef(null),l=Te(tA),c=fi(),f=un(),h="yAxis",p=Te(k=>$f(k,h,e,c)),v=Te(k=>e7(k,e)),m=Te(k=>Moe(k,e)),_=Te(k=>r7(k,h,e,c)),w=Te(k=>Pk(k,e));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!v||hS(i)||T.isValidElement(i)||w==null)){var k=a.current;if(k){var B=k.getCalculatedWidth();Math.round(v.width)!==Math.round(B)&&f(tfe({id:e,width:B}))}}},[_,v,f,i,e,r,w]),v==null||m==null||w==null)return null;var{dangerouslySetInnerHTML:A,ticks:S}=t,I=cv(t,i0e),{id:O}=w,N=cv(w,a0e);return T.createElement(DS,pw({},I,N,{ref:a,labelRef:o,scale:p,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:vt("recharts-".concat(h," ").concat(h),n),viewBox:l,ticks:_}))},f0e={allowDataOverflow:Ei.allowDataOverflow,allowDecimals:Ei.allowDecimals,allowDuplicatedCategory:Ei.allowDuplicatedCategory,hide:!1,mirror:Ei.mirror,orientation:Ei.orientation,padding:Ei.padding,reversed:Ei.reversed,scale:Ei.scale,tickCount:Ei.tickCount,type:Ei.type,width:Ei.width,yAxisId:0},d0e=t=>{var e,n,r,i,a,o=Tr(t,f0e);return T.createElement(T.Fragment,null,T.createElement(u0e,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),T.createElement(c0e,o))},h0e=(t,e)=>{var{domain:n}=t,r=cv(t,o0e),{domain:i}=e,a=cv(e,s0e);return Ef(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Ef({domain:n},{domain:i}):!1},jS=T.memo(d0e,h0e);jS.displayName="YAxis";var M_={exports:{}},k_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FP;function p0e(){if(FP)return k_;FP=1;var t=Sf();function e(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,l=t.useDebugValue;return k_.useSyncExternalStoreWithSelector=function(c,f,h,p,v){var m=i(null);if(m.current===null){var _={hasValue:!1,value:null};m.current=_}else _=m.current;m=o(function(){function A(k){if(!S){if(S=!0,I=k,k=p(k),v!==void 0&&_.hasValue){var B=_.value;if(v(B,k))return O=B}return O=k}if(B=O,n(I,k))return B;var D=p(k);return v!==void 0&&v(B,D)?(I=k,B):(I=k,O=D)}var S=!1,I,O,N=h===void 0?null:h;return[function(){return A(f())},N===null?void 0:function(){return A(N())}]},[f,h,p,v]);var w=r(c,m[0],m[1]);return a(function(){_.hasValue=!0,_.value=w},[w]),l(w),w},k_}var VP;function g0e(){return VP||(VP=1,M_.exports=p0e()),M_.exports}g0e();function v0e(t){t()}function m0e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){v0e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var UP={notify(){},get:()=>[]};function y0e(t,e){let n,r=UP,i=0,a=!1;function o(w){h();const A=r.subscribe(w);let S=!1;return()=>{S||(S=!0,A(),p())}}function l(){r.notify()}function c(){_.onStateChange&&_.onStateChange()}function f(){return a}function h(){i++,n||(n=t.subscribe(c),r=m0e())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=UP)}function v(){a||(a=!0,h())}function m(){a&&(a=!1,p())}const _={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:f,trySubscribe:v,tryUnsubscribe:m,getListeners:()=>r};return _}var x0e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_0e=x0e(),b0e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",w0e=b0e(),E0e=()=>_0e||w0e?T.useLayoutEffect:T.useEffect,A0e=E0e(),S0e=Symbol.for("react-redux-context"),C0e=typeof globalThis<"u"?globalThis:{};function T0e(){if(!T.createContext)return{};const t=C0e[S0e]??=new Map;let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var I0e=T0e();function O0e(t){const{children:e,context:n,serverState:r,store:i}=t,a=T.useMemo(()=>{const c=y0e(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),o=T.useMemo(()=>i.getState(),[i]);A0e(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const l=n||I0e;return T.createElement(l.Provider,{value:a},e)}var R0e=O0e,P0e=(t,e)=>e,LS=ne([P0e,ct,Tk,Zn,y7,cs,Fse,Yn],$se),BS=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},yj=aa("mouseClick"),xj=g0();xj.startListening({actionCreator:yj,effect:(t,e)=>{var n=t.payload,r=LS(e.getState(),BS(n));r?.activeIndex!=null&&e.dispatch(Koe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var gw=aa("mouseMove"),_j=g0();_j.startListening({actionCreator:gw,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=rS(r,r.tooltip.settings.shared),a=LS(r,BS(n));i==="axis"&&(a?.activeIndex!=null?e.dispatch(f7({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(c7()))}});var zP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},bj=Ni({name:"rootProps",initialState:zP,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:zP.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),D0e=bj.reducer,{updateOptions:N0e}=bj.actions,wj=Ni({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:M0e}=wj.actions,k0e=wj.reducer,Ej=aa("keyDown"),Aj=aa("focus"),FS=g0();FS.startListening({actionCreator:Ej,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(iS(i,Gf(n))),l=cs(n);if(a==="Enter"){var c=nv(n,"axis","hover",String(i.index));e.dispatch(ow({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var f=Boe(n),h=f==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,v=o+p*h;if(!(l==null||v>=l.length||v<0)){var m=nv(n,"axis","hover",String(v));e.dispatch(ow({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});FS.startListening({actionCreator:Aj,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=nv(n,"axis","hover",String(a));e.dispatch(ow({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Yi=aa("externalEvent"),Sj=g0();Sj.startListening({actionCreator:Yi,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Ose(n),activeDataKey:w7(n),activeIndex:bl(n),activeLabel:b7(n),activeTooltipIndex:bl(n),isTooltipActive:Rse(n)};t.payload.handler(r,t.payload.reactEvent)}}});var j0e=ne([qf],t=>t.tooltipItemPayloads),L0e=ne([j0e,I0,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,n);return o}}}),Cj=aa("touchMove"),Tj=g0();Tj.startListening({actionCreator:Cj,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=rS(r,r.tooltip.settings.shared);if(i==="axis"){var a=LS(r,BS({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(f7({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var f=c.getAttribute(c9),h=(o=c.getAttribute(f9))!==null&&o!==void 0?o:void 0,p=L0e(e.getState(),f,h);e.dispatch(u7({activeDataKey:h,activeIndex:f,activeCoordinate:p}))}}});var B0e=jM({brush:Ede,cartesianAxis:nfe,chartData:ole,errorBars:wfe,graphicalItems:bce,layout:Fee,legend:Ote,options:tle,polarAxis:Bue,polarOptions:k0e,referenceElements:Rde,rootProps:D0e,tooltip:Woe}),F0e=function(e){return cee({reducer:B0e,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([xj.middleware,_j.middleware,FS.middleware,Sj.middleware,Tj.middleware]),devTools:Pl.devToolsEnabled})};function Ij(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=fi(),a=T.useRef(null);if(i)return n;a.current==null&&(a.current=F0e(e));var o=XE;return T.createElement(R0e,{context:o,store:a.current},n)}function Oj(t){var{layout:e,width:n,height:r,margin:i}=t,a=un(),o=fi();return T.useEffect(()=>{o||(a(jee(e)),a(Lee({width:n,height:r})),a(kee(i)))},[a,o,e,n,r,i]),null}function Rj(t){var e=un();return T.useEffect(()=>{e(N0e(t))},[e,t]),null}var V0e=["children"];function U0e(t,e){if(t==null)return{};var n,r,i=z0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function z0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fv.apply(null,arguments)}var H0e={width:"100%",height:"100%"},$0e=T.forwardRef((t,e)=>{var n=rA(),r=iA(),i=v9();if(!yf(n)||!yf(r))return null;var{children:a,otherAttributes:o,title:l,desc:c}=t,f,h;return typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0,T.createElement(VE,fv({},o,{title:l,desc:c,role:h,tabIndex:f,width:n,height:r,style:H0e,ref:e}),a)}),q0e=t=>{var{children:e}=t,n=Te(lm);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return T.createElement(VE,{width:r,height:i,x:o,y:a},e)},HP=T.forwardRef((t,e)=>{var{children:n}=t,r=U0e(t,V0e),i=fi();return i?T.createElement(q0e,null,n):T.createElement($0e,fv({ref:e},r),n)});function G0e(){var t=un(),[e,n]=T.useState(null),r=Te(pte);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Di(a)&&a!==r&&t(Bee(a))}},[e,t,r]),n}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){W0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W0e(t,e,n){return(e=X0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X0e(t){var e=Y0e(t,"string");return typeof e=="symbol"?e:e+""}function Y0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q0e=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:v,onTouchEnd:m,onTouchMove:_,onTouchStart:w,style:A,width:S}=t,I=un(),[O,N]=T.useState(null),[k,B]=T.useState(null);gle();var D=G0e(),M=T.useCallback(ee=>{D(ee),typeof e=="function"&&e(ee),N(ee),B(ee)},[D,e,N,B]),j=T.useCallback(ee=>{I(yj(ee)),I(Yi({handler:a,reactEvent:ee}))},[I,a]),z=T.useCallback(ee=>{I(gw(ee)),I(Yi({handler:f,reactEvent:ee}))},[I,f]),F=T.useCallback(ee=>{I(c7()),I(Yi({handler:h,reactEvent:ee}))},[I,h]),H=T.useCallback(ee=>{I(gw(ee)),I(Yi({handler:p,reactEvent:ee}))},[I,p]),U=T.useCallback(()=>{I(Aj())},[I]),he=T.useCallback(ee=>{I(Ej(ee.key))},[I]),be=T.useCallback(ee=>{I(Yi({handler:o,reactEvent:ee}))},[I,o]),Y=T.useCallback(ee=>{I(Yi({handler:l,reactEvent:ee}))},[I,l]),se=T.useCallback(ee=>{I(Yi({handler:c,reactEvent:ee}))},[I,c]),me=T.useCallback(ee=>{I(Yi({handler:v,reactEvent:ee}))},[I,v]),Se=T.useCallback(ee=>{I(Yi({handler:w,reactEvent:ee}))},[I,w]),Ge=T.useCallback(ee=>{I(Cj(ee)),I(Yi({handler:_,reactEvent:ee}))},[I,_]),G=T.useCallback(ee=>{I(Yi({handler:m,reactEvent:ee}))},[I,m]);return T.createElement(I7.Provider,{value:O},T.createElement(rM.Provider,{value:k},T.createElement("div",{className:vt("recharts-wrapper",r),style:K0e({position:"relative",cursor:"default",width:S,height:i},A),onClick:j,onContextMenu:be,onDoubleClick:Y,onFocus:U,onKeyDown:he,onMouseDown:se,onMouseEnter:z,onMouseLeave:F,onMouseMove:H,onMouseUp:me,onTouchEnd:G,onTouchMove:Ge,onTouchStart:Se,ref:M},n)))}),Z0e=["children","className","width","height","style","compact","title","desc"];function J0e(t,e){if(t==null)return{};var n,r,i=epe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function epe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Pj=T.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:a,style:o,compact:l,title:c,desc:f}=t,h=J0e(t,Z0e),p=yo(h);return l?T.createElement(HP,{otherAttributes:p,title:c,desc:f},n):T.createElement(Q0e,{className:r,style:o,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(HP,{otherAttributes:p,title:c,desc:f,ref:e},T.createElement(Dde,null,n)))}),tpe=["width","height"];function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vw.apply(null,arguments)}function npe(t,e){if(t==null)return{};var n,r,i=rpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ipe={top:5,right:5,bottom:5,left:5},ape={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ipe,reverseStackOrder:!1,syncMethod:"index"},Dj=T.forwardRef(function(e,n){var r,i=Tr(e.categoricalChartProps,ape),{width:a,height:o}=i,l=npe(i,tpe);if(!yf(a)||!yf(o))return null;var{chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,categoricalChartProps:v}=e,m={chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return T.createElement(Ij,{preloadedState:{options:m},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:c},T.createElement(oj,{chartData:v.data}),T.createElement(Oj,{width:a,height:o,layout:i.layout,margin:i.margin}),T.createElement(Rj,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),T.createElement(Pj,vw({},l,{width:a,height:o,ref:n})))}),ope=["axis"],spe=T.forwardRef((t,e)=>T.createElement(Dj,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ope,tooltipPayloadSearcher:dS,categoricalChartProps:t,ref:e})),lpe=["axis","item"],upe=T.forwardRef((t,e)=>T.createElement(Dj,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:lpe,tooltipPayloadSearcher:dS,categoricalChartProps:t,ref:e}));function cpe(t){var e=un();return T.useEffect(()=>{e(M0e(t))},[e,t]),null}var fpe=["width","height","layout"];function mw(){return mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mw.apply(null,arguments)}function dpe(t,e){if(t==null)return{};var n,r,i=hpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ppe={top:5,right:5,bottom:5,left:5},gpe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ppe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},vpe=T.forwardRef(function(e,n){var r,i=Tr(e.categoricalChartProps,gpe),{width:a,height:o,layout:l}=i,c=dpe(i,fpe);if(!yf(a)||!yf(o))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:v}=e,m={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:v,eventEmitter:void 0};return T.createElement(Ij,{preloadedState:{options:m},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:f},T.createElement(oj,{chartData:i.data}),T.createElement(Oj,{width:a,height:o,layout:l,margin:i.margin}),T.createElement(Rj,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),T.createElement(cpe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),T.createElement(Pj,mw({width:a,height:o},c,{ref:n})))}),mpe=["item"],ype={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Nj=T.forwardRef((t,e)=>{var n=Tr(t,ype);return T.createElement(vpe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:mpe,tooltipPayloadSearcher:dS,categoricalChartProps:n,ref:e})});const xpe=()=>{const{intakes:t}=go(),e=T.useMemo(()=>{const r=new Date,i=[];for(let a=6;a>=0;a--){const o=new Date(r);o.setDate(o.getDate()-a);const l=o.toISOString().split("T")[0],f=t.filter(h=>h.date.startsWith(l)).reduce((h,p)=>h+p.calories,0);i.push({date:`${o.getMonth()+1}/${o.getDate()}`,calories:f})}return i},[t]),n=e.some(r=>r.calories>0);return b.jsxs("div",{className:"card",children:[b.jsx("h3",{children:"📈 週間カロリー推移"}),n?b.jsx(Om,{width:"100%",height:250,children:b.jsxs(spe,{data:e,margin:{top:10,right:10,left:-20,bottom:5},children:[b.jsx(NS,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),b.jsx(kS,{dataKey:"date",tick:{fontSize:12},stroke:"#9ca3af"}),b.jsx(jS,{tick:{fontSize:12},stroke:"#9ca3af"}),b.jsx(Im,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"},labelStyle:{fontWeight:600,marginBottom:"4px"}}),b.jsx(mj,{type:"monotone",dataKey:"calories",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"カロリー (kcal)"})]})}):b.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[b.jsx("p",{children:"データがありません"}),b.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"食事記録を追加すると、カロリーの推移が表示されます"})]})]})},_pe=()=>{const{expenses:t}=vo(),e=T.useMemo(()=>{const r=new Date,i=[];for(let a=5;a>=0;a--){const o=new Date(r.getFullYear(),r.getMonth()-a,1),l=o.getFullYear(),c=o.getMonth()+1,h=t.filter(p=>{const v=new Date(p.date);return v.getFullYear()===l&&v.getMonth()+1===c}).reduce((p,v)=>p+v.amount,0);i.push({month:`${c}月`,amount:h})}return i},[t]),n=e.some(r=>r.amount>0);return b.jsxs("div",{className:"card",children:[b.jsx("h3",{children:"💰 月間支出推移"}),n?b.jsx(Om,{width:"100%",height:250,children:b.jsxs(upe,{data:e,margin:{top:10,right:10,left:-20,bottom:5},children:[b.jsx(NS,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),b.jsx(kS,{dataKey:"month",tick:{fontSize:12},stroke:"#9ca3af"}),b.jsx(jS,{tick:{fontSize:12},stroke:"#9ca3af"}),b.jsx(Im,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"},labelStyle:{fontWeight:600,marginBottom:"4px"},formatter:r=>`¥${r.toLocaleString()}`}),b.jsx(ij,{dataKey:"amount",fill:"#22c55e",radius:[4,4,0,0],name:"支出額"})]})}):b.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[b.jsx("p",{children:"データがありません"}),b.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"食事記録を追加すると、支出の推移が表示されます"})]})]})},bpe=()=>{const{intakes:t}=go(),e=T.useMemo(()=>{const n=new Map;return t.forEach(i=>{const a=n.get(i.name)||0;n.set(i.name,a+1)}),Array.from(n.entries()).sort((i,a)=>a[1]-i[1]).slice(0,5).map(([i,a],o)=>({rank:o+1,name:i,count:a}))},[t]);return b.jsxs("div",{className:"card",children:[b.jsx("h3",{children:"🏆 よく買う商品 TOP5"}),e.length===0?b.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[b.jsx("p",{children:"データがありません"}),b.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"食事記録を追加すると、よく買う商品が表示されます"})]}):b.jsx("div",{style:{marginTop:"16px"},children:e.map(n=>b.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px 0",borderBottom:n.rank<e.length?"1px solid var(--border)":"none"},children:[b.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:n.rank===1?"linear-gradient(135deg, #ffd700 0%, #ffed4e 100%)":n.rank===2?"linear-gradient(135deg, #c0c0c0 0%, #e8e8e8 100%)":n.rank===3?"linear-gradient(135deg, #cd7f32 0%, #daa06d 100%)":"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.1rem",color:n.rank<=3?"#fff":"#666",marginRight:"16px",flexShrink:0},children:n.rank}),b.jsxs("div",{style:{flex:1,minWidth:0},children:[b.jsx("div",{style:{fontWeight:600,fontSize:"0.95rem",marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.name}),b.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:["購入回数: ",n.count,"回"]})]})]},n.rank))})]})},j1=["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6","#ec4899"],wpe=()=>{const{intakes:t}=go(),e=T.useMemo(()=>{const i=new Map;return t.forEach(o=>{const l=o.manufacturer||"その他",c=i.get(l)||0;i.set(l,c+o.price)}),Array.from(i.entries()).sort((o,l)=>l[1]-o[1]).slice(0,6).map(([o,l])=>({name:o,value:l}))},[t]),n=e.reduce((i,a)=>i+a.value,0),r=n>0;return b.jsxs("div",{className:"card",children:[b.jsx("h3",{children:"🏭 メーカー別支出分析"}),r?b.jsxs(b.Fragment,{children:[b.jsx(Om,{width:"100%",height:250,children:b.jsxs(Nj,{children:[b.jsx(SS,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:i=>`${i.name} ${((i.percent||0)*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:e.map((i,a)=>b.jsx(Kf,{fill:j1[a%j1.length]},`cell-${a}`))}),b.jsx(Im,{formatter:i=>`¥${i.toLocaleString()}`,contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"}})]})}),b.jsx("div",{style:{marginTop:"16px"},children:e.map((i,a)=>b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:a<e.length-1?"1px solid var(--border)":"none"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[b.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"2px",background:j1[a%j1.length],flexShrink:0}}),b.jsx("span",{style:{fontSize:"0.9rem",fontWeight:500},children:i.name})]}),b.jsxs("div",{style:{fontSize:"0.9rem",fontWeight:600,color:"var(--primary)"},children:["¥",i.value.toLocaleString()]})]},i.name))}),b.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"var(--background)",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[b.jsx("span",{style:{fontWeight:600},children:"合計"}),b.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--primary)"},children:["¥",n.toLocaleString()]})]})]}):b.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[b.jsx("p",{children:"データがありません"}),b.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"メーカー情報付きの食事記録を追加すると、分析が表示されます"})]})]})},Epe=()=>b.jsxs("section",{className:"screen active",children:[b.jsx("h2",{children:"📊 レポート"}),b.jsx(jQ,{}),b.jsx(xpe,{}),b.jsx(_pe,{}),b.jsx(bpe,{}),b.jsx(wpe,{})]}),Mj=({selectedYear:t,selectedMonth:e,selectedDate:n,onSelectDate:r,onMonthChange:i,mode:a="month"})=>{const[o,l]=T.useState(t),[c,f]=T.useState(e),h=new Date(o,c,0).getDate(),p=new Date(o,c-1,1).getDay(),v=()=>{let N=c-1,k=o;N<1&&(N=12,k-=1),f(N),l(k),i&&i(k,N)},m=()=>{let N=c+1,k=o;N>12&&(N=1,k+=1),f(N),l(k),i&&i(k,N)},_=N=>{if(a==="date"&&r){const k=new Date(o,c-1,N);r(k)}},w=()=>{a==="month"&&i&&i(o,c)},A=N=>{const k=new Date;return k.getFullYear()===o&&k.getMonth()+1===c&&k.getDate()===N},S=N=>n?n.getFullYear()===o&&n.getMonth()+1===c&&n.getDate()===N:!1,I=[];for(let N=0;N<p;N++)I.push(null);for(let N=1;N<=h;N++)I.push(N);const O=["日","月","火","水","木","金","土"];return b.jsxs("div",{style:{background:"var(--card)",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[b.jsx("button",{onClick:v,style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:b.jsx(eF,{size:24})}),b.jsxs("div",{onClick:w,style:{fontSize:"18px",fontWeight:"bold",cursor:a==="month"?"pointer":"default",padding:a==="month"?"8px 16px":"0",borderRadius:"8px",transition:"background 0.2s",background:a==="month"&&o===t&&c===e?"var(--primary)":"transparent",color:a==="month"&&o===t&&c===e?"white":"var(--text)"},children:[o,"年 ",c,"月"]}),b.jsx("button",{onClick:m,style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:b.jsx(tF,{size:24})})]}),b.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px",marginBottom:"10px"},children:O.map((N,k)=>b.jsx("div",{style:{textAlign:"center",fontSize:"12px",fontWeight:"bold",color:k===0?"#ef4444":k===6?"#3b82f6":"var(--text-secondary)"},children:N},k))}),b.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px"},children:I.map((N,k)=>{if(N===null)return b.jsx("div",{},`empty-${k}`);const B=A(N),D=S(N),M=k%7;return b.jsx("button",{onClick:()=>_(N),disabled:a==="month",style:{aspectRatio:"1",display:"flex",alignItems:"center",justifyContent:"center",border:B?"2px solid var(--primary)":"none",borderRadius:"8px",background:D?"var(--primary)":B?"var(--background)":"transparent",color:D?"white":M===0?"#ef4444":M===6?"#3b82f6":"var(--text)",fontSize:"14px",fontWeight:D||B?"bold":"normal",cursor:a==="date"?"pointer":"default",transition:"all 0.2s"},onMouseEnter:j=>{a==="date"&&!D&&(j.currentTarget.style.background="var(--background)")},onMouseLeave:j=>{a==="date"&&!D&&(j.currentTarget.style.background="transparent")},children:N},N)})}),a==="date"&&b.jsx("div",{style:{marginTop:"15px",fontSize:"12px",color:"var(--text-secondary)",textAlign:"center"},children:n?`選択: ${n.getFullYear()}/${n.getMonth()+1}/${n.getDate()}`:"日付を選択してください"})]})},Ape=({isOpen:t,selectedDate:e,onClose:n,onConfirm:r})=>{const[i,a]=kr.useState(e);if(kr.useEffect(()=>{a(e)},[e,t]),!t)return null;const o=()=>{r(i),n()};return b.jsx("div",{className:"modal-backdrop",onClick:n,style:{animation:"fadeIn 0.2s ease"},children:b.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),style:{maxWidth:"400px",animation:"slideUp 0.3s ease"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"1px solid var(--border)"},children:[b.jsx("h3",{style:{margin:0},children:"日付を選択"}),b.jsx("button",{onClick:n,style:{background:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",padding:"5px",display:"flex",alignItems:"center"},children:b.jsx(_v,{size:24})})]}),b.jsx(Mj,{selectedYear:i.getFullYear(),selectedMonth:i.getMonth()+1,selectedDate:i,onSelectDate:a,mode:"date"}),b.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[b.jsx("button",{onClick:n,style:{flex:1,padding:"12px",background:"var(--background)",color:"var(--text)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px"},children:"キャンセル"}),b.jsxs("button",{onClick:o,className:"submit",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[b.jsx(JB,{size:20}),"決定"]})]})]})})},Spe=()=>{const{addExpense:t}=vo(),[e,n]=T.useState("food"),[r,i]=T.useState(""),[a,o]=T.useState(""),[l,c]=T.useState(""),[f,h]=T.useState(new Date),[p,v]=T.useState(!1),m=[{value:"food",label:"食費"},{value:"transport",label:"交通費"},{value:"utilities",label:"光熱費"},{value:"entertainment",label:"娯楽"},{value:"health",label:"医療"},{value:"other",label:"その他"}],_=()=>{if(!a||Number(a)<=0){alert("正しい金額を入力してください");return}if(e==="other"&&!r.trim()){alert("カスタムカテゴリ名を入力してください");return}t({category:e,customCategory:e==="other"?r.trim():void 0,amount:Number(a),memo:l||void 0,date:f.toISOString()}),o(""),c(""),i(""),alert("支出を記録しました！")},w=A=>`${A.getFullYear()}年${A.getMonth()+1}月${A.getDate()}日`;return b.jsxs("div",{className:"card",children:[b.jsx("label",{children:"日付"}),b.jsxs("button",{onClick:()=>v(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[b.jsx("span",{children:w(f)}),b.jsx(mv,{size:20,color:"var(--primary)"})]}),b.jsx("label",{children:"カテゴリ"}),b.jsx("select",{value:e,onChange:A=>n(A.target.value),children:m.map(A=>b.jsx("option",{value:A.value,children:A.label},A.value))}),e==="other"&&b.jsxs(b.Fragment,{children:[b.jsx("label",{children:"カスタムカテゴリ名"}),b.jsx("input",{value:r,onChange:A=>i(A.target.value),placeholder:"例: 趣味、ペット、書籍"})]}),b.jsx("label",{children:"金額(円)"}),b.jsx("input",{type:"number",value:a,onChange:A=>o(A.target.value),placeholder:"1000",min:"0"}),b.jsx("label",{children:"メモ（任意）"}),b.jsx("input",{value:l,onChange:A=>c(A.target.value),placeholder:"例: 昼食"}),b.jsxs("button",{className:"submit",onClick:_,children:[b.jsx(nD,{size:20}),"記録する"]}),b.jsx(Ape,{isOpen:p,selectedDate:f,onClose:()=>v(!1),onConfirm:h})]})},VS=({isOpen:t,selectedYear:e,selectedMonth:n,onClose:r,onConfirm:i})=>{if(!t)return null;const a=(o,l)=>{i(o,l),r()};return b.jsx("div",{className:"modal-backdrop",onClick:r,style:{animation:"fadeIn 0.2s ease"},children:b.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),style:{maxWidth:"400px",animation:"slideUp 0.3s ease"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"1px solid var(--border)"},children:[b.jsx("h3",{style:{margin:0},children:"月を選択"}),b.jsx("button",{onClick:r,style:{background:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",padding:"5px",display:"flex",alignItems:"center"},children:b.jsx(_v,{size:24})})]}),b.jsx(Mj,{selectedYear:e,selectedMonth:n,onMonthChange:a,mode:"month"}),b.jsx("div",{style:{marginTop:"15px",fontSize:"12px",color:"var(--text-secondary)",textAlign:"center"},children:"年月をタップして選択してください"})]})})},Cpe=()=>{const{getTotalByMonth:t}=vo(),{settings:e}=Fh(),[n,r]=T.useState(new Date().getFullYear()),[i,a]=T.useState(new Date().getMonth()+1),[o,l]=T.useState(!1),c=e.monthlyBudget??3e4,f=t(n,i),h=f/c*100,p=c-f,v=A=>new Intl.NumberFormat("ja-JP").format(A),_=h>=100?{color:"#ef4444",icon:b.jsx(tD,{size:24}),message:"予算超過"}:h>=80?{color:"#f59e0b",icon:b.jsx(JP,{size:24}),message:"予算残りわずか"}:{color:"#10b981",icon:b.jsx(yv,{size:24}),message:"順調"},w=(A,S)=>{r(A),a(S)};return b.jsxs("div",{className:"card",children:[b.jsx("h3",{style:{marginBottom:"15px"},children:"月次予算"}),b.jsxs("button",{onClick:()=>l(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[b.jsxs("span",{children:[n,"年 ",i,"月"]}),b.jsx(mv,{size:20,color:"var(--primary)"})]}),b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"15px",background:"var(--background)",borderRadius:"8px",marginBottom:"20px"},children:[b.jsx("div",{style:{color:_.color},children:_.icon}),b.jsxs("div",{style:{flex:1},children:[b.jsx("div",{style:{fontWeight:"bold",color:_.color},children:_.message}),b.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginTop:"4px"},children:p>=0?`残り ¥${v(p)}`:`超過 ¥${v(Math.abs(p))}`})]}),b.jsx("div",{style:{textAlign:"right"},children:b.jsxs("div",{style:{fontSize:"20px",fontWeight:"bold",color:_.color},children:[h.toFixed(1),"%"]})})]}),b.jsxs("div",{style:{background:"var(--background)",borderRadius:"8px",overflow:"hidden",height:"40px",position:"relative",marginBottom:"15px"},children:[b.jsx("div",{style:{background:`linear-gradient(90deg, ${_.color}, ${_.color}dd)`,height:"100%",width:`${Math.min(h,100)}%`,transition:"width 0.3s ease"}}),b.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontWeight:"bold",color:h>50?"white":"var(--text)",fontSize:"14px"},children:["¥",v(f)," / ¥",v(c)]})]}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[b.jsxs("div",{style:{padding:"12px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[b.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"5px"},children:"支出"}),b.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--danger)"},children:["¥",v(f)]})]}),b.jsxs("div",{style:{padding:"12px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[b.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"5px"},children:"予算"}),b.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--primary)"},children:["¥",v(c)]})]})]}),b.jsx(VS,{isOpen:o,selectedYear:n,selectedMonth:i,onClose:()=>l(!1),onConfirm:w})]})},Ws=["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#6366f1"],qP=["#ec4899","#14b8a6","#f97316","#a855f7","#06b6d4","#84cc16","#f43f5e","#0ea5e9","#eab308","#22c55e","#d946ef","#64748b"],kj=t=>{if(!t)return Ws[5];let e=0;for(let r=0;r<t.length;r++)e=t.charCodeAt(r)+((e<<5)-e),e=e&e;const n=Math.abs(e)%qP.length;return qP[n]},jj=t=>({food:Ws[0],transport:Ws[1],utilities:Ws[2],entertainment:Ws[3],health:Ws[4],other:Ws[5]})[t]||Ws[5],Tpe=()=>{const{getTotalByCategory:t,getExpensesByMonth:e}=vo(),[n,r]=T.useState(new Date().getFullYear()),[i,a]=T.useState(new Date().getMonth()+1),[o,l]=T.useState(!1),c=[{value:"food",label:"食費"},{value:"transport",label:"交通費"},{value:"utilities",label:"光熱費"},{value:"entertainment",label:"娯楽"},{value:"health",label:"医療"}],f=e(n,i),h=T.useMemo(()=>{const _=new Map;return c.forEach(w=>{const A=t(w.value,n,i);A>0&&_.set(w.value,{name:w.label,value:A,color:jj(w.value)})}),f.forEach(w=>{if(w.category==="other"&&w.customCategory){const A=`custom_${w.customCategory}`,S=_.get(A);S?S.value+=w.amount:_.set(A,{name:w.customCategory,value:w.amount,color:kj(w.customCategory)})}}),Array.from(_.values())},[n,i,f,t]),p=h.reduce((_,w)=>_+w.value,0),v=_=>new Intl.NumberFormat("ja-JP").format(_),m=(_,w)=>{r(_),a(w)};return b.jsxs("div",{className:"card",children:[b.jsx("h3",{style:{marginBottom:"15px"},children:"カテゴリ別集計"}),b.jsxs("button",{onClick:()=>l(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[b.jsxs("span",{children:[n,"年 ",i,"月"]}),b.jsx(mv,{size:20,color:"var(--primary)"})]}),f.length===0?b.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:"この月の支出データがありません"}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{style:{background:"var(--background)",padding:"15px",borderRadius:"8px",marginBottom:"20px",textAlign:"center"},children:[b.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"14px",marginBottom:"5px"},children:"合計支出"}),b.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"var(--danger)"},children:["¥",v(p)]})]}),h.length>0&&b.jsxs(b.Fragment,{children:[b.jsx(Om,{width:"100%",height:250,children:b.jsxs(Nj,{children:[b.jsx(SS,{data:h,cx:"50%",cy:"50%",labelLine:!1,label:_=>`${_.name}: ¥${v(_.value)}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:h.map((_,w)=>b.jsx(Kf,{fill:_.color},`cell-${w}`))}),b.jsx(Im,{formatter:_=>`¥${v(_)}`,contentStyle:{background:"var(--card)",border:"1px solid var(--border)",borderRadius:"8px"}}),b.jsx(cm,{})]})}),b.jsx("div",{style:{marginTop:"20px"},children:h.map((_,w)=>{const A=(_.value/p*100).toFixed(1);return b.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 0",borderBottom:w<h.length-1?"1px solid var(--border)":"none"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[b.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"4px",background:_.color}}),b.jsx("span",{children:_.name})]}),b.jsxs("div",{style:{textAlign:"right"},children:[b.jsxs("div",{style:{fontWeight:"bold"},children:["¥",v(_.value)]}),b.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:[A,"%"]})]})]},w)})})]})]}),b.jsx(VS,{isOpen:o,selectedYear:n,selectedMonth:i,onClose:()=>l(!1),onConfirm:m})]})},Ipe=()=>{const{deleteExpense:t,getExpensesByMonth:e}=vo(),[n,r]=T.useState(new Date().getFullYear()),[i,a]=T.useState(new Date().getMonth()+1),[o,l]=T.useState(!1),c=e(n,i),f={food:"食費",transport:"交通費",utilities:"光熱費",entertainment:"娯楽",health:"医療",other:"その他"},h=A=>A.category==="other"&&A.customCategory?A.customCategory:f[A.category],p=A=>A.category==="other"&&A.customCategory?kj(A.customCategory):jj(A.category),v=A=>{window.confirm("この支出を削除しますか？")&&t(A)},m=A=>{const S=new Date(A);return`${S.getMonth()+1}/${S.getDate()}`},_=A=>new Intl.NumberFormat("ja-JP").format(A),w=(A,S)=>{r(A),a(S)};return b.jsxs("div",{className:"card",children:[b.jsxs("button",{onClick:()=>l(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[b.jsxs("span",{children:[n,"年 ",i,"月"]}),b.jsx(mv,{size:20,color:"var(--primary)"})]}),c.length===0?b.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:"この月の支出はまだありません"}):b.jsx("div",{className:"list",children:c.sort((A,S)=>new Date(S.date).getTime()-new Date(A.date).getTime()).map(A=>b.jsxs("div",{className:"list-item",children:[b.jsxs("div",{style:{flex:1},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[b.jsx("span",{style:{background:p(A),color:"white",padding:"2px 8px",borderRadius:"4px",fontSize:"12px"},children:h(A)}),b.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"14px"},children:m(A.date)})]}),A.memo&&b.jsx("div",{style:{color:"var(--text)",fontSize:"14px",marginTop:"4px"},children:A.memo})]}),b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[b.jsxs("span",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--danger)"},children:["¥",_(A.amount)]}),b.jsx("button",{className:"delete",onClick:()=>v(A.id),style:{padding:"8px"},children:b.jsx(Qh,{size:20})})]})]},A.id))}),b.jsx(VS,{isOpen:o,selectedYear:n,selectedMonth:i,onClose:()=>l(!1),onConfirm:w})]})},Ope=()=>b.jsxs("section",{className:"screen active",children:[b.jsx("h2",{children:"家計簿"}),b.jsx(Cpe,{}),b.jsx(Spe,{}),b.jsx(Tpe,{}),b.jsx("h3",{children:"支出履歴"}),b.jsx(Ipe,{})]}),Rpe={streak:"🔥 連続記録",milestone:"📊 マイルストーン",goal:"🎯 目標達成",feature:"✨ 機能活用"};function Ppe(){const{badges:t,isUnlocked:e,getUnlockedCount:n,getTotalCount:r}=AE(),i=["streak","milestone","goal","feature"],a=o=>Sg.filter(l=>l.category===o);return b.jsxs("div",{className:"badge-list",children:[b.jsxs("div",{className:"badge-summary",children:[b.jsxs("h3",{children:["バッジコレクション"," ",b.jsxs("span",{className:"badge-count",children:[n()," / ",r()]})]}),b.jsx("div",{className:"progress-bar",children:b.jsx("div",{className:"progress-fill",style:{width:`${n()/r()*100}%`}})})]}),i.map(o=>{const l=a(o);return b.jsxs("div",{className:"badge-category",children:[b.jsx("h4",{className:"category-title",children:Rpe[o]}),b.jsx("div",{className:"badge-grid",children:l.map(c=>{const f=e(c.id),h=t.find(p=>p.id===c.id);return b.jsxs("div",{className:`badge-item ${f?"unlocked":"locked"}`,children:[b.jsx("div",{className:"badge-icon",children:f?c.icon:"🔒"}),b.jsxs("div",{className:"badge-info",children:[b.jsx("div",{className:"badge-name",children:c.name}),b.jsx("div",{className:"badge-description",children:c.description}),!f&&b.jsx("div",{className:"badge-requirement",children:c.requirement}),f&&h?.unlockedAt&&b.jsx("div",{className:"badge-unlocked-date",children:new Date(h.unlockedAt).toLocaleDateString("ja-JP")})]})]},c.id)})})]},o)})]})}function Dpe(){return b.jsxs("section",{className:"screen active",children:[b.jsx("h2",{children:"🏆 アチーブメント"}),b.jsx("div",{className:"card",children:b.jsx(Ppe,{})})]})}const Npe=()=>{const[t,e]=T.useState("home"),n=i=>({home:"健康家計アプリ",meals:"食事記録",barcode:"バーコードスキャン",report:"レポート",settings:"設定",stock:"在庫管理",shopping:"買い物リスト",recipe:"AIレシピ",expense:"家計簿",badges:"アチーブメント"})[i],r=()=>{switch(t){case"home":return b.jsx(rO,{onNavigate:e});case"meals":return b.jsx(nK,{});case"barcode":return b.jsx(NQ,{onNavigateToStock:()=>e("stock")});case"report":return b.jsx(Epe,{});case"settings":return b.jsx(gK,{});case"stock":return b.jsx(xK,{});case"shopping":return b.jsx(TK,{});case"recipe":return b.jsx(jK,{});case"expense":return b.jsx(Ope,{});case"badges":return b.jsx(Dpe,{});default:return b.jsx(rO,{onNavigate:e})}};return b.jsxs(b.Fragment,{children:[b.jsx(CB,{title:n(t)}),b.jsx("main",{children:r()}),b.jsx(oF,{currentScreen:t,onNavigate:e})]})};function Mpe(t){return Me({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}const kpe="modulepreload",jpe=function(t){return"/life-pwa-react/"+t},GP={},Af=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let f=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var o=f;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=f(n.map(h=>{if(h=jpe(h),h in GP)return;GP[h]=!0;const p=h.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const m=document.createElement("link");if(m.rel=p?"stylesheet":kpe,p||(m.as="script"),m.crossOrigin="",m.href=h,c&&m.setAttribute("nonce",c),document.head.appendChild(m),p)return new Promise((_,w)=>{m.addEventListener("load",_),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},dv=()=>Math.floor(1e5+Math.random()*9e5).toString(),hv=async(t,e)=>{const n=ui(En(dt,"verificationCodes"),t),r=new Date;r.setMinutes(r.getMinutes()+10),await s$(n,{code:e,email:t,expiresAt:r.toISOString(),createdAt:new Date().toISOString()})},Lj=async(t,e)=>{try{const n=ui(En(dt,"verificationCodes"),t),r=await o$(n);if(!r.exists())return{valid:!1,error:"確認コードが見つかりません。再送信してください。"};const i=r.data();return new Date(i.expiresAt)<new Date?(await Lu(n),{valid:!1,error:"確認コードの有効期限が切れています。再送信してください。"}):i.code!==e?{valid:!1,error:"確認コードが正しくありません。"}:(await Lu(n),{valid:!0})}catch(n){return console.error("Code verification error:",n),{valid:!1,error:"確認に失敗しました。もう一度お試しください。"}}},KP=async(t,e)=>{try{const{getFunctions:n,httpsCallable:r}=await Af(async()=>{const{getFunctions:c,httpsCallable:f}=await Promise.resolve().then(()=>wE);return{getFunctions:c,httpsCallable:f}},void 0),{default:i}=await Af(async()=>{const{default:c}=await Promise.resolve().then(()=>EE);return{default:c}},void 0),a=n(i),l=await r(a,"sendVerificationEmail")({email:t,code:e});console.log(`✅ Verification email sent to ${t}`,l)}catch(n){throw console.error("Failed to send email via Cloud Functions:",n),console.log(`
====================================
🥗💰 健康家計アプリ - メール確認コード
====================================

こんにちは！

健康家計アプリへのご登録ありがとうございます。

以下の確認コードを入力して、メールアドレスの確認を完了してください：

確認コード: ${e}

※ このコードは10分間有効です。
※ このメールに心当たりがない場合は、無視していただいて構いません。

━━━━━━━━━━━━━━━━━━━━━━━━
健康家計アプリについて
━━━━━━━━━━━━━━━━━━━━━━━━

AIが健康をサポートする生活管理アプリです。

主な機能：
✓ 食事記録とカロリー管理
✓ AIレシピ生成
✓ 家計簿機能
✓ 在庫管理
✓ バーコードスキャン
✓ レシートOCR（自動読み取り）

━━━━━━━━━━━━━━━━━━━━━━━━

© 2025 健康家計アプリ
https://haradakouta.github.io/life-pwa-react/

====================================
    `),alert(`【開発モード】Cloud Function未設定です。
確認コードをコンソールに表示しました:

確認コード: ${e}

このコードを入力してください。`),new Error("メール送信に失敗しました。コンソールで確認コードを確認してください。")}},WP=async(t,e)=>{try{const{getFunctions:n,httpsCallable:r}=await Af(async()=>{const{getFunctions:c,httpsCallable:f}=await Promise.resolve().then(()=>wE);return{getFunctions:c,httpsCallable:f}},void 0),{default:i}=await Af(async()=>{const{default:c}=await Promise.resolve().then(()=>EE);return{default:c}},void 0),a=n(i),l=await r(a,"sendPasswordResetEmail")({email:t,code:e});console.log(`✅ Password reset email sent to ${t}`,l)}catch(n){console.error("Failed to send password reset email via Cloud Functions:",n),console.log(`
====================================
🥗💰 健康家計アプリ - パスワードリセット
====================================

こんにちは！

パスワードのリセットをリクエストいただきありがとうございます。

以下の確認コードを入力して、パスワードのリセットを完了してください：

確認コード: ${e}

※ このコードは10分間有効です。
※ このメールに心当たりがない場合は、無視していただいて構いません。

━━━━━━━━━━━━━━━━━━━━━━━━

© 2025 健康家計アプリ
https://haradakouta.github.io/life-pwa-react/

====================================
    `),alert(`【開発モード】Cloud Function未設定です。
確認コードをコンソールに表示しました:

確認コード: ${e}

このコードを入力してください。`)}},Lpe=async(t,e)=>{try{const{getFunctions:n,httpsCallable:r}=await Af(async()=>{const{getFunctions:c,httpsCallable:f}=await Promise.resolve().then(()=>wE);return{getFunctions:c,httpsCallable:f}},void 0),{default:i}=await Af(async()=>{const{default:c}=await Promise.resolve().then(()=>EE);return{default:c}},void 0),a=n(i),l=await r(a,"resetPassword")({email:t,newPassword:e});return console.log(`✅ Password reset successful for ${t}`,l),{success:!0}}catch(n){return console.error("Failed to reset password via Cloud Functions:",n),{success:!1,error:n.message||"パスワードのリセットに失敗しました"}}},Bpe=({onBack:t})=>{const[e,n]=T.useState("email"),[r,i]=T.useState(""),[a,o]=T.useState(""),[l,c]=T.useState(""),[f,h]=T.useState(""),[p,v]=T.useState(""),[m,_]=T.useState(!1),[w,A]=T.useState(""),S=async k=>{k.preventDefault(),A(""),_(!0);try{const B=dv();await hv(r,B),await KP(r,B),console.log("✅ 確認コードを送信しました:",r),n("code")}catch(B){console.error("Email send error:",B),A(B.message||"確認コードの送信に失敗しました")}finally{_(!1)}},I=async k=>{k.preventDefault(),A(""),_(!0);try{const B=await Lj(r,a);if(!B.valid){A(B.error||"確認コードが正しくありません"),_(!1);return}console.log("✅ 確認コードが正しいです"),n("profile")}catch(B){A(B.message||"確認に失敗しました")}finally{_(!1)}},O=async k=>{if(k.preventDefault(),A(""),f!==p){A("パスワードが一致しません");return}if(f.length<6){A("パスワードは6文字以上で入力してください");return}if(!l.trim()){A("ユーザー名を入力してください");return}_(!0);try{const D=(await lq(Et,r,f)).user;await fq(D,{displayName:l}),console.log("✅ アカウント作成完了:",D.uid),t()}catch(B){console.error("Registration error:",B);let D="アカウント作成に失敗しました";B.code==="auth/email-already-in-use"?D="このメールアドレスは既に使用されています":B.code==="auth/invalid-email"?D="メールアドレスの形式が正しくありません":B.code==="auth/weak-password"&&(D="パスワードが弱すぎます（6文字以上推奨）"),A(D)}finally{_(!1)}},N=async()=>{_(!0),A("");try{const k=dv();await hv(r,k),await KP(r,k),alert("確認コードを再送信しました！")}catch{A("再送信に失敗しました")}finally{_(!1)}};return b.jsxs("div",{className:"register-flow",children:[b.jsxs("div",{className:"progress-bar",children:[b.jsx("div",{className:`progress-step ${e==="email"?"active":["code","profile"].includes(e)?"completed":""}`,children:"1"}),b.jsx("div",{className:"progress-line"}),b.jsx("div",{className:`progress-step ${e==="code"?"active":e==="profile"?"completed":""}`,children:"2"}),b.jsx("div",{className:"progress-line"}),b.jsx("div",{className:`progress-step ${e==="profile"?"active":""}`,children:"3"})]}),e==="email"&&b.jsxs("form",{onSubmit:S,className:"step-form",children:[b.jsxs("button",{type:"button",onClick:t,className:"back-button-small",children:[b.jsx(iD,{})," 戻る"]}),b.jsxs("h2",{children:[b.jsx(yw,{})," メールアドレスを入力"]}),b.jsx("p",{className:"step-description",children:"確認コードを送信します"}),b.jsx("div",{className:"form-group",children:b.jsx("input",{type:"email",value:r,onChange:k=>i(k.target.value),placeholder:"email@example.com",required:!0,autoFocus:!0})}),w&&b.jsx("div",{className:"error-message",children:w}),b.jsx("button",{type:"submit",className:"submit-button",disabled:m,children:m?"送信中...":"確認コードを送信"})]}),e==="code"&&b.jsxs("form",{onSubmit:I,className:"step-form",children:[b.jsxs("h2",{children:[b.jsx(eD,{})," 確認コードを入力"]}),b.jsxs("p",{className:"step-description",children:[b.jsx("strong",{children:r})," 宛に送信された6桁のコードを入力してください"]}),b.jsx("div",{className:"form-group",children:b.jsx("input",{type:"text",value:a,onChange:k=>o(k.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,className:"code-input",required:!0,autoFocus:!0})}),w&&b.jsx("div",{className:"error-message",children:w}),b.jsx("button",{type:"submit",className:"submit-button",disabled:m||a.length!==6,children:m?"確認中...":"確認"}),b.jsx("button",{type:"button",onClick:N,className:"link-button",disabled:m,children:"コードを再送信"})]}),e==="profile"&&b.jsxs("form",{onSubmit:O,className:"step-form",children:[b.jsxs("h2",{children:[b.jsx(x4,{})," アカウント情報を設定"]}),b.jsx("p",{className:"step-description",children:"ユーザー名とパスワードを設定してください"}),b.jsxs("div",{className:"form-group",children:[b.jsxs("label",{children:[b.jsx(x4,{})," ユーザー名"]}),b.jsx("input",{type:"text",value:l,onChange:k=>c(k.target.value),placeholder:"山田太郎",required:!0,autoFocus:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsxs("label",{children:[b.jsx(Yc,{})," パスワード"]}),b.jsx("input",{type:"password",value:f,onChange:k=>h(k.target.value),placeholder:"6文字以上",minLength:6,required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsxs("label",{children:[b.jsx(Yc,{})," パスワード（確認）"]}),b.jsx("input",{type:"password",value:p,onChange:k=>v(k.target.value),placeholder:"もう一度入力",minLength:6,required:!0})]}),w&&b.jsx("div",{className:"error-message",children:w}),b.jsx("button",{type:"submit",className:"submit-button",disabled:m,children:m?"アカウント作成中...":"登録完了"})]}),b.jsx("style",{children:`
        .register-flow {
          width: 100%;
        }

        .progress-bar {
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 40px;
        }

        .progress-step {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: var(--border);
          color: var(--text-secondary);
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
          transition: all 0.3s;
        }

        .progress-step.active {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transform: scale(1.1);
        }

        .progress-step.completed {
          background: var(--primary);
          color: white;
        }

        .progress-line {
          width: 60px;
          height: 2px;
          background: var(--border);
        }

        .step-form {
          display: flex;
          flex-direction: column;
          gap: 24px;
        }

        .back-button-small {
          align-self: flex-start;
          padding: 8px 16px;
          background: var(--background);
          border: 1px solid var(--border);
          border-radius: 6px;
          color: var(--text);
          font-size: 14px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 6px;
          transition: all 0.3s;
        }

        .back-button-small:hover {
          background: var(--border);
        }

        .step-form h2 {
          color: var(--text);
          font-size: 24px;
          margin: 0;
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .step-form h2 svg {
          color: var(--primary);
        }

        .step-description {
          color: var(--text-secondary);
          margin: -8px 0 0 0;
          line-height: 1.5;
        }

        .step-description strong {
          color: var(--primary);
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--card);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .code-input {
          font-size: 32px !important;
          text-align: center;
          letter-spacing: 8px;
          font-weight: 600;
        }

        .error-message {
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .submit-button {
          padding: 14px 24px;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transition: all 0.3s;
        }

        .submit-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .submit-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .link-button {
          background: none;
          border: none;
          color: var(--primary);
          font-size: 14px;
          cursor: pointer;
          padding: 8px;
          text-decoration: underline;
        }

        .link-button:hover:not(:disabled) {
          opacity: 0.8;
        }

        .link-button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }
      `})]})},Fpe=({onBack:t,onSuccess:e})=>{const[n,r]=T.useState("email"),[i,a]=T.useState(""),[o,l]=T.useState(""),[c,f]=T.useState(""),[h,p]=T.useState(""),[v,m]=T.useState(!1),[_,w]=T.useState(""),A=async N=>{N.preventDefault(),w(""),m(!0);try{const k=dv();await hv(i,k),await WP(i,k),console.log("✅ パスワードリセット用の確認コードを送信しました:",i),r("code")}catch(k){console.error("Email send error:",k),w(k.message||"確認コードの送信に失敗しました")}finally{m(!1)}},S=async N=>{N.preventDefault(),w(""),m(!0);try{const k=await Lj(i,o);if(!k.valid){w(k.error||"確認コードが正しくありません"),m(!1);return}console.log("✅ 確認コードが正しいです"),r("password")}catch(k){w(k.message||"確認に失敗しました")}finally{m(!1)}},I=async N=>{if(N.preventDefault(),w(""),c!==h){w("パスワードが一致しません");return}if(c.length<6){w("パスワードは6文字以上で入力してください");return}m(!0);try{const k=await Lpe(i,c);if(!k.success){w(k.error||"パスワードの更新に失敗しました"),m(!1);return}console.log("✅ パスワードのリセットが完了しました"),alert("パスワードのリセットが完了しました！新しいパスワードでログインしてください。"),e()}catch(k){console.error("Password reset error:",k),w(k.message||"パスワードの更新に失敗しました")}finally{m(!1)}},O=async()=>{m(!0),w("");try{const N=dv();await hv(i,N),await WP(i,N),alert("確認コードを再送信しました！")}catch{w("再送信に失敗しました")}finally{m(!1)}};return b.jsxs("div",{className:"password-reset-flow",children:[b.jsxs("div",{className:"progress-bar",children:[b.jsx("div",{className:`progress-step ${n==="email"?"active":["code","password"].includes(n)?"completed":""}`,children:"1"}),b.jsx("div",{className:"progress-line"}),b.jsx("div",{className:`progress-step ${n==="code"?"active":n==="password"?"completed":""}`,children:"2"}),b.jsx("div",{className:"progress-line"}),b.jsx("div",{className:`progress-step ${n==="password"?"active":""}`,children:"3"})]}),n==="email"&&b.jsxs("form",{onSubmit:A,className:"step-form",children:[b.jsxs("button",{type:"button",onClick:t,className:"back-button-small",children:[b.jsx(iD,{})," 戻る"]}),b.jsxs("h2",{children:[b.jsx(yw,{})," メールアドレスを入力"]}),b.jsx("p",{className:"step-description",children:"パスワードリセット用の確認コードを送信します"}),b.jsx("div",{className:"form-group",children:b.jsx("input",{type:"email",value:i,onChange:N=>a(N.target.value),placeholder:"email@example.com",required:!0,autoFocus:!0})}),_&&b.jsx("div",{className:"error-message",children:_}),b.jsx("button",{type:"submit",className:"submit-button",disabled:v,children:v?"送信中...":"確認コードを送信"})]}),n==="code"&&b.jsxs("form",{onSubmit:S,className:"step-form",children:[b.jsxs("h2",{children:[b.jsx(eD,{})," 確認コードを入力"]}),b.jsxs("p",{className:"step-description",children:[b.jsx("strong",{children:i})," 宛に送信された6桁のコードを入力してください"]}),b.jsx("div",{className:"form-group",children:b.jsx("input",{type:"text",value:o,onChange:N=>l(N.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,className:"code-input",required:!0,autoFocus:!0})}),_&&b.jsx("div",{className:"error-message",children:_}),b.jsx("button",{type:"submit",className:"submit-button",disabled:v||o.length!==6,children:v?"確認中...":"確認"}),b.jsx("button",{type:"button",onClick:O,className:"link-button",disabled:v,children:"コードを再送信"})]}),n==="password"&&b.jsxs("form",{onSubmit:I,className:"step-form",children:[b.jsxs("h2",{children:[b.jsx(Yc,{})," 新しいパスワードを設定"]}),b.jsx("p",{className:"step-description",children:"新しいパスワードを入力してください"}),b.jsxs("div",{className:"form-group",children:[b.jsxs("label",{children:[b.jsx(Yc,{})," 新しいパスワード"]}),b.jsx("input",{type:"password",value:c,onChange:N=>f(N.target.value),placeholder:"6文字以上",minLength:6,required:!0,autoFocus:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsxs("label",{children:[b.jsx(Yc,{})," パスワード（確認）"]}),b.jsx("input",{type:"password",value:h,onChange:N=>p(N.target.value),placeholder:"もう一度入力",minLength:6,required:!0})]}),_&&b.jsx("div",{className:"error-message",children:_}),b.jsx("button",{type:"submit",className:"submit-button",disabled:v,children:v?"更新中...":"パスワードを更新"})]}),b.jsx("style",{children:`
        .password-reset-flow {
          width: 100%;
        }

        .progress-bar {
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 40px;
        }

        .progress-step {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: var(--border);
          color: var(--text-secondary);
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
          transition: all 0.3s;
        }

        .progress-step.active {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transform: scale(1.1);
        }

        .progress-step.completed {
          background: var(--primary);
          color: white;
        }

        .progress-line {
          width: 60px;
          height: 2px;
          background: var(--border);
        }

        .step-form {
          display: flex;
          flex-direction: column;
          gap: 24px;
        }

        .back-button-small {
          align-self: flex-start;
          padding: 8px 16px;
          background: var(--background);
          border: 1px solid var(--border);
          border-radius: 6px;
          color: var(--text);
          font-size: 14px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 6px;
          transition: all 0.3s;
        }

        .back-button-small:hover {
          background: var(--border);
        }

        .step-form h2 {
          color: var(--text);
          font-size: 24px;
          margin: 0;
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .step-form h2 svg {
          color: var(--primary);
        }

        .step-description {
          color: var(--text-secondary);
          margin: -8px 0 0 0;
          line-height: 1.5;
        }

        .step-description strong {
          color: var(--primary);
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--card);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .code-input {
          font-size: 32px !important;
          text-align: center;
          letter-spacing: 8px;
          font-weight: 600;
        }

        .error-message {
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .submit-button {
          padding: 14px 24px;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transition: all 0.3s;
        }

        .submit-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .submit-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .link-button {
          background: none;
          border: none;
          color: var(--primary);
          font-size: 14px;
          cursor: pointer;
          padding: 8px;
          text-decoration: underline;
        }

        .link-button:hover:not(:disabled) {
          opacity: 0.8;
        }

        .link-button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }
      `})]})},Vpe=({onLoginSuccess:t})=>{const[e,n]=T.useState(!1),[r,i]=T.useState(!1),[a,o]=T.useState(""),[l,c]=T.useState(""),[f,h]=T.useState(""),[p,v]=T.useState(!1),m=async w=>{w.preventDefault(),h(""),v(!0);try{const A=await rK(a,l);A.error?h(A.error):t()}catch(A){h(A.message||"認証エラーが発生しました")}finally{v(!1)}},_=async()=>{h(""),v(!0);try{const w=await iK();w.error?h(w.error):t()}catch(w){h(w.message||"認証エラーが発生しました")}finally{v(!1)}};return e?b.jsxs("div",{className:"login-screen",children:[b.jsxs("div",{className:"login-container",children:[b.jsxs("div",{className:"login-header",children:[b.jsx("h1",{children:"🥗💰 健康家計アプリ"}),b.jsx("p",{children:"新規登録"})]}),b.jsx(Bpe,{onBack:()=>n(!1)})]}),b.jsx("style",{children:`
          .login-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            padding: 20px;
          }

          .login-container {
            background: var(--card);
            border-radius: 16px;
            padding: 40px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
          }

          .login-header {
            text-align: center;
            margin-bottom: 32px;
          }

          .login-header h1 {
            color: var(--text);
            font-size: 28px;
            margin: 0 0 8px 0;
          }

          .login-header p {
            color: var(--text-secondary);
            font-size: 14px;
            margin: 0;
          }
        `})]}):r?b.jsxs("div",{className:"login-screen",children:[b.jsxs("div",{className:"login-container",children:[b.jsxs("div",{className:"login-header",children:[b.jsx("h1",{children:"🥗💰 健康家計アプリ"}),b.jsx("p",{children:"パスワードリセット"})]}),b.jsx(Fpe,{onBack:()=>i(!1),onSuccess:()=>i(!1)})]}),b.jsx("style",{children:`
          .login-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            padding: 20px;
          }

          .login-container {
            background: var(--card);
            border-radius: 16px;
            padding: 40px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
          }

          .login-header {
            text-align: center;
            margin-bottom: 32px;
          }

          .login-header h1 {
            color: var(--text);
            font-size: 28px;
            margin: 0 0 8px 0;
          }

          .login-header p {
            color: var(--text-secondary);
            font-size: 14px;
            margin: 0;
          }
        `})]}):b.jsxs("div",{className:"login-screen",children:[b.jsxs("div",{className:"login-container",children:[b.jsxs("div",{className:"login-header",children:[b.jsx("h1",{children:"🥗💰 健康家計アプリ"}),b.jsx("p",{children:"AIが健康をサポートする生活管理アプリ"})]}),b.jsxs("form",{onSubmit:m,className:"login-form",children:[b.jsxs("div",{className:"form-group",children:[b.jsxs("label",{children:[b.jsx(yw,{})," メールアドレス"]}),b.jsx("input",{type:"email",value:a,onChange:w=>o(w.target.value),placeholder:"email@example.com",required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsxs("label",{children:[b.jsx(Yc,{})," パスワード"]}),b.jsx("input",{type:"password",value:l,onChange:w=>c(w.target.value),placeholder:"6文字以上",minLength:6,required:!0})]}),f&&b.jsx("div",{className:"error-message",children:f}),b.jsx("button",{type:"submit",className:"login-button",disabled:p,children:p?"処理中...":b.jsxs(b.Fragment,{children:[b.jsx(zB,{})," ログイン"]})}),b.jsx("button",{type:"button",onClick:()=>i(!0),className:"forgot-password-button",children:"パスワードをお忘れですか？"}),b.jsx("button",{type:"button",onClick:()=>n(!0),className:"register-link-button",children:"アカウントをお持ちでない方はこちら"})]}),b.jsx("div",{className:"divider",children:b.jsx("span",{children:"または"})}),b.jsxs("button",{onClick:_,className:"google-login-button",disabled:p,children:[b.jsx(Mpe,{})," Googleでログイン"]}),b.jsx("div",{className:"login-footer",children:b.jsxs("p",{children:["※ Firebase Authenticationを使用した安全な認証です",b.jsx("br",{}),"データはFirestoreに安全に保存されます"]})})]}),b.jsx("style",{children:`
        .login-screen {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
          padding: 20px;
        }

        .login-container {
          background: var(--card);
          border-radius: 16px;
          padding: 40px;
          max-width: 450px;
          width: 100%;
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .login-header {
          text-align: center;
          margin-bottom: 32px;
        }

        .login-header h1 {
          color: var(--text);
          font-size: 28px;
          margin: 0 0 8px 0;
        }

        .login-header p {
          color: var(--text-secondary);
          font-size: 14px;
          margin: 0;
        }

        .forgot-password-button,
        .register-link-button {
          background: none;
          border: none;
          color: var(--primary);
          font-size: 14px;
          cursor: pointer;
          padding: 12px;
          text-decoration: underline;
          transition: opacity 0.3s;
        }

        .forgot-password-button:hover,
        .register-link-button:hover {
          opacity: 0.8;
        }

        .login-form {
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--background);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .info-message {
          padding: 12px;
          background: #e8f5e9;
          color: #2e7d32;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 6px;
        }

        body.dark-mode .info-message {
          background: #1b5e20;
          color: #a5d6a7;
        }

        .error-message {
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .login-button,
        .google-login-button {
          padding: 14px 24px;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
        }

        .login-button {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
        }

        .login-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .login-button:active:not(:disabled) {
          transform: translateY(0);
        }

        .login-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .google-login-button {
          background: white;
          color: #555;
          border: 2px solid #ddd;
        }

        .google-login-button:hover:not(:disabled) {
          background: #f5f5f5;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .google-login-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .divider {
          text-align: center;
          margin: 24px 0;
          position: relative;
        }

        .divider::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 0;
          right: 0;
          height: 1px;
          background: var(--border);
        }

        .divider span {
          background: var(--card);
          padding: 0 16px;
          color: var(--text-secondary);
          font-size: 14px;
          position: relative;
          z-index: 1;
        }

        .login-footer {
          margin-top: 24px;
          text-align: center;
        }

        .login-footer p {
          color: var(--text-secondary);
          font-size: 12px;
          line-height: 1.6;
          margin: 0;
        }

        @media (max-width: 480px) {
          .login-container {
            padding: 24px;
          }

          .login-header h1 {
            font-size: 24px;
          }
        }
      `})]})};function Upe(){const{newBadges:t,clearNewBadges:e}=AE(),[n,r]=T.useState(0),[i,a]=T.useState(!1);if(T.useEffect(()=>{t.length>0&&(r(0),a(!0))},[t]),!i||t.length===0)return null;const o=t[n],l=QG(o);if(!l)return null;const c=()=>{n<t.length-1?r(n+1):f()},f=()=>{a(!1),e(),r(0)};return b.jsx("div",{className:"badge-modal-overlay-fullscreen",children:b.jsx("div",{className:"badge-modal-fullscreen",children:b.jsxs("div",{className:"badge-modal-content-fullscreen",children:[b.jsx("div",{className:"badge-glow"}),b.jsx("div",{className:"badge-celebration-large",children:"🎉"}),b.jsx("div",{className:"badge-icon-huge",children:l.icon}),b.jsxs("h2",{className:"badge-title-huge",children:[b.jsx(yv,{size:48,style:{color:"#10b981",marginRight:"12px"}}),"バッジ獲得！"]}),b.jsx("h3",{className:"badge-name-huge",children:l.name}),b.jsx("p",{className:"badge-description-large",children:l.description}),t.length>1&&b.jsxs("div",{className:"badge-progress-large",children:[n+1," / ",t.length]}),b.jsx("div",{className:"badge-buttons-large",children:n<t.length-1?b.jsx("button",{className:"badge-btn-large badge-btn-next",onClick:c,children:"次へ"}):b.jsx("button",{className:"badge-btn-large badge-btn-ok",onClick:f,children:"OK"})})]})})})}function zpe(t){if(t.length===0)return 0;const e=[...new Set(t.map(i=>i.split("T")[0]))].sort().reverse();let n=0;const r=new Date;r.setHours(0,0,0,0);for(let i=0;i<e.length;i++){const a=new Date(e[i]);a.setHours(0,0,0,0);const o=new Date(r);if(o.setDate(o.getDate()-i),o.setHours(0,0,0,0),a.getTime()===o.getTime())n++;else break}return n}function Hpe(){const{settings:t}=Fh(),{user:e,loading:n}=P5(),[r,i]=T.useState(!1),a=go(),o=vo(),l=mo(),c=Xu(),f=c0(),h=Fh(),p=AE();return T.useEffect(()=>{document.body.classList.toggle("dark-mode",t.darkMode)},[t.darkMode]),T.useEffect(()=>{if(!e)return;const{intakes:v}=a,{expenses:m}=o,{stocks:_}=l,{recipeHistory:w}=f,A=0,S=zpe(v.map(F=>F.date)),I=v.reduce((F,H)=>F+H.calories,0),O=new Date,N=O.getDate();let k=O.getMonth(),B=O.getFullYear();k===0?(k=11,B-=1):k-=1;const M=m.filter(F=>{const H=new Date(F.date);return H.getMonth()===k&&H.getFullYear()===B}).reduce((F,H)=>F+H.amount,0),j=N===1&&M<=t.monthlyBudget&&M>0,z={intakesCount:v.length,expensesCount:m.length,stocksCount:_.length,consecutiveDays:S,totalCalories:I,budgetAchieved:j,recipesGenerated:w.length,barcodesScanned:A};p.checkAndUnlockBadges(z)},[a.intakes.length,o.expenses.length,l.stocks.length,f.recipeHistory.length]),T.useEffect(()=>((async()=>{if(!e){a.unsubscribeFromFirestore();return}i(!0);try{console.log("Syncing data for user:",e.uid),await Promise.all([a.syncWithFirestore(),o.syncWithFirestore(),l.syncWithFirestore(),c.syncWithFirestore(),f.syncWithFirestore(),h.syncWithFirestore()]),console.log("Sync completed for user:",e.uid),console.log("Starting realtime sync..."),a.subscribeToFirestore(),console.log("Realtime sync started")}catch(m){console.error("Failed to sync stores with Firestore:",m)}finally{i(!1)}})(),()=>{e&&a.unsubscribeFromFirestore()}),[e?.uid]),n||r?b.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%)"},children:b.jsx("div",{style:{color:"white",fontSize:"24px",textAlign:"center"},children:n?"ロード中...":"データを同期中..."})}):e?b.jsxs(b.Fragment,{children:[b.jsx(Npe,{}),b.jsx(Upe,{})]}):b.jsx(Vpe,{onLoginSuccess:()=>{}})}SB.createRoot(document.getElementById("root")).render(b.jsx(kr.StrictMode,{children:b.jsx(Hpe,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/life-pwa-react/sw.js").then(t=>{console.log("[SW] Registered:",t.scope),t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&(console.log("[SW] New version available"),confirm("新しいバージョンが利用可能です。更新しますか？")&&(e.postMessage({type:"SKIP_WAITING"}),window.location.reload()))})})}).catch(t=>{console.error("[SW] Registration failed:",t)})});
